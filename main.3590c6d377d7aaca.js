"use strict";var UL=Object.defineProperty,BL=Object.defineProperties,jL=Object.getOwnPropertyDescriptors,CO=Object.getOwnPropertySymbols,$L=Object.prototype.hasOwnProperty,HL=Object.prototype.propertyIsEnumerable,TO=(Xe,we,R)=>we in Xe?UL(Xe,we,{enumerable:!0,configurable:!0,writable:!0,value:R}):Xe[we]=R,AO=(Xe,we)=>{for(var R in we||(we={}))$L.call(we,R)&&TO(Xe,R,we[R]);if(CO)for(var R of CO(we))HL.call(we,R)&&TO(Xe,R,we[R]);return Xe},SO=(Xe,we)=>BL(Xe,jL(we));(self.webpackChunkHACKATON=self.webpackChunkHACKATON||[]).push([[179],{2011:(Xe,we,R)=>{R.d(we,{hO:()=>ze,xv:()=>ce,Dh:()=>se,GT:()=>pe,cc:()=>Me,on:()=>$,pX:()=>re});var c=R(5e3),X=R(127),P=R(5813);Xe=R.hmd(Xe);const ae=["ngOnDestroy"],re=(Ce,qe,Ye,Te={})=>new Proxy(Ce,{get:(Ee,De)=>Ye.runOutsideAngular(()=>{var $e;if(Ce[De])return(null===($e=null==Te?void 0:Te.spy)||void 0===$e?void 0:$e.get)&&Te.spy.get(De,Ce[De]),Ce[De];if(ae.indexOf(De)>-1)return()=>{};const je=qe.toPromise().then(j=>{const ve=j&&j[De];return"function"==typeof ve?ve.bind(j):ve&&ve.then?ve.then(W=>Ye.run(()=>W)):Ye.run(()=>ve)});return new Proxy(()=>{},{get:(j,ve)=>je[ve],apply:(j,ve,W)=>je.then(ie=>{var ee;const me=ie&&ie(...W);return(null===(ee=null==Te?void 0:Te.spy)||void 0===ee?void 0:ee.apply)&&Te.spy.apply(De,W,me),me})})})}),pe=(Ce,qe)=>{qe.forEach(Ye=>{Object.getOwnPropertyNames(Ye.prototype||Ye).forEach(Te=>{Object.defineProperty(Ce.prototype,Te,Object.getOwnPropertyDescriptor(Ye.prototype||Ye,Te))})})};class ue{constructor(qe){return qe}}const se=new c.OlP("angularfire2.app.options"),ce=new c.OlP("angularfire2.app.name");function $(Ce,qe,Ye){const Ee="object"==typeof Ye&&Ye||{};Ee.name=Ee.name||"string"==typeof Ye&&Ye||"[DEFAULT]";const $e=X.Z.apps.filter(je=>je&&je.name===Ee.name)[0]||qe.runOutsideAngular(()=>X.Z.initializeApp(Ce,Ee));try{JSON.stringify(Ce)!==JSON.stringify($e.options)&&B("error",`${$e.name} Firebase App already initialized with different options${Xe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(je){}return new ue($e)}const B=(Ce,...qe)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Ce](...qe)},te={provide:ue,useFactory:$,deps:[se,c.R0b,[new c.FiY,ce]]};let ze=(()=>{class Ce{constructor(Ye){X.Z.registerVersion("angularfire",P.q4.full,"core"),X.Z.registerVersion("angularfire",P.q4.full,"app-compat"),X.Z.registerVersion("angular",c.q4F.full,Ye.toString())}static initializeApp(Ye,Te){return{ngModule:Ce,providers:[{provide:se,useValue:Ye},{provide:ce,useValue:Te}]}}}return Ce.\u0275fac=function(Ye){return new(Ye||Ce)(c.LFG(c.Lbi))},Ce.\u0275mod=c.oAB({type:Ce}),Ce.\u0275inj=c.cJS({providers:[te]}),Ce})();function Me(Ce,qe,Ye,Te,Ee){const[,De,$e]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===Ce)||[];if(De)return function Ne(Ce,qe){try{return Ce.toString()===qe.toString()}catch(Ye){return Ce===qe}}(Ee,$e)||(he("error",`${qe} was already initialized on the ${Ye} Firebase App with different settings.${Ue?" You may need to reload as Firebase is not HMR aware.":""}`),he("warn",{is:Ee,was:$e})),De;{const je=Te();return globalThis.\u0275AngularfireInstanceCache.push([Ce,je,Ee]),je}}const Ue=!!Xe.hot,he=(Ce,...qe)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Ce](...qe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Xe,we,R)=>{R.d(we,{q4:()=>ao,iC:()=>na,HU:()=>vd,vb:()=>_d,JM:()=>pg});var c=R(5e3),X=R(5867),P=R(5861),ae=R(9681),re=R(2090),pe=R(4859),ue=R(1877),se=R(8766);const ce="@firebase/installations",$="0.5.9",te=`w:${$}`,ze="FIS_v2",qe=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ye(I){return I instanceof re.ZR&&I.code.includes("request-failed")}function Te({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function Ee(I){return{token:I.token,requestStatus:2,expiresIn:ie(I.expiresIn),creationTime:Date.now()}}function De(I,C){return $e.apply(this,arguments)}function $e(){return($e=(0,P.Z)(function*(I,C){const F=(yield C.json()).error;return qe.create("request-failed",{requestName:I,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function je({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function j(I,{refreshToken:C}){const O=je(I);return O.append("Authorization",function ee(I){return`${ze} ${I}`}(C)),O}function ve(I){return W.apply(this,arguments)}function W(){return(W=(0,P.Z)(function*(I){const C=yield I();return C.status>=500&&C.status<600?I():C})).apply(this,arguments)}function ie(I){return Number(I.replace("s","000"))}function me(I,C){return oe.apply(this,arguments)}function oe(){return(oe=(0,P.Z)(function*({appConfig:I,heartbeatServiceProvider:C},{fid:O}){const F=Te(I),Y=je(I),ne=C.getImmediate({optional:!0});if(ne){const dt=yield ne.getHeartbeatsHeader();dt&&Y.append("x-firebase-client",dt)}const Ve={method:"POST",headers:Y,body:JSON.stringify({fid:O,authVersion:ze,appId:I.appId,sdkVersion:te})},Tt=yield ve(()=>fetch(F,Ve));if(Tt.ok){const dt=yield Tt.json();return{fid:dt.fid||O,registrationStatus:2,refreshToken:dt.refreshToken,authToken:Ee(dt.authToken)}}throw yield De("Create Installation",Tt)})).apply(this,arguments)}function Re(I){return new Promise(C=>{setTimeout(C,I)})}const Ht=/^[cdef][\w-]{21}$/;function Qe(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const O=function Qt(I){return function lt(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return Ht.test(O)?O:""}catch(I){return""}}function Mn(I){return`${I.appName}!${I.appId}`}const en=new Map;function Kt(I,C){const O=Mn(I);Vt(O,C),function Zi(I,C){const O=function pr(){return!Yr&&"BroadcastChannel"in self&&(Yr=new BroadcastChannel("[Firebase] FID Change"),Yr.onmessage=I=>{Vt(I.data.key,I.data.fid)}),Yr}();O&&O.postMessage({key:I,fid:C}),function Ir(){0===en.size&&Yr&&(Yr.close(),Yr=null)}()}(O,C)}function Vt(I,C){const O=en.get(I);if(O)for(const F of O)F(C)}let Yr=null;const Qr="firebase-installations-store";let Ai=null;function yt(){return Ai||(Ai=(0,se.X3)("firebase-installations-database",1,{upgrade:(I,C)=>{0===C&&I.createObjectStore(Qr)}})),Ai}function Jr(I,C){return In.apply(this,arguments)}function In(){return(In=(0,P.Z)(function*(I,C){const O=Mn(I),Y=(yield yt()).transaction(Qr,"readwrite"),ne=Y.objectStore(Qr),ge=yield ne.get(O);return yield ne.put(C,O),yield Y.done,(!ge||ge.fid!==C.fid)&&Kt(I,C.fid),C})).apply(this,arguments)}function xn(I){return zs.apply(this,arguments)}function zs(){return(zs=(0,P.Z)(function*(I){const C=Mn(I),F=(yield yt()).transaction(Qr,"readwrite");yield F.objectStore(Qr).delete(C),yield F.done})).apply(this,arguments)}function Xr(I,C){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,P.Z)(function*(I,C){const O=Mn(I),Y=(yield yt()).transaction(Qr,"readwrite"),ne=Y.objectStore(Qr),ge=yield ne.get(O),Ve=C(ge);return void 0===Ve?yield ne.delete(O):yield ne.put(Ve,O),yield Y.done,Ve&&(!ge||ge.fid!==Ve.fid)&&Kt(I,Ve.fid),Ve})).apply(this,arguments)}function Ln(I){return vi.apply(this,arguments)}function vi(){return(vi=(0,P.Z)(function*(I){let C;const O=yield Xr(I.appConfig,F=>{const Y=xo(F),ne=Gt(I,Y);return C=ne.registrationPromise,ne.installationEntry});return""===O.fid?{installationEntry:yield C}:{installationEntry:O,registrationPromise:C}})).apply(this,arguments)}function xo(I){return qs(I||{fid:Qe(),registrationStatus:0})}function Gt(I,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(qe.create("app-offline"))};const O={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},F=function it(I,C){return vt.apply(this,arguments)}(I,O);return{installationEntry:O,registrationPromise:F}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:gr(I)}:{installationEntry:C}}function vt(){return(vt=(0,P.Z)(function*(I,C){try{const O=yield me(I,C);return Jr(I.appConfig,O)}catch(O){throw Ye(O)&&409===O.customData.serverCode?yield xn(I.appConfig):yield Jr(I.appConfig,{fid:C.fid,registrationStatus:0}),O}})).apply(this,arguments)}function gr(I){return ei.apply(this,arguments)}function ei(){return(ei=(0,P.Z)(function*(I){let C=yield jt(I.appConfig);for(;1===C.registrationStatus;)yield Re(100),C=yield jt(I.appConfig);if(0===C.registrationStatus){const{installationEntry:O,registrationPromise:F}=yield Ln(I);return F||O}return C})).apply(this,arguments)}function jt(I){return Xr(I,C=>{if(!C)throw qe.create("installation-not-found");return qs(C)})}function qs(I){return function mr(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function yr(I,C){return V.apply(this,arguments)}function V(){return(V=(0,P.Z)(function*({appConfig:I,heartbeatServiceProvider:C},O){const F=G(I,O),Y=j(I,O),ne=C.getImmediate({optional:!0});if(ne){const dt=yield ne.getHeartbeatsHeader();dt&&Y.append("x-firebase-client",dt)}const Ve={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:te,appId:I.appId}})},Tt=yield ve(()=>fetch(F,Ve));if(Tt.ok)return Ee(yield Tt.json());throw yield De("Generate Auth Token",Tt)})).apply(this,arguments)}function G(I,{fid:C}){return`${Te(I)}/${C}/authTokens:generate`}function z(I){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,P.Z)(function*(I,C=!1){let O;const F=yield Xr(I.appConfig,ne=>{if(!Ct(ne))throw qe.create("not-registered");const ge=ne.authToken;if(!C&&cn(ge))return ne;if(1===ge.requestStatus)return O=H(I,C),ne;{if(!navigator.onLine)throw qe.create("app-offline");const Ve=$n(ne);return O=Je(I,Ve),Ve}});return O?yield O:F.authToken})).apply(this,arguments)}function H(I,C){return J.apply(this,arguments)}function J(){return(J=(0,P.Z)(function*(I,C){let O=yield Oe(I.appConfig);for(;1===O.authToken.requestStatus;)yield Re(100),O=yield Oe(I.appConfig);const F=O.authToken;return 0===F.requestStatus?z(I,C):F})).apply(this,arguments)}function Oe(I){return Xr(I,C=>{if(!Ct(C))throw qe.create("not-registered");return function Cr(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function Je(I,C){return ht.apply(this,arguments)}function ht(){return(ht=(0,P.Z)(function*(I,C){try{const O=yield yr(I,C),F=Object.assign(Object.assign({},C),{authToken:O});return yield Jr(I.appConfig,F),O}catch(O){if(!Ye(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const F=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield Jr(I.appConfig,F)}else yield xn(I.appConfig);throw O}})).apply(this,arguments)}function Ct(I){return void 0!==I&&2===I.registrationStatus}function cn(I){return 2===I.requestStatus&&!function Et(I){const C=Date.now();return C<I.creationTime||I.creationTime+I.expiresIn<C+36e5}(I)}function $n(I){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:C})}function ba(){return(ba=(0,P.Z)(function*(I){const C=I,{installationEntry:O,registrationPromise:F}=yield Ln(C);return F?F.catch(console.error):z(C).catch(console.error),O.fid})).apply(this,arguments)}function Da(){return(Da=(0,P.Z)(function*(I,C=!1){const O=I;return yield Hn(O),(yield z(O,C)).token})).apply(this,arguments)}function Hn(I){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,P.Z)(function*(I){const{registrationPromise:C}=yield Ln(I);C&&(yield C)})).apply(this,arguments)}function Oo(I){return qe.create("missing-app-config-values",{valueName:I})}const jr="installations",at=I=>{const C=I.getProvider("app").getImmediate(),O=function sr(I){if(!I||!I.options)throw Oo("App Configuration");if(!I.name)throw Oo("App Name");const C=["projectId","apiKey","appId"];for(const O of C)if(!I.options[O])throw Oo(O);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(C);return{app:C,appConfig:O,heartbeatServiceProvider:(0,ae._getProvider)(C,"heartbeat"),_delete:()=>Promise.resolve()}},Jt=I=>{const C=I.getProvider("app").getImmediate(),O=(0,ae._getProvider)(C,jr).getImmediate();return{getId:()=>function vu(I){return ba.apply(this,arguments)}(O),getToken:Y=>function Eu(I){return Da.apply(this,arguments)}(O,Y)}};(function $r(){(0,ae._registerComponent)(new pe.wA(jr,at,"PUBLIC")),(0,ae._registerComponent)(new pe.wA("installations-internal",Jt,"PRIVATE"))})(),(0,ae.registerVersion)(ce,$),(0,ae.registerVersion)(ce,$,"esm2017");const Si="@firebase/remote-config",On=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class rg{constructor(C,O,F,Y){this.client=C,this.storage=O,this.storageCache=F,this.logger=Y}isCachedDataFresh(C,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-O,Y=F<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${Y}.`),Y}fetch(C){var O=this;return(0,P.Z)(function*(){const[F,Y]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(Y&&O.isCachedDataFresh(C.cacheMaxAgeMillis,F))return Y;C.eTag=Y&&Y.eTag;const ne=yield O.client.fetch(C),ge=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ne.status&&ge.push(O.storage.setLastSuccessfulFetchResponse(ne)),yield Promise.all(ge),ne})()}}function Jc(I=navigator){return I.languages&&I.languages[0]||I.language}class _r{constructor(C,O,F,Y,ne,ge){this.firebaseInstallations=C,this.sdkVersion=O,this.namespace=F,this.projectId=Y,this.apiKey=ne,this.appId=ge}fetch(C){var O=this;return(0,P.Z)(function*(){const[F,Y]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),ge=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,Ve={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},Tt={sdk_version:O.sdkVersion,app_instance_id:F,app_instance_id_token:Y,app_id:O.appId,language_code:Jc()},dt={method:"POST",headers:Ve,body:JSON.stringify(Tt)},$t=fetch(ge,dt),wt=new Promise((ui,li)=>{C.signal.addEventListener(()=>{const ju=new Error("The operation was aborted.");ju.name="AbortError",li(ju)})});let Er;try{yield Promise.race([$t,wt]),Er=yield $t}catch(ui){let li="fetch-client-network";throw"AbortError"===ui.name&&(li="fetch-timeout"),On.create(li,{originalErrorMessage:ui.message})}let Jn=Er.status;const ts=Er.headers.get("ETag")||void 0;let zr,ai;if(200===Er.status){let ui;try{ui=yield Er.json()}catch(li){throw On.create("fetch-client-parse",{originalErrorMessage:li.message})}zr=ui.entries,ai=ui.state}if("INSTANCE_STATE_UNSPECIFIED"===ai?Jn=500:"NO_CHANGE"===ai?Jn=304:("NO_TEMPLATE"===ai||"EMPTY_CONFIG"===ai)&&(zr={}),304!==Jn&&200!==Jn)throw On.create("fetch-status",{httpStatus:Jn});return{status:Jn,eTag:ts,config:zr}})()}}class ig{constructor(C,O){this.client=C,this.storage=O}fetch(C){var O=this;return(0,P.Z)(function*(){const F=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(C,F)})()}attemptFetch(C,{throttleEndTimeMillis:O,backoffCount:F}){var Y=this;return(0,P.Z)(function*(){yield function bs(I,C){return new Promise((O,F)=>{const Y=Math.max(C-Date.now(),0),ne=setTimeout(O,Y);I.addEventListener(()=>{clearTimeout(ne),F(On.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,O);try{const ne=yield Y.client.fetch(C);return yield Y.storage.deleteThrottleMetadata(),ne}catch(ne){if(!function Xc(I){if(!(I instanceof re.ZR&&I.customData))return!1;const C=Number(I.customData.httpStatus);return 429===C||500===C||503===C||504===C}(ne))throw ne;const ge={throttleEndTimeMillis:Date.now()+(0,re.$s)(F),backoffCount:F+1};return yield Y.storage.setThrottleMetadata(ge),Y.attemptFetch(C,ge)}})()}}class ed{constructor(C,O,F,Y,ne){this.app=C,this._client=O,this._storageCache=F,this._storage=Y,this._logger=ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function El(I,C){const O=I.target.error||void 0;return On.create(C,{originalErrorMessage:O&&O.message})}const Ds="app_namespace_store";class ag{constructor(C,O,F,Y=function og(){return new Promise((I,C)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=F=>{C(El(F,"storage-open"))},O.onsuccess=F=>{I(F.target.result)},O.onupgradeneeded=F=>{0===F.oldVersion&&F.target.result.createObjectStore(Ds,{keyPath:"compositeKey"})}}catch(O){C(On.create("storage-open",{originalErrorMessage:O}))}})}()){this.appId=C,this.appName=O,this.namespace=F,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var O=this;return(0,P.Z)(function*(){const F=yield O.openDbPromise;return new Promise((Y,ne)=>{const Ve=F.transaction([Ds],"readonly").objectStore(Ds),Tt=O.createCompositeKey(C);try{const dt=Ve.get(Tt);dt.onerror=$t=>{ne(El($t,"storage-get"))},dt.onsuccess=$t=>{const wt=$t.target.result;Y(wt?wt.value:void 0)}}catch(dt){ne(On.create("storage-get",{originalErrorMessage:dt&&dt.message}))}})})()}set(C,O){var F=this;return(0,P.Z)(function*(){const Y=yield F.openDbPromise;return new Promise((ne,ge)=>{const Tt=Y.transaction([Ds],"readwrite").objectStore(Ds),dt=F.createCompositeKey(C);try{const $t=Tt.put({compositeKey:dt,value:O});$t.onerror=wt=>{ge(El(wt,"storage-set"))},$t.onsuccess=()=>{ne()}}catch($t){ge(On.create("storage-set",{originalErrorMessage:$t&&$t.message}))}})})()}delete(C){var O=this;return(0,P.Z)(function*(){const F=yield O.openDbPromise;return new Promise((Y,ne)=>{const Ve=F.transaction([Ds],"readwrite").objectStore(Ds),Tt=O.createCompositeKey(C);try{const dt=Ve.delete(Tt);dt.onerror=$t=>{ne(El($t,"storage-delete"))},dt.onsuccess=()=>{Y()}}catch(dt){ne(On.create("storage-delete",{originalErrorMessage:dt&&dt.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class nd{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,P.Z)(function*(){const O=C.storage.getLastFetchStatus(),F=C.storage.getLastSuccessfulFetchTimestampMillis(),Y=C.storage.getActiveConfig(),ne=yield O;ne&&(C.lastFetchStatus=ne);const ge=yield F;ge&&(C.lastSuccessfulFetchTimestampMillis=ge);const Ve=yield Y;Ve&&(C.activeConfig=Ve)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function Iu(){return rd.apply(this,arguments)}function rd(){return(rd=(0,P.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch(I){return!1}})).apply(this,arguments)}!function Ro(){(0,ae._registerComponent)(new pe.wA("remote-config",function I(C,{instanceIdentifier:O}){const F=C.getProvider("app").getImmediate(),Y=C.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw On.create("registration-window");if(!(0,re.hl)())throw On.create("indexed-db-unavailable");const{projectId:ne,apiKey:ge,appId:Ve}=F.options;if(!ne)throw On.create("registration-project-id");if(!ge)throw On.create("registration-api-key");if(!Ve)throw On.create("registration-app-id");const Tt=new ag(Ve,F.name,O=O||"firebase"),dt=new nd(Tt),$t=new ue.Yd(Si);$t.logLevel=ue.in.ERROR;const wt=new _r(Y,ae.SDK_VERSION,O,ne,ge,Ve),Er=new ig(wt,Tt),Jn=new rg(Er,Tt,dt,$t),ts=new ed(F,Jn,dt,Tt,$t);return function tn(I){const C=(0,re.m9)(I);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(ts),ts},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(Si,"0.3.8"),(0,ae.registerVersion)(Si,"0.3.8","esm2017")}();const id="/firebase-messaging-sw.js",vr="/firebase-cloud-messaging-push-scope",Ks="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Po="google.c.a.c_id",sd="google.c.a.c_l",Zh="google.c.a.ts",nn="google.c.a.e";var ko=(()=>{return(I=ko||(ko={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",ko;var I})();function Ar(I){const C=new Uint8Array(I);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function od(I){const O=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(O),Y=new Uint8Array(F.length);for(let ne=0;ne<F.length;++ne)Y[ne]=F.charCodeAt(ne);return Y}const Sr="fcm_token_details_db",ti="fcm_token_object_Store";function wl(I){return ad.apply(this,arguments)}function ad(){return ad=(0,P.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ne=>ne.name).includes(Sr))return null;let C=null;return(yield(0,se.X3)(Sr,5,{upgrade:(F=(0,P.Z)(function*(Y,ne,ge,Ve){var Tt;if(ne<2||!Y.objectStoreNames.contains(ti))return;const dt=Ve.objectStore(ti),$t=yield dt.index("fcmSenderId").get(I);if(yield dt.clear(),$t)if(2===ne){const wt=$t;if(!wt.auth||!wt.p256dh||!wt.endpoint)return;C={token:wt.fcmToken,createTime:null!==(Tt=wt.createTime)&&void 0!==Tt?Tt:Date.now(),subscriptionOptions:{auth:wt.auth,p256dh:wt.p256dh,endpoint:wt.endpoint,swScope:wt.swScope,vapidKey:"string"==typeof wt.vapidKey?wt.vapidKey:Ar(wt.vapidKey)}}}else if(3===ne){const wt=$t;C={token:wt.fcmToken,createTime:wt.createTime,subscriptionOptions:{auth:Ar(wt.auth),p256dh:Ar(wt.p256dh),endpoint:wt.endpoint,swScope:wt.swScope,vapidKey:Ar(wt.vapidKey)}}}else if(4===ne){const wt=$t;C={token:wt.fcmToken,createTime:wt.createTime,subscriptionOptions:{auth:Ar(wt.auth),p256dh:Ar(wt.p256dh),endpoint:wt.endpoint,swScope:wt.swScope,vapidKey:Ar(wt.vapidKey)}}}}),function(ne,ge,Ve,Tt){return F.apply(this,arguments)})})).close(),yield(0,se.Lj)(Sr),yield(0,se.Lj)("fcm_vapid_details_db"),yield(0,se.Lj)("undefined"),bl(C)?C:null;var F}),ad.apply(this,arguments)}function bl(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:C}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}const Pi="firebase-messaging-store";let Wh=null;function rn(){return Wh||(Wh=(0,se.X3)("firebase-messaging-database",1,{upgrade:(I,C)=>{0===C&&I.createObjectStore(Pi)}})),Wh}function Sa(I){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,P.Z)(function*(I){const C=or(I),F=yield(yield rn()).transaction(Pi).objectStore(Pi).get(C);if(F)return F;{const Y=yield wl(I.appConfig.senderId);if(Y)return yield Yt(I,Y),Y}})).apply(this,arguments)}function Yt(I,C){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,P.Z)(function*(I,C){const O=or(I),Y=(yield rn()).transaction(Pi,"readwrite");return yield Y.objectStore(Pi).put(C,O),yield Y.done,C})).apply(this,arguments)}function Cu(I){return Is.apply(this,arguments)}function Is(){return(Is=(0,P.Z)(function*(I){const C=or(I),F=(yield rn()).transaction(Pi,"readwrite");yield F.objectStore(Pi).delete(C),yield F.done})).apply(this,arguments)}function or({appConfig:I}){return I.appId}const _n=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ki(I,C){return ar.apply(this,arguments)}function ar(){return(ar=(0,P.Z)(function*(I,C){const O=yield Vo(I),F=Uo(C),Y={method:"POST",headers:O,body:JSON.stringify(F)};let ne;try{ne=yield(yield fetch(Fi(I.appConfig),Y)).json()}catch(ge){throw _n.create("token-subscribe-failed",{errorInfo:ge})}if(ne.error)throw _n.create("token-subscribe-failed",{errorInfo:ne.error.message});if(!ne.token)throw _n.create("token-subscribe-no-token");return ne.token})).apply(this,arguments)}function Js(I,C){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,P.Z)(function*(I,C){const O=yield Vo(I),F=Uo(C.subscriptionOptions),Y={method:"PATCH",headers:O,body:JSON.stringify(F)};let ne;try{ne=yield(yield fetch(`${Fi(I.appConfig)}/${C.token}`,Y)).json()}catch(ge){throw _n.create("token-update-failed",{errorInfo:ge})}if(ne.error)throw _n.create("token-update-failed",{errorInfo:ne.error.message});if(!ne.token)throw _n.create("token-update-no-token");return ne.token})).apply(this,arguments)}function xa(I,C){return wi.apply(this,arguments)}function wi(){return(wi=(0,P.Z)(function*(I,C){const F={method:"DELETE",headers:yield Vo(I)};try{const ne=yield(yield fetch(`${Fi(I.appConfig)}/${C}`,F)).json();if(ne.error)throw _n.create("token-unsubscribe-failed",{errorInfo:ne.error.message})}catch(Y){throw _n.create("token-unsubscribe-failed",{errorInfo:Y})}})).apply(this,arguments)}function Fi({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function Vo(I){return ft.apply(this,arguments)}function ft(){return(ft=(0,P.Z)(function*({appConfig:I,installations:C}){const O=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function Uo({p256dh:I,auth:C,endpoint:O,vapidKey:F}){const Y={web:{endpoint:O,auth:C,p256dh:I}};return F!==Ks&&(Y.web.applicationPubKey=F),Y}const Tu=6048e5;function Oa(I){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,P.Z)(function*(I){const C=yield hn(I.swRegistration,I.vapidKey),O={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:C.endpoint,auth:Ar(C.getKey("auth")),p256dh:Ar(C.getKey("p256dh"))},F=yield Sa(I.firebaseDependencies);if(F){if(Xs(F.subscriptionOptions,O))return Date.now()>=F.createTime+Tu?Al(I,{token:F.token,createTime:Date.now(),subscriptionOptions:O}):F.token;try{yield xa(I.firebaseDependencies,F.token)}catch(Y){console.warn(Y)}return Ft(I.firebaseDependencies,O)}return Ft(I.firebaseDependencies,O)})).apply(this,arguments)}function Na(I){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,P.Z)(function*(I){const C=yield Sa(I.firebaseDependencies);C&&(yield xa(I.firebaseDependencies,C.token),yield Cu(I.firebaseDependencies));const O=yield I.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function Al(I,C){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,P.Z)(function*(I,C){try{const O=yield Js(I.firebaseDependencies,C),F=Object.assign(Object.assign({},C),{token:O,createTime:Date.now()});return yield Yt(I.firebaseDependencies,F),O}catch(O){throw yield Na(I),O}})).apply(this,arguments)}function Ft(I,C){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,P.Z)(function*(I,C){const F={token:yield ki(I,C),createTime:Date.now(),subscriptionOptions:C};return yield Yt(I,F),F.token})).apply(this,arguments)}function hn(I,C){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,P.Z)(function*(I,C){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:od(C)})})).apply(this,arguments)}function Xs(I,C){return C.vapidKey===I.vapidKey&&C.endpoint===I.endpoint&&C.auth===I.auth&&C.p256dh===I.p256dh}function ni(I){const C={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function Ra(I,C){if(!C.notification)return;I.notification={};const O=C.notification.title;O&&(I.notification.title=O);const F=C.notification.body;F&&(I.notification.body=F);const Y=C.notification.image;Y&&(I.notification.image=Y)}(C,I),function Ml(I,C){!C.data||(I.data=C.data)}(C,I),function ug(I,C){if(!C.fcmOptions)return;I.fcmOptions={};const O=C.fcmOptions.link;O&&(I.fcmOptions.link=O);const F=C.fcmOptions.analytics_label;F&&(I.fcmOptions.analyticsLabel=F)}(C,I),C}function Au(I){return"object"==typeof I&&!!I&&Po in I}function Pa(I,C){const O=[];for(let F=0;F<I.length;F++)O.push(I.charAt(F)),F<C.length&&O.push(C.charAt(F));return O.join("")}function Rn(I){return _n.create("missing-app-config-values",{valueName:I})}Pa("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Pa("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Qi{constructor(C,O,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function Su(I){if(!I||!I.options)throw Rn("App Configuration Object");if(!I.name)throw Rn("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:O}=I;for(const F of C)if(!O[F])throw Rn(F);return{appName:I.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:Y,installations:O,analyticsProvider:F}}_delete(){return Promise.resolve()}}function ka(I){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,P.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(id,{scope:vr}),I.swRegistration.update().catch(()=>{})}catch(C){throw _n.create("failed-service-worker-registration",{browserErrorMessage:C.message})}})).apply(this,arguments)}function bi(I,C){return xl.apply(this,arguments)}function xl(){return(xl=(0,P.Z)(function*(I,C){if(!C&&!I.swRegistration&&(yield ka(I)),C||!I.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw _n.create("invalid-sw-registration");I.swRegistration=C}})).apply(this,arguments)}function Mu(I,C){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,P.Z)(function*(I,C){C?I.vapidKey=C:I.vapidKey||(I.vapidKey=Ks)})).apply(this,arguments)}function Fa(){return(Fa=(0,P.Z)(function*(I,C){if(!navigator)throw _n.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw _n.create("permission-blocked");return yield Mu(I,null==C?void 0:C.vapidKey),yield bi(I,null==C?void 0:C.serviceWorkerRegistration),Oa(I)})).apply(this,arguments)}function jo(I,C,O){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,P.Z)(function*(I,C,O){const F=La(C);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:O[Po],message_name:O[sd],message_time:O[Zh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function La(I){switch(I){case ko.NOTIFICATION_CLICKED:return"notification_open";case ko.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Rl(){return(Rl=(0,P.Z)(function*(I,C){const O=C.data;if(!O.isFirebaseMessaging)return;I.onMessageHandler&&O.messageType===ko.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(ni(O)):I.onMessageHandler.next(ni(O)));const F=O.data;Au(F)&&"1"===F[nn]&&(yield jo(I,O.messageType,F))})).apply(this,arguments)}const $o="@firebase/messaging",ud=I=>{const C=new Qi(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function lg(I,C){return Rl.apply(this,arguments)}(C,O)),C},Ho=I=>{const C=I.getProvider("messaging").getImmediate();return{getToken:F=>function xu(I,C){return Fa.apply(this,arguments)}(C,F)}};function Go(){return Li.apply(this,arguments)}function Li(){return(Li=(0,P.Z)(function*(){try{yield(0,re.eu)()}catch(I){return!1}return"undefined"!=typeof window&&(0,re.hl)()&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ld(){(0,ae._registerComponent)(new pe.wA("messaging",ud,"PUBLIC")),(0,ae._registerComponent)(new pe.wA("messaging-internal",Ho,"PRIVATE")),(0,ae.registerVersion)($o,"0.9.13"),(0,ae.registerVersion)($o,"0.9.13","esm2017")}();const cd="analytics",cg="firebase_id",Ji="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zo="https://www.googletagmanager.com/gtag/js",Yn=new ue.Yd("@firebase/analytics");function Qh(I){return Promise.all(I.map(C=>C.catch(O=>O)))}function eo(I,C){const O=document.createElement("script");O.src=`${zo}?l=${I}&id=${C}`,O.async=!0,document.head.appendChild(O)}function hd(I,C,O,F,Y,ne){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,P.Z)(function*(I,C,O,F,Y,ne){const ge=F[Y];try{if(ge)yield C[ge];else{const Tt=(yield Qh(O)).find(dt=>dt.measurementId===Y);Tt&&(yield C[Tt.appId])}}catch(Ve){Yn.error(Ve)}I("config",Y,ne)})).apply(this,arguments)}function Ru(I,C,O,F,Y){return to.apply(this,arguments)}function to(){return(to=(0,P.Z)(function*(I,C,O,F,Y){try{let ne=[];if(Y&&Y.send_to){let ge=Y.send_to;Array.isArray(ge)||(ge=[ge]);const Ve=yield Qh(O);for(const Tt of ge){const dt=Ve.find(wt=>wt.measurementId===Tt),$t=dt&&C[dt.appId];if(!$t){ne=[];break}ne.push($t)}}0===ne.length&&(ne=Object.values(C)),yield Promise.all(ne),I("event",F,Y||{})}catch(ne){Yn.error(ne)}})).apply(this,arguments)}function fn(){const I=window.document.getElementsByTagName("script");for(const C of Object.values(I))if(C.src&&C.src.includes(zo))return C;return null}const et=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Pl=new class Un{constructor(C={},O=1e3){this.throttleMetadata=C,this.intervalMillis=O}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,O){this.throttleMetadata[C]=O}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function pd(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function Ui(I){return kl.apply(this,arguments)}function kl(){return(kl=(0,P.Z)(function*(I){var C;const{appId:O,apiKey:F}=I,Y={method:"GET",headers:pd(F)},ne=Ji.replace("{app-id}",O),ge=yield fetch(ne,Y);if(200!==ge.status&&304!==ge.status){let Ve="";try{const Tt=yield ge.json();(null===(C=Tt.error)||void 0===C?void 0:C.message)&&(Ve=Tt.error.message)}catch(Tt){}throw et.create("config-fetch-failed",{httpStatus:ge.status,responseMessage:Ve})}return ge.json()})).apply(this,arguments)}function an(I){return ja.apply(this,arguments)}function ja(){return(ja=(0,P.Z)(function*(I,C=Pl,O){const{appId:F,apiKey:Y,measurementId:ne}=I.options;if(!F)throw et.create("no-app-id");if(!Y){if(ne)return{measurementId:ne,appId:F};throw et.create("no-api-key")}const ge=C.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ve=new md;return setTimeout((0,P.Z)(function*(){Ve.abort()}),void 0!==O?O:6e4),Di({appId:F,apiKey:Y,measurementId:ne},ge,Ve,C)})).apply(this,arguments)}function Di(I,C,O){return At.apply(this,arguments)}function At(){return(At=(0,P.Z)(function*(I,{throttleEndTimeMillis:C,backoffCount:O},F,Y=Pl){const{appId:ne,measurementId:ge}=I;try{yield Pu(F,C)}catch(Ve){if(ge)return Yn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ge} provided in the "measurementId" field in the local Firebase config. [${Ve.message}]`),{appId:ne,measurementId:ge};throw Ve}try{const Ve=yield Ui(I);return Y.deleteThrottleMetadata(ne),Ve}catch(Ve){if(!gd(Ve)){if(Y.deleteThrottleMetadata(ne),ge)return Yn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ge} provided in the "measurementId" field in the local Firebase config. [${Ve.message}]`),{appId:ne,measurementId:ge};throw Ve}const Tt=503===Number(Ve.customData.httpStatus)?(0,re.$s)(O,Y.intervalMillis,30):(0,re.$s)(O,Y.intervalMillis),dt={throttleEndTimeMillis:Date.now()+Tt,backoffCount:O+1};return Y.setThrottleMetadata(ne,dt),Yn.debug(`Calling attemptFetch again in ${Tt} millis`),Di(I,dt,F,Y)}})).apply(this,arguments)}function Pu(I,C){return new Promise((O,F)=>{const Y=Math.max(C-Date.now(),0),ne=setTimeout(O,Y);I.addEventListener(()=>{clearTimeout(ne),F(et.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}function gd(I){if(!(I instanceof re.ZR&&I.customData))return!1;const C=Number(I.customData.httpStatus);return 429===C||500===C||503===C||504===C}class md{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}function Fl(){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,P.Z)(function*(){if(!(0,re.hl)())return Yn.warn(et.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(I){return Yn.warn(et.create("indexeddb-unavailable",{errorInfo:I}).message),!1}return!0})).apply(this,arguments)}function Zo(){return(Zo=(0,P.Z)(function*(I,C,O,F,Y,ne,ge){var Ve;const Tt=an(I);Tt.then(Jn=>{O[Jn.measurementId]=Jn.appId,I.options.measurementId&&Jn.measurementId!==I.options.measurementId&&Yn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${Jn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Jn=>Yn.error(Jn)),C.push(Tt);const dt=Fl().then(Jn=>{if(Jn)return F.getId()}),[$t,wt]=yield Promise.all([Tt,dt]);fn()||eo(ne,$t.measurementId),Y("js",new Date);const Er=null!==(Ve=null==ge?void 0:ge.config)&&void 0!==Ve?Ve:{};return Er.origin="firebase",Er.update=!0,null!=wt&&(Er[cg]=wt),Y("config",$t.measurementId,Er),$t.measurementId})).apply(this,arguments)}class Ts{constructor(C){this.app=C}_delete(){return delete ur[this.app.options.appId],Promise.resolve()}}let ur={},ku=[];const Bi={};let Ko,no,Wo="dataLayer",Yo=!1;function $a(I,C,O){!function Jo(){const I=[];if((0,re.ru)()&&I.push("This is a browser extension environment."),(0,re.zI)()||I.push("Cookies are not available."),I.length>0){const C=I.map((F,Y)=>`(${Y+1}) ${F}`).join(" "),O=et.create("invalid-analytics-context",{errorInfo:C});Yn.warn(O.message)}}();const F=I.options.appId;if(!F)throw et.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw et.create("no-api-key");Yn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ur[F])throw et.create("already-exists",{id:F});if(!Yo){!function Ou(I){let C=[];Array.isArray(window[I])?C=window[I]:window[I]=C}(Wo);const{wrappedGtag:ne,gtagCore:ge}=function dg(I,C,O,F,Y){let ne=function(...ge){window[F].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(ne=window[Y]),window[Y]=function fd(I,C,O,F){function ne(){return(ne=(0,P.Z)(function*(ge,Ve,Tt){try{"event"===ge?yield Ru(I,C,O,Ve,Tt):"config"===ge?yield hd(I,C,O,F,Ve,Tt):I("set",Ve)}catch(dt){Yn.error(dt)}})).apply(this,arguments)}return function Y(ge,Ve,Tt){return ne.apply(this,arguments)}}(ne,I,C,O),{gtagCore:ne,wrappedGtag:window[Y]}}(ur,ku,Bi,Wo,"gtag");no=ne,Ko=ge,Yo=!0}return ur[F]=function qo(I,C,O,F,Y,ne,ge){return Zo.apply(this,arguments)}(I,ku,Bi,C,Ko,Wo,O),new Ts(I)}function lr(){return(lr=(0,P.Z)(function*(I,C,O,F,Y){if(Y&&Y.global)I("event",O,F);else{const ne=yield C;I("event",O,Object.assign(Object.assign({},F),{send_to:ne}))}})).apply(this,arguments)}function Lu(){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,P.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch(I){return!1}})).apply(this,arguments)}const Gr="@firebase/analytics";!function Ms(){(0,ae._registerComponent)(new pe.wA(cd,(C,{options:O})=>$a(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,ae._registerComponent)(new pe.wA("analytics-internal",function I(C){try{const O=C.getProvider(cd).getImmediate();return{logEvent:(F,Y,ne)=>function Xo(I,C,O,F){I=(0,re.m9)(I),function Ss(I,C,O,F,Y){return lr.apply(this,arguments)}(no,ur[I.app.options.appId],C,O,F).catch(Y=>Yn.error(Y))}(O,F,Y,ne)}}catch(O){throw et.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,ae.registerVersion)(Gr,"0.7.9"),(0,ae.registerVersion)(Gr,"0.7.9","esm2017")}();var so=R(4408),vn=R(7565);const oo=new class Ll extends vn.v{}(class Vu extends so.o{constructor(C,O){super(C,O),this.scheduler=C,this.work=O}schedule(C,O=0){return O>0?super.schedule(C,O):(this.delay=O,this.state=C,this.scheduler.flush(this),this)}execute(C,O){return O>0||this.closed?super.execute(C,O):this._execute(C,O)}requestAsyncId(C,O,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(C,O,F):C.flush(this)}});var Vl=R(4986),si=R(8505),oi=R(9468),ea=R(5363);const ao=new c.GfV("7.3.0"),uo="__angularfire_symbol__analyticsIsSupportedValue",ta="__angularfire_symbol__analyticsIsSupported",lo="__angularfire_symbol__remoteConfigIsSupportedValue",es="__angularfire_symbol__remoteConfigIsSupported",Ga="__angularfire_symbol__messagingIsSupportedValue",Pt="__angularfire_symbol__messagingIsSupported";function pg(I,C,O){if(C){if(1===C.length)return C[0];const ne=C.filter(ge=>ge.app===O);if(1===ne.length)return ne[0]}return O.container.getProvider(I).getImmediate({optional:!0})}globalThis[ta]||(globalThis[ta]=Lu().then(I=>globalThis[uo]=I).catch(()=>globalThis[uo]=!1)),globalThis[Pt]||(globalThis[Pt]=Go().then(I=>globalThis[Ga]=I).catch(()=>globalThis[Ga]=!1)),globalThis[es]||(globalThis[es]=Iu().then(I=>globalThis[lo]=I).catch(()=>globalThis[lo]=!1));const _d=(I,C)=>{const O=C?[C]:(0,X.C6)(),F=[];return O.forEach(Y=>{Y.container.getProvider(I).instances.forEach(ge=>{F.includes(ge)||F.push(ge)})}),F};function Os(){}class Ii{constructor(C,O=oo){this.zone=C,this.delegate=O}now(){return this.delegate.now()}schedule(C,O,F){const Y=this.zone;return this.delegate.schedule(function(ge){Y.runGuarded(()=>{C.apply(this,[ge])})},O,F)}}class Bu{constructor(C){this.zone=C,this.task=null}call(C,O){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Os,{},Os,Os)),O.pipe((0,si.b)({next:F,complete:F,error:F})).subscribe(C).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let vd=(()=>{class I{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new Ii(Zone.current)),this.insideAngular=O.run(()=>new Ii(Zone.current,Vl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(O){return new(O||I)(c.LFG(c.R0b))},I.\u0275prov=c.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Hi(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function na(I){return Hi(),function ra(I){return function(O){return(O=O.lift(new Bu(I.ngZone))).pipe((0,oi.R)(I.outsideAngular),(0,ea.Q)(I.insideAngular))}}(Hi())(I)}},2090:(Xe,we,R)=>{R.d(we,{BH:()=>ze,LL:()=>oe,ZR:()=>me,zI:()=>W,US:()=>pe,tV:()=>ce,L:()=>se,$s:()=>jt,r3:()=>Dr,Sg:()=>Me,ne:()=>Ai,vZ:()=>Yr,ZB:()=>B,pd:()=>ys,m9:()=>yr,z$:()=>Ne,jU:()=>Ce,ru:()=>qe,d:()=>Te,xb:()=>Vt,w1:()=>Ee,hl:()=>j,uI:()=>Ue,UG:()=>he,b$:()=>Ye,G6:()=>je,Mn:()=>De,xO:()=>Ir,zd:()=>Ti,eu:()=>ve});const ae=function(V){const G=[];let z=0;for(let Ie=0;Ie<V.length;Ie++){let H=V.charCodeAt(Ie);H<128?G[z++]=H:H<2048?(G[z++]=H>>6|192,G[z++]=63&H|128):55296==(64512&H)&&Ie+1<V.length&&56320==(64512&V.charCodeAt(Ie+1))?(H=65536+((1023&H)<<10)+(1023&V.charCodeAt(++Ie)),G[z++]=H>>18|240,G[z++]=H>>12&63|128,G[z++]=H>>6&63|128,G[z++]=63&H|128):(G[z++]=H>>12|224,G[z++]=H>>6&63|128,G[z++]=63&H|128)}return G},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(V,G){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ie=[];for(let H=0;H<V.length;H+=3){const J=V[H],Oe=H+1<V.length,Je=Oe?V[H+1]:0,ht=H+2<V.length,Ct=ht?V[H+2]:0;let $n=(15&Je)<<2|Ct>>6,Cr=63&Ct;ht||(Cr=64,Oe||($n=64)),Ie.push(z[J>>2],z[(3&J)<<4|Je>>4],z[$n],z[Cr])}return Ie.join("")},encodeString(V,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(V):this.encodeByteArray(ae(V),G)},decodeString(V,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(V):function(V){const G=[];let z=0,Ie=0;for(;z<V.length;){const H=V[z++];if(H<128)G[Ie++]=String.fromCharCode(H);else if(H>191&&H<224){const J=V[z++];G[Ie++]=String.fromCharCode((31&H)<<6|63&J)}else if(H>239&&H<365){const ht=((7&H)<<18|(63&V[z++])<<12|(63&V[z++])<<6|63&V[z++])-65536;G[Ie++]=String.fromCharCode(55296+(ht>>10)),G[Ie++]=String.fromCharCode(56320+(1023&ht))}else{const J=V[z++],Oe=V[z++];G[Ie++]=String.fromCharCode((15&H)<<12|(63&J)<<6|63&Oe)}}return G.join("")}(this.decodeStringToByteArray(V,G))},decodeStringToByteArray(V,G){this.init_();const z=G?this.charToByteMapWebSafe_:this.charToByteMap_,Ie=[];for(let H=0;H<V.length;){const J=z[V.charAt(H++)],Je=H<V.length?z[V.charAt(H)]:0;++H;const Ct=H<V.length?z[V.charAt(H)]:64;++H;const Et=H<V.length?z[V.charAt(H)]:64;if(++H,null==J||null==Je||null==Ct||null==Et)throw Error();Ie.push(J<<2|Je>>4),64!==Ct&&(Ie.push(Je<<4&240|Ct>>2),64!==Et&&Ie.push(Ct<<6&192|Et))}return Ie},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}},se=function(V){return function(V){const G=ae(V);return pe.encodeByteArray(G,!0)}(V).replace(/\./g,"")},ce=function(V){try{return pe.decodeString(V,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function B(V,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===V&&(V={});break;case Array:V=[];break;default:return G}for(const z in G)!G.hasOwnProperty(z)||!te(z)||(V[z]=B(V[z],G[z]));return V}function te(V){return"__proto__"!==V}class ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,z)=>{this.resolve=G,this.reject=z})}wrapCallback(G){return(z,Ie)=>{z?this.reject(z):this.resolve(Ie),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(z):G(z,Ie))}}}function Me(V,G){if(V.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ie=G||"demo-project",H=V.iat||0,J=V.sub||V.user_id;if(!J)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Oe=Object.assign({iss:`https://securetoken.google.com/${Ie}`,aud:Ie,iat:H,exp:H+3600,auth_time:H,sub:J,user_id:J,firebase:{sign_in_provider:"custom",identities:{}}},V);return[se(JSON.stringify({alg:"none",type:"JWT"})),se(JSON.stringify(Oe)),""].join(".")}function Ne(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ue(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function he(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(V){return!1}}function Ce(){return"object"==typeof self&&self.self===self}function qe(){const V="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof V&&void 0!==V.id}function Ye(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Te(){return Ne().indexOf("Electron/")>=0}function Ee(){const V=Ne();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function De(){return Ne().indexOf("MSAppHost/")>=0}function je(){return!he()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j(){return"object"==typeof indexedDB}function ve(){return new Promise((V,G)=>{try{let z=!0;const Ie="validate-browser-context-for-indexeddb-analytics-module",H=self.indexedDB.open(Ie);H.onsuccess=()=>{H.result.close(),z||self.indexedDB.deleteDatabase(Ie),V(!0)},H.onupgradeneeded=()=>{z=!1},H.onerror=()=>{var J;G((null===(J=H.error)||void 0===J?void 0:J.message)||"")}}catch(z){G(z)}})}function W(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class me extends Error{constructor(G,z,Ie){super(z),this.code=G,this.customData=Ie,this.name="FirebaseError",Object.setPrototypeOf(this,me.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oe.prototype.create)}}class oe{constructor(G,z,Ie){this.service=G,this.serviceName=z,this.errors=Ie}create(G,...z){const Ie=z[0]||{},H=`${this.service}/${G}`,J=this.errors[G],Oe=J?function Re(V,G){return V.replace(lt,(z,Ie)=>{const H=G[Ie];return null!=H?String(H):`<${Ie}?>`})}(J,Ie):"Error";return new me(H,`${this.serviceName}: ${Oe} (${H}).`,Ie)}}const lt=/\{\$([^}]+)}/g;function Dr(V,G){return Object.prototype.hasOwnProperty.call(V,G)}function Vt(V){for(const G in V)if(Object.prototype.hasOwnProperty.call(V,G))return!1;return!0}function Yr(V,G){if(V===G)return!0;const z=Object.keys(V),Ie=Object.keys(G);for(const H of z){if(!Ie.includes(H))return!1;const J=V[H],Oe=G[H];if(pr(J)&&pr(Oe)){if(!Yr(J,Oe))return!1}else if(J!==Oe)return!1}for(const H of Ie)if(!z.includes(H))return!1;return!0}function pr(V){return null!==V&&"object"==typeof V}function Ir(V){const G=[];for(const[z,Ie]of Object.entries(V))Array.isArray(Ie)?Ie.forEach(H=>{G.push(encodeURIComponent(z)+"="+encodeURIComponent(H))}):G.push(encodeURIComponent(z)+"="+encodeURIComponent(Ie));return G.length?"&"+G.join("&"):""}function Ti(V){const G={};return V.replace(/^\?/,"").split("&").forEach(Ie=>{if(Ie){const[H,J]=Ie.split("=");G[decodeURIComponent(H)]=decodeURIComponent(J)}}),G}function ys(V){const G=V.indexOf("?");if(!G)return"";const z=V.indexOf("#",G);return V.substring(G,z>0?z:void 0)}function Ai(V,G){const z=new yt(V,G);return z.subscribe.bind(z)}class yt{constructor(G,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{G(this)}).catch(Ie=>{this.error(Ie)})}next(G){this.forEachObserver(z=>{z.next(G)})}error(G){this.forEachObserver(z=>{z.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,z,Ie){let H;if(void 0===G&&void 0===z&&void 0===Ie)throw new Error("Missing Observer.");H=function In(V,G){if("object"!=typeof V||null===V)return!1;for(const z of G)if(z in V&&"function"==typeof V[z])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:z,complete:Ie},void 0===H.next&&(H.next=xn),void 0===H.error&&(H.error=xn),void 0===H.complete&&(H.complete=xn);const J=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?H.error(this.finalError):H.complete()}catch(Oe){}}),this.observers.push(H),J}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,G)}sendOne(G,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{z(this.observers[G])}catch(Ie){"undefined"!=typeof console&&console.error&&console.error(Ie)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xn(){}function jt(V,G=1e3,z=2){const Ie=G*Math.pow(z,V),H=Math.round(.5*Ie*(Math.random()-.5)*2);return Math.min(144e5,Ie+H)}function yr(V){return V&&V._delegate?V._delegate:V}},9820:(Xe,we,R)=>{var c=R(5e3);let X=null;function P(){return X}const ue=new c.OlP("DocumentToken");let se=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ce(){return(0,c.LFG)(B)}()},providedIn:"platform"}),n})();const $=new c.OlP("Location Initialized");let B=(()=>{class n extends se{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,s){te()?this._history.pushState(t,r,s):this.location.hash=s}replaceState(t,r,s){te()?this._history.replaceState(t,r,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ue))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ze(){return new B((0,c.LFG)(ue))}()},providedIn:"platform"}),n})();function te(){return!!window.history.pushState}function Me(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ne(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ue(n){return n&&"?"!==n[0]?"?"+n:n}let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ce(n){const e=(0,c.LFG)(ue).location;return new Ye((0,c.LFG)(se),e&&e.origin||"")}()},providedIn:"root"}),n})();const qe=new c.OlP("appBaseHref");let Ye=(()=>{class n extends he{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Me(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ue(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${r}${s}`:r}pushState(t,r,s,u){const d=this.prepareExternalUrl(s+Ue(u));this._platformLocation.pushState(t,r,d)}replaceState(t,r,s,u){const d=this.prepareExternalUrl(s+Ue(u));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,s;null===(s=(r=this._platformLocation).historyGo)||void 0===s||s.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se),c.LFG(qe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Te=(()=>{class n extends he{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Me(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,s,u){let d=this.prepareExternalUrl(s+Ue(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,s,u){let d=this.prepareExternalUrl(s+Ue(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,s;null===(s=(r=this._platformLocation).historyGo)||void 0===s||s.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se),c.LFG(qe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ee=(()=>{class n{constructor(t,r){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const s=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ne(je(s)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ue(r))}normalize(t){return n.stripTrailingSlash(function $e(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,je(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",s=null){this._platformStrategy.pushState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ue(r)),s)}replaceState(t,r="",s=null){this._platformStrategy.replaceState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ue(r)),s)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,s;null===(s=(r=this._platformStrategy).historyGo)||void 0===s||s.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(s=>s(t,r))}subscribe(t,r,s){return this._subject.subscribe({next:t,error:r,complete:s})}}return n.normalizeQueryParams=Ue,n.joinWithSlash=Me,n.stripTrailingSlash=Ne,n.\u0275fac=function(t){return new(t||n)(c.LFG(he),c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function De(){return new Ee((0,c.LFG)(he),(0,c.LFG)(se))}()},providedIn:"root"}),n})();function je(n){return n.replace(/\/index.html$/,"")}class Es{constructor(e,t,r,s){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Nn=(()=>{class n{constructor(t,r,s){this._viewContainer=t,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((s,u,d)=>{if(null==s.previousIndex)r.createEmbeddedView(this._template,new Es(s.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===u?void 0:u);else if(null!==u){const p=r.get(u);r.move(p,d),Ws(p,s)}});for(let s=0,u=r.length;s<u;s++){const p=r.get(s).context;p.index=s,p.count=u,p.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{Ws(r.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Ws(n,e){n.context.$implicit=e.item}let zn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new tn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){bu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){bu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class tn{constructor(){this.$implicit=null,this.ngIf=null}}function bu(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}class bs{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Xc{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const ig=new Xc,Ki=new bs;let No=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,c.QGY)(t))return ig;if((0,c.F4k)(t))return Ki;throw function _r(n,e){return new c.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO,16))},n.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1}),n})(),nn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function Fo(n){return"server"===n}let bl=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new Lo((0,c.LFG)(ue),window)}),n})();class Lo{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Pi(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const u=s.shadowRoot;if(u){const d=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(d)return d}s=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],s-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Dl(this.window.history)||Dl(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Dl(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Qs extends class Sa extends class pe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function re(n){X||(X=n)}(new Qs)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Ma(){return Yt=Yt||document.querySelector("base"),Yt?Yt.getAttribute("href"):null}();return null==t?null:function Is(n){Cu=Cu||document.createElement("a"),Cu.setAttribute("href",n);const e=Cu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Yt=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Ca(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[s,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(s.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let Cu,Yt=null;const or=new c.OlP("TRANSITION_ID"),_n=[{provide:c.ip1,useFactory:function Il(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=P(),s=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<s.length;u++)r.remove(s[u])})}},deps:[or,ue,c.zs3],multi:!0}];class ki{static init(){(0,c.VLi)(new ki)}addToWindow(e){c.dqk.getAngularTestability=(r,s=!0)=>{const u=e.findTestabilityInTree(r,s);if(null==u)throw new Error("Could not find testability for element.");return u},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const s=c.dqk.getAllAngularTestabilities();let u=s.length,d=!1;const p=function(v){d=d||v,u--,0==u&&r(d)};s.forEach(function(v){v.whenStable(p)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const s=e.getTestability(t);return null!=s?s:r?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let ar=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Js=new c.OlP("EventManagerPlugins");let Yi=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(s=>s.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,s){return this._findPluginFor(r).addEventListener(t,r,s)}addGlobalEventListener(t,r,s){return this._findPluginFor(r).addGlobalEventListener(t,r,s)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const s=this._plugins;for(let u=0;u<s.length;u++){const d=s[u];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Js),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class xa{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const s=P().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,r)}}let wi=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),r.add(s))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Fi=(()=>{class n extends wi{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,s){t.forEach(u=>{const d=this._doc.createElement("style");d.textContent=u,s.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Vo),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,s)=>{this._addStylesToHost(t,s,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Vo))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ue))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Vo(n){P().remove(n)}const ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Uo=/%COMP%/g;function Ae(n,e,t){for(let r=0;r<e.length;r++){let s=e[r];Array.isArray(s)?Ae(n,s,t):(s=s.replace(Uo,n),t.push(s))}return t}function Ft(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let hn=(()=>{class n{constructor(t,r,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new Bo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let s=this.rendererByCompId.get(r.id);return s||(s=new Ra(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,s)),s.applyToHost(t),s}case 1:case c.ifc.ShadowDom:return new Ml(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const s=Ae(r.id,r.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Yi),c.LFG(Fi),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Bo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ft[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,s){if(s){t=s+":"+t;const u=ft[s];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const s=ft[r];s?e.removeAttributeNS(s,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,s){s&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,s&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ft(r)):this.eventManager.addEventListener(e,t,Ft(r))}}class Ra extends Bo{constructor(e,t,r,s){super(e),this.component=r;const u=Ae(s+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function Tl(n){return"_ngcontent-%COMP%".replace(Uo,n)}(s+"-"+r.id),this.hostAttr=function Al(n){return"_nghost-%COMP%".replace(Uo,n)}(s+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Ml extends Bo{constructor(e,t,r,s){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Ae(s.id,s.styles,[]);for(let d=0;d<u.length;d++){const p=document.createElement("style");p.textContent=u[d],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ug=(()=>{class n extends xa{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,s){return t.addEventListener(r,s,!1),()=>this.removeEventListener(t,r,s)}removeEventListener(t,r,s){return t.removeEventListener(r,s)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ue))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Au=["alt","control","meta","shift"],Su={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Rn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Qi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ka=(()=>{class n extends xa{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,s){const u=n.parseEventName(r),d=n.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const u=n._normalizeKey(r.pop());let d="";if(Au.forEach(v=>{const D=r.indexOf(v);D>-1&&(r.splice(D,1),d+=v+".")}),d+=u,0!=r.length||0===u.length)return null;const p={};return p.domEventName=s,p.fullKey=d,p}static getEventFullKey(t){let r="",s=function Cs(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Rn.hasOwnProperty(e)&&(e=Rn[e]))}return Su[e]||e}(t);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),Au.forEach(u=>{u!=s&&Qi[u](t)&&(r+=u+".")}),r+=s,r}static eventCallback(t,r,s){return u=>{n.getEventFullKey(u)===t&&s.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ue))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const xu=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function bi(){Qs.makeCurrent(),ki.init()},multi:!0},{provide:ue,useFactory:function Mu(){return(0,c.RDi)(document),document},deps:[]}]),Fa=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function xl(){return new c.qLn},deps:[]},{provide:Js,useClass:ug,multi:!0,deps:[ue,c.R0b,c.Lbi]},{provide:Js,useClass:ka,multi:!0,deps:[ue]},{provide:hn,useClass:hn,deps:[Yi,Fi,c.AFp]},{provide:c.FYo,useExisting:hn},{provide:wi,useExisting:Fi},{provide:Fi,useClass:Fi,deps:[ue]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:Yi,useClass:Yi,deps:[Js,c.R0b]},{provide:class rn{},useClass:ar,deps:[]}];let jo=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:or,useExisting:c.AFp},_n]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:Fa,imports:[nn,c.hGG]}),n})();"undefined"!=typeof window&&window;var fn=R(8996),Ba=R(7669);function et(...n){const e=(0,Ba.yG)(n);return(0,fn.D)(n,e)}var ri=R(7579);class Mr extends ri.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Un=R(8306);const{isArray:Pl}=Array,{getPrototypeOf:pd,prototype:Ui,keys:kl}=Object;function an(n){if(1===n.length){const e=n[0];if(Pl(e))return{args:e,keys:null};if(function ja(n){return n&&"object"==typeof n&&pd(n)===Ui}(e)){const t=kl(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Di=R(4671),At=R(4004);const{isArray:Pu}=Array;function md(n){return(0,At.U)(e=>function gd(n,e){return Pu(e)?n(...e):n(e)}(n,e))}function Fl(n,e){return n.reduce((t,r,s)=>(t[r]=e[s],t),{})}var Pn=R(5403),qo=R(9672);function ur(n,e,t){n?(0,qo.f)(t,n,e):e()}var ku=R(576);function Bi(n,e){const t=(0,ku.m)(n)?n:()=>n,r=s=>s.error(t());return new Un.y(e?s=>e.schedule(r,0,s):r)}const As=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ko=R(8189);function Yo(...n){return function no(){return(0,Ko.J)(1)}()((0,fn.D)(n,(0,Ba.yG)(n)))}var Qo=R(8421);function Jo(n){return new Un.y(e=>{(0,Qo.Xf)(n()).subscribe(e)})}var $a=R(515),Ss=R(727),lr=R(4482);function ro(){return(0,lr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Pn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const s=n._connection,u=t;t=null,s&&(!u||s===u)&&s.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Fu extends Un.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,lr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ss.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Pn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ss.w0.EMPTY)}return e}refCount(){return ro()(this)}}function pn(n,e){return(0,lr.e)((t,r)=>{let s=null,u=0,d=!1;const p=()=>d&&!s&&r.complete();t.subscribe((0,Pn.x)(r,v=>{null==s||s.unsubscribe();let D=0;const S=u++;(0,Qo.Xf)(n(v,S)).subscribe(s=(0,Pn.x)(r,x=>r.next(e?e(v,x,S,D++):x),()=>{s=null,p()}))},()=>{d=!0,p()}))})}var io=R(5698);function ji(...n){const e=(0,Ba.yG)(n);return(0,lr.e)((t,r)=>{(e?Yo(n,t,e):Yo(n,t)).subscribe(r)})}function Xi(n,e,t,r,s){return(u,d)=>{let p=t,v=e,D=0;u.subscribe((0,Pn.x)(d,S=>{const x=D++;v=p?n(v,S,x):(p=!0,S),r&&d.next(v)},s&&(()=>{p&&d.next(v),d.complete()})))}}function $i(n,e){return(0,lr.e)(Xi(n,e,arguments.length>=2,!0))}function xr(n,e){return(0,lr.e)((t,r)=>{let s=0;t.subscribe((0,Pn.x)(r,u=>n.call(e,u,s++)&&r.next(u)))})}function ii(n){return(0,lr.e)((e,t)=>{let u,r=null,s=!1;r=e.subscribe((0,Pn.x)(t,void 0,void 0,d=>{u=(0,Qo.Xf)(n(d,ii(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):s=!0})),s&&(r.unsubscribe(),r=null,u.subscribe(t))})}var Tn=R(5577);function Lu(n,e){return(0,ku.m)(e)?(0,Tn.z)(n,e,1):(0,Tn.z)(n,1)}function Ha(n){return n<=0?()=>$a.E:(0,lr.e)((e,t)=>{let r=[];e.subscribe((0,Pn.x)(t,s=>{r.push(s),n<r.length&&r.shift()},()=>{for(const s of r)t.next(s);t.complete()},void 0,()=>{r=null}))})}function gn(n=hg){return(0,lr.e)((e,t)=>{let r=!1;e.subscribe((0,Pn.x)(t,s=>{r=!0,t.next(s)},()=>r?t.complete():t.error(n())))})}function hg(){return new As}function fg(n){return(0,lr.e)((e,t)=>{let r=!1;e.subscribe((0,Pn.x)(t,s=>{r=!0,t.next(s)},()=>{r||t.next(n),t.complete()}))})}function Xo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?xr((s,u)=>n(s,u,r)):Di.y,(0,io.q)(1),t?fg(e):gn(()=>new As))}var Gr=R(8505);class Ms{constructor(e,t){this.id=e,this.url=t}}class so extends Ms{constructor(e,t,r="imperative",s=null){super(e,t),this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vu extends Ms{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vn extends Ms{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ll extends Ms{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class oo extends Ms{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oy extends Ms{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vl extends Ms{constructor(e,t,r,s,u){super(e,t),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class si extends Ms{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oi extends Ms{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ea{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ao{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class uo{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ta{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lo{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class es{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ga{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Pt="primary";class Uu{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Qn(n){return new Uu(n)}const za="ngNavigationCancelingError";function xs(n){const e=Error("NavigationCancelingError: "+n);return e[za]=!0,e}function _d(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const s={};for(let u=0;u<r.length;u++){const d=r[u],p=n[u];if(d.startsWith(":"))s[d.substring(1)]=p;else if(d!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:s}}function Ii(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let s;for(let u=0;u<t.length;u++)if(s=t[u],!Bu(n[s],e[s]))return!1;return!0}function Bu(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((s,u)=>r[u]===s)}return n===e}function vd(n){return Array.prototype.concat.apply([],n)}function Hi(n){return n.length>0?n[n.length-1]:null}function un(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function cr(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,fn.D)(Promise.resolve(n)):et(n)}const na={exact:function I(n,e,t){if(!dt(n.segments,e.segments)||!Y(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!I(n.children[r],e.children[r],t))return!1;return!0},subset:O},ra={exact:function Ed(n,e){return Ii(n,e)},subset:function C(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Bu(n[t],e[t]))},ignored:()=>!0};function co(n,e,t){return na[t.paths](n.root,e.root,t.matrixParams)&&ra[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function O(n,e,t){return F(n,e,e.segments,t)}function F(n,e,t,r){if(n.segments.length>t.length){const s=n.segments.slice(0,t.length);return!(!dt(s,t)||e.hasChildren()||!Y(s,t,r))}if(n.segments.length===t.length){if(!dt(n.segments,t)||!Y(n.segments,t,r))return!1;for(const s in e.children)if(!n.children[s]||!O(n.children[s],e.children[s],r))return!1;return!0}{const s=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(dt(n.segments,s)&&Y(n.segments,s,r)&&n.children[Pt])&&F(n.children[Pt],e,u,r)}}function Y(n,e,t){return e.every((r,s)=>ra[t](n[s].parameters,r.parameters))}class ne{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qn(this.queryParams)),this._queryParamMap}toString(){return Jn.serialize(this)}}class ge{constructor(e,t){this.segments=e,this.children=t,this.parent=null,un(t,(r,s)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ts(this)}}class Ve{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Qn(this.parameters)),this._parameterMap}toString(){return Hu(this)}}function dt(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class wt{}class Er{parse(e){const t=new Py(e);return new ne(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${zr(e.root,!0)}`,r=function mg(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(s=>`${ui(t)}=${ui(s)}`).join("&"):`${ui(t)}=${ui(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function li(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Jn=new Er;function ts(n){return n.segments.map(e=>Hu(e)).join("/")}function zr(n,e){if(!n.hasChildren())return ts(n);if(e){const t=n.children[Pt]?zr(n.children[Pt],!1):"",r=[];return un(n.children,(s,u)=>{u!==Pt&&r.push(`${u}:${zr(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function $t(n,e){let t=[];return un(n.children,(r,s)=>{s===Pt&&(t=t.concat(e(r,s)))}),un(n.children,(r,s)=>{s!==Pt&&(t=t.concat(e(r,s)))}),t}(n,(r,s)=>s===Pt?[zr(n.children[Pt],!1)]:[`${s}:${zr(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Pt]?`${ts(n)}/${t[0]}`:`${ts(n)}/(${t.join("//")})`}}function ai(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ui(n){return ai(n).replace(/%3B/gi,";")}function ju(n){return ai(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $u(n){return decodeURIComponent(n)}function Bl(n){return $u(n.replace(/\+/g,"%20"))}function Hu(n){return`${ju(n.path)}${function gg(n){return Object.keys(n).map(e=>`;${ju(e)}=${ju(n[e])}`).join("")}(n.parameters)}`}const Jh=/^[^\/()?;=#]+/;function ho(n){const e=n.match(Jh);return e?e[0]:""}const jl=/^[^=?&#]+/,yg=/^[^&#]+/;class Py{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Pt]=new ge(e,t)),r}parseSegment(){const e=ho(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Ve($u(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ho(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=ho(this.remaining);s&&(r=s,this.capture(r))}e[$u(t)]=$u(r)}parseQueryParam(e){const t=function Ry(n){const e=n.match(jl);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function _g(n){const e=n.match(yg);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const s=Bl(t),u=Bl(r);if(e.hasOwnProperty(s)){let d=e[s];Array.isArray(d)||(d=[d],e[s]=d),d.push(u)}else e[s]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ho(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Pt);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[Pt]:new ge([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class vg{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Xh(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Xh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Gu(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return Gu(e,this._root).map(t=>t.value)}}function Xh(n,e){if(n===e.value)return e;for(const t of e.children){const r=Xh(n,t);if(r)return r}return null}function Gu(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Gu(n,t);if(r.length)return r.unshift(e),r}return[]}class fo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function po(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class wd extends vg{constructor(e,t){super(e),this.snapshot=t,Dd(this,e)}toString(){return this.snapshot.toString()}}function qa(n,e){const t=function ky(n,e){const d=new ia([],{},{},"",{},Pt,e,null,n.root,-1,{});return new ef("",new fo(d,[]))}(n,e),r=new Mr([new Ve("",{})]),s=new Mr({}),u=new Mr({}),d=new Mr({}),p=new Mr(""),v=new zu(r,s,d,p,u,Pt,e,t.root);return v.snapshot=t.root,new wd(new fo(v,[]),t)}class zu{constructor(e,t,r,s,u,d,p,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=d,this.component=p,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,At.U)(e=>Qn(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,At.U)(e=>Qn(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Fy(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const s=t[r],u=t[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(u.component)break;r--}}return function bd(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ia{constructor(e,t,r,s,u,d,p,v,D,S,x){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=d,this.component=p,this.routeConfig=v,this._urlSegment=D,this._lastPathIndex=S,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ef extends vg{constructor(e,t){super(t),this.url=e,Dd(this,t)}toString(){return tf(this._root)}}function Dd(n,e){e.value._routerState=n,e.children.forEach(t=>Dd(n,t))}function tf(n){const e=n.children.length>0?` { ${n.children.map(tf).join(", ")} } `:"";return`${n.value}${e}`}function Id(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ii(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ii(e.params,t.params)||n.params.next(t.params),function Os(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ii(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ii(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function nf(n,e){const t=Ii(n.params,e.params)&&function Tt(n,e){return dt(n,e)&&n.every((t,r)=>Ii(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||nf(n.parent,e.parent))}function $l(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const s=function Ly(n,e,t){return e.children.map(r=>{for(const s of t.children)if(n.shouldReuseRoute(r.value,s.value.snapshot))return $l(n,r,s);return $l(n,r)})}(n,e,t);return new fo(r,s)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(p=>$l(n,p)),d}}const r=function Vy(n){return new zu(new Mr(n.url),new Mr(n.params),new Mr(n.queryParams),new Mr(n.fragment),new Mr(n.data),n.outlet,n.component,n)}(e.value),s=e.children.map(u=>$l(n,u));return new fo(r,s)}}function Ns(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Hl(n){return"object"==typeof n&&null!=n&&n.outlets}function Cd(n,e,t,r,s){let u={};if(r&&un(r,(p,v)=>{u[v]=Array.isArray(p)?p.map(D=>`${D}`):`${p}`}),n===e)return new ne(t,u,s);const d=Uy(n,e,t);return new ne(d,u,s)}function Uy(n,e,t){const r={};return un(n.children,(s,u)=>{r[u]=s===e?t:Uy(s,e,t)}),new ge(n.segments,r)}class wg{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ns(r[0]))throw new Error("Root segment cannot have matrix parameters");const s=r.find(Hl);if(s&&s!==Hi(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Td{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Cg(n,e,t){if(n||(n=new ge([],{})),0===n.segments.length&&n.hasChildren())return Ad(n,e,t);const r=function Y0(n,e,t){let r=0,s=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(r>=t.length)return u;const d=n.segments[s],p=t[r];if(Hl(p))break;const v=`${p}`,D=r<t.length-1?t[r+1]:null;if(s>0&&void 0===v)break;if(v&&D&&"object"==typeof D&&void 0===D.outlets){if(!ns(v,D,d))return u;r+=2}else{if(!ns(v,{},d))return u;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(n,e,t),s=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new ge(n.segments.slice(0,r.pathIndex),{});return u.children[Pt]=new ge(n.segments.slice(r.pathIndex),n.children),Ad(u,0,s)}return r.match&&0===s.length?new ge(n.segments,{}):r.match&&!n.hasChildren()?Tg(n,e,t):r.match?Ad(n,0,s):Tg(n,e,t)}function Ad(n,e,t){if(0===t.length)return new ge(n.segments,{});{const r=function Ig(n){return Hl(n[0])?n[0].outlets:{[Pt]:n}}(t),s={};return un(r,(u,d)=>{"string"==typeof u&&(u=[u]),null!==u&&(s[d]=Cg(n.children[d],e,u))}),un(n.children,(u,d)=>{void 0===r[d]&&(s[d]=u)}),new ge(n.segments,s)}}function Tg(n,e,t){const r=n.segments.slice(0,e);let s=0;for(;s<t.length;){const u=t[s];if(Hl(u)){const v=Rs(u.outlets);return new ge(r,v)}if(0===s&&Ns(t[0])){r.push(new Ve(n.segments[e].path,rf(t[0]))),s++;continue}const d=Hl(u)?u.outlets[Pt]:`${u}`,p=s<t.length-1?t[s+1]:null;d&&p&&Ns(p)?(r.push(new Ve(d,rf(p))),s+=2):(r.push(new Ve(d,{})),s++)}return new ge(r,{})}function Rs(n){const e={};return un(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Tg(new ge([],{}),0,t))}),e}function rf(n){const e={};return un(n,(t,r)=>e[r]=`${t}`),e}function ns(n,e,t){return n==t.path&&Ii(e,t.parameters)}class Ag{constructor(e,t,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Id(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const s=po(t);e.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,s[d],r),delete s[d]}),un(s,(u,d)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(s===u)if(s.component){const d=r.getContext(s.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=po(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],s);if(r&&r.outlet){const d=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=po(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],s);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const s=po(t);e.children.forEach(u=>{this.activateRoutes(u,s[u.value.outlet],r),this.forwardEvent(new es(u.value.snapshot))}),e.children.length&&this.forwardEvent(new ta(e.value.snapshot))}activateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(Id(s),s===u)if(s.component){const d=r.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(s.component){const d=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const p=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),d.children.onOutletReAttached(p.contexts),d.attachRef=p.componentRef,d.route=p.route.value,d.outlet&&d.outlet.attach(p.componentRef,p.route.value),Id(p.route.value),this.activateChildRoutes(e,null,d.children)}else{const p=function Sd(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(s.snapshot),v=p?p.module.componentFactoryResolver:null;d.attachRef=null,d.route=s,d.resolver=v,d.outlet&&d.outlet.activateWith(s,v),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class Md{constructor(e,t){this.routes=e,this.module=t}}function Wa(n){return"function"==typeof n}function qu(n){return n instanceof ne}const xd=Symbol("INITIAL_VALUE");function Zu(){return pn(n=>function Zo(...n){const e=(0,Ba.yG)(n),t=(0,Ba.jO)(n),{args:r,keys:s}=an(n);if(0===r.length)return(0,fn.D)([],e);const u=new Un.y(function Ts(n,e,t=Di.y){return r=>{ur(e,()=>{const{length:s}=n,u=new Array(s);let d=s,p=s;for(let v=0;v<s;v++)ur(e,()=>{const D=(0,fn.D)(n[v],e);let S=!1;D.subscribe((0,Pn.x)(r,x=>{u[v]=x,S||(S=!0,p--),p||r.next(t(u.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,s?d=>Fl(s,d):Di.y));return t?u.pipe(md(t)):u}(n.map(e=>e.pipe((0,io.q)(1),ji(xd)))).pipe($i((e,t)=>{let r=!1;return t.reduce((s,u,d)=>s!==xd?s:(u===xd&&(r=!0),r||!1!==u&&d!==t.length-1&&!qu(u)?s:u),e)},xd),xr(e=>e!==xd),(0,At.U)(e=>qu(e)?e:!0===e),(0,io.q)(1)))}class By{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Wu,this.attachRef=null}}class Wu{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new By,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let zl=(()=>{class n{constructor(t,r,s,u,d){this.parentContexts=t,this.location=r,this.resolver=s,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=u||Pt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const d=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),p=this.parentContexts.getOrCreateContext(this.name).children,v=new jy(t,p,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,v),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Wu),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class jy{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===zu?this.route:e===Wu?this.childContexts:this.parent.get(e,t)}}let af=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},directives:[zl],encapsulation:2}),n})();function Ka(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];uf(r,lf(e,r))}}function uf(n,e){n.children&&Ka(n.children,e)}function lf(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function cf(n){const e=n.children&&n.children.map(cf),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Pt&&(t.component=af),t}function zt(n){return n.outlet||Pt}function Mg(n,e){const t=n.filter(r=>zt(r)===e);return t.push(...n.filter(r=>zt(r)!==e)),t}const xg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ku(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},xg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const u=(e.matcher||_d)(t,n,e);if(!u)return Object.assign({},xg);const d={};un(u.posParams,(v,D)=>{d[D]=v.path});const p=u.consumed.length>0?Object.assign(Object.assign({},d),u.consumed[u.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:u.consumed,remainingSegments:t.slice(u.consumed.length),parameters:p,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function Yu(n,e,t,r,s="corrected"){if(t.length>0&&function Gy(n,e,t){return t.some(r=>Ya(n,e,r)&&zt(r)!==Pt)}(n,t,r)){const d=new ge(e,function Hy(n,e,t,r){const s={};s[Pt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&zt(u)!==Pt){const d=new ge([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,s[zt(u)]=d}return s}(n,e,r,new ge(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function zy(n,e,t){return t.some(r=>Ya(n,e,r))}(n,t,r)){const d=new ge(n.segments,function $y(n,e,t,r,s,u){const d={};for(const p of r)if(Ya(n,t,p)&&!s[zt(p)]){const v=new ge([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===u?n.segments.length:e.length,d[zt(p)]=v}return Object.assign(Object.assign({},s),d)}(n,e,t,r,n.children,s));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const u=new ge(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function Ya(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function qy(n,e,t,r){return!!(zt(n)===r||r!==Pt&&Ya(e,t,n))&&("**"===n.path||Ku(e,n,t).matched)}function Og(n,e,t){return 0===e.length&&!n.children[t]}class oa{constructor(e){this.segmentGroup=e||null}}class Or{constructor(e){this.urlTree=e}}function Qa(n){return Bi(new oa(n))}function df(n){return Bi(new Or(n))}class Od{constructor(e,t,r,s,u){this.configLoader=t,this.urlSerializer=r,this.urlTree=s,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(c.h0i)}apply(){const e=Yu(this.urlTree.root,[],[],this.config).segmentGroup,t=new ge(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Pt).pipe((0,At.U)(u=>this.createUrlTree(ql(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ii(u=>{if(u instanceof Or)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof oa?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Pt).pipe((0,At.U)(s=>this.createUrlTree(ql(s),e.queryParams,e.fragment))).pipe(ii(s=>{throw s instanceof oa?this.noMatchError(s):s}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const s=e.segments.length>0?new ge([],{[Pt]:e}):e;return new ne(s,t,r)}expandSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,At.U)(u=>new ge([],u))):this.expandSegment(e,r,t,r.segments,s,!0)}expandChildren(e,t,r){const s=[];for(const u of Object.keys(r.children))"primary"===u?s.unshift(u):s.push(u);return(0,fn.D)(s).pipe(Lu(u=>{const d=r.children[u],p=Mg(t,u);return this.expandSegmentGroup(e,p,d,u).pipe((0,At.U)(v=>({segment:v,outlet:u})))}),$i((u,d)=>(u[d.outlet]=d.segment,u),{}),function xy(n,e){const t=arguments.length>=2;return r=>r.pipe(n?xr((s,u)=>n(s,u,r)):Di.y,Ha(1),t?fg(e):gn(()=>new As))}())}expandSegment(e,t,r,s,u,d){return(0,fn.D)(r).pipe(Lu(p=>this.expandSegmentAgainstRoute(e,t,r,p,s,u,d).pipe(ii(D=>{if(D instanceof oa)return et(null);throw D}))),Xo(p=>!!p),ii((p,v)=>{if(p instanceof As||"EmptyError"===p.name)return Og(t,s,u)?et(new ge([],{})):Qa(t);throw p}))}expandSegmentAgainstRoute(e,t,r,s,u,d,p){return qy(s,t,u,d)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(e,t,s,u,d):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,d):Qa(t):Qa(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,d){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,s,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,s){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?df(u):this.lineralizeSegments(r,u).pipe((0,Tn.z)(d=>{const p=new ge(d,{});return this.expandSegment(e,p,t,d,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,d){const{matched:p,consumedSegments:v,remainingSegments:D,positionalParamSegments:S}=Ku(t,s,u);if(!p)return Qa(t);const x=this.applyRedirectCommands(v,s.redirectTo,S);return s.redirectTo.startsWith("/")?df(x):this.lineralizeSegments(s,x).pipe((0,Tn.z)(L=>this.expandSegment(e,t,r,L.concat(D),d,!1)))}matchSegmentAgainstRoute(e,t,r,s,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?et(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,At.U)(x=>(r._loadedConfig=x,new ge(s,{})))):et(new ge(s,{}));const{matched:d,consumedSegments:p,remainingSegments:v}=Ku(t,r,s);return d?this.getChildConfig(e,r,s).pipe((0,Tn.z)(S=>{const x=S.module,L=S.routes,{segmentGroup:q,slicedSegments:K}=Yu(t,p,v,L),ye=new ge(q.segments,q.children);if(0===K.length&&ye.hasChildren())return this.expandChildren(x,L,ye).pipe((0,At.U)(Dt=>new ge(p,Dt)));if(0===L.length&&0===K.length)return et(new ge(p,{}));const Pe=zt(r)===u;return this.expandSegment(x,ye,L,K,Pe?Pt:u,!0).pipe((0,At.U)(mt=>new ge(p.concat(mt.segments),mt.children)))})):Qa(t)}getChildConfig(e,t,r){return t.children?et(new Md(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?et(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Tn.z)(s=>s?this.configLoader.load(e.injector,t).pipe((0,At.U)(u=>(t._loadedConfig=u,u))):function dr(n){return Bi(xs(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):et(new Md([],e))}runCanLoadGuards(e,t,r){const s=t.canLoad;return s&&0!==s.length?et(s.map(d=>{const p=e.get(d);let v;if(function sf(n){return n&&Wa(n.canLoad)}(p))v=p.canLoad(t,r);else{if(!Wa(p))throw new Error("Invalid CanLoad guard");v=p(t,r)}return cr(v)})).pipe(Zu(),(0,Gr.b)(d=>{if(!qu(d))return;const p=xs(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw p.url=d,p}),(0,At.U)(d=>!0===d)):et(!0)}lineralizeSegments(e,t){let r=[],s=t.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return et(r);if(s.numberOfChildren>1||!s.children[Pt])return Bi(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));s=s.children[Pt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,s){const u=this.createSegmentGroup(e,t.root,r,s);return new ne(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return un(e,(s,u)=>{if("string"==typeof s&&s.startsWith(":")){const p=s.substring(1);r[u]=t[p]}else r[u]=s}),r}createSegmentGroup(e,t,r,s){const u=this.createSegments(e,t.segments,r,s);let d={};return un(t.children,(p,v)=>{d[v]=this.createSegmentGroup(e,p,r,s)}),new ge(u,d)}createSegments(e,t,r,s){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,s):this.findOrReturn(u,r))}findPosParam(e,t,r){const s=r[t.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return s}findOrReturn(e,t){let r=0;for(const s of t){if(s.path===e.path)return t.splice(r),s;r++}return e}}function ql(n){const e={};for(const r of Object.keys(n.children)){const u=ql(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function Zy(n){if(1===n.numberOfChildren&&n.children[Pt]){const e=n.children[Pt];return new ge(n.segments.concat(e.segments),e.children)}return n}(new ge(n.segments,e))}class ci{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class go{constructor(e,t){this.component=e,this.route=t}}function Rg(n,e,t){const r=n._root;return Xa(r,e?e._root:null,t,[r.value])}function Qu(n,e,t){const r=function ff(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Xa(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=po(e);return n.children.forEach(d=>{(function kg(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,d=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const v=function Wy(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!dt(n.url,e.url);case"pathParamsOrQueryParamsChange":return!dt(n.url,e.url)||!Ii(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nf(n,e)||!Ii(n.queryParams,e.queryParams);default:return!nf(n,e)}}(d,u,u.routeConfig.runGuardsAndResolvers);v?s.canActivateChecks.push(new ci(r)):(u.data=d.data,u._resolvedData=d._resolvedData),Xa(n,e,u.component?p?p.children:null:t,r,s),v&&p&&p.outlet&&p.outlet.isActivated&&s.canDeactivateChecks.push(new go(p.outlet.component,d))}else d&&di(e,p,s),s.canActivateChecks.push(new ci(r)),Xa(n,null,u.component?p?p.children:null:t,r,s)})(d,u[d.value.outlet],t,r.concat([d.value]),s),delete u[d.value.outlet]}),un(u,(d,p)=>di(d,t.getContext(p),s)),s}function di(n,e,t){const r=po(n),s=n.value;un(r,(u,d)=>{di(u,s.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new go(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}class Vg{}function Ps(n){return new Un.y(e=>e.error(n))}class Ug{constructor(e,t,r,s,u,d){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=d}recognize(){const e=Yu(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Pt);if(null===t)return null;const r=new ia([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Pt,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new fo(r,t),u=new ef(this.url,s);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=Fy(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const d=t.children[u],p=Mg(e,u),v=this.processSegmentGroup(p,d,u);if(null===v)return null;r.push(...v)}const s=jg(r);return function Bg(n){n.sort((e,t)=>e.value.outlet===Pt?-1:t.value.outlet===Pt?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}processSegment(e,t,r,s){for(const u of e){const d=this.processSegmentAgainstRoute(u,t,r,s);if(null!==d)return d}return Og(t,r,s)?[]:null}processSegmentAgainstRoute(e,t,r,s){if(e.redirectTo||!qy(e,t,r,s))return null;let u,d=[],p=[];if("**"===e.path){const q=r.length>0?Hi(r).parameters:{};u=new ia(r,q,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,y(e),zt(e),e.component,e,eu(t),rs(t)+r.length,f(e))}else{const q=Ku(t,e,r);if(!q.matched)return null;d=q.consumedSegments,p=q.remainingSegments,u=new ia(d,q.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,y(e),zt(e),e.component,e,eu(t),rs(t)+d.length,f(e))}const v=function Qy(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:D,slicedSegments:S}=Yu(t,d,p,v.filter(q=>void 0===q.redirectTo),this.relativeLinkResolution);if(0===S.length&&D.hasChildren()){const q=this.processChildren(v,D);return null===q?null:[new fo(u,q)]}if(0===v.length&&0===S.length)return[new fo(u,[])];const x=zt(e)===s,L=this.processSegment(v,D,S,x?Pt:s);return null===L?null:[new fo(u,L)]}}function mf(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function jg(n){const e=[],t=new Set;for(const r of n){if(!mf(r)){e.push(r);continue}const s=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==s?(s.children.push(...r.children),t.add(s)):e.push(r)}for(const r of t){const s=jg(r.children);e.push(new fo(r.value,s))}return e.filter(r=>!t.has(r))}function eu(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function rs(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function y(n){return n.data||{}}function f(n){return n.resolve||{}}function Z(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Le(n){return pn(e=>{const t=n(e);return t?(0,fn.D)(t).pipe((0,At.U)(()=>e)):et(e)})}class ct extends class _t{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const An=new c.OlP("ROUTES");class fi{constructor(e,t,r,s){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=s}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const s=this.loadModuleFactory(t.loadChildren).pipe((0,At.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const d=u.create(e);return new Md(vd(d.injector.get(An,void 0,c.XFs.Self|c.XFs.Optional)).map(cf),d)}),ii(u=>{throw t._loader$=void 0,u}));return t._loader$=new Fu(s,()=>new ri.x).pipe(ro()),t._loader$}loadModuleFactory(e){return cr(e()).pipe((0,Tn.z)(t=>t instanceof c.YKP?et(t):(0,fn.D)(this.compiler.compileModuleAsync(t))))}}class Jy{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function aa(n){throw n}function Rd(n,e,t){return e.parse("/")}function Pd(n,e){return et(null)}const yf={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Nr=(()=>{class n{constructor(t,r,s,u,d,p,v){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=s,this.location=u,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ri.x,this.errorHandler=aa,this.malformedUriErrorHandler=Rd,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Pd,afterPreactivation:Pd},this.urlHandlingStrategy=new Jy,this.routeReuseStrategy=new ct,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(c.h0i),this.console=d.get(c.c2e);const x=d.get(c.R0b);this.isNgZoneEnabled=x instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=function Ny(){return new ne(new ge([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new fi(d,p,L=>this.triggerEvent(new ea(L)),L=>this.triggerEvent(new ao(L))),this.routerState=qa(this.currentUrlTree,this.rootComponentType),this.transitions=new Mr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(xr(s=>0!==s.id),(0,At.U)(s=>Object.assign(Object.assign({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),pn(s=>{let u=!1,d=!1;return et(s).pipe((0,Gr.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.currentRawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),pn(p=>{const v=this.browserUrlTree.toString(),D=!this.navigated||p.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return vf(p.source)&&(this.browserUrlTree=p.extractedUrl),et(p).pipe(pn(x=>{const L=this.transitions.getValue();return r.next(new so(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),L!==this.transitions.getValue()?$a.E:Promise.resolve(x)}),function Ng(n,e,t,r){return pn(s=>function Ja(n,e,t,r,s){return new Od(n,e,t,r,s).apply()}(n,e,t,s.extractedUrl,r).pipe((0,At.U)(u=>Object.assign(Object.assign({},s),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Gr.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function m(n,e,t,r,s){return(0,Tn.z)(u=>function Zl(n,e,t,r,s="emptyOnly",u="legacy"){try{const d=new Ug(n,e,t,r,s,u).recognize();return null===d?Ps(new Vg):et(d)}catch(d){return Ps(d)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,s).pipe((0,At.U)(d=>Object.assign(Object.assign({},u),{targetSnapshot:d}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Gr.b)(x=>{if("eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const q=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(q,x)}this.browserUrlTree=x.urlAfterRedirects}const L=new oo(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);r.next(L)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:L,extractedUrl:q,source:K,restoredState:ye,extras:Pe}=p,pt=new so(L,this.serializeUrl(q),K,ye);r.next(pt);const mt=qa(q,this.rootComponentType).snapshot;return et(Object.assign(Object.assign({},p),{targetSnapshot:mt,urlAfterRedirects:q,extras:Object.assign(Object.assign({},Pe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=p.rawUrl,p.resolve(null),$a.E}),Le(p=>{const{targetSnapshot:v,id:D,extractedUrl:S,rawUrl:x,extras:{skipLocationChange:L,replaceUrl:q}}=p;return this.hooks.beforePreactivation(v,{navigationId:D,appliedUrlTree:S,rawUrlTree:x,skipLocationChange:!!L,replaceUrl:!!q})}),(0,Gr.b)(p=>{const v=new Oy(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(v)}),(0,At.U)(p=>Object.assign(Object.assign({},p),{guards:Rg(p.targetSnapshot,p.currentSnapshot,this.rootContexts)})),function Fg(n,e){return(0,Tn.z)(t=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?et(Object.assign(Object.assign({},t),{guardsResult:!0})):function Ky(n,e,t,r){return(0,fn.D)(n).pipe((0,Tn.z)(s=>function gf(n,e,t,r,s){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?et(u.map(p=>{const v=Qu(p,e,s);let D;if(function Q0(n){return n&&Wa(n.canDeactivate)}(v))D=cr(v.canDeactivate(n,e,t,r));else{if(!Wa(v))throw new Error("Invalid CanDeactivate guard");D=cr(v(n,e,t,r))}return D.pipe(Xo())})).pipe(Zu()):et(!0)}(s.component,s.route,t,e,r)),Xo(s=>!0!==s,!0))}(d,r,s,n).pipe((0,Tn.z)(p=>p&&function Sg(n){return"boolean"==typeof n}(p)?function Nd(n,e,t,r){return(0,fn.D)(e).pipe(Lu(s=>Yo(function Lg(n,e){return null!==n&&e&&e(new uo(n)),et(!0)}(s.route.parent,r),function Yy(n,e){return null!==n&&e&&e(new lo(n)),et(!0)}(s.route,r),function pf(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(d=>function Pg(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>Jo(()=>et(d.guards.map(v=>{const D=Qu(v,d.node,t);let S;if(function of(n){return n&&Wa(n.canActivateChild)}(D))S=cr(D.canActivateChild(r,n));else{if(!Wa(D))throw new Error("Invalid CanActivateChild guard");S=cr(D(r,n))}return S.pipe(Xo())})).pipe(Zu())));return et(u).pipe(Zu())}(n,s.path,t),function hi(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return et(!0);const s=r.map(u=>Jo(()=>{const d=Qu(u,e,t);let p;if(function Gl(n){return n&&Wa(n.canActivate)}(d))p=cr(d.canActivate(e,n));else{if(!Wa(d))throw new Error("Invalid CanActivate guard");p=cr(d(e,n))}return p.pipe(Xo())}));return et(s).pipe(Zu())}(n,s.route,t))),Xo(s=>!0!==s,!0))}(r,u,n,e):et(p)),(0,At.U)(p=>Object.assign(Object.assign({},t),{guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),(0,Gr.b)(p=>{if(qu(p.guardsResult)){const D=xs(`Redirecting to "${this.serializeUrl(p.guardsResult)}"`);throw D.url=p.guardsResult,D}const v=new Vl(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(v)}),xr(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,""),!1)),Le(p=>{if(p.guards.canActivateChecks.length)return et(p).pipe((0,Gr.b)(v=>{const D=new si(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(D)}),pn(v=>{let D=!1;return et(v).pipe(function E(n,e){return(0,Tn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=t;if(!s.length)return et(t);let u=0;return(0,fn.D)(s).pipe(Lu(d=>function A(n,e,t,r){return function N(n,e,t,r){const s=Z(n);if(0===s.length)return et({});const u={};return(0,fn.D)(s).pipe((0,Tn.z)(d=>function fe(n,e,t,r){const s=Qu(n,e,r);return cr(s.resolve?s.resolve(e,t):s(e,t))}(n[d],e,t,r).pipe((0,Gr.b)(p=>{u[d]=p}))),Ha(1),(0,Tn.z)(()=>Z(u).length===s.length?et(u):$a.E))}(n._resolve,n,e,r).pipe((0,At.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),Fy(n,t).resolve),null)))}(d.route,r,n,e)),(0,Gr.b)(()=>u++),Ha(1),(0,Tn.z)(d=>u===s.length?et(t):$a.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Gr.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(v),this.cancelNavigationTransition(v,"At least one route resolver didn't emit any value."))}}))}),(0,Gr.b)(v=>{const D=new oi(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(D)}))}),Le(p=>{const{targetSnapshot:v,id:D,extractedUrl:S,rawUrl:x,extras:{skipLocationChange:L,replaceUrl:q}}=p;return this.hooks.afterPreactivation(v,{navigationId:D,appliedUrlTree:S,rawUrlTree:x,skipLocationChange:!!L,replaceUrl:!!q})}),(0,At.U)(p=>{const v=function Eg(n,e,t){const r=$l(n,e._root,t?t._root:void 0);return new wd(r,e)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return Object.assign(Object.assign({},p),{targetRouterState:v})}),(0,Gr.b)(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((n,e,t)=>(0,At.U)(r=>(new Ag(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),(0,Gr.b)({next(){u=!0},complete(){u=!0}}),function yd(n){return(0,lr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var p;u||d||this.cancelNavigationTransition(s,`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`),(null===(p=this.currentNavigation)||void 0===p?void 0:p.id)===s.id&&(this.currentNavigation=null)}),ii(p=>{if(d=!0,function pg(n){return n&&n[za]}(p)){const v=qu(p.url);v||(this.navigated=!0,this.restoreHistory(s,!0));const D=new vn(s.id,this.serializeUrl(s.extractedUrl),p.message);r.next(D),v?setTimeout(()=>{const S=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),x={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||vf(s.source)};this.scheduleNavigation(S,"imperative",null,x,{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const v=new Ll(s.id,this.serializeUrl(s.extractedUrl),p);r.next(v);try{s.resolve(this.errorHandler(p))}catch(D){s.reject(D)}}return $a.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var s;const u={replaceUrl:!0},d=(null===(s=t.state)||void 0===s?void 0:s.navigationId)?t.state:null;if(d){const v=Object.assign({},d);delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(u.state=v)}const p=this.parseUrl(t.url);this.scheduleNavigation(p,r,d,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ka(t),this.config=t.map(cf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:s,queryParams:u,fragment:d,queryParamsHandling:p,preserveFragment:v}=r,D=s||this.routerState.root,S=v?this.currentUrlTree.fragment:d;let x=null;switch(p){case"merge":x=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=u||null}return null!==x&&(x=this.removeEmptyProps(x)),function sa(n,e,t,r,s){if(0===t.length)return Cd(e.root,e.root,e.root,r,s);const u=function K0(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new wg(!0,0,n);let e=0,t=!1;const r=n.reduce((s,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const p={};return un(u.outlets,(v,D)=>{p[D]="string"==typeof v?v.split("/"):v}),[...s,{outlets:p}]}if(u.segmentPath)return[...s,u.segmentPath]}return"string"!=typeof u?[...s,u]:0===d?(u.split("/").forEach((p,v)=>{0==v&&"."===p||(0==v&&""===p?t=!0:".."===p?e++:""!=p&&s.push(p))}),s):[...s,u]},[]);return new wg(t,e,r)}(t);if(u.toRoot())return Cd(e.root,e.root,new ge([],{}),r,s);const d=function bg(n,e,t){if(n.isAbsolute)return new Td(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new Td(u,u===e.root,0)}const r=Ns(n.commands[0])?0:1;return function Dg(n,e,t){let r=n,s=e,u=t;for(;u>s;){if(u-=s,r=r.parent,!r)throw new Error("Invalid number of '../'");s=r.segments.length}return new Td(r,!1,s-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,e,n),p=d.processChildren?Ad(d.segmentGroup,d.index,u.commands):Cg(d.segmentGroup,d.index,u.commands);return Cd(e.root,d.segmentGroup,p,r,s)}(D,this.currentUrlTree,t,x,null!=S?S:null)}navigateByUrl(t,r={skipLocationChange:!1}){const s=qu(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function _f(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return r}isActive(t,r){let s;if(s=!0===r?Object.assign({},yf):!1===r?Object.assign({},kd):r,qu(t))return co(this.currentUrlTree,t,s);const u=this.parseUrl(t);return co(this.currentUrlTree,u,s)}removeEmptyProps(t){return Object.keys(t).reduce((r,s)=>{const u=t[s];return null!=u&&(r[s]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Vu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,s,u,d){var p,v;if(this.disposed)return Promise.resolve(!1);let D,S,x;d?(D=d.resolve,S=d.reject,x=d.promise):x=new Promise((K,ye)=>{D=K,S=ye});const L=++this.navigationId;let q;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),q=s&&s.\u0275routerPageId?s.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(p=this.browserPageId)&&void 0!==p?p:0:(null!==(v=this.browserPageId)&&void 0!==v?v:0)+1):q=0,this.setTransition({id:L,targetPageId:q,source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:D,reject:S,promise:x,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),x.catch(K=>Promise.reject(K))}setBrowserUrl(t,r){const s=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl?this.location.replaceState(s,"",u):this.location.go(s,"",u)}restoreHistory(t,r=!1){var s,u;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)||0===d?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const s=new vn(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function vf(n){return"imperative"!==n}let mo=(()=>{class n{constructor(t,r,s,u,d){this.router=t,this.route=r,this.tabIndexAttribute=s,this.renderer=u,this.el=d,this.commands=null,this.onChanges=new ri.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,s=this.el.nativeElement;null!==t?r.setAttribute(s,"tabindex",t):r.removeAttribute(s,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Ju(this.skipLocationChange),replaceUrl:Ju(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ju(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Nr),c.Y36(zu),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&c.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})();function Ju(n){return""===n||!!n}class e_{}class eE{preload(e,t){return et(null)}}let tE=(()=>{class n{constructor(t,r,s,u){this.router=t,this.injector=s,this.preloadingStrategy=u,this.loader=new fi(s,r,v=>t.triggerEvent(new ea(v)),v=>t.triggerEvent(new ao(v)))}setUpPreloading(){this.subscription=this.router.events.pipe(xr(t=>t instanceof Vu),Lu(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(c.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const s=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const d=u._loadedConfig;s.push(this.processRoutes(d.module,d.routes))}else u.loadChildren&&!u.canLoad?s.push(this.preloadConfig(t,u)):u.children&&s.push(this.processRoutes(t,u.children));return(0,fn.D)(s).pipe((0,Ko.J)(),(0,At.U)(u=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?et(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Tn.z)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Nr),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(e_))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),$g=(()=>{class n{constructor(t,r,s={}){this.router=t,this.viewportScroller=r,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof so?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Vu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ga&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Ga(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const is=new c.OlP("ROUTER_CONFIGURATION"),n_=new c.OlP("ROUTER_FORROOT_GUARD"),nE=[Ee,{provide:wt,useClass:Er},{provide:Nr,useFactory:function i_(n,e,t,r,s,u,d={},p,v){const D=new Nr(null,n,e,t,r,s,vd(u));return p&&(D.urlHandlingStrategy=p),v&&(D.routeReuseStrategy=v),function sE(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,D),d.enableTracing&&D.events.subscribe(S=>{var x,L;null===(x=console.group)||void 0===x||x.call(console,`Router Event: ${S.constructor.name}`),console.log(S.toString()),console.log(S),null===(L=console.groupEnd)||void 0===L||L.call(console)}),D},deps:[wt,Wu,Ee,c.zs3,c.Sil,An,is,[class Wl{},new c.FiY],[class We{},new c.FiY]]},Wu,{provide:zu,useFactory:function Hg(n){return n.routerState.root},deps:[Nr]},tE,eE,class t_{preload(e,t){return t().pipe(ii(()=>et(null)))}},{provide:is,useValue:{enableTracing:!1}}];function yI(){return new c.PXZ("Router",Nr)}let qn=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[nE,r_(t),{provide:n_,useFactory:iE,deps:[[Nr,new c.FiY,new c.tp0]]},{provide:is,useValue:r||{}},{provide:he,useFactory:rE,deps:[se,[new c.tBr(qe),new c.FiY],is]},{provide:$g,useFactory:_I,deps:[Nr,bl,is]},{provide:e_,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:eE},{provide:c.PXZ,multi:!0,useFactory:yI},[Fd,{provide:c.ip1,multi:!0,useFactory:oE,deps:[Fd]},{provide:o_,useFactory:s_,deps:[Fd]},{provide:c.tb,multi:!0,useExisting:o_}]]}}static forChild(t){return{ngModule:n,providers:[r_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n_,8),c.LFG(Nr,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function _I(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new $g(n,e,t)}function rE(n,e,t={}){return t.useHash?new Te(n,e):new Ye(n,e)}function iE(n){return"guarded"}function r_(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:An,multi:!0,useValue:n}]}let Fd=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ri.x}appInitializer(){return this.injector.get($,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const s=new Promise(p=>r=p),u=this.injector.get(Nr),d=this.injector.get(is);return"disabled"===d.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?et(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),s})}bootstrapListener(t){const r=this.injector.get(is),s=this.injector.get(tE),u=this.injector.get($g),d=this.injector.get(Nr),p=this.injector.get(c.z2F);t===p.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&d.initialNavigation(),s.setUpPreloading(),u.init(),d.resetRootComponentType(p.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function oE(n){return n.appInitializer.bind(n)}function s_(n){return n.bootstrapListener.bind(n)}const o_=new c.OlP("Router Initializer");let vI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[],imports:[[nn]]}),n})();var aE=R(4986),hr=R(5813);function u_(){return(0,lr.e)((n,e)=>{let t,r=!1;n.subscribe((0,Pn.x)(e,s=>{const u=t;t=s,r&&e.next([u,s]),r=!0}))})}function l_(n,e){return n===e}var nt,ss=R(2011),lE=(R(7092),R(3942)),be=R(5861),Xu=R(9681),zg=R(4859),el=R(1877),St=R(2090),EI="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ua={},c_=c_||{},Nt=EI||self;function qg(){}function Zg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ef(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var d_="closure_uid_"+(1e9*Math.random()>>>0),Rt=0;function cE(n,e,t){return n.call.apply(n.bind,arguments)}function dE(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function Rr(n,e,t){return(Rr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?cE:dE).apply(null,arguments)}function Yl(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function mn(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,s,u){for(var d=Array(arguments.length-2),p=2;p<arguments.length;p++)d[p-2]=arguments[p];return e.prototype[s].apply(r,d)}}function tu(){this.s=this.s,this.o=this.o}var h_={};tu.prototype.s=!1,tu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function wI(n){return Object.prototype.hasOwnProperty.call(n,d_)&&n[d_]||(n[d_]=++Rt)}(this);delete h_[n]}},tu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const la=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Wg=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,s="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in s&&e.call(t,s[u],u,n)};function Kg(n){return Array.prototype.concat.apply([],arguments)}function fE(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function wf(n){return/^[\s\xa0]*$/.test(n)}var qr,DI=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Pr(n,e){return-1!=n.indexOf(e)}function Ld(n,e){return n<e?-1:n>e?1:0}e:{var Yg=Nt.navigator;if(Yg){var Qg=Yg.userAgent;if(Qg){qr=Qg;break e}}qr=""}function pE(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function gE(n){const e={};for(const t in n)e[t]=n[t];return e}var mE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yE(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let u=0;u<mE.length;u++)t=mE[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function f_(n){return f_[" "](n),n}f_[" "]=qg;var g_,n,nS=Pr(qr,"Opera"),Vd=Pr(qr,"Trident")||Pr(qr,"MSIE"),II=Pr(qr,"Edge"),Jg=II||Vd,p_=Pr(qr,"Gecko")&&!(Pr(qr.toLowerCase(),"webkit")&&!Pr(qr,"Edge"))&&!(Pr(qr,"Trident")||Pr(qr,"MSIE"))&&!Pr(qr,"Edge"),CI=Pr(qr.toLowerCase(),"webkit")&&!Pr(qr,"Edge");function Xg(){var n=Nt.document;return n?n.documentMode:void 0}e:{var vE="",EE=(n=qr,p_?/rv:([^\);]+)(\)|;)/.exec(n):II?/Edge\/([\d\.]+)/.exec(n):Vd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):CI?/WebKit\/(\S+)/.exec(n):nS?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(EE&&(vE=EE?EE[1]:""),Vd){var wE=Xg();if(null!=wE&&wE>parseFloat(vE)){g_=String(wE);break e}}g_=vE}var rS={};var sS=Nt.document&&Vd&&(Xg()||parseInt(g_,10))||void 0,oS=function(){if(!Nt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Nt.addEventListener("test",qg,e),Nt.removeEventListener("test",qg,e)}catch(t){}return n}();function Bn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Ql(n,e){if(Bn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(p_){e:{try{f_(e.nodeName);var s=!0;break e}catch(u){}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:AI[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ql.Z.h.call(this)}}Bn.prototype.h=function(){this.defaultPrevented=!0},mn(Ql,Bn);var AI={2:"touch",3:"pen",4:"mouse"};Ql.prototype.h=function(){Ql.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ud="closure_listenable_"+(1e6*Math.random()|0),m_=0;function DE(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=s,this.key=++m_,this.ca=this.fa=!1}function Bd(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function em(n){this.src=n,this.g={},this.h=0}function ca(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],s=la(r,e);(u=0<=s)&&Array.prototype.splice.call(r,s,1),u&&(Bd(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function tm(n,e,t,r){for(var s=0;s<n.length;++s){var u=n[s];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return s}return-1}em.prototype.add=function(n,e,t,r,s){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var d=tm(n,e,r,s);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new DE(e,this.src,u,!!r,s)).fa=t,n.push(e)),e};var y_="closure_lm_"+(1e6*Math.random()|0),bf={};function IE(n,e,t,r,s){if(r&&r.once)return CE(n,e,t,r,s);if(Array.isArray(e)){for(var u=0;u<e.length;u++)IE(n,e[u],t,r,s);return null}return t=v_(t),n&&n[Ud]?n.N(e,t,Ef(r)?!!r.capture:!!r,s):__(n,e,t,!1,r,s)}function __(n,e,t,r,s,u){if(!e)throw Error("Invalid event type");var d=Ef(s)?!!s.capture:!!s,p=Jl(n);if(p||(n[y_]=p=new em(n)),(t=p.add(e,t,r,d,u)).proxy)return t;if(r=function SI(){var e=$d;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)oS||(s=d),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(nm(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function CE(n,e,t,r,s){if(Array.isArray(e)){for(var u=0;u<e.length;u++)CE(n,e[u],t,r,s);return null}return t=v_(t),n&&n[Ud]?n.O(e,t,Ef(r)?!!r.capture:!!r,s):__(n,e,t,!0,r,s)}function jd(n,e,t,r,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)jd(n,e[u],t,r,s);else r=Ef(r)?!!r.capture:!!r,t=v_(t),n&&n[Ud]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=tm(u=n.g[e],t,r,s))&&(Bd(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Jl(n))&&(e=n.g[e.toString()],n=-1,e&&(n=tm(e,t,r,s)),(t=-1<n?e[n]:null)&&tl(t))}function tl(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Ud])ca(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(nm(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Jl(e))?(ca(t,n),0==t.h&&(t.src=null,e[y_]=null)):Bd(n)}}}function nm(n){return n in bf?bf[n]:bf[n]="on"+n}function $d(n,e){if(n.ca)n=!0;else{e=new Ql(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&tl(n),n=t.call(r,e)}return n}function Jl(n){return(n=n[y_])instanceof em?n:null}var nl="__closure_events_fn_"+(1e9*Math.random()>>>0);function v_(n){return"function"==typeof n?n:(n[nl]||(n[nl]=function(e){return n.handleEvent(e)}),n[nl])}function wr(){tu.call(this),this.i=new em(this),this.P=this,this.I=null}function kr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Bn(e,n);else if(e instanceof Bn)e.target=e.target||n;else{var s=e;yE(e=new Bn(r,n),s)}if(s=!0,t)for(var u=t.length-1;0<=u;u--){var d=e.g=t[u];s=Hd(d,r,!0,e)&&s}if(s=Hd(d=e.g=n,r,!0,e)&&s,s=Hd(d,r,!1,e)&&s,t)for(u=0;u<t.length;u++)s=Hd(d=e.g=t[u],r,!1,e)&&s}function Hd(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,u=0;u<e.length;++u){var d=e[u];if(d&&!d.ca&&d.capture==t){var p=d.listener,v=d.ia||d.src;d.fa&&ca(n.i,d),s=!1!==p.call(v,r)&&s}}return s&&!r.defaultPrevented}mn(wr,tu),wr.prototype[Ud]=!0,wr.prototype.removeEventListener=function(n,e,t,r){jd(this,n,e,t,r)},wr.prototype.M=function(){if(wr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Bd(t[r]);delete n.g[e],n.h--}}this.I=null},wr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},wr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Df=Nt.JSON.stringify;function TE(){var n=ME;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var sm,AE=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new SE,n=>n.reset());class SE{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function aS(n){Nt.setTimeout(()=>{throw n},0)}function im(n,e){sm||function MI(){var n=Nt.Promise.resolve(void 0);sm=function(){n.then(xI)}}(),om||(sm(),om=!0),ME.add(n,e)}var om=!1,ME=new class rm{constructor(){this.h=this.g=null}add(e,t){const r=AE.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function xI(){for(var n;n=TE();){try{n.h.call(n.g)}catch(t){aS(t)}var e=AE;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}om=!1}function pi(n,e){wr.call(this),this.h=n||1,this.g=e||Nt,this.j=Rr(this.kb,this),this.l=Date.now()}function E_(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function w_(n,e,t){if("function"==typeof n)t&&(n=Rr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Rr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Nt.setTimeout(n,e||0)}function OI(n){n.g=w_(()=>{n.g=null,n.i&&(n.i=!1,OI(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}mn(pi,wr),(nt=pi.prototype).da=!1,nt.S=null,nt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),kr(this,"tick"),this.da&&(E_(this),this.start()))}},nt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},nt.M=function(){pi.Z.M.call(this),E_(this),delete this.g};class uS extends tu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:OI(this)}M(){super.M(),this.g&&(Nt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gd(n){tu.call(this),this.h=n,this.g={}}mn(Gd,tu);var NI=[];function xE(n,e,t,r){Array.isArray(t)||(t&&(NI[0]=t.toString()),t=NI);for(var s=0;s<t.length;s++){var u=IE(e,t[s],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function am(n){pE(n.g,function(e,t){this.g.hasOwnProperty(t)&&tl(e)},n),n.g={}}function If(){this.g=!0}function zd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function kI(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var u=s[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<s.length;d++)s[d]=""}}}return Df(t)}catch(p){return e}}(n,t)+(r?" "+r:"")})}Gd.prototype.M=function(){Gd.Z.M.call(this),am(this)},Gd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},If.prototype.Aa=function(){this.g=!1},If.prototype.info=function(){};var rl={},NE=null;function um(){return NE=NE||new wr}function b_(n){Bn.call(this,rl.Ma,n)}function qd(n){const e=um();kr(e,new b_(e,n))}function RE(n,e){Bn.call(this,rl.STAT_EVENT,n),this.stat=e}function kn(n){const e=um();kr(e,new RE(e,n))}function lm(n,e){Bn.call(this,rl.Na,n),this.size=e}function Cf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Nt.setTimeout(function(){n()},e)}rl.Ma="serverreachability",mn(b_,Bn),rl.STAT_EVENT="statevent",mn(RE,Bn),rl.Na="timingevent",mn(lm,Bn);var cm={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},FI={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function dm(){}function kE(){}dm.prototype.h=null;var I_,Tf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Af(){Bn.call(this,"d")}function D_(){Bn.call(this,"c")}function Xl(){}function ec(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Gd(this),this.P=C_,this.W=new pi(n=Jg?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new FE}function FE(){this.i=null,this.g="",this.h=!1}mn(Af,Bn),mn(D_,Bn),mn(Xl,dm),Xl.prototype.g=function(){return new XMLHttpRequest},Xl.prototype.i=function(){return{}},I_=new Xl;var C_=45e3,Sf={},Mf={};function T_(n,e,t){n.K=1,n.v=Qd(ru(e)),n.s=t,n.U=!0,LE(n,null)}function LE(n,e){n.F=Date.now(),Zd(n),n.A=ru(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),N_(t.h,"t",r),n.C=0,t=n.l.H,n.h=new FE,n.g=uc(n.l,t?e:null,!n.s),0<n.O&&(n.L=new uS(Rr(n.Ia,n,n.g),n.O)),xE(n.V,n.g,"readystatechange",n.gb),e=n.H?gE(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),qd(1),function RI(n,e,t,r,s,u){n.info(function(){if(n.g)if(u)for(var d="",p=u.split("&"),v=0;v<p.length;v++){var D=p[v].split("=");if(1<D.length){var S=D[0];D=D[1];var x=S.split("_");d=2<=x.length&&"type"==x[1]?d+(S+"=")+D+"&":d+(S+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function hm(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function LI(n,e,t){let s,r=!0;for(;!n.I&&n.C<t.length;){if(s=VI(n,t),s==Mf){4==e&&(n.o=4,kn(14),r=!1),zd(n.j,n.m,null,"[Incomplete Response]");break}if(s==Sf){n.o=4,kn(15),zd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}zd(n.j,n.m,s,null),yo(n,s)}hm(n)&&s!=Mf&&s!=Sf&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,kn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),ol(e),e.L=!0,kn(11))):(zd(n.j,n.m,t,"[Invalid Chunked Response]"),il(n),Wd(n))}function VI(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Mf:(t=Number(e.substring(t,r)),isNaN(t)?Sf:(r+=1)+t>e.length?Mf:(e=e.substr(r,t),n.C=r+t,e))}function Zd(n){n.Y=Date.now()+n.P,A_(n,n.P)}function A_(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Cf(Rr(n.eb,n),e)}function xf(n){n.B&&(Nt.clearTimeout(n.B),n.B=null)}function Wd(n){0==n.l.G||n.I||ic(n.l,n)}function il(n){xf(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,E_(n.W),am(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function yo(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||gm(t.i,n)))if(t.I=n.N,!n.J&&gm(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(D){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0])e:if(t.u)t.ta=s[1],0<t.ta-t.U&&37500>s[2]&&t.N&&0==t.A&&!t.v&&(t.v=Cf(Rr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;su(t),wm(t)}Vf(t),kn(18)}if(1>=zE(t.i)&&t.ka){try{t.ka()}catch(D){}t.ka=void 0}}else Ls(t,11)}else if((n.J||t.g==n)&&su(t),!wf(e))for(s=t.Ca.g.parse(e),e=0;e<s.length;e++){let D=s[e];if(t.U=D[0],D=D[1],2==t.G)if("c"==D[0]){t.J=D[1],t.la=D[2];const S=D[3];null!=S&&(t.ma=S,t.h.info("VER="+t.ma));const x=D[4];null!=x&&(t.za=x,t.h.info("SVER="+t.za));const L=D[5];null!=L&&"number"==typeof L&&0<L&&(t.K=r=1.5*L,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const q=n.g;if(q){const K=q.g?q.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(K){var u=r.i;!u.g&&(Pr(K,"spdy")||Pr(K,"quic")||Pr(K,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(qE(u,u.h),u.h=null))}if(r.D){const ye=q.g?q.g.getResponseHeader("X-HTTP-Session-Id"):null;ye&&(r.sa=ye,Fn(r.F,r.D,ye))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((r=t).oa=ac(r,r.H?r.la:null,r.W),d.J){R_(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(xf(p),Zd(p)),r.g=d}else as(r);0<t.l.length&&os(t)}else"stop"!=D[0]&&"close"!=D[0]||Ls(t,7);else 3==t.G&&("stop"==D[0]||"close"==D[0]?"stop"==D[0]?Ls(t,7):nc(t):"noop"!=D[0]&&t.j&&t.j.wa(D),t.A=0)}qd(4)}catch(D){}}function S_(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Zg(n)||"string"==typeof n)Wg(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Zg(n)||"string"==typeof n){t=[];for(var r=n.length,s=0;s<r;s++)t.push(s)}else for(s in t=[],r=0,n)t[r++]=s;r=function fm(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Zg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length;for(var u=0;u<s;u++)e.call(void 0,r[u],t&&t[u],n)}}function Kd(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Kd)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function VE(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];nu(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var s={};for(t=e=0;e<n.g.length;)nu(s,r=n.g[e])||(n.g[t++]=r,s[r]=1),e++;n.g.length=t}}function nu(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(nt=ec.prototype).setTimeout=function(n){this.P=n},nt.gb=function(n){n=n.target;const e=this.L;e&&3==iu(n)?e.l():this.Ia(n)},nt.Ia=function(n){try{if(n==this.g)e:{const S=iu(this.g);var e=this.g.Da();const x=this.g.ba();if(!(3>S)&&(3!=S||Jg||this.g&&(this.h.h||this.g.ga()||ew(this.g)))){this.I||4!=S||7==e||qd(8==e||0>=x?3:2),xf(this);var t=this.g.ba();this.N=t;t:if(hm(this)){var r=ew(this.g);n="";var s=r.length,u=4==iu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){il(this),Wd(this);var d="";break t}this.h.i=new Nt.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==s-1});r.splice(0,s),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function PI(n,e,t,r,s,u,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.X,S,t),this.i){if(this.$&&!this.J){t:{if(this.g){var p,v=this.g;if((p=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wf(p)){var D=p;break t}}D=null}if(!(t=D)){this.i=!1,this.o=3,kn(12),il(this),Wd(this);break e}zd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,yo(this,t)}this.U?(LI(this,S,d),Jg&&this.i&&3==S&&(xE(this.V,this.W,"tick",this.fb),this.W.start())):(zd(this.j,this.m,d,null),yo(this,d)),4==S&&il(this),this.i&&!this.I&&(4==S?ic(this.l,this):(this.i=!1,Zd(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,kn(12)):(this.o=0,kn(13)),il(this),Wd(this)}}}catch(S){}},nt.fb=function(){if(this.g){var n=iu(this.g),e=this.g.ga();this.C<e.length&&(xf(this),LI(this,n,e),this.i&&4!=n&&Zd(this))}},nt.cancel=function(){this.I=!0,il(this)},nt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function OE(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(qd(3),kn(17)),il(this),this.o=2,Wd(this)):A_(this,this.Y-n)},(nt=Kd.prototype).R=function(){VE(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},nt.T=function(){return VE(this),this.g.concat()},nt.get=function(n,e){return nu(this.h,n)?this.h[n]:e},nt.set=function(n,e){nu(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},nt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var s=t[r],u=this.get(s);n.call(e,u,s,this)}};var M_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function _o(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof _o){this.g=void 0!==e?e:n.g,Yd(this,n.j),this.s=n.s,Of(this,n.i),Nf(this,n.m),this.l=n.l,e=n.h;var t=new Rf;t.i=e.i,e.g&&(t.g=new Kd(e.g),t.h=e.h),O_(this,t),this.o=n.o}else n&&(t=String(n).match(M_))?(this.g=!!e,Yd(this,t[1]||"",!0),this.s=Jd(t[2]||""),Of(this,t[3]||"",!0),Nf(this,t[4]),this.l=Jd(t[5]||"",!0),O_(this,t[6]||"",!0),this.o=Jd(t[7]||"")):(this.g=!!e,this.h=new Rf(null,this.g))}function ru(n){return new _o(n)}function Yd(n,e,t){n.j=t?Jd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Of(n,e,t){n.i=t?Jd(e,!0):e}function Nf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function O_(n,e,t){e instanceof Rf?(n.h=e,function jE(n,e){e&&!n.j&&(sl(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(ks(this,r),N_(this,s,t))},n)),n.j=e}(n.h,n.g)):(t||(e=da(e,$I)),n.h=new Rf(e,n.g))}function Fn(n,e,t){n.h.set(e,t)}function Qd(n){return Fn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Jd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function da(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,UE),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function UE(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}_o.prototype.toString=function(){var n=[],e=this.j;e&&n.push(da(e,BE,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(da(e,BE,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(da(t,"/"==t.charAt(0)?Xd:jI,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",da(t,HI)),n.join("")};var BE=/[#\/\?@]/g,jI=/[#\?:]/g,Xd=/[#\?]/g,$I=/[#\?@]/g,HI=/#/g;function Rf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function sl(n){n.g||(n.g=new Kd,n.h=0,n.i&&function x_(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var u=n[t].substring(0,r);s=n[t].substring(r+1)}else u=n[t];e(u,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ks(n,e){sl(n),e=tc(n,e),nu(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,nu((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&VE(n)))}function pm(n,e){return sl(n),e=tc(n,e),nu(n.g.h,e)}function N_(n,e,t){ks(n,e),0<t.length&&(n.i=null,n.g.set(tc(n,e),fE(t)),n.h+=t.length)}function tc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function HE(n){this.l=n||GI,n=Nt.PerformanceNavigationTiming?0<(n=Nt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Nt.g&&Nt.g.Ea&&Nt.g.Ea()&&Nt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(nt=Rf.prototype).add=function(n,e){sl(this),this.i=null,n=tc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},nt.forEach=function(n,e){sl(this),this.g.forEach(function(t,r){Wg(t,function(s){n.call(e,s,r,this)},this)},this)},nt.T=function(){sl(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var s=n[r],u=0;u<s.length;u++)t.push(e[r]);return t},nt.R=function(n){sl(this);var e=[];if("string"==typeof n)pm(this,n)&&(e=Kg(e,this.g.get(tc(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Kg(e,n[t])}return e},nt.set=function(n,e){return sl(this),this.i=null,pm(this,n=tc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},nt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},nt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],s=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var d=s;""!==r[u]&&(d+="="+encodeURIComponent(String(r[u]))),n.push(d)}}return this.i=n.join("&")};var GI=10;function GE(n){return!!n.h||!!n.g&&n.g.size>=n.j}function zE(n){return n.h?1:n.g?n.g.size:0}function gm(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function qE(n,e){n.g?n.g.add(e):n.h=e}function R_(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function ZE(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return fE(n.i)}function P_(){}function lS(){this.g=new P_}function cS(n,e,t){const r=t||"";try{S_(n,function(s,u){let d=s;Ef(s)&&(d=Df(s)),e.push(r+u+"="+encodeURIComponent(d))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function mm(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch(u){}}function eh(n){this.l=n.$b||null,this.j=n.ib||!1}function Pf(n,e){wr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=WE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}HE.prototype.cancel=function(){if(this.i=ZE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},P_.prototype.stringify=function(n){return Nt.JSON.stringify(n,void 0)},P_.prototype.parse=function(n){return Nt.JSON.parse(n,void 0)},mn(eh,dm),eh.prototype.g=function(){return new Pf(this.l,this.j)},eh.prototype.i=function(n){return function(){return n}}({}),mn(Pf,wr);var WE=0;function Fs(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function ym(n){n.readyState=4,n.l=null,n.j=null,n.A=null,_m(n)}function _m(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(nt=Pf.prototype).open=function(n,e){if(this.readyState!=WE)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,_m(this)},nt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Nt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},nt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ym(this)),this.readyState=WE},nt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,_m(this)),this.g&&(this.readyState=3,_m(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Nt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fs(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},nt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ym(this):_m(this),3==this.readyState&&Fs(this)}},nt.Ua=function(n){this.g&&(this.response=this.responseText=n,ym(this))},nt.Ta=function(n){this.g&&(this.response=n,ym(this))},nt.ha=function(){this.g&&ym(this)},nt.setRequestHeader=function(n,e){this.v.append(n,e)},nt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},nt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Pf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var KE=Nt.JSON.parse;function Xn(n){wr.call(this),this.headers=new Kd,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=F_,this.K=this.L=!1}mn(Xn,wr);var F_="",zI=/^https?$/i,dS=["POST","PUT"];function L_(n){return"content-type"==n.toLowerCase()}function QE(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,vm(n),Em(n)}function vm(n){n.D||(n.D=!0,kr(n,"complete"),kr(n,"error"))}function JE(n){if(n.h&&void 0!==c_&&(!n.C[1]||4!=iu(n)||2!=n.ba()))if(n.v&&4==iu(n))w_(n.Fa,0,n);else if(kr(n,"readystatechange"),4==iu(n)){n.h=!1;try{const p=n.ba();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var s=String(n.H).match(M_)[1]||null;if(!s&&Nt.self&&Nt.self.location){var u=Nt.self.location.protocol;s=u.substr(0,u.length-1)}r=!zI.test(s?s.toLowerCase():"")}t=r}if(t)kr(n,"complete"),kr(n,"success");else{n.m=6;try{var d=2<iu(n)?n.g.statusText:""}catch(v){d=""}n.j=d+" ["+n.ba()+"]",vm(n)}}finally{Em(n)}}}function Em(n,e){if(n.g){XE(n);const t=n.g,r=n.C[0]?qg:null;n.g=null,n.C=null,e||kr(n,"ready");try{t.onreadystatechange=r}catch(s){}}}function XE(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Nt.clearTimeout(n.A),n.A=null)}function iu(n){return n.g?n.g.readyState:0}function ew(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case F_:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function th(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function qI(n){let e="";return pE(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Fn(n,e,t))}function ha(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function tw(n){this.za=0,this.l=[],this.h=new If,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ha("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ha("baseRetryDelayMs",5e3,n),this.$a=ha("retryDelaySeedMs",1e4,n),this.Ya=ha("forwardChannelMaxRetries",2,n),this.ra=ha("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new HE(n&&n.concurrentRequestLimit),this.Ca=new lS,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function nc(n){if(nw(n),3==n.G){var e=n.V++,t=ru(n.F);Fn(t,"SID",n.J),Fn(t,"RID",e),Fn(t,"TYPE","terminate"),vo(n,t),(e=new ec(n,n.h,e,void 0)).K=2,e.v=Qd(ru(t)),t=!1,Nt.navigator&&Nt.navigator.sendBeacon&&(t=Nt.navigator.sendBeacon(e.v.toString(),"")),!t&&Nt.Image&&((new Image).src=e.v,t=!0),t||(e.g=uc(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Zd(e)}oc(n)}function wm(n){n.g&&(ol(n),n.g.cancel(),n.g=null)}function nw(n){wm(n),n.u&&(Nt.clearTimeout(n.u),n.u=null),su(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Nt.clearTimeout(n.m),n.m=null)}function kf(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&os(n)}function os(n){GE(n.i)||n.m||(n.m=!0,im(n.Ha,n),n.C=0)}function Zr(n,e){var t;t=e?e.m:n.V++;const r=ru(n.F);Fn(r,"SID",n.J),Fn(r,"RID",t),Fn(r,"AID",n.U),vo(n,r),n.o&&n.s&&th(r,n.o,n.s),t=new ec(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Lf(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),qE(n.i,t),T_(t,r,e)}function vo(n,e){n.j&&S_({},function(t,r){Fn(e,r,t)})}function Lf(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Rr(n.j.Oa,n.j,n):null;e:{var s=n.l;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=s[0].h,d.push("ofs="+u)):u=0:d.push("ofs="+u);let p=!0;for(let v=0;v<t;v++){let D=s[v].h;const S=s[v].g;if(D-=u,0>D)u=Math.max(0,s[v].h-100),p=!1;else try{cS(S,d,"req"+D+"_")}catch(x){r&&r(S)}}if(p){r=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function as(n){n.g||n.u||(n.Y=1,im(n.Ga,n),n.A=0)}function Vf(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Cf(Rr(n.Ga,n),sc(n,n.A)),n.A++,0))}function ol(n){null!=n.B&&(Nt.clearTimeout(n.B),n.B=null)}function rc(n){n.g=new ec(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=ru(n.oa);Fn(e,"RID","rpc"),Fn(e,"SID",n.J),Fn(e,"CI",n.N?"0":"1"),Fn(e,"AID",n.U),vo(n,e),Fn(e,"TYPE","xmlhttp"),n.o&&n.s&&th(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Qd(ru(e)),t.s=null,t.U=!0,LE(t,n)}function su(n){null!=n.v&&(Nt.clearTimeout(n.v),n.v=null)}function ic(n,e){var t=null;if(n.g==e){su(n),ol(n),n.g=null;var r=2}else{if(!gm(n.i,e))return;t=e.D,R_(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var s=n.C;kr(r=um(),new lm(r,t,e,s)),os(n)}else as(n);else if(3==(s=e.o)||0==s&&0<n.I||!(1==r&&function Ff(n,e){return!(zE(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Cf(Rr(n.Ha,n,e),sc(n,n.C)),n.C++,0)))}(n,e)||2==r&&Vf(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),s){case 1:Ls(n,5);break;case 4:Ls(n,10);break;case 3:Ls(n,6);break;default:Ls(n,2)}}function sc(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Ls(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Rr(n.jb,n);t||(t=new _o("//www.google.com/images/cleardot.gif"),Nt.location&&"http"==Nt.location.protocol||Yd(t,"https"),Qd(t)),function k_(n,e){const t=new If;if(Nt.Image){const r=new Image;r.onload=Yl(mm,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Yl(mm,t,r,"TestLoadImage: error",!1,e),r.onabort=Yl(mm,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Yl(mm,t,r,"TestLoadImage: timeout",!1,e),Nt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else kn(2);n.G=0,n.j&&n.j.va(e),oc(n),nw(n)}function oc(n){n.G=0,n.I=-1,n.j&&((0!=ZE(n.i).length||0!=n.l.length)&&(n.i.i.length=0,fE(n.l),n.l.length=0),n.j.ua())}function ac(n,e,t){let r=function UI(n){return n instanceof _o?ru(n):new _o(n,void 0)}(t);if(""!=r.i)e&&Of(r,e+"."+r.i),Nf(r,r.m);else{const s=Nt.location;r=function BI(n,e,t,r){var s=new _o(null,void 0);return n&&Yd(s,n),e&&Of(s,e),t&&Nf(s,t),r&&(s.l=r),s}(s.protocol,e?e+"."+s.hostname:s.hostname,+s.port,t)}return n.aa&&pE(n.aa,function(s,u){Fn(r,u,s)}),t=n.sa,(e=n.D)&&t&&Fn(r,e,t),Fn(r,"VER",n.ma),vo(n,r),r}function uc(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Xn(t&&n.Ba&&!n.qa?new eh({ib:!0}):n.qa)).L=n.H,e}function V_(){}function Uf(){if(Vd&&!(10<=Number(sS)))throw Error("Environmental error: no available transport.")}function Gi(n,e){wr.call(this),this.g=new tw(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!wf(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!wf(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new lc(this)}function U_(n){Af.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function B_(){D_.call(this),this.status=1}function lc(n){this.g=n}(nt=Xn.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():I_.g(),this.C=function PE(n){return n.h||(n.h=n.i())}(this.u?this.u:I_),this.g.onreadystatechange=Rr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void QE(this,u)}n=t||"";const s=new Kd(this.headers);r&&S_(r,function(u,d){s.set(d,u)}),r=function hE(n){e:{var e=L_;const t=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<t;s++)if(s in r&&e.call(void 0,r[s],s,n)){e=s;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(s.T()),t=Nt.FormData&&n instanceof Nt.FormData,!(0<=la(dS,e))||r||t||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(u,d){this.g.setRequestHeader(d,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{XE(this),0<this.B&&((this.K=function YE(n){return Vd&&function iS(){return function _E(n){var e=rS;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=DI(String(g_)).split("."),t=DI("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var s=e[d]||"",u=t[d]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;n=Ld(0==s[1].length?0:parseInt(s[1],10),0==u[1].length?0:parseInt(u[1],10))||Ld(0==s[2].length,0==u[2].length)||Ld(s[2],u[2]),s=s[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Rr(this.pa,this)):this.A=w_(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){QE(this,u)}},nt.pa=function(){void 0!==c_&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,kr(this,"timeout"),this.abort(8))},nt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,kr(this,"complete"),kr(this,"abort"),Em(this))},nt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Em(this,!0)),Xn.Z.M.call(this)},nt.Fa=function(){this.s||(this.F||this.v||this.l?JE(this):this.cb())},nt.cb=function(){JE(this)},nt.ba=function(){try{return 2<iu(this)?this.g.status:-1}catch(n){return-1}},nt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},nt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),KE(e)}},nt.Da=function(){return this.m},nt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(nt=tw.prototype).ma=8,nt.G=1,nt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},nt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const s=new ec(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=gE(u),yE(u,this.P)):u=this.P),null===this.o&&(s.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Lf(this,s,e),Fn(t=ru(this.F),"RID",n),Fn(t,"CVER",22),this.D&&Fn(t,"X-HTTP-Session-Id",this.D),vo(this,t),this.o&&u&&th(t,this.o,u),qE(this.i,s),this.Ra&&Fn(t,"TYPE","init"),this.ja?(Fn(t,"$req",e),Fn(t,"SID","null"),s.$=!0,T_(s,t,null)):T_(s,t,e),this.G=2}}else 3==this.G&&(n?Zr(this,n):0==this.l.length||GE(this.i)||Zr(this))},nt.Ga=function(){if(this.u=null,rc(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Cf(Rr(this.bb,this),n)}},nt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,kn(10),wm(this),rc(this))},nt.ab=function(){null!=this.v&&(this.v=null,wm(this),Vf(this),kn(19))},nt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),kn(2)):(this.h.info("Failed to ping google.com"),kn(1))},(nt=V_.prototype).xa=function(){},nt.wa=function(){},nt.va=function(){},nt.ua=function(){},nt.Oa=function(){},Uf.prototype.g=function(n,e){return new Gi(n,e)},mn(Gi,wr),Gi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),im(Rr(n.hb,n,e))),kn(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=ac(n,null,n.W),os(n)},Gi.prototype.close=function(){nc(this.g)},Gi.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,kf(this.g,e)}else this.v?((e={}).__data__=Df(n),kf(this.g,e)):kf(this.g,n)},Gi.prototype.M=function(){this.g.j=null,delete this.j,nc(this.g),delete this.g,Gi.Z.M.call(this)},mn(U_,Af),mn(B_,D_),mn(lc,V_),lc.prototype.xa=function(){kr(this.g,"a")},lc.prototype.wa=function(n){kr(this.g,new U_(n))},lc.prototype.va=function(n){kr(this.g,new B_(n))},lc.prototype.ua=function(){kr(this.g,"b")},Uf.prototype.createWebChannel=Uf.prototype.g,Gi.prototype.send=Gi.prototype.u,Gi.prototype.open=Gi.prototype.m,Gi.prototype.close=Gi.prototype.close,cm.NO_ERROR=0,cm.TIMEOUT=8,cm.HTTP_ERROR=6,FI.COMPLETE="complete",kE.EventType=Tf,Tf.OPEN="a",Tf.CLOSE="b",Tf.ERROR="c",Tf.MESSAGE="d",wr.prototype.listen=wr.prototype.N,Xn.prototype.listenOnce=Xn.prototype.O,Xn.prototype.getLastError=Xn.prototype.La,Xn.prototype.getLastErrorCode=Xn.prototype.Da,Xn.prototype.getStatus=Xn.prototype.ba,Xn.prototype.getResponseJson=Xn.prototype.Qa,Xn.prototype.getResponseText=Xn.prototype.ga,Xn.prototype.send=Xn.prototype.ea;var rw=ua.createWebChannelTransport=function(){return new Uf},iw=ua.getStatEventTarget=function(){return um()},bm=ua.ErrorCode=cm,ZI=ua.EventType=FI,sw=ua.Event=rl,ow=ua.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},WI=ua.FetchXmlHttpFactory=eh,Bf=ua.WebChannel=kE,KI=ua.XhrIo=Xn;const aw="@firebase/firestore";class Fr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fr.UNAUTHENTICATED=new Fr(null),Fr.GOOGLE_CREDENTIALS=new Fr("google-credentials-uid"),Fr.FIRST_PARTY=new Fr("first-party-uid"),Fr.MOCK_USER=new Fr("mock-user");let nh="9.8.0";const ou=new el.Yd("@firebase/firestore");function j_(){return ou.logLevel}function Fe(n,...e){if(ou.logLevel<=el.in.DEBUG){const t=e.map(jf);ou.debug(`Firestore (${nh}): ${n}`,...t)}}function fr(n,...e){if(ou.logLevel<=el.in.ERROR){const t=e.map(jf);ou.error(`Firestore (${nh}): ${n}`,...t)}}function cc(n,...e){if(ou.logLevel<=el.in.WARN){const t=e.map(jf);ou.warn(`Firestore (${nh}): ${n}`,...t)}}function jf(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function rt(n="Unexpected state"){const e=`FIRESTORE (${nh}) INTERNAL ASSERTION FAILED: `+n;throw fr(e),new Error(e)}function xt(n,e){n||rt()}function Ke(n,e){return n}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends St.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class uw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rh{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Fr.UNAUTHENTICATED))}shutdown(){}}class QI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class lw{constructor(e){this.t=e,this.currentUser=Fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let s=this.i;const u=D=>this.i!==s?(s=this.i,t(D)):Promise.resolve();let d=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Wr,e.enqueueRetryable(()=>u(this.currentUser))};const p=()=>{const D=d;e.enqueueRetryable((0,be.Z)(function*(){yield D.promise,yield u(r.currentUser)}))},v=D=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(D=>v(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?v(D):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Wr)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt("string"==typeof r.accessToken),new uw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xt(null===e||"string"==typeof e),new Fr(e)}}class JI{constructor(e,t,r){this.type="FirstParty",this.user=Fr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const s=e.auth.getAuthHeaderValueForFirstParty([]);s&&this.headers.set("Authorization",s),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class cw{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new JI(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $f{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XI{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=u=>{null!=u.error&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.p;return this.p=u.token,Fe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const s=u=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>s(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?s(u):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(xt("string"==typeof t.token),this.p=t.token,new $f(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class us{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function tC(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}us.A=-1;class dw{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=tC(40);for(let u=0;u<s.length;++u)r.length<20&&s[u]<t&&(r+=e.charAt(s[u]%e.length))}return r}}function Lt(n,e){return n<e?-1:n>e?1:0}function ih(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}function $_(n){return n+"\0"}class er{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return er.fromMillis(Date.now())}static fromDate(e){return er.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new er(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Lt(this.nanoseconds,e.nanoseconds):Lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bt(e)}static min(){return new bt(new er(0,0))}static max(){return new bt(new er(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function H_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function au(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function nC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class dc{constructor(e,t,r){void 0===t?t=0:t>e.length&&rt(),void 0===r?r=e.length-t:r>e.length-t&&rt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===dc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof dc?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const u=e.get(s),d=t.get(s);if(u<d)return-1;if(u>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Zt extends dc{construct(e,t,r){return new Zt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Zt(t)}static emptyPath(){return new Zt([])}}const fS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jn extends dc{construct(e,t,r){return new jn(e,t,r)}static isValidIdentifier(e){return fS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new jn(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const u=()=>{if(0===r.length)throw new xe(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;s<e.length;){const p=e[s];if("\\"===p){if(s+1===e.length)throw new xe(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[s+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new xe(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,s+=2}else"`"===p?(d=!d,s++):"."!==p||d?(r+=p,s++):(u(),s++)}if(u(),d)throw new xe(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jn(t)}static emptyPath(){return new jn([])}}class hc{constructor(e){this.fields=e,e.sort(jn.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ih(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class tr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new tr(t)}static fromUint8Array(e){const t=function(r){let s="";for(let u=0;u<r.length;++u)s+=String.fromCharCode(r[u]);return s}(e);return new tr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tr.EMPTY_BYTE_STRING=new tr("");const rC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Eo(n){if(xt(!!n),"string"==typeof n){let e=0;const t=rC.exec(n);if(xt(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Sn(n.seconds),nanos:Sn(n.nanos)}}function Sn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function uu(n){return"string"==typeof n?tr.fromBase64String(n):tr.fromUint8Array(n)}function hw(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function fw(n){const e=n.mapValue.fields.__previous_value__;return hw(e)?fw(e):e}function fc(n){const e=Eo(n.mapValue.fields.__local_write_time__.timestampValue);return new er(e.seconds,e.nanos)}class z_{constructor(e,t,r,s,u,d,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.useFetchStreams=v}}class fa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new fa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof fa&&e.projectId===this.projectId&&e.database===this.database}}function Hf(n){return null==n}function pc(n){return 0===n&&1/n==-1/0}function q_(n){return"number"==typeof n&&Number.isInteger(n)&&!pc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class He{constructor(e){this.path=e}static fromPath(e){return new He(Zt.fromString(e))}static fromName(e){return new He(Zt.fromString(e).popFirst(5))}static empty(){return new He(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Zt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Zt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new Zt(e.slice()))}}const pa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Gf={nullValue:"NULL_VALUE"};function gc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?hw(n)?4:Y_(n)?9007199254740991:10:rt()}function wo(n,e){if(n===e)return!0;const t=gc(n);if(t!==gc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return fc(n).isEqual(fc(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const u=Eo(r.timestampValue),d=Eo(s.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,uu(n.bytesValue).isEqual(uu(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return Sn(r.geoPointValue.latitude)===Sn(s.geoPointValue.latitude)&&Sn(r.geoPointValue.longitude)===Sn(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Sn(r.integerValue)===Sn(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const u=Sn(r.doubleValue),d=Sn(s.doubleValue);return u===d?pc(u)===pc(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return ih(n.arrayValue.values||[],e.arrayValue.values||[],wo);case 10:return function(r,s){const u=r.mapValue.fields||{},d=s.mapValue.fields||{};if(H_(u)!==H_(d))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(void 0===d[p]||!wo(u[p],d[p])))return!1;return!0}(n,e);default:return rt()}var s}function sh(n,e){return void 0!==(n.values||[]).find(t=>wo(t,e))}function ga(n,e){if(n===e)return 0;const t=gc(n),r=gc(e);if(t!==r)return Lt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Lt(n.booleanValue,e.booleanValue);case 2:return function(s,u){const d=Sn(s.integerValue||s.doubleValue),p=Sn(u.integerValue||u.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return pw(n.timestampValue,e.timestampValue);case 4:return pw(fc(n),fc(e));case 5:return Lt(n.stringValue,e.stringValue);case 6:return function(s,u){const d=uu(s),p=uu(u);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(s,u){const d=s.split("/"),p=u.split("/");for(let v=0;v<d.length&&v<p.length;v++){const D=Lt(d[v],p[v]);if(0!==D)return D}return Lt(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,u){const d=Lt(Sn(s.latitude),Sn(u.latitude));return 0!==d?d:Lt(Sn(s.longitude),Sn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,u){const d=s.values||[],p=u.values||[];for(let v=0;v<d.length&&v<p.length;++v){const D=ga(d[v],p[v]);if(D)return D}return Lt(d.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,u){if(s===pa.mapValue&&u===pa.mapValue)return 0;if(s===pa.mapValue)return 1;if(u===pa.mapValue)return-1;const d=s.fields||{},p=Object.keys(d),v=u.fields||{},D=Object.keys(v);p.sort(),D.sort();for(let S=0;S<p.length&&S<D.length;++S){const x=Lt(p[S],D[S]);if(0!==x)return x;const L=ga(d[p[S]],v[D[S]]);if(0!==L)return L}return Lt(p.length,D.length)}(n.mapValue,e.mapValue);default:throw rt()}}function pw(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Lt(n,e);const t=Eo(n),r=Eo(e),s=Lt(t.seconds,r.seconds);return 0!==s?s:Lt(t.nanos,r.nanos)}function oh(n){return Z_(n)}function Z_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const s=Eo(r);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?uu(n.bytesValue).toBase64():"referenceValue"in n?He.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let s="[",u=!0;for(const d of r.values||[])u?u=!1:s+=",",s+=Z_(d);return s+"]"}(n.arrayValue):"mapValue"in n?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",d=!0;for(const p of s)d?d=!1:u+=",",u+=`${p}:${Z_(r.fields[p])}`;return u+"}"}(n.mapValue):rt();var e}function mc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function zf(n){return!!n&&"integerValue"in n}function yc(n){return!!n&&"arrayValue"in n}function W_(n){return!!n&&"nullValue"in n}function K_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qf(n){return!!n&&"mapValue"in n}function ah(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return au(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ah(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ah(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Y_(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function gw(n){return"nullValue"in n?Gf:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?mc(fa.empty(),He.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:rt()}function mw(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?mc(fa.empty(),He.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?pa:rt()}function Q_(n,e){const t=ga(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function iC(n,e){const t=ga(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class gi{constructor(e){this.value=e}static empty(){return new gi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!qf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ah(t)}setAll(e){let t=jn.emptyPath(),r={},s=[];e.forEach((d,p)=>{if(!t.isImmediateParentOf(p)){const v=this.getFieldsMap(t);this.applyChanges(v,r,s),r={},s=[],t=p.popLast()}d?r[p.lastSegment()]=ah(d):s.push(p.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,s)}delete(e){const t=this.field(e.popLast());qf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];qf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){au(t,(s,u)=>e[s]=u);for(const s of r)delete e[s]}clone(){return new gi(ah(this.value))}}function yw(n){const e=[];return au(n.fields,(t,r)=>{const s=new jn([t]);if(qf(r)){const u=yw(r.mapValue).fields;if(0===u.length)e.push(s);else for(const d of u)e.push(s.child(d))}else e.push(s)}),new hc(e)}class En{constructor(e,t,r,s,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.data=u,this.documentState=d}static newInvalidDocument(e){return new En(e,0,bt.min(),bt.min(),gi.empty(),0)}static newFoundDocument(e,t,r){return new En(e,1,t,bt.min(),r,0)}static newNoDocument(e,t){return new En(e,2,t,bt.min(),gi.empty(),0)}static newUnknownDocument(e,t){return new En(e,3,t,bt.min(),gi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Dm{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function nr(n){return n.fields.find(e=>2===e.kind)}function al(n){return n.fields.filter(e=>2!==e.kind)}Dm.UNKNOWN_ID=-1;class Im{constructor(e,t){this.fieldPath=e,this.kind=t}}class Zf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Zf(0,Vs.min())}}function J_(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=bt.fromTimestamp(1e9===r?new er(t+1,0):new er(t,r));return new Vs(s,He.empty(),e)}function sC(n){return new Vs(n.readTime,n.key,-1)}class Vs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Vs(bt.min(),He.empty(),-1)}static max(){return new Vs(bt.max(),He.empty(),-1)}}function X_(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=He.comparator(n.documentKey,e.documentKey),0!==t?t:Lt(n.largestBatchId,e.largestBatchId))}class wn{constructor(e,t){this.comparator=e,this.root=t||Kr.EMPTY}insert(e,t){return new wn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kr.BLACK,null,null))}remove(e){return new wn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cm(this.root,e,this.comparator,!0)}}class Cm{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&s&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kr{constructor(e,t,r,s,u){this.key=e,this.value=t,this.color=null!=r?r:Kr.RED,this.left=null!=s?s:Kr.EMPTY,this.right=null!=u?u:Kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,u){return new Kr(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=s?s:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const u=r(e,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===u?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Kr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return Kr.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}}Kr.EMPTY=null,Kr.RED=!0,Kr.BLACK=!1,Kr.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(n,e,t,r,s){return this}insert(n,e,t){return new Kr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class yn{constructor(e){this.comparator=e,this.data=new wn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _w(this.data.getIterator())}getIteratorFrom(e){return new _w(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof yn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(s,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new yn(this.comparator);return t.data=e,t}}class _w{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _c(n){return n.hasNext()?n.getNext():void 0}class pS{constructor(e,t=null,r=[],s=[],u=null,d=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=u,this.startAt=d,this.endAt=p,this.P=null}}function ev(n,e=null,t=[],r=[],s=null,u=null,d=null){return new pS(n,e,t,r,s,u,d)}function lu(n){const e=Ke(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(s=r).field.canonicalString()+s.op.toString()+oh(s.value);var s}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),Hf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>oh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>oh(r)).join(",")),e.P=t}return e.P}function Wf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<n.orderBy.length;s++)if(!ww(n.orderBy[s],e.orderBy[s]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let s=0;s<n.filters.length;s++)if((t=n.filters[s]).op!==(r=e.filters[s]).op||!t.field.isEqual(r.field)||!wo(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Yf(n.startAt,e.startAt)&&Yf(n.endAt,e.endAt)}function Tm(n){return He.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function ls(n,e){return n.filters.filter(t=>t instanceof Lr&&t.field.isEqual(e))}function Us(n,e,t){let r=Gf,s=!0;for(const u of ls(n,e)){let d=Gf,p=!0;switch(u.op){case"<":case"<=":d=gw(u.value);break;case"==":case"in":case">=":d=u.value;break;case">":d=u.value,p=!1;break;case"!=":case"not-in":d=Gf}Q_({value:r,inclusive:s},{value:d,inclusive:p})<0&&(r=d,s=p)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];Q_({value:r,inclusive:s},{value:d,inclusive:t.inclusive})<0&&(r=d,s=t.inclusive);break}return{value:r,inclusive:s}}function Bs(n,e,t){let r=pa,s=!0;for(const u of ls(n,e)){let d=pa,p=!0;switch(u.op){case">=":case">":d=mw(u.value),p=!1;break;case"==":case"in":case"<=":d=u.value;break;case"<":d=u.value,p=!1;break;case"!=":case"not-in":d=pa}iC({value:r,inclusive:s},{value:d,inclusive:p})>0&&(r=d,s=p)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];iC({value:r,inclusive:s},{value:d,inclusive:t.inclusive})>0&&(r=d,s=t.inclusive);break}return{value:r,inclusive:s}}class Lr extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new vw(e,t,r):"array-contains"===t?new uC(e,r):"in"===t?new tv(e,r):"not-in"===t?new Kf(e,r):"array-contains-any"===t?new lC(e,r):new Lr(e,t,r)}static V(e,t,r){return"in"===t?new oC(e,r):new aC(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(ga(t,this.value)):null!==t&&gc(this.value)===gc(t)&&this.v(ga(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class vw extends Lr{constructor(e,t,r){super(e,t,r),this.key=He.fromName(r.referenceValue)}matches(e){const t=He.comparator(e.key,this.key);return this.v(t)}}class oC extends Lr{constructor(e,t){super(e,"in",t),this.keys=Ew(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class aC extends Lr{constructor(e,t){super(e,"not-in",t),this.keys=Ew(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ew(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>He.fromName(r.referenceValue))}class uC extends Lr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return yc(t)&&sh(t.arrayValue,this.value)}}class tv extends Lr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&sh(this.value.arrayValue,t)}}class Kf extends Lr{constructor(e,t){super(e,"not-in",t)}matches(e){if(sh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!sh(this.value.arrayValue,t)}}class lC extends Lr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!yc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>sh(this.value.arrayValue,r))}}class cu{constructor(e,t){this.position=e,this.inclusive=t}}class uh{constructor(e,t="asc"){this.field=e,this.dir=t}}function ww(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function nv(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const u=e[s],d=n.position[s];if(r=u.field.isKeyField()?He.comparator(He.fromName(d.referenceValue),t.key):ga(d,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function Yf(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!wo(n.position[t],e.position[t]))return!1;return!0}class du{constructor(e,t=null,r=[],s=[],u=null,d="F",p=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=v,this.D=null,this.C=null}}function rv(n,e,t,r,s,u,d,p){return new du(n,e,t,r,s,u,d,p)}function vc(n){return new du(n)}function lh(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Am(n){for(const e of n.filters)if(e.S())return e.field;return null}function Sm(n){return null!==n.collectionGroup}function Ec(n){const e=Ke(n);if(null===e.D){e.D=[];const t=Am(e),r=lh(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new uh(t)),e.D.push(new uh(jn.keyField(),"asc"));else{let s=!1;for(const u of e.explicitOrderBy)e.D.push(u),u.field.isKeyField()&&(s=!0);if(!s){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new uh(jn.keyField(),u))}}}return e.D}function cs(n){const e=Ke(n);if(!e.C)if("F"===e.limitType)e.C=ev(e.path,e.collectionGroup,Ec(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Ec(e))t.push(new uh(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new cu(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new cu(e.startAt.position,e.startAt.inclusive):null;e.C=ev(e.path,e.collectionGroup,t,e.filters,e.limit,r,s)}return e.C}function sv(n,e,t){return new du(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ch(n,e){return Wf(cs(n),cs(e))&&n.limitType===e.limitType}function ov(n){return`${lu(cs(n))}|lt:${n.limitType}`}function Mm(n){return`Query(target=${function ma(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${oh(r.value)}`;var r}).join(", ")}]`),Hf(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>oh(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>oh(t)).join(",")),`Target(${e})`}(cs(n))}; limitType=${n.limitType})`}function av(n,e){return e.isFoundDocument()&&function(t,r){const s=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):He.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(n,e)&&function(t,r){for(const s of t.explicitOrderBy)if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,e)&&function(t,r){for(const s of t.filters)if(!s.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(s,u,d){const p=nv(s,u,d);return s.inclusive?p<=0:p<0}(t.startAt,Ec(t),r)||t.endAt&&!function(s,u,d){const p=nv(s,u,d);return s.inclusive?p>=0:p>0}(t.endAt,Ec(t),r)));var t,r}function bw(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Dw(n){return(e,t)=>{let r=!1;for(const s of Ec(n)){const u=cC(s,e,t);if(0!==u)return u;r=r||s.field.isKeyField()}return 0}}function cC(n,e,t){const r=n.field.isKeyField()?He.comparator(e.key,t.key):function(s,u,d){const p=u.data.field(s),v=d.data.field(s);return null!==p&&null!==v?ga(p,v):rt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}function Iw(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pc(e)?"-0":e}}function Cw(n){return{integerValue:""+n}}function Tw(n,e){return q_(e)?Cw(e):Iw(n,e)}class xm{constructor(){this._=void 0}}function dC(n,e,t){return n instanceof dh?function(r,s){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&(u.fields.__previous_value__=s),{mapValue:u}}(t,e):n instanceof wc?Sw(n,e):n instanceof bc?Mw(n,e):function(r,s){const u=Aw(r,s),d=xw(u)+xw(r.k);return zf(u)&&zf(r.k)?Cw(d):Iw(r.M,d)}(n,e)}function hC(n,e,t){return n instanceof wc?Sw(n,e):n instanceof bc?Mw(n,e):t}function Aw(n,e){return n instanceof hh?zf(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class dh extends xm{}class wc extends xm{constructor(e){super(),this.elements=e}}function Sw(n,e){const t=uv(e);for(const r of n.elements)t.some(s=>wo(s,r))||t.push(r);return{arrayValue:{values:t}}}class bc extends xm{constructor(e){super(),this.elements=e}}function Mw(n,e){let t=uv(e);for(const r of n.elements)t=t.filter(s=>!wo(s,r));return{arrayValue:{values:t}}}class hh extends xm{constructor(e,t){super(),this.M=e,this.k=t}}function xw(n){return Sn(n.integerValue||n.doubleValue)}function uv(n){return yc(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class fh{constructor(e,t){this.field=e,this.transform=t}}class Nw{constructor(e,t){this.version=e,this.transformResults=t}}class rr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new rr}static exists(e){return new rr(void 0,e)}static updateTime(e){return new rr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qf(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Jf{}function Rw(n,e,t){n instanceof Xf?function(r,s,u){const d=r.value.clone(),p=fC(r.fieldTransforms,s,u.transformResults);d.setAll(p),s.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Dc?function(r,s,u){if(!Qf(r.precondition,s))return void s.convertToUnknownDocument(u.version);const d=fC(r.fieldTransforms,s,u.transformResults),p=s.data;p.setAll(Ic(r)),p.setAll(d),s.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Om(n,e,t){var s;n instanceof Xf?function(r,s,u){if(!Qf(r.precondition,s))return;const d=r.value.clone(),p=Nm(r.fieldTransforms,u,s);d.setAll(p),s.convertToFoundDocument(ul(s),d).setHasLocalMutations()}(n,e,t):n instanceof Dc?function(r,s,u){if(!Qf(r.precondition,s))return;const d=Nm(r.fieldTransforms,u,s),p=s.data;p.setAll(Ic(r)),p.setAll(d),s.convertToFoundDocument(ul(s),p).setHasLocalMutations()}(n,e,t):Qf(n.precondition,s=e)&&s.convertToNoDocument(bt.min())}function Pw(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),u=Aw(r.transform,s||null);null!=u&&(null==t&&(t=gi.empty()),t.set(r.field,u))}return t||null}function lv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&ih(t,r,(s,u)=>function Ow(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof wc&&r instanceof wc||t instanceof bc&&r instanceof bc?ih(t.elements,r.elements,wo):t instanceof hh&&r instanceof hh?wo(t.k,r.k):t instanceof dh&&r instanceof dh);var t,r}(s,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function ul(n){return n.isFoundDocument()?n.version:bt.min()}class Xf extends Jf{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}}class Dc extends Jf{constructor(e,t,r,s,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=u,this.type=1}}function Ic(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function fC(n,e,t){const r=new Map;xt(n.length===t.length);for(let s=0;s<t.length;s++){const u=n[s],d=u.transform,p=e.data.field(u.field);r.set(u.field,hC(d,p,t[s]))}return r}function Nm(n,e,t){const r=new Map;for(const s of n){const u=s.transform,d=t.data.field(s.field);r.set(s.field,dC(u,d,e))}return r}class Rm extends Jf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Pm extends Jf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class kw{constructor(e){this.count=e}}var br,Be;function Fw(n){switch(n){default:return rt();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}function Lw(n){if(void 0===n)return fr("GRPC error has no .code"),le.UNKNOWN;switch(n){case br.OK:return le.OK;case br.CANCELLED:return le.CANCELLED;case br.UNKNOWN:return le.UNKNOWN;case br.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case br.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case br.INTERNAL:return le.INTERNAL;case br.UNAVAILABLE:return le.UNAVAILABLE;case br.UNAUTHENTICATED:return le.UNAUTHENTICATED;case br.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case br.NOT_FOUND:return le.NOT_FOUND;case br.ALREADY_EXISTS:return le.ALREADY_EXISTS;case br.PERMISSION_DENIED:return le.PERMISSION_DENIED;case br.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case br.ABORTED:return le.ABORTED;case br.OUT_OF_RANGE:return le.OUT_OF_RANGE;case br.UNIMPLEMENTED:return le.UNIMPLEMENTED;case br.DATA_LOSS:return le.DATA_LOSS;default:return rt()}}(Be=br||(br={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";class ll{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,u]of r)if(this.equalsFn(s,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return void(s[u]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){au(this.inner,(t,r)=>{for(const[s,u]of r)e(s,u)})}isEmpty(){return nC(this.inner)}size(){return this.innerSize}}const km=new wn(He.comparator);function js(){return km}const Fm=new wn(He.comparator);function ph(...n){let e=Fm;for(const t of n)e=e.insert(t.key,t);return e}function bn(){return new ll(n=>n.toString(),(n,e)=>n.isEqual(e))}const gS=new wn(He.comparator),Vw=new yn(He.comparator);function sn(...n){let e=Vw;for(const t of n)e=e.add(t);return e}const pC=new yn(Lt);function ep(){return pC}class gh{constructor(e,t,r,s,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,mh.createSynthesizedTargetChangeForCurrentChange(e,t)),new gh(bt.min(),r,ep(),js(),sn())}}class mh{constructor(e,t,r,s,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new mh(tr.EMPTY_BYTE_STRING,t,sn(),sn(),sn())}}class tp{constructor(e,t,r,s){this.O=e,this.removedTargetIds=t,this.key=r,this.F=s}}class Uw{constructor(e,t){this.targetId=e,this.$=t}}class Bw{constructor(e,t,r=tr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class jw{constructor(){this.B=0,this.L=Hw(),this.U=tr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=sn(),t=sn(),r=sn();return this.L.forEach((s,u)=>{switch(u){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:rt()}}),new mh(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=Hw()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class np{constructor(e){this.nt=e,this.st=new Map,this.it=js(),this.rt=$w(),this.ot=new yn(Lt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,s)=>{this.ft(s)&&t(s)})}_t(e){const t=e.targetId,r=e.$.count,s=this.wt(t);if(s){const u=s.target;if(Tm(u))if(0===r){const d=new He(u.path);this.ct(t,d,En.newNoDocument(d,bt.min()))}else xt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((u,d)=>{const p=this.wt(d);if(p){if(u.current&&Tm(p.target)){const v=new He(p.target.path);null!==this.it.get(v)||this.It(d,v)||this.ct(d,v,En.newNoDocument(v,e))}u.j&&(t.set(d,u.H()),u.J())}});let r=sn();this.rt.forEach((u,d)=>{let p=!0;d.forEachWhile(v=>{const D=this.wt(v);return!D||2===D.purpose||(p=!1,!1)}),p&&(r=r.add(u))}),this.it.forEach((u,d)=>d.setReadTime(e));const s=new gh(e,t,this.ot,this.it,r);return this.it=js(),this.rt=$w(),this.ot=new yn(Lt),s}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const s=this.lt(e);this.It(e,t)?s.Y(t,1):s.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new jw,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new yn(Lt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Fe("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new jw),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function $w(){return new wn(He.comparator)}function Hw(){return new wn(He.comparator)}const gC={asc:"ASCENDING",desc:"DESCENDING"},Lm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Gw{constructor(e,t){this.databaseId=e,this.N=t}}function yh(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cv(n,e){return n.N?e.toBase64():e.toUint8Array()}function mC(n,e){return yh(n,e.toTimestamp())}function Zn(n){return xt(!!n),bt.fromTimestamp(function(e){const t=Eo(e);return new er(t.seconds,t.nanos)}(n))}function Cc(n,e){return(t=n,new Zt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function zw(n){const e=Zt.fromString(n);return xt(Qw(e)),e}function rp(n,e){return Cc(n.databaseId,e.path)}function ya(n,e){const t=zw(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new He(qw(t))}function Vm(n,e){return Cc(n.databaseId,e)}function dv(n){const e=zw(n);return 4===e.length?Zt.emptyPath():qw(e)}function _h(n){return new Zt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function qw(n){return xt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function hv(n,e,t){return{name:rp(n,e),fields:t.value.mapValue.fields}}function Zw(n,e,t){const r=ya(n,e.name),s=Zn(e.updateTime),u=new gi({mapValue:{fields:e.fields}}),d=En.newFoundDocument(r,s,u);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function Um(n,e){let t;if(e instanceof Xf)t={update:hv(n,e.key,e.value)};else if(e instanceof Rm)t={delete:rp(n,e.key)};else if(e instanceof Dc)t={update:hv(n,e.key,e.data),updateMask:Yw(e.fieldMask)};else{if(!(e instanceof Pm))return rt();t={verify:rp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,u){const d=u.transform;if(d instanceof dh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof wc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof bc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof hh)return{fieldPath:u.field.canonicalString(),increment:d.k};throw rt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:mC(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:rt()),t;var s}function Ww(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?rr.updateTime(Zn(s.updateTime)):void 0!==s.exists?rr.exists(s.exists):rr.none():rr.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(u,d){let p=null;"setToServerValue"in d?(xt("REQUEST_TIME"===d.setToServerValue),p=new dh):"appendMissingElements"in d?p=new wc(d.appendMissingElements.values||[]):"removeAllFromArray"in d?p=new bc(d.removeAllFromArray.values||[]):"increment"in d?p=new hh(u,d.increment):rt();const v=jn.fromServerFormat(d.fieldPath);return new fh(v,p)}(n,s)):[];var s;if(e.update){const s=ya(n,e.update.name),u=new gi({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new hc((e.updateMask.fieldPaths||[]).map(D=>jn.fromServerFormat(D)));return new Dc(s,u,d,t,r)}return new Xf(s,u,t,r)}if(e.delete){const s=ya(n,e.delete);return new Rm(s,t)}if(e.verify){const s=ya(n,e.verify);return new Pm(s,t)}return rt()}function fv(n,e){return{documents:[Vm(n,e.path)]}}function ip(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Vm(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Vm(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(v){if(0===v.length)return;const D=v.map(S=>function(x){if("=="===x.op){if(K_(x.value))return{unaryFilter:{field:vh(x.field),op:"IS_NAN"}};if(W_(x.value))return{unaryFilter:{field:vh(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(K_(x.value))return{unaryFilter:{field:vh(x.field),op:"IS_NOT_NAN"}};if(W_(x.value))return{unaryFilter:{field:vh(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vh(x.field),op:vC(x.op),value:x.value}}}(S));return 1===D.length?D[0]:{compositeFilter:{op:"AND",filters:D}}}(e.filters);s&&(t.structuredQuery.where=s);const u=function(v){if(0!==v.length)return v.map(D=>{return{field:vh((S=D).field),direction:sp(S.dir)};var S})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=(D=e.limit,n.N||Hf(D)?D:{value:D});var D,p,v;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function Kw(n){let e=dv(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){xt(1===r);const S=t.from[0];S.allDescendants?s=S.collectionId:e=e.child(S.collectionId)}let u=[];t.where&&(u=pv(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(S=>{return new uh(Eh((x=S).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let p=null;t.limit&&(p=function(S){let x;return x="object"==typeof S?S.value:S,Hf(x)?null:x}(t.limit));let v=null;var S;t.startAt&&(v=new cu((S=t.startAt).values||[],!!S.before));let D=null;return t.endAt&&(D=function(S){return new cu(S.values||[],!S.before)}(t.endAt)),rv(e,s,d,u,p,"F",v,D)}function pv(n){return n?void 0!==n.unaryFilter?[wC(n)]:void 0!==n.fieldFilter?[EC(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>pv(e)).reduce((e,t)=>e.concat(t)):rt():[]}function sp(n){return gC[n]}function vC(n){return Lm[n]}function vh(n){return{fieldPath:n.canonicalString()}}function Eh(n){return jn.fromServerFormat(n.fieldPath)}function EC(n){return Lr.create(Eh(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(n.fieldFilter.op),n.fieldFilter.value)}function wC(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Eh(n.unaryFilter.field);return Lr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Eh(n.unaryFilter.field);return Lr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Eh(n.unaryFilter.field);return Lr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Eh(n.unaryFilter.field);return Lr.create(s,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}function Yw(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Qw(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ci(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Jw(e)),e=wh(n.get(t),e);return Jw(e)}function wh(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const u=n.charAt(s);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function Jw(n){return n+"\x01\x01"}function bo(n){const e=n.length;if(xt(e>=2),2===e)return xt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Zt.emptyPath();const t=e-2,r=[];let s="";for(let u=0;u<e;){const d=n.indexOf("\x01",u);switch((d<0||d>t)&&rt(),n.charAt(d+1)){case"\x01":const p=n.substring(u,d);let v;0===s.length?v=p:(s+=p,v=s,s=""),r.push(v);break;case"\x10":s+=n.substring(u,d),s+="\0";break;case"\x11":s+=n.substring(u,d+1);break;default:rt()}u=d+2}return new Zt(r)}const Xw=["userId","batchId"];function op(n,e){return[n,Ci(e)]}function eb(n,e,t){return[n,Ci(e),t]}const tb={},bC=["prefixPath","collectionGroup","readTime","documentId"],gv=["prefixPath","collectionGroup","documentId"],DC=["collectionGroup","readTime","prefixPath","documentId"],nb=["canonicalId","targetId"],rb=["targetId","path"],IC=["path","targetId"],CC=["collectionId","parent"],TC=["indexId","uid"],mv=["uid","sequenceNumber"],AC=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ib=["indexId","uid","orderedDocumentKey"],SC=["userId","collectionPath","documentId"],MC=["userId","collectionPath","largestBatchId"],xC=["userId","collectionGroup","largestBatchId"],sb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],OC=[...sb,"documentOverlays"],ob=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],NC=[...ob,"indexConfiguration","indexState","indexEntries"],ab="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new de((r,s)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,s)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof de?t:de.resolve(t)}catch(t){return de.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):de.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):de.reject(t)}static resolve(e){return new de((t,r)=>{t(e)})}static reject(e){return new de((t,r)=>{r(e)})}static waitFor(e){return new de((t,r)=>{let s=0,u=0,d=!1;e.forEach(p=>{++s,p.next(()=>{++u,d&&u===s&&t()},v=>r(v))}),d=!0,u===s&&t()})}static or(e){let t=de.resolve(!1);for(const r of e)t=t.next(s=>s?de.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,u)=>{r.push(t.call(this,s,u))}),this.waitFor(r)}}class Bm{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Wr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new ap(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const s=$m(r.target.error);this.At.reject(new ap(e,s))}}static open(e,t,r,s){try{return new Bm(t,e.transaction(s,r))}catch(u){throw new ap(t,u)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Fe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new RC(t)}}class Do{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===Do.Vt((0,St.z$)())&&fr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Fe("SimpleDb","Removing database:",e),hu(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,St.hl)())return!1;if(Do.St())return!0;const e=(0,St.z$)(),t=Do.Vt(e),r=0<t&&t<10,s=Do.Dt(e),u=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,be.Z)(function*(){return t.db||(Fe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,s)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=d=>{r(d.target.result)},u.onblocked=()=>{s(new ap(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=d=>{const p=d.target.error;s("VersionError"===p.name?new xe(le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new xe(le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new ap(e,p))},u.onupgradeneeded=d=>{Fe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.Pt.kt(d.target.result,u.transaction,d.oldVersion,t.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,s){var u=this;return(0,be.Z)(function*(){const d="readonly"===t;let p=0;for(;;){++p;try{u.db=yield u.Nt(e);const v=Bm.open(u.db,e,d?"readonly":"readwrite",r),D=s(v).next(S=>(v.bt(),S)).catch(S=>(v.abort(S),de.reject(S))).toPromise();return D.catch(()=>{}),yield v.Rt,D}catch(v){const D="FirebaseError"!==v.name&&p<3;if(Fe("SimpleDb","Transaction failed with error:",v.message,"Retrying:",D),u.close(),!D)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ub{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return hu(this.Ft.delete())}}class ap extends xe{constructor(e,t){super(le.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Tc(n){return"IndexedDbTransactionError"===n.name}class RC{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Fe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),hu(r)}add(e){return Fe("SimpleDb","ADD",this.store.name,e,e),hu(this.store.add(e))}get(e){return hu(this.store.get(e)).next(t=>(void 0===t&&(t=null),Fe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Fe("SimpleDb","DELETE",this.store.name,e),hu(this.store.delete(e))}count(){return Fe("SimpleDb","COUNT",this.store.name),hu(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const s=this.cursor(r),u=[];return this.Kt(s,(d,p)=>{u.push(p)}).next(()=>u)}{const s=this.store.getAll(r.range);return new de((u,d)=>{s.onerror=p=>{d(p.target.error)},s.onsuccess=p=>{u(p.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new de((s,u)=>{r.onerror=d=>{u(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}Qt(e,t){Fe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const s=this.cursor(r);return this.Kt(s,(u,d,p)=>p.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.Kt(s,t)}zt(e){const t=this.cursor({});return new de((r,s)=>{t.onerror=u=>{const d=$m(u.target.error);s(d)},t.onsuccess=u=>{const d=u.target.result;d?e(d.primaryKey,d.value).next(p=>{p?d.continue():r()}):r()}})}Kt(e,t){const r=[];return new de((s,u)=>{e.onerror=d=>{u(d.target.error)},e.onsuccess=d=>{const p=d.target.result;if(!p)return void s();const v=new ub(p),D=t(p.primaryKey,p.value,v);if(D instanceof de){const S=D.catch(x=>(v.done(),de.reject(x)));r.push(S)}v.isDone?s():null===v.Lt?p.continue():p.continue(v.Lt)}}).next(()=>de.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function hu(n){return new de((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const s=$m(r.target.error);t(s)}})}let jm=!1;function $m(n){const e=Do.Vt((0,St.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return jm||(jm=!0,setTimeout(()=>{throw r},0)),r}}return n}class Hm extends yv{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Vr(n,e){const t=Ke(n);return Do.xt(t.Ht,e)}class _v{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const u=this.mutations[s];u.key.isEqual(e.key)&&Rw(u,e,r[s])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Om(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Om(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),s=r;this.applyToLocalView(s),r.isValidDocument()||s.convertToNoDocument(bt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),sn())}isEqual(e){return this.batchId===e.batchId&&ih(this.mutations,e.mutations,(t,r)=>lv(t,r))&&ih(this.baseMutations,e.baseMutations,(t,r)=>lv(t,r))}}class up{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){xt(e.mutations.length===r.length);let s=gS;const u=e.mutations;for(let d=0;d<u.length;d++)s=s.insert(u[d].key,r[d].version);return new up(e,t,r,s)}}class vv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class fu{constructor(e,t,r,s,u=bt.min(),d=bt.min(),p=tr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p}withSequenceNumber(e){return new fu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new fu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new fu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class lb{constructor(e){this.Jt=e}}function db(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:lp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:rp(s=n.Jt,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:yh(s,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:bh(e.version)};else{if(!e.isUnknownDocument())return rt();r.unknownDocument={path:t.path.toArray(),version:bh(e.version)}}var s,u;return r}function lp(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function bh(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ac(n){const e=new er(n.seconds,n.nanoseconds);return bt.fromTimestamp(e)}function pu(n,e){const t=(e.baseMutations||[]).map(u=>Ww(n.Jt,u));for(let u=0;u<e.mutations.length-1;++u){const d=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(d.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>Ww(n.Jt,u)),s=er.fromMillis(e.localWriteTimeMs);return new _v(e.batchId,s,t,r)}function cp(n){const e=Ac(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ac(n.lastLimboFreeSnapshotVersion):bt.min();let r;var s;return void 0!==n.query.documents?(xt(1===(s=n.query).documents.length),r=cs(vc(dv(s.documents[0])))):r=cs(Kw(n.query)),new fu(r,n.targetId,0,n.lastListenSequenceNumber,e,t,tr.fromBase64String(n.resumeToken))}function Sc(n,e){const t=bh(e.snapshotVersion),r=bh(e.lastLimboFreeSnapshotVersion);let s;s=Tm(e.target)?fv(n.Jt,e.target):ip(n.Jt,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:lu(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function Mc(n){const e=Kw({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?sv(e,e.limit,"L"):e}function Ev(n,e){return new vv(e.largestBatchId,Ww(n.Jt,e.overlayMutation))}function PC(n,e){const t=e.path.lastSegment();return[n,Ci(e.path.popLast()),t]}class hb{getBundleMetadata(e,t){return fb(e).get(t).next(r=>{if(r)return{id:(s=r).bundleId,createTime:Ac(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return fb(e).put({bundleId:(r=t).id,createTime:bh(Zn(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return pb(e).get(t).next(r=>{if(r)return{name:(s=r).name,query:Mc(s.bundledQuery),readTime:Ac(s.readTime)};var s})}saveNamedQuery(e,t){return pb(e).put({name:(r=t).name,readTime:bh(Zn(r.readTime)),bundledQuery:r.bundledQuery});var r}}function fb(n){return Vr(n,"bundles")}function pb(n){return Vr(n,"namedQueries")}class wv{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new wv(e,t.uid||"")}getOverlay(e,t){return dp(e).get(PC(this.userId,t)).next(r=>r?Ev(this.M,r):null)}saveOverlays(e,t,r){const s=[];return r.forEach((u,d)=>{const p=new vv(t,d);s.push(this.Xt(e,p))}),de.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach(d=>s.add(Ci(d.getCollectionPath())));const u=[];return s.forEach(d=>{const p=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);u.push(dp(e).Qt("collectionPathOverlayIndex",p))}),de.waitFor(u)}getOverlaysForCollection(e,t,r){const s=bn(),u=Ci(t),d=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return dp(e).qt("collectionPathOverlayIndex",d).next(p=>{for(const v of p){const D=Ev(this.M,v);s.set(D.getKey(),D)}return s})}getOverlaysForCollectionGroup(e,t,r,s){const u=bn();let d;const p=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return dp(e).Wt({index:"collectionGroupOverlayIndex",range:p},(v,D,S)=>{const x=Ev(this.M,D);u.size()<s||x.largestBatchId===d?(u.set(x.getKey(),x),d=x.largestBatchId):S.done()}).next(()=>u)}Xt(e,t){return dp(e).put(function(r,s,u){const[d,p,v]=PC(s,u.mutation.key);return{userId:s,collectionPath:p,documentId:v,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Um(r.Jt,u.mutation)}}(this.M,this.userId,t))}}function dp(n){return Vr(n,"documentOverlays")}class cl{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Sn(e.integerValue));else if("doubleValue"in e){const r=Sn(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),pc(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(uu(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?Y_(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):rt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const s of Object.keys(r))this.re(s,t),this.te(r[s],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const s of r)this.te(s,t)}ae(e,t){this.ne(t,37),He.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function gb(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Gm(n){const e=64-function(t){let r=0;for(let s=0;s<8;++s){const u=gb(255&t[s]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}cl.fe=new cl;class zm{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const s=t.codePointAt(0);this._e(240|s>>>18),this._e(128|63&s>>>12),this._e(128|63&s>>>6),this._e(128|63&s)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const s=t.codePointAt(0);this.ge(240|s>>>18),this.ge(128|63&s>>>12),this.ge(128|63&s>>>6),this.ge(128|63&s)}}this.ye()}Te(e){const t=this.Ee(e),r=Gm(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}Re(e){const t=this.Ee(e),r=Gm(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(s){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,s,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class hp{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class kC{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class Dh{constructor(){this.De=new zm,this.Ce=new hp(this.De),this.xe=new kC(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class dl{constructor(e,t,r,s){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=s}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new dl(this.indexId,this.documentKey,this.arrayValue,r)}}function xc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=mb(n.arrayValue,e.arrayValue),0!==t?t:(t=mb(n.directionalValue,e.directionalValue),0!==t?t:He.comparator(n.documentKey,e.documentKey)))}function mb(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class bv{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=nr(e);if(void 0!==t&&!this.Be(t))return!1;const r=al(e);let s=0,u=0;for(;s<r.length&&this.Be(r[s]);++s);if(s===r.length)return!0;if(void 0!==this.Fe){const d=r[s];if(!this.Le(this.Fe,d)||!this.Ue(this.Me[u++],d))return!1;++s}for(;s<r.length;++s){const d=r[s];if(u>=this.Me.length||!this.Ue(this.Me[u++],d))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class FC{constructor(){this.qe=new yb}addToCollectionParentIndex(e,t){return this.qe.add(t),de.resolve()}getCollectionParents(e,t){return de.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return de.resolve()}deleteFieldIndex(e,t){return de.resolve()}getDocumentsMatchingTarget(e,t){return de.resolve(null)}getIndexType(e,t){return de.resolve(0)}getFieldIndexes(e,t){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,t){return de.resolve(Vs.min())}updateCollectionGroup(e,t,r){return de.resolve()}updateIndexEntries(e,t){return de.resolve()}}class yb{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new yn(Zt.comparator),u=!s.has(r);return this.index[t]=s.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new yn(Zt.comparator)).toArray()}}const qm=new Uint8Array(0);class LC{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new yb,this.Ge=new ll(r=>lu(r),(r,s)=>Wf(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const u={collectionId:r,parent:Ci(s)};return Oc(e).put(u)}return de.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[$_(t),""],!1,!0);return Oc(e).qt(s).next(u=>{for(const d of u){if(d.collectionId!==t)break;r.push(bo(d.parent))}return r})}addFieldIndex(e,t){const r=gu(e),s={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var u;return delete s.indexId,r.add(s).next()}deleteFieldIndex(e,t){const r=gu(e),s=Dv(e),u=Ih(e);return r.delete(t.indexId).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Ih(e);let s=!0;const u=new Map;return de.forEach(this.Qe(t),d=>this.je(e,d).next(p=>{s&&(s=!!p),u.set(d,p)})).next(()=>{if(s){let d=sn();const p=[];return de.forEach(u,(v,D)=>{var S;Fe("IndexedDbIndexManager",`Using index ${S=v,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(Dt=>`${Dt.fieldPath}:${Dt.kind}`).join(",")}`} to execute ${lu(t)}`);const x=function(Dt,ut){const kt=nr(ut);if(void 0===kt)return null;for(const Ut of ls(Dt,kt.fieldPath))switch(Ut.op){case"array-contains-any":return Ut.value.arrayValue.values||[];case"array-contains":return[Ut.value]}return null}(D,v),L=function(Dt,ut){const kt=new Map;for(const Ut of al(ut))for(const on of ls(Dt,Ut.fieldPath))switch(on.op){case"==":case"in":kt.set(Ut.fieldPath.canonicalString(),on.value);break;case"not-in":case"!=":return kt.set(Ut.fieldPath.canonicalString(),on.value),Array.from(kt.values())}return null}(D,v),q=function(Dt,ut){const kt=[];let Ut=!0;for(const on of al(ut)){const gs=0===on.kind?Us(Dt,on.fieldPath,Dt.startAt):Bs(Dt,on.fieldPath,Dt.startAt);kt.push(gs.value),Ut&&(Ut=gs.inclusive)}return new cu(kt,Ut)}(D,v),K=function(Dt,ut){const kt=[];let Ut=!0;for(const on of al(ut)){const gs=0===on.kind?Bs(Dt,on.fieldPath,Dt.endAt):Us(Dt,on.fieldPath,Dt.endAt);kt.push(gs.value),Ut&&(Ut=gs.inclusive)}return new cu(kt,Ut)}(D,v),ye=this.We(v,D,q),Pe=this.We(v,D,K),pt=this.ze(v,D,L),mt=this.He(v.indexId,x,ye,q.inclusive,Pe,K.inclusive,pt);return de.forEach(mt,Dt=>r.Gt(Dt,t.limit).next(ut=>{ut.forEach(kt=>{const Ut=He.fromSegments(kt.documentKey);d.has(Ut)||(d=d.add(Ut),p.push(Ut))})}))}).next(()=>p)}return de.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,r,s,u,d,p){const v=(null!=t?t.length:1)*Math.max(r.length,u.length),D=v/(null!=t?t.length:1),S=[];for(let x=0;x<v;++x){const L=t?this.Je(t[x/D]):qm,q=this.Ye(e,L,r[x%D],s),K=this.Xe(e,L,u[x%D],d),ye=p.map(Pe=>this.Ye(e,L,Pe,!0));S.push(...this.createRange(q,K,ye))}return S}Ye(e,t,r,s){const u=new dl(e,He.empty(),t,r);return s?u:u.ke()}Xe(e,t,r,s){const u=new dl(e,He.empty(),t,r);return s?u.ke():u}je(e,t){const r=new bv(t),s=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next(u=>{let d=null;for(const p of u)r.$e(p)&&(!d||p.fields.length>d.fields.length)&&(d=p);return d})}getIndexType(e,t){let r=2;return de.forEach(this.Qe(t),s=>this.je(e,s).next(u=>{u?0!==r&&u.fields.length<function(d){let p=new yn(jn.comparator),v=!1;for(const D of d.filters){const S=D;S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?v=!0:p=p.add(S.field))}for(const D of d.orderBy)D.field.isKeyField()||(p=p.add(D.field));return p.size+(v?1:0)}(s)&&(r=1):r=0})).next(()=>r)}Ze(e,t){const r=new Dh;for(const s of al(e)){const u=t.data.field(s.fieldPath);if(null==u)return null;const d=r.Ne(s.kind);cl.fe.Zt(u,d)}return r.Se()}Je(e){const t=new Dh;return cl.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new Dh;return cl.fe.Zt(mc(this.databaseId,t),r.Ne(function(s){const u=al(s);return 0===u.length?0:u[u.length-1].kind}(e))),r.Se()}ze(e,t,r){if(null===r)return[];let s=[];s.push(new Dh);let u=0;for(const d of al(e)){const p=r[u++];for(const v of s)if(this.en(t,d.fieldPath)&&yc(p))s=this.nn(s,d,p);else{const D=v.Ne(d.kind);cl.fe.Zt(p,D)}}return this.sn(s)}We(e,t,r){return this.ze(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const s=[...e],u=[];for(const d of r.arrayValue.values||[])for(const p of s){const v=new Dh;v.seed(p.Se()),cl.fe.Zt(d,v.Ne(t.kind)),u.push(v)}return u}en(e,t){return!!e.filters.find(r=>r instanceof Lr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=gu(e),s=Dv(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(u=>{const d=[];return de.forEach(u,p=>s.get([p.indexId,this.uid]).next(v=>{d.push(function(D,S){const x=S?new Zf(S.sequenceNumber,new Vs(Ac(S.readTime),new He(bo(S.documentKey)),S.largestBatchId)):Zf.empty(),L=D.fields.map(([q,K])=>new Im(jn.fromServerFormat(q),K));return new Dm(D.indexId,D.collectionGroup,L,x)}(p,v))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,s)=>{const u=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return 0!==u?u:Lt(r.collectionGroup,s.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const s=gu(e),u=Dv(e);return this.rn(e).next(d=>s.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>de.forEach(p,v=>{return u.put({indexId:v.indexId,uid:this.user.uid||"",sequenceNumber:d,readTime:bh((L=r).readTime),documentKey:Ci(L.documentKey.path),largestBatchId:L.largestBatchId});var L})))}updateIndexEntries(e,t){const r=new Map;return de.forEach(t,(s,u)=>{const d=r.get(s.collectionGroup);return(d?de.resolve(d):this.getFieldIndexes(e,s.collectionGroup)).next(p=>(r.set(s.collectionGroup,p),de.forEach(p,v=>this.on(e,s,v).next(D=>{const S=this.un(u,v);return D.isEqual(S)?de.resolve():this.an(e,u,v,D,S)}))))})}cn(e,t,r,s){return Ih(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,s){return Ih(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const s=Ih(e);let u=new yn(xc);return s.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(d,p)=>{u=u.add(new dl(r.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>u)}un(e,t){let r=new yn(xc);const s=this.Ze(t,e);if(null==s)return r;const u=nr(t);if(null!=u){const d=e.data.field(u.fieldPath);if(yc(d))for(const p of d.arrayValue.values||[])r=r.add(new dl(t.indexId,e.key,this.Je(p),s))}else r=r.add(new dl(t.indexId,e.key,qm,s));return r}an(e,t,r,s,u){Fe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(p,v,D,S,x){const L=p.getIterator(),q=v.getIterator();let K=_c(L),ye=_c(q);for(;K||ye;){let Pe=!1,pt=!1;if(K&&ye){const mt=D(K,ye);mt<0?pt=!0:mt>0&&(Pe=!0)}else null!=K?pt=!0:Pe=!0;Pe?(S(ye),ye=_c(q)):pt?(x(K),K=_c(L)):(K=_c(L),ye=_c(q))}}(s,u,xc,p=>{d.push(this.cn(e,t,r,p))},p=>{d.push(this.hn(e,t,r,p))}),de.waitFor(d)}rn(e){let t=1;return Dv(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,u)=>{u.done(),t=s.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,p)=>xc(d,p)).filter((d,p,v)=>!p||0!==xc(d,v[p-1]));const s=[];s.push(e);for(const d of r){const p=xc(d,e),v=xc(d,t);if(0===p)s[0]=e.ke();else if(p>0&&v<0)s.push(d),s.push(d.ke());else if(v>0)break}s.push(t);const u=[];for(let d=0;d<s.length;d+=2)u.push(IDBKeyRange.bound([s[d].indexId,this.uid,s[d].arrayValue,s[d].directionalValue,qm,[]],[s[d+1].indexId,this.uid,s[d+1].arrayValue,s[d+1].directionalValue,qm,[]]));return u}getMinOffset(e,t){let r;return de.forEach(this.Qe(t),s=>this.je(e,s).next(u=>{u?(!r||X_(u.indexState.offset,r)<0)&&(r=u.indexState.offset):r=Vs.min()})).next(()=>r)}}function Oc(n){return Vr(n,"collectionParents")}function Ih(n){return Vr(n,"indexEntries")}function gu(n){return Vr(n,"indexConfiguration")}function Dv(n){return Vr(n,"indexState")}const Iv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class zi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new zi(e,zi.DEFAULT_COLLECTION_PERCENTILE,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function VC(n,e,t){const r=n.store("mutations"),s=n.store("documentMutations"),u=[],d=IDBKeyRange.only(t.batchId);let p=0;const v=r.Wt({range:d},(S,x,L)=>(p++,L.delete()));u.push(v.next(()=>{xt(1===p)}));const D=[];for(const S of t.mutations){const x=eb(e,S.key.path,t.batchId);u.push(s.delete(x)),D.push(S.key)}return de.waitFor(u).next(()=>D)}function fp(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw rt();e=n.noDocument}return JSON.stringify(e).length}zi.DEFAULT_COLLECTION_PERCENTILE=10,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zi.DEFAULT=new zi(41943040,zi.DEFAULT_COLLECTION_PERCENTILE,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zi.DISABLED=new zi(-1,0,0);class _b{constructor(e,t,r,s){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=s,this.ln={}}static Yt(e,t,r,s){xt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new _b(u,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _a(e).Wt({index:"userMutationsIndex",range:r},(s,u,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,s){const u=Ch(e),d=_a(e);return d.add({}).next(p=>{xt("number"==typeof p);const v=new _v(p,t,r,s),D=function(L,q,K){const ye=K.baseMutations.map(pt=>Um(L.Jt,pt)),Pe=K.mutations.map(pt=>Um(L.Jt,pt));return{userId:q,batchId:K.batchId,localWriteTimeMs:K.localWriteTime.toMillis(),baseMutations:ye,mutations:Pe}}(this.M,this.userId,v),S=[];let x=new yn((L,q)=>Lt(L.canonicalString(),q.canonicalString()));for(const L of s){const q=eb(this.userId,L.key.path,p);x=x.add(L.key.path.popLast()),S.push(d.put(D)),S.push(u.put(q,tb))}return x.forEach(L=>{S.push(this.indexManager.addToCollectionParentIndex(e,L))}),e.addOnCommittedListener(()=>{this.ln[p]=v.keys()}),de.waitFor(S).next(()=>v)})}lookupMutationBatch(e,t){return _a(e).get(t).next(r=>r?(xt(r.userId===this.userId),pu(this.M,r)):null)}fn(e,t){return this.ln[t]?de.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const s=r.keys();return this.ln[t]=s,s}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return _a(e).Wt({index:"userMutationsIndex",range:s},(d,p,v)=>{p.userId===this.userId&&(xt(p.batchId>=r),u=pu(this.M,p)),v.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return _a(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(s,u,d)=>{r=u.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _a(e).qt("userMutationsIndex",t).next(r=>r.map(s=>pu(this.M,s)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=op(this.userId,t.path),s=IDBKeyRange.lowerBound(r),u=[];return Ch(e).Wt({range:s},(d,p,v)=>{const[D,S,x]=d,L=bo(S);if(D===this.userId&&t.path.isEqual(L))return _a(e).get(x).next(q=>{if(!q)throw rt();xt(q.userId===this.userId),u.push(pu(this.M,q))});v.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new yn(Lt);const s=[];return t.forEach(u=>{const d=op(this.userId,u.path),p=IDBKeyRange.lowerBound(d),v=Ch(e).Wt({range:p},(D,S,x)=>{const[L,q,K]=D,ye=bo(q);L===this.userId&&u.path.isEqual(ye)?r=r.add(K):x.done()});s.push(v)}),de.waitFor(s).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,u=op(this.userId,r),d=IDBKeyRange.lowerBound(u);let p=new yn(Lt);return Ch(e).Wt({range:d},(v,D,S)=>{const[x,L,q]=v,K=bo(L);x===this.userId&&r.isPrefixOf(K)?K.length===s&&(p=p.add(q)):S.done()}).next(()=>this.dn(e,p))}dn(e,t){const r=[],s=[];return t.forEach(u=>{s.push(_a(e).get(u).next(d=>{if(null===d)throw rt();xt(d.userId===this.userId),r.push(pu(this.M,d))}))}),de.waitFor(s).next(()=>r)}removeMutationBatch(e,t){return VC(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),de.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return de.resolve();const r=IDBKeyRange.lowerBound([this.userId]),s=[];return Ch(e).Wt({range:r},(u,d,p)=>{if(u[0]===this.userId){const v=bo(u[1]);s.push(v)}else p.done()}).next(()=>{xt(0===s.length)})})}containsKey(e,t){return Cv(e,this.userId,t)}wn(e){return vb(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Cv(n,e,t){const r=op(e,t.path),s=r[1],u=IDBKeyRange.lowerBound(r);let d=!1;return Ch(n).Wt({range:u,jt:!0},(p,v,D)=>{const[S,x,L]=p;S===e&&x===s&&(d=!0),D.done()}).next(()=>d)}function _a(n){return Vr(n,"mutations")}function Ch(n){return Vr(n,"documentMutations")}function vb(n){return Vr(n,"mutationQueues")}class Nc{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Nc(0)}static yn(){return new Nc(-1)}}class UC{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new Nc(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>bt.fromTimestamp(new er(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.In(e,s)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Th(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(xt(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let s=0;const u=[];return Th(e).Wt((d,p)=>{const v=cp(p);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(s++,u.push(this.removeTargetData(e,v)))}).next(()=>de.waitFor(u)).next(()=>s)}forEachTarget(e,t){return Th(e).Wt((r,s)=>{const u=cp(s);t(u)})}pn(e){return Eb(e).get("targetGlobalKey").next(t=>(xt(null!==t),t))}In(e,t){return Eb(e).put("targetGlobalKey",t)}Tn(e,t){return Th(e).put(Sc(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=lu(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Th(e).Wt({range:s,index:"queryTargetsIndex"},(d,p,v)=>{const D=cp(p);Wf(t,D.target)&&(u=D,v.done())}).next(()=>u)}addMatchingKeys(e,t,r){const s=[],u=hl(e);return t.forEach(d=>{const p=Ci(d.path);s.push(u.put({targetId:r,path:p})),s.push(this.referenceDelegate.addReference(e,r,d))}),de.waitFor(s)}removeMatchingKeys(e,t,r){const s=hl(e);return de.forEach(t,u=>{const d=Ci(u.path);return de.waitFor([s.delete([r,d]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=hl(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=hl(e);let u=sn();return s.Wt({range:r,jt:!0},(d,p,v)=>{const D=bo(d[1]),S=new He(D);u=u.add(S)}).next(()=>u)}containsKey(e,t){const r=Ci(t.path),s=IDBKeyRange.bound([r],[$_(r)],!1,!0);let u=0;return hl(e).Wt({index:"documentTargetsIndex",jt:!0,range:s},([d,p],v,D)=>{0!==d&&(u++,D.done())}).next(()=>u>0)}Et(e,t){return Th(e).get(t).next(r=>r?cp(r):null)}}function Th(n){return Vr(n,"targets")}function Eb(n){return Vr(n,"targetGlobal")}function hl(n){return Vr(n,"targetDocuments")}function Rc(n){return Tv.apply(this,arguments)}function Tv(){return Tv=(0,be.Z)(function*(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==ab)throw n;Fe("LocalStore","Unexpectedly lost primary lease")}),Tv.apply(this,arguments)}function wb([n,e],[t,r]){const s=Lt(n,t);return 0===s?Lt(e,r):s}class pp{constructor(e){this.An=e,this.buffer=new yn(wb),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();wb(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class bb{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;Fe("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,be.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(s){Tc(s)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Rc(s)}yield t.Sn(e)}))}}class Db{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return de.resolve(us.A);const r=new pp(t);return this.Dn.forEachTarget(e,s=>r.Pn(s.sequenceNumber)).next(()=>this.Dn.xn(e,s=>r.Pn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(Iv)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Iv):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,s,u,d,p,v,D;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),s=this.params.maximumSequenceNumbersToCollect):s=x,d=Date.now(),this.nthSequenceNumber(e,s))).next(x=>(r=x,p=Date.now(),this.removeTargets(e,r,t))).next(x=>(u=x,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(D=Date.now(),j_()<=el.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-S}ms\n\tDetermined least recently used ${s} in `+(p-d)+`ms\n\tRemoved ${u} targets in `+(v-p)+`ms\n\tRemoved ${x} documents in `+(D-v)+`ms\nTotal Duration: ${D-S}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:u,documentsRemoved:x})))}}class Ib{constructor(e,t){this.db=e,this.garbageCollector=new Db(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,s)=>t(s))}addReference(e,t,r){return gp(e,r)}removeReference(e,t,r){return gp(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return gp(e,t)}On(e,t){return function(r,s){let u=!1;return vb(r).zt(d=>Cv(r,d,s).next(p=>(p&&(u=!0),de.resolve(!p)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let u=0;return this.Mn(e,(d,p)=>{if(p<=t){const v=this.On(e,d).next(D=>{if(!D)return u++,r.getEntry(e,d).next(()=>(r.removeEntry(d,bt.min()),hl(e).delete([0,Ci(d.path)])))});s.push(v)}}).next(()=>de.waitFor(s)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return gp(e,t)}Mn(e,t){const r=hl(e);let s,u=us.A;return r.Wt({index:"documentTargetsIndex"},([d,p],{path:v,sequenceNumber:D})=>{0===d?(u!==us.A&&t(new He(bo(s)),u),u=D,s=v):u=us.A}).next(()=>{u!==us.A&&t(new He(bo(s)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function gp(n,e){return hl(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ci(e.path),sequenceNumber:r}));var r}class Av{constructor(){this.changes=new ll(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?de.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Cb{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Pc(e).put(r)}removeEntry(e,t,r){return Pc(e).delete(function(s,u){const d=s.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],lp(u),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=En.newInvalidDocument(t);return Pc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(mp(t))},(s,u)=>{r=this.$n(t,u)}).next(()=>r)}Bn(e,t){let r={size:0,document:En.newInvalidDocument(t)};return Pc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(mp(t))},(s,u)=>{r={document:this.$n(t,u),size:fp(u)}}).next(()=>r)}getEntries(e,t){let r=js();return this.Ln(e,t,(s,u)=>{const d=this.$n(s,u);r=r.insert(s,d)}).next(()=>r)}Un(e,t){let r=js(),s=new wn(He.comparator);return this.Ln(e,t,(u,d)=>{const p=this.$n(u,d);r=r.insert(u,p),s=s.insert(u,fp(d))}).next(()=>({documents:r,qn:s}))}Ln(e,t,r){if(t.isEmpty())return de.resolve();let s=new yn(Ab);t.forEach(v=>s=s.add(v));const u=IDBKeyRange.bound(mp(s.first()),mp(s.last())),d=s.getIterator();let p=d.getNext();return Pc(e).Wt({index:"documentKeyIndex",range:u},(v,D,S)=>{const x=He.fromSegments([...D.prefixPath,D.collectionGroup,D.documentId]);for(;p&&Ab(p,x)<0;)r(p,null),p=d.getNext();p&&p.isEqual(x)&&(r(p,D),p=d.hasNext()?d.getNext():null),p?S.Ut(mp(p)):S.done()}).next(()=>{for(;p;)r(p,null),p=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const s=[t.popLast().toArray(),t.lastSegment(),lp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Pc(e).qt(IDBKeyRange.bound(s,u,!0)).next(d=>{let p=js();for(const v of d){const D=this.$n(He.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);p=p.insert(D.key,D)}return p})}getAllFromCollectionGroup(e,t,r,s){let u=js();const d=Tb(t,r),p=Tb(t,Vs.max());return Pc(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,p,!0)},(v,D,S)=>{const x=this.$n(He.fromSegments(D.prefixPath.concat(D.collectionGroup,D.documentId)),D);u=u.insert(x.key,x),u.size===s&&S.done()}).next(()=>u)}newChangeBuffer(e){return new BC(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Sv(e).get("remoteDocumentGlobalKey").next(t=>(xt(!!t),t))}Fn(e,t){return Sv(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function cb(n,e){let t;if(e.document)t=Zw(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=He.fromSegments(e.noDocument.path),s=Ac(e.noDocument.readTime);t=En.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return rt();{const r=He.fromSegments(e.unknownDocument.path),s=Ac(e.unknownDocument.version);t=En.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime(function(r){const s=new er(r[0],r[1]);return bt.fromTimestamp(s)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(bt.min()))return r}return En.newInvalidDocument(e)}}class BC extends Av{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new ll(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const t=[];let r=0,s=new yn((u,d)=>Lt(u.canonicalString(),d.canonicalString()));return this.changes.forEach((u,d)=>{const p=this.Gn.get(u);if(t.push(this.Kn.removeEntry(e,u,p.readTime)),d.isValidDocument()){const v=db(this.Kn.M,d);s=s.add(u.path.popLast()),r+=fp(v)-p.size,t.push(this.Kn.addEntry(e,u,v))}else if(r-=p.size,this.trackRemovals){const v=db(this.Kn.M,d.convertToNoDocument(bt.min()));t.push(this.Kn.addEntry(e,u,v))}}),s.forEach(u=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Kn.updateMetadata(e,r)),de.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:s})=>(s.forEach((u,d)=>{this.Gn.set(u,{size:d,readTime:r.get(u).readTime})}),r))}}function Sv(n){return Vr(n,"remoteDocumentGlobal")}function Pc(n){return Vr(n,"remoteDocumentsV14")}function mp(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Tb(n,e){const t=e.documentKey.path.toArray();return[n,lp(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Ab(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(s=Lt(t[u],r[u]),s)return s;return s=Lt(t.length,r.length),s||(s=Lt(t[t.length-2],r[r.length-2]),s||Lt(t[t.length-1],r[r.length-1]))}class yp{constructor(e){this.M=e}kt(e,t,r,s){const u=new Bm("createOrUpgrade",t);var p;r<1&&s>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Xw,{unique:!0}),p.createObjectStore("documentMutations"),Sb(e),function(p){p.createObjectStore("remoteDocuments")}(e));let d=de.resolve();return r<3&&s>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),Sb(e)),d=d.next(()=>function(p){const v=p.store("targetGlobal"),D={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:bt.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",D)}(u))),r<4&&s>=4&&(0!==r&&(d=d.next(()=>function(p,v){return v.store("mutations").qt().next(D=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Xw,{unique:!0});const S=v.store("mutations"),x=D.map(L=>S.put(L));return de.waitFor(x)})}(e,u))),d=d.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&s>=5&&(d=d.next(()=>this.Qn(u))),r<6&&s>=6&&(d=d.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.jn(u)))),r<7&&s>=7&&(d=d.next(()=>this.Wn(u))),r<8&&s>=8&&(d=d.next(()=>this.zn(e,u))),r<9&&s>=9&&(d=d.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&s>=10&&(d=d.next(()=>this.Hn(u))),r<11&&s>=11&&(d=d.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(d=d.next(()=>{!function(p){const v=p.createObjectStore("documentOverlays",{keyPath:SC});v.createIndex("collectionPathOverlayIndex",MC,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",xC,{unique:!1})}(e)})),r<13&&s>=13&&(d=d.next(()=>function(p){const v=p.createObjectStore("remoteDocumentsV14",{keyPath:bC});v.createIndex("documentKeyIndex",gv),v.createIndex("collectionGroupIndex",DC)}(e)).next(()=>this.Jn(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(d=d.next(()=>{!function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:TC}).createIndex("sequenceNumberIndex",mv,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:AC}).createIndex("documentKeyIndex",ib,{unique:!1})}(e)})),d}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,s)=>{t+=fp(s)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(s=>de.forEach(s,u=>{const d=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",d).next(p=>de.forEach(p,v=>{xt(v.userId===u.userId);const D=pu(this.M,v);return VC(e,u.userId,D).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const u=[];return r.Wt((d,p)=>{const v=new Zt(d),D=[0,Ci(v)];u.push(t.get(D).next(S=>S?de.resolve():t.put({targetId:0,path:Ci(v),sequenceNumber:s.highestListenSequenceNumber})))}).next(()=>de.waitFor(u))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:CC});const r=t.store("collectionParents"),s=new yb,u=d=>{if(s.add(d)){const p=d.lastSegment(),v=d.popLast();return r.put({collectionId:p,parent:Ci(v)})}};return t.store("remoteDocuments").Wt({jt:!0},(d,p)=>{const v=new Zt(d);return u(v.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([d,p,v],D)=>{const S=bo(p);return u(S.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,s)=>{const u=cp(s),d=Sc(this.M,u);return t.put(d)})}Jn(e,t){const r=t.store("remoteDocuments"),s=[];return r.Wt((u,d)=>{const p=t.store("remoteDocumentsV14"),v=(D=d,D.document?new He(Zt.fromString(D.document.name).popFirst(5)):D.noDocument?He.fromSegments(D.noDocument.path):D.unknownDocument?He.fromSegments(D.unknownDocument.path):rt()).path.toArray();var D;const S={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};s.push(p.put(S))}).next(()=>de.waitFor(s))}}function Sb(n){n.createObjectStore("targetDocuments",{keyPath:rb}).createIndex("documentTargetsIndex",IC,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",nb,{unique:!0}),n.createObjectStore("targetGlobal")}const _p="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class $s{constructor(e,t,r,s,u,d,p,v,D,S,x=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=u,this.window=d,this.document=p,this.Xn=D,this.Zn=S,this.ts=x,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=L=>Promise.resolve(),!$s.vt())throw new xe(le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ib(this,s),this.hs=t+"main",this.M=new lb(v),this.ls=new Do(this.hs,this.ts,new yp(this.M)),this.fs=new UC(this.referenceDelegate,this.M),this.ds=new Cb(this.M),this._s=new hb,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===S&&fr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xe(le.FAILED_PRECONDITION,_p);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new us(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,be.Z)(function*(s){if(t.started)return e(s)});return function(s){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,be.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,be.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ah(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if(Tc(e))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return vp(e).get("owner").next(t=>de.resolve(this.Ps(t)))}Vs(e){return Ah(e).delete(this.clientId)}vs(){var e=this;return(0,be.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const s=Vr(r,"clientMetadata");return s.qt().next(u=>{const d=e.Ds(u,18e5),p=u.filter(v=>-1===d.indexOf(v));return de.forEach(p,v=>s.delete(v.clientId)).next(()=>p)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?de.resolve(!0):vp(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new xe(le.FAILED_PRECONDITION,_p);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ah(e).qt().next(r=>void 0===this.Ds(r,5e3).find(s=>{if(this.clientId!==s.clientId){const d=!this.inForeground&&s.inForeground,p=this.networkEnabled===s.networkEnabled;if(!this.networkEnabled&&s.networkEnabled||d&&p)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Fe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,be.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Hm(t,us.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>Ah(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return _b.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new LC(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return wv.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){Fe("IndexedDbPersistence","Starting transaction:",e);const s="readonly"===t?"readonly":"readwrite",u=14===(d=this.ts)?NC:13===d?ob:12===d?OC:11===d?sb:void rt();var d;let p;return this.ls.runTransaction(e,s,u,v=>(p=new Hm(v,this.es?this.es.next():us.A),"readwrite-primary"===t?this.Es(p).next(D=>!!D||this.As(p)).next(D=>{if(!D)throw fr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new xe(le.FAILED_PRECONDITION,ab);return r(p)}).next(D=>this.bs(p).next(()=>D)):this.$s(p).next(()=>r(p)))).then(v=>(p.raiseOnCommittedEvent(),v))}$s(e){return vp(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.Ps(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new xe(le.FAILED_PRECONDITION,_p)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return vp(e).put("owner",t)}static vt(){return Do.vt()}Rs(e){const t=vp(e);return t.get("owner").next(r=>this.Ps(r)?(Fe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):de.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(fr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,St.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Fe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return fr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){fr("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function vp(n){return Vr(n,"owner")}function Ah(n){return Vr(n,"clientMetadata")}function kc(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class jC{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(s=>{for(const u of r)u.applyToLocalView(s);return s})}qs(e,t){e.forEach((r,s)=>{for(const u of t)u.applyToLocalView(s)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return He.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.js(e,t.path):Sm(t)?this.Ws(e,t,r):this.zs(e,t,r);var s}js(e,t){return this.Ls(e,new He(t)).next(r=>{let s=ph();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}Ws(e,t,r){const s=t.collectionGroup;let u=ph();return this.indexManager.getCollectionParents(e,s).next(d=>de.forEach(d,p=>{const v=(D=t,S=p.child(s),new du(S,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,S;return this.zs(e,v,r).next(D=>{D.forEach((S,x)=>{u=u.insert(S,x)})})}).next(()=>u))}zs(e,t,r){let s;return this.ds.getAllFromCollection(e,t.path,r).next(u=>(s=u,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(u=>{for(const d of u)for(const p of d.mutations){const v=p.key;let D=s.get(v);null==D&&(D=En.newInvalidDocument(v),s=s.insert(v,D)),Om(p,D,d.localWriteTime),D.isFoundDocument()||(s=s.remove(v))}}).next(()=>(s.forEach((u,d)=>{av(t,d)||(s=s.remove(u))}),s))}}class Mv{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=s}static Ys(e,t){let r=sn(),s=sn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:s=s.add(u.doc.key)}return new Mv(e,t.fromCache,r,s)}}class Mb{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,r,s){return this.ti(e,t).next(u=>u||this.ei(e,t,s,r)).next(u=>u||this.ni(e,t))}ti(e,t){return de.resolve(null)}ei(e,t,r,s){return function iv(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||s.isEqual(bt.min())?this.ni(e,t):this.Zs.Ks(e,r).next(u=>{const d=this.si(t,u);return this.ii(t,d,r,s)?this.ni(e,t):(j_()<=el.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Mm(t)),this.ri(e,d,t,J_(s,-1)))})}si(e,t){let r=new yn(Dw(e));return t.forEach((s,u)=>{av(e,u)&&(r=r.add(u))}),r}ii(e,t,r,s){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)}ni(e,t){return j_()<=el.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",Mm(t)),this.Zs.Qs(e,t,Vs.min())}ri(e,t,r,s){return this.Zs.Qs(e,r,s).next(u=>(t.forEach(d=>{u=u.insert(d.key,d)}),u))}}class Zm{constructor(e,t,r,s){this.persistence=e,this.oi=t,this.M=s,this.ui=new wn(Lt),this.ai=new ll(u=>lu(u),Wf),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(r)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new jC(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function Ep(n,e,t,r){return new Zm(n,e,t,r)}function xb(n,e){return xv.apply(this,arguments)}function xv(){return xv=(0,be.Z)(function*(n,e){const t=Ke(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.Bs.getAllMutationBatches(r).next(u=>(s=u,t.li(e),t.Bs.getAllMutationBatches(r))).next(u=>{const d=[],p=[];let v=sn();for(const D of s){d.push(D.batchId);for(const S of D.mutations)v=v.add(S.key)}for(const D of u){p.push(D.batchId);for(const S of D.mutations)v=v.add(S.key)}return t.fi.Ks(r,v).next(D=>({di:D,removedBatchIds:d,addedBatchIds:p}))})})}),xv.apply(this,arguments)}function Ob(n,e){const t=Ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),u=t.hi.newChangeBuffer({trackRemovals:!0});return function(d,p,v,D){const S=v.batch,x=S.keys();let L=de.resolve();return x.forEach(q=>{L=L.next(()=>D.getEntry(p,q)).next(K=>{const ye=v.docVersions.get(q);xt(null!==ye),K.version.compareTo(ye)<0&&(S.applyToRemoteDocument(K,v),K.isValidDocument()&&(K.setReadTime(v.commitVersion),D.addEntry(K)))})}),L.next(()=>d.Bs.removeMutationBatch(p,S))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.fi.Ks(r,s))})}function Ov(n){const e=Ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function Nv(n,e){const t=Ke(n),r=e.snapshotVersion;let s=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.hi.newChangeBuffer({trackRemovals:!0});s=t.ui;const p=[];e.targetChanges.forEach((D,S)=>{const x=s.get(S);if(!x)return;p.push(t.fs.removeMatchingKeys(u,D.removedDocuments,S).next(()=>t.fs.addMatchingKeys(u,D.addedDocuments,S)));let L=x.withSequenceNumber(u.currentSequenceNumber);var q,K,ye;e.targetMismatches.has(S)?L=L.withResumeToken(tr.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):D.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(D.resumeToken,r)),s=s.insert(S,L),K=L,ye=D,(0===(q=x).resumeToken.approximateByteSize()||K.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8||ye.addedDocuments.size+ye.modifiedDocuments.size+ye.removedDocuments.size>0)&&p.push(t.fs.updateTargetData(u,L))});let v=js();if(e.documentUpdates.forEach(D=>{e.resolvedLimboDocuments.has(D)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(u,D))}),p.push(Rv(u,d,e.documentUpdates).next(D=>{v=D})),!r.isEqual(bt.min())){const D=t.fs.getLastRemoteSnapshotVersion(u).next(S=>t.fs.setTargetsMetadata(u,u.currentSequenceNumber,r));p.push(D)}return de.waitFor(p).next(()=>d.apply(u)).next(()=>t.fi.Gs(u,v)).next(()=>v)}).then(u=>(t.ui=s,u))}function Rv(n,e,t){let r=sn();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let u=js();return t.forEach((d,p)=>{const v=s.get(d);p.isNoDocument()&&p.version.isEqual(bt.min())?(e.removeEntry(d,p.readTime),u=u.insert(d,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||0===p.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(p),u=u.insert(d,p)):Fe("LocalStore","Ignoring outdated watch update for ",d,". Current version:",v.version," Watch version:",p.version)}),u})}function $C(n,e){const t=Ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function Sh(n,e){const t=Ke(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.fs.getTargetData(r,e).next(u=>u?(s=u,de.resolve(s)):t.fs.allocateTargetId(r).next(d=>(s=new fu(e,d,0,r.currentSequenceNumber),t.fs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.ui.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.ui=t.ui.insert(r.targetId,r),t.ai.set(e,r.targetId)),r})}function wp(n,e,t){return bp.apply(this,arguments)}function bp(){return bp=(0,be.Z)(function*(n,e,t){const r=Ke(n),s=r.ui.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,d=>r.persistence.referenceDelegate.removeTarget(d,s)))}catch(d){if(!Tc(d))throw d;Fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.ui=r.ui.remove(e),r.ai.delete(s.target)}),bp.apply(this,arguments)}function Mh(n,e,t){const r=Ke(n);let s=bt.min(),u=sn();return r.persistence.runTransaction("Execute query","readonly",d=>function(p,v,D){const S=Ke(p),x=S.ai.get(D);return void 0!==x?de.resolve(S.ui.get(x)):S.fs.getTargetData(v,D)}(r,d,cs(e)).next(p=>{if(p)return s=p.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(d,p.targetId).next(v=>{u=v})}).next(()=>r.oi.Qs(d,e,t?s:bt.min(),t?u:sn())).next(p=>(Km(r,bw(e),p),{documents:p,_i:u})))}function Pv(n,e){const t=Ke(n),r=Ke(t.fs),s=t.ui.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",u=>r.Et(u,e).next(d=>d?d.target:null))}function Wm(n,e){const t=Ke(n),r=t.ci.get(e)||bt.min();return t.persistence.runTransaction("Get new document changes","readonly",s=>t.hi.getAllFromCollectionGroup(s,e,J_(r,-1),Number.MAX_SAFE_INTEGER)).then(s=>(Km(t,e,s),s))}function Km(n,e,t){let r=bt.min();t.forEach((s,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.ci.set(e,r)}function kv(){return kv=(0,be.Z)(function*(n,e,t,r){const s=Ke(n);let u=sn(),d=js();for(const D of t){const S=e.wi(D.metadata.name);D.document&&(u=u.add(S));const x=e.mi(D);x.setReadTime(e.gi(D.metadata.readTime)),d=d.insert(S,x)}const p=s.hi.newChangeBuffer({trackRemovals:!0}),v=yield Sh(s,(D=r,cs(vc(Zt.fromString(`__bundle__/docs/${D}`)))));var D;return s.persistence.runTransaction("Apply bundle documents","readwrite",D=>Rv(D,p,d).next(S=>(p.apply(D),S)).next(S=>s.fs.removeMatchingKeysForTargetId(D,v.targetId).next(()=>s.fs.addMatchingKeys(D,u,v.targetId)).next(()=>s.fi.Gs(D,S)).next(()=>S)))}),kv.apply(this,arguments)}function GC(n,e){return Fv.apply(this,arguments)}function Fv(){return Fv=(0,be.Z)(function*(n,e,t=sn()){const r=yield Sh(n,cs(Mc(e.bundledQuery))),s=Ke(n);return s.persistence.runTransaction("Save named query","readwrite",u=>{const d=Zn(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return s._s.saveNamedQuery(u,e);const p=r.withResumeToken(tr.EMPTY_BYTE_STRING,d);return s.ui=s.ui.insert(p.targetId,p),s.fs.updateTargetData(u,p).next(()=>s.fs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>s.fs.addMatchingKeys(u,t,r.targetId)).next(()=>s._s.saveNamedQuery(u,e))})}),Fv.apply(this,arguments)}class Nb{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return de.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var r;return this.yi.set(t.id,{id:(r=t).id,version:r.version,createTime:Zn(r.createTime)}),de.resolve()}getNamedQuery(e,t){return de.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(r=t).name,query:Mc(r.bundledQuery),readTime:Zn(r.readTime)}),de.resolve();var r}}class Lv{constructor(){this.overlays=new wn(He.comparator),this.Ii=new Map}getOverlay(e,t){return de.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((s,u)=>{this.Xt(e,t,u)}),de.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Ii.get(r);return void 0!==s&&(s.forEach(u=>this.overlays=this.overlays.remove(u)),this.Ii.delete(r)),de.resolve()}getOverlaysForCollection(e,t,r){const s=bn(),u=t.length+1,d=new He(t.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,D=v.getKey();if(!t.isPrefixOf(D.path))break;D.path.length===u&&v.largestBatchId>r&&s.set(v.getKey(),v)}return de.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let u=new wn((D,S)=>D-S);const d=this.overlays.getIterator();for(;d.hasNext();){const D=d.getNext().value;if(D.getKey().getCollectionGroup()===t&&D.largestBatchId>r){let S=u.get(D.largestBatchId);null===S&&(S=bn(),u=u.insert(D.largestBatchId,S)),S.set(D.getKey(),D)}}const p=bn(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((D,S)=>p.set(D,S)),!(p.size()>=s)););return de.resolve(p)}Xt(e,t,r){if(null===r)return;const s=this.overlays.get(r.key);if(null!==s){const d=this.Ii.get(s.largestBatchId).delete(r.key);this.Ii.set(s.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new vv(t,r));let u=this.Ii.get(t);void 0===u&&(u=sn(),this.Ii.set(t,u)),this.Ii.set(t,u.add(r.key))}}class Ym{constructor(){this.Ti=new yn(Ur.Ei),this.Ai=new yn(Ur.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const r=new Ur(e,t);this.Ti=this.Ti.add(r),this.Ai=this.Ai.add(r)}bi(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Pi(new Ur(e,t))}Vi(e,t){e.forEach(r=>this.removeReference(r,t))}vi(e){const t=new He(new Zt([])),r=new Ur(t,e),s=new Ur(t,e+1),u=[];return this.Ai.forEachInRange([r,s],d=>{this.Pi(d),u.push(d.key)}),u}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new He(new Zt([])),r=new Ur(t,e),s=new Ur(t,e+1);let u=sn();return this.Ai.forEachInRange([r,s],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new Ur(e,0),r=this.Ti.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ur{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return He.comparator(e.key,t.key)||Lt(e.Ci,t.Ci)}static Ri(e,t){return Lt(e.Ci,t.Ci)||He.comparator(e.key,t.key)}}class Rb{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new yn(Ur.Ei)}checkEmpty(e){return de.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,s){const u=this.xi;this.xi++;const d=new _v(u,t,r,s);this.Bs.push(d);for(const p of s)this.Ni=this.Ni.add(new Ur(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return de.resolve(d)}lookupMutationBatch(e,t){return de.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.Mi(t+1),u=s<0?0:s;return de.resolve(this.Bs.length>u?this.Bs[u]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return de.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ur(t,0),s=new Ur(t,Number.POSITIVE_INFINITY),u=[];return this.Ni.forEachInRange([r,s],d=>{const p=this.ki(d.Ci);u.push(p)}),de.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new yn(Lt);return t.forEach(s=>{const u=new Ur(s,0),d=new Ur(s,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([u,d],p=>{r=r.add(p.Ci)})}),de.resolve(this.Oi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let u=r;He.isDocumentKey(u)||(u=u.child(""));const d=new Ur(new He(u),0);let p=new yn(Lt);return this.Ni.forEachWhile(v=>{const D=v.key.path;return!!r.isPrefixOf(D)&&(D.length===s&&(p=p.add(v.Ci)),!0)},d),de.resolve(this.Oi(p))}Oi(e){const t=[];return e.forEach(r=>{const s=this.ki(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){xt(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let r=this.Ni;return de.forEach(t.mutations,s=>{const u=new Ur(s.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Ni=r})}_n(e){}containsKey(e,t){const r=new Ur(t,0),s=this.Ni.firstAfterOrEqual(r);return de.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return de.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class Pb{constructor(e){this.$i=e,this.docs=new wn(He.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),u=s?s.size:0,d=this.$i(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return de.resolve(r?r.document.mutableCopy():En.newInvalidDocument(t))}getEntries(e,t){let r=js();return t.forEach(s=>{const u=this.docs.get(s);r=r.insert(s,u?u.document.mutableCopy():En.newInvalidDocument(s))}),de.resolve(r)}getAllFromCollection(e,t,r){let s=js();const u=new He(t.child("")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:p,value:{document:v}}=d.getNext();if(!t.isPrefixOf(p.path))break;p.path.length>t.length+1||X_(sC(v),r)<=0||(s=s.insert(v.key,v.mutableCopy()))}return de.resolve(s)}getAllFromCollectionGroup(e,t,r,s){rt()}Bi(e,t){return de.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new zC(this)}getSize(e){return de.resolve(this.size)}}class zC extends Av{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Kn.addEntry(e,s)):this.Kn.removeEntry(r)}),de.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class kb{constructor(e){this.persistence=e,this.Li=new ll(t=>lu(t),Wf),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.Ui=0,this.qi=new Ym,this.targetCount=0,this.Ki=Nc.gn()}forEachTarget(e,t){return this.Li.forEach((r,s)=>t(s)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ui&&(this.Ui=t),de.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new Nc(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,de.resolve()}updateTargetData(e,t){return this.Tn(t),de.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,t,r){let s=0;const u=[];return this.Li.forEach((d,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.Li.delete(d),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),s++)}),de.waitFor(u).next(()=>s)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,t){const r=this.Li.get(t)||null;return de.resolve(r)}addMatchingKeys(e,t,r){return this.qi.bi(t,r),de.resolve()}removeMatchingKeys(e,t,r){this.qi.Vi(t,r);const s=this.persistence.referenceDelegate,u=[];return s&&t.forEach(d=>{u.push(s.markPotentiallyOrphaned(e,d))}),de.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),de.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qi.Di(t);return de.resolve(r)}containsKey(e,t){return de.resolve(this.qi.containsKey(t))}}class Fb{constructor(e,t){this.Gi={},this.overlays={},this.es=new us(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new kb(this),this.indexManager=new FC,this.ds=new Pb(r=>this.referenceDelegate.Qi(r)),this.M=new lb(t),this._s=new Nb(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Lv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Gi[e.toKey()];return r||(r=new Rb(t,this.referenceDelegate),this.Gi[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){Fe("MemoryPersistence","Starting transaction:",e);const s=new qC(this.es.next());return this.referenceDelegate.ji(),r(s).next(u=>this.referenceDelegate.Wi(s).next(()=>u)).toPromise().then(u=>(s.raiseOnCommittedEvent(),u))}zi(e,t){return de.or(Object.values(this.Gi).map(r=>()=>r.containsKey(e,t)))}}class qC extends yv{constructor(e){super(),this.currentSequenceNumber=e}}class Qm{constructor(e){this.persistence=e,this.Hi=new Ym,this.Ji=null}static Yi(e){return new Qm(e)}get Xi(){if(this.Ji)return this.Ji;throw rt()}addReference(e,t,r){return this.Hi.addReference(r,t),this.Xi.delete(r.toString()),de.resolve()}removeReference(e,t,r){return this.Hi.removeReference(r,t),this.Xi.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),de.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(s=>this.Xi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(u=>this.Xi.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.Xi,r=>{const s=He.fromPath(r);return this.Zi(e,s).next(u=>{u||t.removeEntry(s,bt.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(r=>{r?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return de.or([()=>de.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function Lb(n,e){return`firestore_clients_${n}_${e}`}function mi(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function fl(n,e){return`firestore_targets_${n}_${e}`}class Jm{constructor(e,t,r,s){this.user=e,this.batchId=t,this.state=r,this.error=s}static tr(e,t,r){const s=JSON.parse(r);let u,d="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(u=new xe(s.error.code,s.error.message))),d?new Jm(e,t,s.state,u):(fr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Dp{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static tr(e,t){const r=JSON.parse(t);let s,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(s=new xe(r.error.code,r.error.message))),u?new Dp(e,r.state,s):(fr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vv{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const r=JSON.parse(t);let s="object"==typeof r&&r.activeTargetIds instanceof Array,u=ep();for(let d=0;s&&d<r.activeTargetIds.length;++d)s=q_(r.activeTargetIds[d]),u=u.add(r.activeTargetIds[d]);return s?new Vv(e,u):(fr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Fc{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Fc(t.clientId,t.onlineState):(fr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Uv{constructor(){this.activeTargetIds=ep()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ip{constructor(e,t,r,s,u){this.window=e,this.Yn=t,this.persistenceKey=r,this.ir=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new wn(Lt),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.hr=Lb(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new Uv),this.dr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,be.Z)(function*(){const t=yield e.syncEngine.Fs();for(const s of t){if(s===e.ir)continue;const u=e.getItem(Lb(e.persistenceKey,s));if(u){const d=Vv.tr(s,u);d&&(e.ar=e.ar.insert(d.clientId,d))}}e.yr();const r=e.storage.getItem(e.mr);if(r){const s=e.pr(r);s&&e.Ir(s)}for(const s of e.cr)e.ur(s);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((r,s)=>{s.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,r){this.Er(e,t,r),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(fl(this.persistenceKey,e));if(r){const s=Dp.tr(e,r);s&&(t=s.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(fl(this.persistenceKey,e))}updateQueryState(e,t,r){this.br(e,t,r)}handleUserChange(e,t,r){t.forEach(s=>{this.Ar(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Fe("SharedClientState","READ",e,t),t}setItem(e,t){Fe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Fe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Fe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.hr)return void fr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,be.Z)(function*(){if(t.started){if(null!==r.key)if(t.dr.test(r.key)){if(null==r.newValue){const s=t.vr(r.key);return t.Sr(s,null)}{const s=t.Dr(r.key,r.newValue);if(s)return t.Sr(s.clientId,s)}}else if(t._r.test(r.key)){if(null!==r.newValue){const s=t.Cr(r.key,r.newValue);if(s)return t.Nr(s)}}else if(t.wr.test(r.key)){if(null!==r.newValue){const s=t.kr(r.key,r.newValue);if(s)return t.Mr(s)}}else if(r.key===t.mr){if(null!==r.newValue){const s=t.pr(r.newValue);if(s)return t.Ir(s)}}else if(r.key===t.lr){const s=function(u){let d=us.A;if(null!=u)try{const p=JSON.parse(u);xt("number"==typeof p),d=p}catch(p){fr("SharedClientState","Failed to read sequence number from WebStorage",p)}return d}(r.newValue);s!==us.A&&t.sequenceNumberHandler(s)}else if(r.key===t.gr){const s=t.Or(r.newValue);yield Promise.all(s.map(u=>t.syncEngine.Fr(u)))}}else t.cr.push(r)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,r){const s=new Jm(this.currentUser,e,t,r),u=mi(this.persistenceKey,this.currentUser,e);this.setItem(u,s.er())}Ar(e){const t=mi(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,r){const s=fl(this.persistenceKey,e),u=new Dp(e,t,r);this.setItem(s,u.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const r=this.vr(e);return Vv.tr(r,t)}Cr(e,t){const r=this._r.exec(e),s=Number(r[1]);return Jm.tr(new Fr(void 0!==r[2]?r[2]:null),s,t)}kr(e,t){const r=this.wr.exec(e),s=Number(r[1]);return Dp.tr(s,t)}pr(e){return Fc.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,be.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const r=t?this.ar.insert(e,t):this.ar.remove(e),s=this.Tr(this.ar),u=this.Tr(r),d=[],p=[];return u.forEach(v=>{s.has(v)||d.push(v)}),s.forEach(v=>{u.has(v)||p.push(v)}),this.syncEngine.Lr(d,p).then(()=>{this.ar=r})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=ep();return e.forEach((r,s)=>{t=t.unionWith(s.activeTargetIds)}),t}}class Vb{constructor(){this.Ur=new Uv,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new Uv,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ub{Kr(e){}shutdown(){}}class Bb{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const ZC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Bv{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class jb extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,s,u){const d=this.ho(e,t);Fe("RestConnection","Sending: ",d,r);const p={};return this.lo(p,s,u),this.fo(e,d,p,r).then(v=>(Fe("RestConnection","Received: ",v),v),v=>{throw cc("RestConnection",`${e} failed with error: `,v,"url: ",d,"request:",r),v})}_o(e,t,r,s,u){return this.co(e,t,r,s,u)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+nh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,u)=>e[u]=s),r&&r.headers.forEach((s,u)=>e[u]=s)}ho(e,t){return`${this.uo}/v1/${t}:${ZC[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,s){return new Promise((u,d)=>{const p=new KI;p.listenOnce(ZI.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case bm.NO_ERROR:const D=p.getResponseJson();Fe("Connection","XHR received:",JSON.stringify(D)),u(D);break;case bm.TIMEOUT:Fe("Connection",'RPC "'+e+'" timed out'),d(new xe(le.DEADLINE_EXCEEDED,"Request time out"));break;case bm.HTTP_ERROR:const S=p.getStatus();if(Fe("Connection",'RPC "'+e+'" failed with status:',S,"response text:",p.getResponseText()),S>0){const x=p.getResponseJson().error;if(x&&x.status&&x.message){const L=function(q){const K=q.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(K)>=0?K:le.UNKNOWN}(x.status);d(new xe(L,x.message))}else d(new xe(le.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new xe(le.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Fe("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(s);p.send(t,"POST",v,r,15)})}wo(e,t,r){const s=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=rw(),d=iw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new WI({})),this.lo(p.initMessageHeaders,t,r),(0,St.uI)()||(0,St.b$)()||(0,St.d)()||(0,St.w1)()||(0,St.Mn)()||(0,St.ru)()||(p.httpHeadersOverwriteParam="$httpHeaders");const v=s.join("");Fe("Connection","Creating WebChannel: "+v,p);const D=u.createWebChannel(v,p);let S=!1,x=!1;const L=new Bv({Jr:K=>{x?Fe("Connection","Not sending because WebChannel is closed:",K):(S||(Fe("Connection","Opening WebChannel transport."),D.open(),S=!0),Fe("Connection","WebChannel sending:",K),D.send(K))},Yr:()=>D.close()}),q=(K,ye,Pe)=>{K.listen(ye,pt=>{try{Pe(pt)}catch(mt){setTimeout(()=>{throw mt},0)}})};return q(D,Bf.EventType.OPEN,()=>{x||Fe("Connection","WebChannel transport opened.")}),q(D,Bf.EventType.CLOSE,()=>{x||(x=!0,Fe("Connection","WebChannel transport closed"),L.ro())}),q(D,Bf.EventType.ERROR,K=>{x||(x=!0,cc("Connection","WebChannel transport errored:",K),L.ro(new xe(le.UNAVAILABLE,"The operation could not be completed")))}),q(D,Bf.EventType.MESSAGE,K=>{var ye;if(!x){const Pe=K.data[0];xt(!!Pe);const pt=Pe,mt=pt.error||(null===(ye=pt[0])||void 0===ye?void 0:ye.error);if(mt){Fe("Connection","WebChannel received error:",mt);const Dt=mt.status;let ut=function(Ut){const on=br[Ut];if(void 0!==on)return Lw(on)}(Dt),kt=mt.message;void 0===ut&&(ut=le.INTERNAL,kt="Unknown error status: "+Dt+" with message "+mt.message),x=!0,L.ro(new xe(ut,kt)),D.close()}else Fe("Connection","WebChannel received:",Pe),L.oo(Pe)}}),q(d,sw.STAT_EVENT,K=>{K.stat===ow.PROXY?Fe("Connection","Detected buffering proxy"):K.stat===ow.NOPROXY&&Fe("Connection","Detected no buffering proxy")}),setTimeout(()=>{L.io()},0),L}}function jv(){return"undefined"!=typeof window?window:null}function Lc(){return"undefined"!=typeof document?document:null}function Vc(n){return new Gw(n,!0)}class $b{constructor(e,t,r=1e3,s=1.5,u=6e4){this.Yn=e,this.timerId=t,this.mo=r,this.yo=s,this.po=u,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),s=Math.max(0,t-r);s>0&&Fe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,s,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class $v{constructor(e,t,r,s,u,d,p,v){this.Yn=e,this.Vo=r,this.vo=s,this.So=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new $b(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,be.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,be.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,be.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(fr(t.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===le.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Do===t&&this.Qo(r,s)},r=>{e(()=>{const s=new xe(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(s)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(s=>{r(()=>this.jo(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Oo(){var e=this;this.state=5,this.No.Ro((0,be.Z)(function*(){e.state=0,e.start()}))}jo(e){return Fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WC extends $v{constructor(e,t,r,s,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,d),this.M=u}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function mS(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:rt(),s=e.targetChange.targetIds||[],u=function(v,D){return v.N?(xt(void 0===D||"string"==typeof D),tr.fromBase64String(D||"")):(xt(void 0===D||D instanceof Uint8Array),tr.fromUint8Array(D||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(v){const D=void 0===v.code?le.UNKNOWN:Lw(v.code);return new xe(D,v.message||"")}(d);t=new Bw(r,s,u,p||null)}else if("documentChange"in e){const r=e.documentChange,s=ya(n,r.document.name),u=Zn(r.document.updateTime),d=new gi({mapValue:{fields:r.document.fields}}),p=En.newFoundDocument(s,u,d);t=new tp(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const r=e.documentDelete,s=ya(n,r.document),u=r.readTime?Zn(r.readTime):bt.min(),d=En.newNoDocument(s,u);t=new tp([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,s=ya(n,r.document);t=new tp([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return rt();{const r=e.filter,u=new kw(r.count||0);t=new Uw(r.targetId,u)}}var v;return t}(this.M,e),r=function(s){if(!("targetChange"in s))return bt.min();const u=s.targetChange;return u.targetIds&&u.targetIds.length?bt.min():u.readTime?Zn(u.readTime):bt.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=_h(this.M),t.addTarget=function(s,u){let d;const p=u.target;return d=Tm(p)?{documents:fv(s,p)}:{query:ip(s,p)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?d.resumeToken=cv(s,u.resumeToken):u.snapshotVersion.compareTo(bt.min())>0&&(d.readTime=yh(s,u.snapshotVersion.toTimestamp())),d}(this.M,e);const r=function _C(n,e){const t=function(r,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=_h(this.M),t.removeTarget=e,this.Lo(t)}}class Hb extends $v{constructor(e,t,r,s,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,d),this.M=u,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function yS(n,e){return n&&n.length>0?(xt(void 0!==e),n.map(t=>function(r,s){let u=Zn(r.updateTime?r.updateTime:s);return u.isEqual(bt.min())&&(u=Zn(s)),new Nw(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Zn(e.commitTime);return this.listener.tu(r,t)}return xt(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=_h(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Um(this.M,r))};this.Lo(t)}}class Xm extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.M=s,this.su=!1}iu(){if(this.su)throw new xe(le.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.So.co(e,t,r,s,u)).catch(s=>{throw"FirebaseError"===s.name?(s.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new xe(le.UNKNOWN,s.toString())})}_o(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.So._o(e,t,r,s,u)).catch(s=>{throw"FirebaseError"===s.name?(s.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new xe(le.UNKNOWN,s.toString())})}terminate(){this.su=!0}}class Gb{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(fr(t),this.uu=!1):Fe("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class KC{constructor(e,t,r,s,u){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=u,this.gu.Kr(p=>{r.enqueueAndForget((0,be.Z)(function*(){var v;pl(d)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,be.Z)(function*(D){const S=Ke(D);S.wu.add(4),yield Tp(S),S.yu.set("Unknown"),S.wu.delete(4),yield Uc(S)}),function(D){return v.apply(this,arguments)})(d))}))}),this.yu=new Gb(r,s)}}function Uc(n){return Cp.apply(this,arguments)}function Cp(){return Cp=(0,be.Z)(function*(n){if(pl(n))for(const e of n.mu)yield e(!0)}),Cp.apply(this,arguments)}function Tp(n){return Hv.apply(this,arguments)}function Hv(){return Hv=(0,be.Z)(function*(n){for(const e of n.mu)yield e(!1)}),Hv.apply(this,arguments)}function ey(n,e){const t=Ke(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),ry(t)?ny(t):jc(t).Mo()&&ty(t,e))}function xh(n,e){const t=Ke(n),r=jc(t);t._u.delete(e),r.Mo()&&zb(t,e),0===t._u.size&&(r.Mo()?r.$o():pl(t)&&t.yu.set("Unknown"))}function ty(n,e){n.pu.Z(e.targetId),jc(n).Ho(e)}function zb(n,e){n.pu.Z(e),jc(n).Jo(e)}function ny(n){n.pu=new np({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n._u.get(e)||null}),jc(n).start(),n.yu.au()}function ry(n){return pl(n)&&!jc(n).ko()&&n._u.size>0}function pl(n){return 0===Ke(n).wu.size}function qb(n){n.pu=void 0}function Zb(n){return Gv.apply(this,arguments)}function Gv(){return Gv=(0,be.Z)(function*(n){n._u.forEach((e,t)=>{ty(n,e)})}),Gv.apply(this,arguments)}function Wb(n,e){return iy.apply(this,arguments)}function iy(){return iy=(0,be.Z)(function*(n,e){qb(n),ry(n)?(n.yu.lu(e),ny(n)):n.yu.set("Unknown")}),iy.apply(this,arguments)}function Kb(n,e,t){return sy.apply(this,arguments)}function sy(){return sy=(0,be.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof Bw&&2===e.state&&e.cause)try{yield(r=(0,be.Z)(function*(s,u){const d=u.cause;for(const p of u.targetIds)s._u.has(p)&&(yield s.remoteSyncer.rejectListen(p,d),s._u.delete(p),s.pu.removeTarget(p))}),function(s,u){return r.apply(this,arguments)})(n,e)}catch(r){Fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield oy(n,r)}else if(e instanceof tp?n.pu.ut(e):e instanceof Uw?n.pu._t(e):n.pu.ht(e),!t.isEqual(bt.min()))try{const r=yield Ov(n.localStore);t.compareTo(r)>=0&&(yield function(s,u){const d=s.pu.yt(u);return d.targetChanges.forEach((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const D=s._u.get(v);D&&s._u.set(v,D.withResumeToken(p.resumeToken,u))}}),d.targetMismatches.forEach(p=>{const v=s._u.get(p);if(!v)return;s._u.set(p,v.withResumeToken(tr.EMPTY_BYTE_STRING,v.snapshotVersion)),zb(s,p);const D=new fu(v.target,p,1,v.sequenceNumber);ty(s,D)}),s.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Fe("RemoteStore","Failed to raise snapshot:",r),yield oy(n,r)}var r}),sy.apply(this,arguments)}function oy(n,e,t){return zv.apply(this,arguments)}function zv(){return zv=(0,be.Z)(function*(n,e,t){if(!Tc(e))throw e;n.wu.add(1),yield Tp(n),n.yu.set("Offline"),t||(t=()=>Ov(n.localStore)),n.asyncQueue.enqueueRetryable((0,be.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield Uc(n)}))}),zv.apply(this,arguments)}function YC(n,e){return e().catch(t=>oy(n,t,e))}function Bc(n){return Yb.apply(this,arguments)}function Yb(){return Yb=(0,be.Z)(function*(n){const e=Ke(n),t=mu(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;_S(e);)try{const s=yield $C(e.localStore,r);if(null===s){0===e.du.length&&t.$o();break}r=s.batchId,vS(e,s)}catch(s){yield oy(e,s)}QC(e)&&JC(e)}),Yb.apply(this,arguments)}function _S(n){return pl(n)&&n.du.length<10}function vS(n,e){n.du.push(e);const t=mu(n);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function QC(n){return pl(n)&&!mu(n).ko()&&n.du.length>0}function JC(n){mu(n).start()}function ES(n){return Qb.apply(this,arguments)}function Qb(){return Qb=(0,be.Z)(function*(n){mu(n).nu()}),Qb.apply(this,arguments)}function wS(n){return Oh.apply(this,arguments)}function Oh(){return Oh=(0,be.Z)(function*(n){const e=mu(n);for(const t of n.du)e.Zo(t.mutations)}),Oh.apply(this,arguments)}function bS(n,e,t){return ay.apply(this,arguments)}function ay(){return ay=(0,be.Z)(function*(n,e,t){const r=n.du.shift(),s=up.from(r,e,t);yield YC(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield Bc(n)}),ay.apply(this,arguments)}function qv(n,e){return uy.apply(this,arguments)}function uy(){return uy=(0,be.Z)(function*(n,e){var t;e&&mu(n).Xo&&(yield(t=(0,be.Z)(function*(r,s){if(Fw(u=s.code)&&u!==le.ABORTED){const d=r.du.shift();mu(r).Fo(),yield YC(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,s)),yield Bc(r)}var u}),function(r,s){return t.apply(this,arguments)})(n,e)),QC(n)&&JC(n)}),uy.apply(this,arguments)}function Zv(n,e){return Jb.apply(this,arguments)}function Jb(){return Jb=(0,be.Z)(function*(n,e){const t=Ke(n);t.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const r=pl(t);t.wu.add(3),yield Tp(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield Uc(t)}),Jb.apply(this,arguments)}function Ap(n,e){return ly.apply(this,arguments)}function ly(){return ly=(0,be.Z)(function*(n,e){const t=Ke(n);e?(t.wu.delete(2),yield Uc(t)):e||(t.wu.add(2),yield Tp(t),t.yu.set("Unknown"))}),ly.apply(this,arguments)}function jc(n){return n.Iu||(n.Iu=function(e,t,r){const s=Ke(e);return s.iu(),new WC(t,s.So,s.authCredentials,s.appCheckCredentials,s.M,r)}(n.datastore,n.asyncQueue,{Xr:Zb.bind(null,n),eo:Wb.bind(null,n),zo:Kb.bind(null,n)}),n.mu.push(function(){var e=(0,be.Z)(function*(t){t?(n.Iu.Fo(),ry(n)?ny(n):n.yu.set("Unknown")):(yield n.Iu.stop(),qb(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function mu(n){return n.Tu||(n.Tu=function(e,t,r){const s=Ke(e);return s.iu(),new Hb(t,s.So,s.authCredentials,s.appCheckCredentials,s.M,r)}(n.datastore,n.asyncQueue,{Xr:ES.bind(null,n),eo:qv.bind(null,n),eu:wS.bind(null,n),tu:bS.bind(null,n)}),n.mu.push(function(){var e=(0,be.Z)(function*(t){t?(n.Tu.Fo(),yield Bc(n)):(yield n.Tu.stop(),n.du.length>0&&(Fe("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class Xb{constructor(e,t,r,s,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=u,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,s,u){const d=Date.now()+r,p=new Xb(e,t,d,s,u);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xe(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $c(n,e){if(fr("AsyncQueue",`${e}: ${n}`),Tc(n))return new xe(le.UNAVAILABLE,`${e}: ${n}`);throw n}class Nh{constructor(e){this.comparator=e?(t,r)=>e(t,r)||He.comparator(t.key,r.key):(t,r)=>He.comparator(t.key,r.key),this.keyedMap=ph(),this.sortedSet=new wn(this.comparator)}static emptySet(e){return new Nh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Nh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(!s.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Nh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class cy{constructor(){this.Eu=new wn(He.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):rt():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Rh{constructor(e,t,r,s,u,d,p,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v}static fromInitialDocuments(e,t,r,s){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new Rh(e,t,Nh.emptySet(t),u,r,s,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class DS{constructor(){this.Ru=void 0,this.listeners=[]}}class IS{constructor(){this.queries=new ll(e=>ov(e),ch),this.onlineState="Unknown",this.bu=new Set}}function eD(n,e){return Wv.apply(this,arguments)}function Wv(){return Wv=(0,be.Z)(function*(n,e){const t=Ke(n),r=e.query;let s=!1,u=t.queries.get(r);if(u||(s=!0,u=new DS),s)try{u.Ru=yield t.onListen(r)}catch(d){const p=$c(d,`Initialization of query '${Mm(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,u),u.listeners.push(e),e.Pu(t.onlineState),u.Ru&&e.Vu(u.Ru)&&Sp(t)}),Wv.apply(this,arguments)}function Kv(n,e){return Yv.apply(this,arguments)}function Yv(){return Yv=(0,be.Z)(function*(n,e){const t=Ke(n),r=e.query;let s=!1;const u=t.queries.get(r);if(u){const d=u.listeners.indexOf(e);d>=0&&(u.listeners.splice(d,1),s=0===u.listeners.length)}if(s)return t.queries.delete(r),t.onUnlisten(r)}),Yv.apply(this,arguments)}function CS(n,e){const t=Ke(n);let r=!1;for(const s of e){const d=t.queries.get(s.query);if(d){for(const p of d.listeners)p.Vu(s)&&(r=!0);d.Ru=s}}r&&Sp(t)}function XC(n,e,t){const r=Ke(n),s=r.queries.get(e);if(s)for(const u of s.listeners)u.onError(t);r.queries.delete(e)}function Sp(n){n.bu.forEach(e=>{e.next()})}class Qv{constructor(e,t,r){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new Rh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Rh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class Io{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class tD{constructor(e){this.M=e}wi(e){return ya(this.M,e)}mi(e){return e.metadata.exists?Zw(this.M,e.document,!1):En.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return Zn(e)}}class Jv{constructor(e,t,r){this.Ou=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=nD(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=Zt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new tD(this.M);for(const s of e)if(s.metadata.queries){const u=r.wi(s.metadata.name);for(const d of s.metadata.queries){const p=(t.get(d)||sn()).add(u);t.set(d,p)}}return t}complete(){var e=this;return(0,be.Z)(function*(){const t=yield function HC(n,e,t,r){return kv.apply(this,arguments)}(e.localStore,new tD(e.M),e.documents,e.Ou.id),r=e.$u(e.documents);for(const s of e.queries)yield GC(e.localStore,s,r.get(s.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function nD(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class rD{constructor(e){this.key=e}}class dy{constructor(e){this.key=e}}class Xv{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=sn(),this.mutatedKeys=sn(),this.Gu=Dw(e),this.Qu=new Nh(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new cy,s=t?t.Qu:this.Qu;let u=t?t.mutatedKeys:this.mutatedKeys,d=s,p=!1;const v="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,D="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((S,x)=>{const L=s.get(S),q=av(this.query,x)?x:null,K=!!L&&this.mutatedKeys.has(L.key),ye=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let Pe=!1;L&&q?L.data.isEqual(q.data)?K!==ye&&(r.track({type:3,doc:q}),Pe=!0):this.Hu(L,q)||(r.track({type:2,doc:q}),Pe=!0,(v&&this.Gu(q,v)>0||D&&this.Gu(q,D)<0)&&(p=!0)):!L&&q?(r.track({type:0,doc:q}),Pe=!0):L&&!q&&(r.track({type:1,doc:L}),Pe=!0,(v||D)&&(p=!0)),Pe&&(q?(d=d.add(q),u=ye?u.add(S):u.delete(S)):(d=d.delete(S),u=u.delete(S)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const S="F"===this.query.limitType?d.last():d.first();d=d.delete(S.key),u=u.delete(S.key),r.track({type:1,doc:S})}return{Qu:d,zu:r,ii:p,mutatedKeys:u}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const s=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const u=e.zu.Au();u.sort((D,S)=>function(x,L){const q=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return q(x)-q(L)}(D.type,S.type)||this.Gu(D.doc,S.doc)),this.Ju(r);const d=t?this.Yu():[],p=0===this.Ku.size&&this.current?1:0,v=p!==this.qu;return this.qu=p,0!==u.length||v?{snapshot:new Rh(this.query,e.Qu,s,u,e.mutatedKeys,0===p,v,!1),Xu:d}:{Xu:d}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new cy,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=sn(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new dy(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new rD(r))}),t}ta(e){this.Uu=e._i,this.Ku=sn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return Rh.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class iD{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class eT{constructor(e){this.key=e,this.na=!1}}class sD{constructor(e,t,r,s,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.sa={},this.ia=new ll(p=>ov(p),ch),this.ra=new Map,this.oa=new Set,this.ua=new wn(He.comparator),this.aa=new Map,this.ca=new Ym,this.ha={},this.la=new Map,this.fa=Nc.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function oD(n,e){return e0.apply(this,arguments)}function e0(){return e0=(0,be.Z)(function*(n,e){const t=p0(n);let r,s;const u=t.ia.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),s=u.view.ea();else{const d=yield Sh(t.localStore,cs(e));t.isPrimaryClient&&ey(t.remoteStore,d);const p=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,s=yield t0(t,e,r,"current"===p)}return s}),e0.apply(this,arguments)}function t0(n,e,t,r){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,be.Z)(function*(n,e,t,r){n._a=(S,x,L)=>{return(q=(0,be.Z)(function*(K,ye,Pe,pt){let mt=ye.view.Wu(Pe);mt.ii&&(mt=yield Mh(K.localStore,ye.query,!1).then(({documents:kt})=>ye.view.Wu(kt,mt)));const Dt=pt&&pt.targetChanges.get(ye.targetId),ut=ye.view.applyChanges(mt,K.isPrimaryClient,Dt);return py(K,ye.targetId,ut.Xu),ut.snapshot}),function(K,ye,Pe,pt){return q.apply(this,arguments)})(n,S,x,L);var q};const s=yield Mh(n.localStore,e,!0),u=new Xv(e,s._i),d=u.Wu(s.documents),p=mh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),v=u.applyChanges(d,n.isPrimaryClient,p);py(n,t,v.Xu);const D=new iD(e,t,u);return n.ia.set(e,D),n.ra.has(t)?n.ra.get(t).push(e):n.ra.set(t,[e]),v.snapshot}),Mp.apply(this,arguments)}function Co(n,e){return n0.apply(this,arguments)}function n0(){return n0=(0,be.Z)(function*(n,e){const t=Ke(n),r=t.ia.get(e),s=t.ra.get(r.targetId);if(s.length>1)return t.ra.set(r.targetId,s.filter(u=>!ch(u,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield wp(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),xh(t.remoteStore,r.targetId),Hc(t,r.targetId)}).catch(Rc))):(Hc(t,r.targetId),yield wp(t.localStore,r.targetId,!0))}),n0.apply(this,arguments)}function r0(){return r0=(0,be.Z)(function*(n,e,t){const r=Pp(n);try{const s=yield function(u,d){const p=Ke(u),v=er.now(),D=d.reduce((x,L)=>x.add(L.key),sn());let S;return p.persistence.runTransaction("Locally write mutations","readwrite",x=>p.fi.Ks(x,D).next(L=>{S=L;const q=[];for(const K of d){const ye=Pw(K,S.get(K.key));null!=ye&&q.push(new Dc(K.key,ye,yw(ye.value.mapValue),rr.exists(!0)))}return p.Bs.addMutationBatch(x,v,q,d)})).then(x=>(x.applyToLocalDocumentSet(S),{batchId:x.batchId,changes:S}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,d,p){let v=u.ha[u.currentUser.toKey()];v||(v=new wn(Lt)),v=v.insert(d,p),u.ha[u.currentUser.toKey()]=v}(r,s.batchId,t),yield yu(r,s.changes),yield Bc(r.remoteStore)}catch(s){const u=$c(s,"Failed to persist write");t.reject(u)}}),r0.apply(this,arguments)}function s0(n,e){return o0.apply(this,arguments)}function o0(){return o0=(0,be.Z)(function*(n,e){const t=Ke(n);try{const r=yield Nv(t.localStore,e);e.targetChanges.forEach((s,u)=>{const d=t.aa.get(u);d&&(xt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?d.na=!0:s.modifiedDocuments.size>0?xt(d.na):s.removedDocuments.size>0&&(xt(d.na),d.na=!1))}),yield yu(t,r,e)}catch(r){yield Rc(r)}}),o0.apply(this,arguments)}function aD(n,e,t){const r=Ke(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.ia.forEach((u,d)=>{const p=d.view.Pu(e);p.snapshot&&s.push(p.snapshot)}),function(u,d){const p=Ke(u);p.onlineState=d;let v=!1;p.queries.forEach((D,S)=>{for(const x of S.listeners)x.Pu(d)&&(v=!0)}),v&&Sp(p)}(r.eventManager,e),s.length&&r.sa.zo(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function uD(n,e,t){return a0.apply(this,arguments)}function a0(){return a0=(0,be.Z)(function*(n,e,t){const r=Ke(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.aa.get(e),u=s&&s.key;if(u){let d=new wn(He.comparator);d=d.insert(u,En.newNoDocument(u,bt.min()));const p=sn().add(u),v=new gh(bt.min(),new Map,new yn(Lt),d,p);yield s0(r,v),r.ua=r.ua.remove(u),r.aa.delete(e),l0(r)}else yield wp(r.localStore,e,!1).then(()=>Hc(r,e,t)).catch(Rc)}),a0.apply(this,arguments)}function AS(n,e){return hy.apply(this,arguments)}function hy(){return hy=(0,be.Z)(function*(n,e){const t=Ke(n),r=e.batch.batchId;try{const s=yield Ob(t.localStore,e);Op(t,r,null),xp(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield yu(t,s)}catch(s){yield Rc(s)}}),hy.apply(this,arguments)}function lD(n,e,t){return u0.apply(this,arguments)}function u0(){return u0=(0,be.Z)(function*(n,e,t){const r=Ke(n);try{const s=yield function(u,d){const p=Ke(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let D;return p.Bs.lookupMutationBatch(v,d).next(S=>(xt(null!==S),D=S.keys(),p.Bs.removeMutationBatch(v,S))).next(()=>p.Bs.performConsistencyCheck(v)).next(()=>p.fi.Ks(v,D))})}(r.localStore,e);Op(r,e,t),xp(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield yu(r,s)}catch(s){yield Rc(s)}}),u0.apply(this,arguments)}function fy(){return fy=(0,be.Z)(function*(n,e){const t=Ke(n);pl(t.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const d=Ke(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>d.Bs.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const s=t.la.get(r)||[];s.push(e),t.la.set(r,s)}catch(r){const s=$c(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}),fy.apply(this,arguments)}function xp(n,e){(n.la.get(e)||[]).forEach(t=>{t.resolve()}),n.la.delete(e)}function Op(n,e,t){const r=Ke(n);let s=r.ha[r.currentUser.toKey()];if(s){const u=s.get(e);u&&(t?u.reject(t):u.resolve(),s=s.remove(e)),r.ha[r.currentUser.toKey()]=s}}function Hc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ra.get(e))n.ia.delete(r),t&&n.sa.wa(r,t);n.ra.delete(e),n.isPrimaryClient&&n.ca.vi(e).forEach(r=>{n.ca.containsKey(r)||cD(n,r)})}function cD(n,e){n.oa.delete(e.path.canonicalString());const t=n.ua.get(e);null!==t&&(xh(n.remoteStore,t),n.ua=n.ua.remove(e),n.aa.delete(t),l0(n))}function py(n,e,t){for(const r of t)r instanceof rD?(n.ca.addReference(r.key,e),dD(n,r)):r instanceof dy?(Fe("SyncEngine","Document no longer in limbo: "+r.key),n.ca.removeReference(r.key,e),n.ca.containsKey(r.key)||cD(n,r.key)):rt()}function dD(n,e){const t=e.key,r=t.path.canonicalString();n.ua.get(t)||n.oa.has(r)||(Fe("SyncEngine","New document in limbo: "+t),n.oa.add(r),l0(n))}function l0(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const e=n.oa.values().next().value;n.oa.delete(e);const t=new He(Zt.fromString(e)),r=n.fa.next();n.aa.set(r,new eT(t)),n.ua=n.ua.insert(t,r),ey(n.remoteStore,new fu(cs(vc(t.path)),r,2,us.A))}}function yu(n,e,t){return hD.apply(this,arguments)}function hD(){return hD=(0,be.Z)(function*(n,e,t){const r=Ke(n),s=[],u=[],d=[];var p;r.ia.isEmpty()||(r.ia.forEach((p,v)=>{d.push(r._a(v,e,t).then(D=>{if(D){r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,D.fromCache?"not-current":"current"),s.push(D);const S=Mv.Ys(v.targetId,D);u.push(S)}}))}),yield Promise.all(d),r.sa.zo(s),yield(p=(0,be.Z)(function*(v,D){const S=Ke(v);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>de.forEach(D,L=>de.forEach(L.Hs,q=>S.persistence.referenceDelegate.addReference(x,L.targetId,q)).next(()=>de.forEach(L.Js,q=>S.persistence.referenceDelegate.removeReference(x,L.targetId,q)))))}catch(x){if(!Tc(x))throw x;Fe("LocalStore","Failed to update sequence numbers: "+x)}for(const x of D){const L=x.targetId;if(!x.fromCache){const q=S.ui.get(L),ye=q.withLastLimboFreeSnapshotVersion(q.snapshotVersion);S.ui=S.ui.insert(L,ye)}}}),function(v,D){return p.apply(this,arguments)})(r.localStore,u))}),hD.apply(this,arguments)}function SS(n,e){return gy.apply(this,arguments)}function gy(){return gy=(0,be.Z)(function*(n,e){const t=Ke(n);if(!t.currentUser.isEqual(e)){Fe("SyncEngine","User change. New user:",e.toKey());const r=yield xb(t.localStore,e);t.currentUser=e,(s=t).la.forEach(d=>{d.forEach(p=>{p.reject(new xe(le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.la.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield yu(t,r.di)}var s}),gy.apply(this,arguments)}function nT(n,e){const t=Ke(n),r=t.aa.get(e);if(r&&r.na)return sn().add(r.key);{let s=sn();const u=t.ra.get(e);if(!u)return s;for(const d of u){const p=t.ia.get(d);s=s.unionWith(p.view.ju)}return s}}function rT(n,e){return c0.apply(this,arguments)}function c0(){return c0=(0,be.Z)(function*(n,e){const t=Ke(n),r=yield Mh(t.localStore,e.query,!0),s=e.view.ta(r);return t.isPrimaryClient&&py(t,e.targetId,s.Xu),s}),c0.apply(this,arguments)}function MS(n,e){return fD.apply(this,arguments)}function fD(){return fD=(0,be.Z)(function*(n,e){const t=Ke(n);return Wm(t.localStore,e).then(r=>yu(t,r))}),fD.apply(this,arguments)}function xS(n,e,t,r){return pD.apply(this,arguments)}function pD(){return pD=(0,be.Z)(function*(n,e,t,r){const s=Ke(n),u=yield function(d,p){const v=Ke(d),D=Ke(v.Bs);return v.persistence.runTransaction("Lookup mutation documents","readonly",S=>D.fn(S,p).next(x=>x?v.fi.Ks(S,x):de.resolve(null)))}(s.localStore,e);var p;null!==u?("pending"===t?yield Bc(s.remoteStore):"acknowledged"===t||"rejected"===t?(Op(s,e,r||null),xp(s,e),p=e,Ke(Ke(s.localStore).Bs)._n(p)):rt(),yield yu(s,u)):Fe("SyncEngine","Cannot apply mutation batch with id: "+e)}),pD.apply(this,arguments)}function d0(){return d0=(0,be.Z)(function*(n,e){const t=Ke(n);if(p0(t),Pp(t),!0===e&&!0!==t.da){const r=t.sharedClientState.getAllActiveQueryTargets(),s=yield Np(t,r.toArray());t.da=!0,yield Ap(t.remoteStore,!0);for(const u of s)ey(t.remoteStore,u)}else if(!1===e&&!1!==t.da){const r=[];let s=Promise.resolve();t.ra.forEach((u,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):s=s.then(()=>(Hc(t,d),wp(t.localStore,d,!0))),xh(t.remoteStore,d)}),yield s,yield Np(t,r),function(u){const d=Ke(u);d.aa.forEach((p,v)=>{xh(d.remoteStore,v)}),d.ca.Si(),d.aa=new Map,d.ua=new wn(He.comparator)}(t),t.da=!1,yield Ap(t.remoteStore,!1)}}),d0.apply(this,arguments)}function Np(n,e,t){return h0.apply(this,arguments)}function h0(){return h0=(0,be.Z)(function*(n,e,t){const r=Ke(n),s=[],u=[];for(const d of e){let p;const v=r.ra.get(d);if(v&&0!==v.length){p=yield Sh(r.localStore,cs(v[0]));for(const D of v){const S=r.ia.get(D),x=yield rT(r,S);x.snapshot&&u.push(x.snapshot)}}else{const D=yield Pv(r.localStore,d);p=yield Sh(r.localStore,D),yield t0(r,gD(D),d,!1)}s.push(p)}return r.sa.zo(u),s}),h0.apply(this,arguments)}function gD(n){return rv(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function mD(n){const e=Ke(n);return Ke(Ke(e.localStore).persistence).Fs()}function Gc(n,e,t,r){return my.apply(this,arguments)}function my(){return my=(0,be.Z)(function*(n,e,t,r){const s=Ke(n);if(s.da)return void Fe("SyncEngine","Ignoring unexpected query state notification.");const u=s.ra.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const d=yield Wm(s.localStore,bw(u[0])),p=gh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield yu(s,d,p);break}case"rejected":yield wp(s.localStore,e,!0),Hc(s,e,r);break;default:rt()}}),my.apply(this,arguments)}function f0(n,e,t){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,be.Z)(function*(n,e,t){const r=p0(n);if(r.da){for(const s of e){if(r.ra.has(s)){Fe("SyncEngine","Adding an already active target "+s);continue}const u=yield Pv(r.localStore,s),d=yield Sh(r.localStore,u);yield t0(r,gD(u),d.targetId,!1),ey(r.remoteStore,d)}for(const s of t)r.ra.has(s)&&(yield wp(r.localStore,s,!1).then(()=>{xh(r.remoteStore,s),Hc(r,s)}).catch(Rc))}}),Rp.apply(this,arguments)}function p0(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=s0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uD.bind(null,e),e.sa.zo=CS.bind(null,e.eventManager),e.sa.wa=XC.bind(null,e.eventManager),e}function Pp(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lD.bind(null,e),e}class kp{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,be.Z)(function*(){t.M=Vc(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return Ep(this.persistence,new Mb,e.initialUser,this.M)}ya(e){return new Fb(Qm.Yi,this.M)}ga(e){return new Vb}terminate(){var e=this;return(0,be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class iT extends kp{constructor(e,t,r){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,be.Z)(function*(){yield t().call(r,e),yield r.Ta.initialize(r,e),yield Pp(r.Ta.syncEngine),yield Bc(r.Ta.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Ia(e){return Ep(this.persistence,new Mb,e.initialUser,this.M)}pa(e){return new bb(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=kc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?zi.withCacheSize(this.cacheSizeBytes):zi.DEFAULT;return new $s(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,jv(),Lc(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new Vb}}class NS extends iT{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,be.Z)(function*(){yield t().call(r,e);const s=r.Ta.syncEngine;r.sharedClientState instanceof Ip&&(r.sharedClientState.syncEngine={$r:xS.bind(null,s),Br:Gc.bind(null,s),Lr:f0.bind(null,s),Fs:mD.bind(null,s),Fr:MS.bind(null,s)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var u=(0,be.Z)(function*(d){yield function OS(n,e){return d0.apply(this,arguments)}(r.Ta.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):d||r.gcScheduler.stop())});return function(d){return u.apply(this,arguments)}}())})()}ga(e){const t=jv();if(!Ip.vt(t))throw new xe(le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=kc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ip(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class yD{initialize(e,t){var r=this;return(0,be.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>aD(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=SS.bind(null,r.syncEngine),yield Ap(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new IS}createDatastore(e){const t=Vc(e.databaseInfo.databaseId),r=new jb(e.databaseInfo);return new Xm(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,s=e.asyncQueue,u=p=>aD(this.syncEngine,p,0),d=Bb.vt()?new Bb:new Ub,new KC(t,r,s,u,d);var t,r,s,u,d}createSyncEngine(e,t){return function(r,s,u,d,p,v,D){const S=new sD(r,s,u,d,p,v);return D&&(S.da=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,be.Z)(function*(t){const r=Ke(t);Fe("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield Tp(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function sT(n,e=10240){let t=0;return{read:()=>(0,be.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Fp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class oT{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new Wr,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(r=>{r&&r.Mu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,be.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,be.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,be.Z)(function*(){const t=yield e.Va();if(null===t)return null;const r=e.ba.decode(t),s=Number(r);isNaN(s)&&e.va(`length string (${r}) is not valid number`);const u=yield e.Sa(s);return new Io(JSON.parse(u),t.length+s)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,be.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Sa(e){var t=this;return(0,be.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const r=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,be.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class aT{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,be.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new xe(le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(s=(0,be.Z)(function*(u,d){const p=Ke(u),v=_h(p.M)+"/documents",D={documents:d.map(q=>rp(p.M,q))},S=yield p._o("BatchGetDocuments",v,D),x=new Map;S.forEach(q=>{const K=function yC(n,e){return"found"in e?function(t,r){xt(!!r.found);const s=ya(t,r.found.name),u=Zn(r.found.updateTime),d=new gi({mapValue:{fields:r.found.fields}});return En.newFoundDocument(s,u,d)}(n,e):"missing"in e?function(t,r){xt(!!r.missing),xt(!!r.readTime);const s=ya(t,r.missing),u=Zn(r.readTime);return En.newNoDocument(s,u)}(n,e):rt()}(p.M,q);x.set(K.key.toString(),K)});const L=[];return d.forEach(q=>{const K=x.get(q.toString());xt(!!K),L.push(K)}),L}),function(u,d){return s.apply(this,arguments)})(t.datastore,e);var s;return r.forEach(s=>t.recordVersion(s)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Rm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,be.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,s)=>{const u=He.fromPath(s);e.mutations.push(new Pm(u,e.precondition(u)))}),yield(r=(0,be.Z)(function*(s,u){const d=Ke(s),p=_h(d.M)+"/documents",v={writes:u.map(D=>Um(d.M,D))};yield d.co("Commit",p,v)}),function(s,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw rt();t=bt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new xe(le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?rr.updateTime(t):rr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(bt.min()))throw new xe(le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rr.updateTime(t)}return rr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class uT{constructor(e,t,r,s,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=s,this.deferred=u,this.xa=r.maxAttempts,this.No=new $b(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,be.Z)(function*(){const t=new aT(e.datastore),r=e.ka(t);r&&r.then(s=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(s)}).catch(u=>{e.Ma(u)}))}).catch(s=>{e.Ma(s)})}))}ka(e){try{const t=this.updateFunction(e);return!Hf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Fw(t)}return!1}}class lT{constructor(e,t,r,s){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Fr.UNAUTHENTICATED,this.clientId=dw.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,be.Z)(function*(p){Fe("FirestoreClient","Received user=",p.uid),yield u.authCredentialListener(p),u.user=p});return function(p){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Fe("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xe(le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=$c(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function m0(n,e){return yy.apply(this,arguments)}function yy(){return yy=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,be.Z)(function*(u){r.isEqual(u)||(yield xb(e.localStore,u),r=u)});return function(u){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),yy.apply(this,arguments)}function y0(n,e){return _0.apply(this,arguments)}function _0(){return _0=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield v0(n);Fe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(s=>Zv(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,u)=>Zv(e.remoteStore,u)),n.onlineComponents=e}),_0.apply(this,arguments)}function v0(n){return _y.apply(this,arguments)}function _y(){return _y=(0,be.Z)(function*(n){return n.offlineComponents||(Fe("FirestoreClient","Using default OfflineComponentProvider"),yield m0(n,new kp)),n.offlineComponents}),_y.apply(this,arguments)}function Ph(n){return _D.apply(this,arguments)}function _D(){return _D=(0,be.Z)(function*(n){return n.onlineComponents||(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield y0(n,new yD)),n.onlineComponents}),_D.apply(this,arguments)}function E0(n){return v0(n).then(e=>e.persistence)}function Lp(n){return v0(n).then(e=>e.localStore)}function vD(n){return Ph(n).then(e=>e.remoteStore)}function w0(n){return Ph(n).then(e=>e.syncEngine)}function Vp(n){return ED.apply(this,arguments)}function ED(){return ED=(0,be.Z)(function*(n){const e=yield Ph(n),t=e.eventManager;return t.onListen=oD.bind(null,e.syncEngine),t.onUnlisten=Co.bind(null,e.syncEngine),t}),ED.apply(this,arguments)}function hT(n,e,t={}){const r=new Wr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(s,u,d,p,v){const D=new Fp({next:x=>{u.enqueueAndForget(()=>Kv(s,S));const L=x.docs.has(d);!L&&x.fromCache?v.reject(new xe(le.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&x.fromCache&&p&&"server"===p.source?v.reject(new xe(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(x)},error:x=>v.reject(x)}),S=new Qv(vc(d.path),D,{includeMetadataChanges:!0,ku:!0});return eD(s,S)}(yield Vp(n),n.asyncQueue,e,t,r)})),r.promise}function fT(n,e,t={}){const r=new Wr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(s,u,d,p,v){const D=new Fp({next:x=>{u.enqueueAndForget(()=>Kv(s,S)),x.fromCache&&"server"===p.source?v.reject(new xe(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(x)},error:x=>v.reject(x)}),S=new Qv(d,D,{includeMetadataChanges:!0,ku:!0});return eD(s,S)}(yield Vp(n),n.asyncQueue,e,t,r)})),r.promise}const gT=new Map;function wD(n,e,t){if(!t)throw new xe(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function mT(n,e,t,r){if(!0===e&&!0===r)throw new xe(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function i(n){if(!He.isDocumentKey(n))throw new xe(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function o(n){if(He.isDocumentKey(n))throw new xe(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function a(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":rt()}function l(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=a(n);throw new xe(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function h(n,e){if(e<=0)throw new xe(le.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class g{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new xe(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new xe(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,mT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g({}),this._settingsFrozen=!1,e instanceof fa?this._databaseId=e:(this._app=e,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new xe(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fa(s.options.projectId)}(e))}get app(){if(!this._app)throw new xe(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new xe(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new rh;switch(t.type){case"gapi":const r=t.client;return xt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new cw(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new xe(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=gT.get(e);t&&(Fe("ComponentProvider","Removing Datastore"),gT.delete(e),t.terminate())}(this),Promise.resolve()}}class b{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new M(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new b(this.firestore,e,this._key)}}class T{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new T(this.firestore,e,this._query)}}class M extends T{constructor(e,t,r){super(e,t,vc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new b(this.firestore,null,new He(e))}withConverter(e){return new M(this.firestore,e,this._path)}}function k(n,e,...t){if(n=(0,St.m9)(n),wD("collection","path",e),n instanceof _){const r=Zt.fromString(e,...t);return o(r),new M(n,null,r)}{if(!(n instanceof b||n instanceof M))throw new xe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Zt.fromString(e,...t));return o(r),new M(n.firestore,null,r)}}function Q(n,e,...t){if(n=(0,St.m9)(n),1===arguments.length&&(e=dw.R()),wD("doc","path",e),n instanceof _){const r=Zt.fromString(e,...t);return i(r),new b(n,null,new He(r))}{if(!(n instanceof b||n instanceof M))throw new xe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Zt.fromString(e,...t));return i(r),new b(n.firestore,n instanceof M?n.converter:null,new He(r))}}function _e(n,e){return n=(0,St.m9)(n),e=(0,St.m9)(e),(n instanceof b||n instanceof M)&&(e instanceof b||e instanceof M)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function ke(n,e){return n=(0,St.m9)(n),e=(0,St.m9)(e),n instanceof T&&e instanceof T&&n.firestore===e.firestore&&ch(n._query,e._query)&&n.converter===e.converter}class Ge{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new $b(this,"async_queue_retry"),this.Qa=()=>{const t=Lc();t&&Fe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=Lc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=Lc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new Wr;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,be.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!Tc(t))throw t;Fe("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(r=>{throw this.Ua=r,this.qa=!1,fr("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(r)),r}).then(r=>(this.qa=!1,r))));return this.Fa=t,t}enqueueAfterDelay(e,t,r){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const s=Xb.createAndSchedule(this,e,t,r,u=>this.Ha(u));return this.La.push(s),s}ja(){this.Ua&&rt()}verifyOperationInProgress(){}Ja(){var e=this;return(0,be.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function tt(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class Se{constructor(){this._progressObserver={},this._taskCompletionResolver=new Wr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class st extends _{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new Ge,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||vy(this),this._firestoreClient.terminate()}}function Dn(n){return n._firestoreClient||vy(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function vy(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new z_(n._databaseId,u,n._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var u,p;n._firestoreClient=new lT(n._authCredentials,n._appCheckCredentials,n._queue,r)}function Ey(n,e,t){const r=new Wr;return n.asyncQueue.enqueue((0,be.Z)(function*(){try{yield m0(n,t),yield y0(n,e),r.resolve()}catch(s){if(!("FirebaseError"===(u=s).name?u.code===le.FAILED_PRECONDITION||u.code===le.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw s;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),r.reject(s)}var u})).then(()=>r.promise)}function VS(n){if(n._initialized||n._terminated)throw new xe(le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class zc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new xe(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gl(tr.fromBase64String(e))}catch(t){throw new xe(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new gl(tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Up{constructor(e){this._methodName=e}}class DD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Lt(this._lat,e._lat)||Lt(this._long,e._long)}}const NO=/^__.*__$/;class RO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Dc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xf(e,this.data,t,this.fieldTransforms)}}class US{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Dc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function BS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class ID{constructor(e,t,r,s,u,d){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=s,void 0===u&&this.tc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new ID(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.nc({path:r,ic:!1});return s.rc(e),s}oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.nc({path:r,ic:!1});return s.tc(),s}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return AD(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(BS(this.ec)&&NO.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class PO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||Vc(e)}lc(e,t,r,s=!1){return new ID({ec:e,methodName:t,hc:r,path:jn.emptyPath(),ic:!1,cc:s},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Bp(n){const e=n._freezeSettings(),t=Vc(n._databaseId);return new PO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function CD(n,e,t,r,s,u={}){const d=n.lc(u.merge||u.mergeFields?2:0,e,t,s);ET("Data must be an object, but it was:",d,r);const p=HS(r,d);let v,D;if(u.merge)v=new hc(d.fieldMask),D=d.fieldTransforms;else if(u.mergeFields){const S=[];for(const x of u.mergeFields){const L=wT(e,x,t);if(!d.contains(L))throw new xe(le.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);zS(S,L)||S.push(L)}v=new hc(S),D=d.fieldTransforms.filter(x=>v.covers(x.field))}else v=null,D=d.fieldTransforms;return new RO(new gi(p),v,D)}class S0 extends Up{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof S0}}function jS(n,e,t){return new ID({ec:3,hc:e.settings.hc,methodName:n._methodName,ic:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class yT extends Up{_toFieldTransform(e){return new fh(e.path,new dh)}isEqual(e){return e instanceof yT}}class kO extends Up{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=jS(this,e,!0),r=this.fc.map(u=>jp(u,t)),s=new wc(r);return new fh(e.path,s)}isEqual(e){return this===e}}class FO extends Up{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=jS(this,e,!0),r=this.fc.map(u=>jp(u,t)),s=new bc(r);return new fh(e.path,s)}isEqual(e){return this===e}}class LO extends Up{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new hh(e.M,Tw(e.M,this.dc));return new fh(e.path,t)}isEqual(e){return this===e}}function _T(n,e,t,r){const s=n.lc(1,e,t);ET("Data must be an object, but it was:",s,r);const u=[],d=gi.empty();au(r,(v,D)=>{const S=TD(e,v,t);D=(0,St.m9)(D);const x=s.oc(S);if(D instanceof S0)u.push(S);else{const L=jp(D,x);null!=L&&(u.push(S),d.set(S,L))}});const p=new hc(u);return new US(d,p,s.fieldTransforms)}function vT(n,e,t,r,s,u){const d=n.lc(1,e,t),p=[wT(e,r,t)],v=[s];if(u.length%2!=0)throw new xe(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<u.length;L+=2)p.push(wT(e,u[L])),v.push(u[L+1]);const D=[],S=gi.empty();for(let L=p.length-1;L>=0;--L)if(!zS(D,p[L])){const q=p[L];let K=v[L];K=(0,St.m9)(K);const ye=d.oc(q);if(K instanceof S0)D.push(q);else{const Pe=jp(K,ye);null!=Pe&&(D.push(q),S.set(q,Pe))}}const x=new hc(D);return new US(S,x,d.fieldTransforms)}function $S(n,e,t,r=!1){return jp(t,n.lc(r?4:3,e))}function jp(n,e){if(GS(n=(0,St.m9)(n)))return ET("Unsupported field value:",e,n),HS(n,e);if(n instanceof Up)return function(t,r){if(!BS(r.ec))throw r.ac(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ac(`${t._methodName}() is not currently supported inside arrays`);const s=t._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,r){const s=[];let u=0;for(const d of t){let p=jp(d,r.uc(u));null==p&&(p={nullValue:"NULL_VALUE"}),s.push(p),u++}return{arrayValue:{values:s}}}(n,e)}return function(t,r){if(null===(t=(0,St.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Tw(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const s=er.fromDate(t);return{timestampValue:yh(r.M,s)}}if(t instanceof er){const s=new er(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:yh(r.M,s)}}if(t instanceof DD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof gl)return{bytesValue:cv(r.M,t._byteString)};if(t instanceof b){const s=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(s))throw r.ac(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Cc(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ac(`Unsupported field value: ${a(t)}`)}(n,e)}function HS(n,e){const t={};return nC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):au(n,(r,s)=>{const u=jp(s,e.sc(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function GS(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof er||n instanceof DD||n instanceof gl||n instanceof b||n instanceof Up)}function ET(n,e,t){if(!GS(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=a(t);throw e.ac("an object"===r?n+" a custom object":n+" "+r)}var r}function wT(n,e,t){if((e=(0,St.m9)(e))instanceof zc)return e._internalPath;if("string"==typeof e)return TD(n,e);throw AD("Field path arguments must be of type string or ",n,!1,void 0,t)}const VO=new RegExp("[~\\*/\\[\\]]");function TD(n,e,t){if(e.search(VO)>=0)throw AD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new zc(...e.split("."))._internalPath}catch(r){throw AD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function AD(n,e,t,r,s){const u=r&&!r.isEmpty(),d=void 0!==s;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(u||d)&&(v+=" (found",u&&(v+=` in field ${r}`),d&&(v+=` in document ${s}`),v+=")"),new xe(le.INVALID_ARGUMENT,p+n+v)}function zS(n,e){return n.some(t=>t.isEqual(e))}class M0{constructor(e,t,r,s,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new b(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new UO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(SD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class UO extends M0{data(){return super.data()}}function SD(n,e){return"string"==typeof e?TD(n,e):e instanceof zc?e._internalPath:e._delegate._internalPath}class $p{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qc extends M0{constructor(e,t,r,s,u,d){super(e,t,r,s,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new x0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(SD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class x0 extends qc{data(e={}){return super.data(e)}}class kh{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new $p(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new x0(this._firestore,this._userDataWriter,r.key,r,new $p(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new x0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new $p(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>s||3!==d.type).map(d=>{const p=new x0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new $p(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,D=-1;return 0!==d.type&&(v=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),D=u.indexOf(d.doc.key)),{type:BO(d.type),doc:p,oldIndex:v,newIndex:D}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function BO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}function qS(n,e){return n instanceof qc&&e instanceof qc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof kh&&e instanceof kh&&n._firestore===e._firestore&&ke(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function ZS(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new xe(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class O0{}function Fh(n,...e){for(const t of e)n=t._apply(n);return n}class jO extends O0{constructor(e,t,r){super(),this._c=e,this.wc=t,this.mc=r,this.type="where"}_apply(e){const t=Bp(e.firestore),r=function(s,u,d,p,v,D,S){let x;if(v.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new xe(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on documentId().`);if("in"===D||"not-in"===D){XS(S,D);const q=[];for(const K of S)q.push(JS(p,s,K));x={arrayValue:{values:q}}}else x=JS(p,s,S)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||XS(S,D),x=$S(d,"where",S,"in"===D||"not-in"===D);const L=Lr.create(v,D,x);return function(q,K){if(K.S()){const Pe=Am(q);if(null!==Pe&&!Pe.isEqual(K.field))throw new xe(le.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Pe.toString()}' and '${K.field.toString()}'`);const pt=lh(q);null!==pt&&e1(0,K.field,pt)}const ye=function(Pe,pt){for(const mt of Pe.filters)if(pt.indexOf(mt.op)>=0)return mt.op;return null}(q,function(Pe){switch(Pe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(K.op));if(null!==ye)throw new xe(le.INVALID_ARGUMENT,ye===K.op?`Invalid query. You cannot use more than one '${K.op.toString()}' filter.`:`Invalid query. You cannot use '${K.op.toString()}' filters with '${ye.toString()}' filters.`)}(s,L),L}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new T(e.firestore,e.converter,function(s,u){const d=s.filters.concat([u]);return new du(s.path,s.collectionGroup,s.explicitOrderBy.slice(),d,s.limit,s.limitType,s.startAt,s.endAt)}(e._query,r))}}class HO extends O0{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(r,s,u){if(null!==r.startAt)throw new xe(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new xe(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new uh(s,u);return function(p,v){if(null===lh(p)){const D=Am(p);null!==D&&e1(0,D,v.field)}}(r,d),d}(e._query,this._c,this.gc);return new T(e.firestore,e.converter,function(r,s){const u=r.explicitOrderBy.concat([s]);return new du(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class WS extends O0{constructor(e,t,r){super(),this.type=e,this.yc=t,this.Ic=r}_apply(e){return new T(e.firestore,e.converter,sv(e._query,this.yc,this.Ic))}}class KS extends O0{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=QS(e,this.type,this.Tc,this.Ec);return new T(e.firestore,e.converter,(s=t,new du((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class YS extends O0{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=QS(e,this.type,this.Tc,this.Ec);return new T(e.firestore,e.converter,(s=t,new du((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function QS(n,e,t,r){if(t[0]=(0,St.m9)(t[0]),t[0]instanceof M0)return function(s,u,d,p,v){if(!p)throw new xe(le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const D=[];for(const S of Ec(s))if(S.field.isKeyField())D.push(mc(u,p.key));else{const x=p.data.field(S.field);if(hw(x))throw new xe(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const L=S.field.canonicalString();throw new xe(le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}D.push(x)}return new cu(D,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=Bp(n.firestore);return function(u,d,p,v,D,S){const x=u.explicitOrderBy;if(D.length>x.length)throw new xe(le.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let q=0;q<D.length;q++){const K=D[q];if(x[q].field.isKeyField()){if("string"!=typeof K)throw new xe(le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof K}`);if(!Sm(u)&&-1!==K.indexOf("/"))throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${K}' contains a slash.`);const ye=u.path.child(Zt.fromString(K));if(!He.isDocumentKey(ye))throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${ye}' is not because it contains an odd number of segments.`);const Pe=new He(ye);L.push(mc(d,Pe))}else{const ye=$S(p,v,K);L.push(ye)}}return new cu(L,S)}(n._query,n.firestore._databaseId,s,e,t,r)}}function JS(n,e,t){if("string"==typeof(t=(0,St.m9)(t))){if(""===t)throw new xe(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sm(e)&&-1!==t.indexOf("/"))throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Zt.fromString(t));if(!He.isDocumentKey(r))throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return mc(n,new He(r))}if(t instanceof b)return mc(n,t._key);throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${a(t)}.`)}function XS(n,e){if(!Array.isArray(n)||0===n.length)throw new xe(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new xe(le.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function e1(n,e,t){if(!t.isEqual(e))throw new xe(le.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const QO={maxAttempts:5};class bT{convertValue(e,t="none"){switch(gc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Sn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(uu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rt()}}convertObject(e,t){const r={};return au(e.fields,(s,u)=>{r[s]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new DD(Sn(e.latitude),Sn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=fw(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(fc(e));default:return null}}convertTimestamp(e){const t=Eo(e);return new er(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Zt.fromString(e);xt(Qw(r));const s=new fa(r.get(1),r.get(3)),u=new He(r.popFirst(5));return s.isEqual(t)||fr(`Document ${u} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function MD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class JO extends bT{constructor(e){super(),this.firestore=e}convertBytes(e){return new gl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new b(this.firestore,null,t)}}class t1{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Bp(e)}set(e,t,r){this._verifyNotCommitted();const s=Lh(e,this._firestore),u=MD(s.converter,t,r),d=CD(this._dataReader,"WriteBatch.set",s._key,u,null!==s.converter,r);return this._mutations.push(d.toMutation(s._key,rr.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const u=Lh(e,this._firestore);let d;return d="string"==typeof(t=(0,St.m9)(t))||t instanceof zc?vT(this._dataReader,"WriteBatch.update",u._key,t,r,s):_T(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(d.toMutation(u._key,rr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Lh(e,this._firestore);return this._mutations=this._mutations.concat(new Rm(t._key,rr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Lh(n,e){if((n=(0,St.m9)(n)).firestore!==e)throw new xe(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Hp extends bT{constructor(e){super(),this.firestore=e}convertBytes(e){return new gl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new b(this.firestore,null,t)}}function n1(n,e,t){n=l(n,b);const r=l(n.firestore,st),s=MD(n.converter,e,t);return wy(r,[CD(Bp(r),"setDoc",n._key,s,null!==n.converter,t).toMutation(n._key,rr.none())])}function r1(n,e,t,...r){n=l(n,b);const s=l(n.firestore,st),u=Bp(s);let d;return d="string"==typeof(e=(0,St.m9)(e))||e instanceof zc?vT(u,"updateDoc",n._key,e,t,r):_T(u,"updateDoc",n._key,e),wy(s,[d.toMutation(n._key,rr.exists(!0))])}function i1(n,...e){var t,r,s;n=(0,St.m9)(n);let u={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||tt(e[d])||(u=e[d],d++);const p={includeMetadataChanges:u.includeMetadataChanges};if(tt(e[d])){const x=e[d];e[d]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[d+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[d+2]=null===(s=x.complete)||void 0===s?void 0:s.bind(x)}let v,D,S;if(n instanceof b)D=l(n.firestore,st),S=vc(n._key.path),v={next:x=>{e[d]&&e[d](DT(D,n,x))},error:e[d+1],complete:e[d+2]};else{const x=l(n,T);D=l(x.firestore,st),S=x._query;const L=new Hp(D);v={next:q=>{e[d]&&e[d](new kh(D,L,x,q))},error:e[d+1],complete:e[d+2]},ZS(n._query)}return function(x,L,q,K){const ye=new Fp(K),Pe=new Qv(L,ye,q);return x.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return eD(yield Vp(x),Pe)})),()=>{ye.Aa(),x.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return Kv(yield Vp(x),Pe)}))}}(Dn(D),S,p,v)}function wy(n,e){return function(t,r){const s=new Wr;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function TS(n,e,t){return r0.apply(this,arguments)}(yield w0(t),r,s)})),s.promise}(Dn(n),e)}function DT(n,e,t){const r=t.docs.get(e._key),s=new Hp(n);return new qc(n,s,e._key,r,new $p(t.hasPendingWrites,t.fromCache),e.converter)}class uN extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Bp(e)}get(e){const t=Lh(e,this._firestore),r=new JO(this._firestore);return this._transaction.lookup([t._key]).then(s=>{if(!s||1!==s.length)return rt();const u=s[0];if(u.isFoundDocument())return new M0(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new M0(this._firestore,r,t._key,null,t.converter);throw rt()})}set(e,t,r){const s=Lh(e,this._firestore),u=MD(s.converter,t,r),d=CD(this._dataReader,"Transaction.set",s._key,u,null!==s.converter,r);return this._transaction.set(s._key,d),this}update(e,t,r,...s){const u=Lh(e,this._firestore);let d;return d="string"==typeof(t=(0,St.m9)(t))||t instanceof zc?vT(this._dataReader,"Transaction.update",u._key,t,r,s):_T(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,d),this}delete(e){const t=Lh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Lh(e,this._firestore),r=new Hp(this._firestore);return super.get(e).then(s=>new qc(this._firestore,r,t._key,s._document,new $p(!1,!1),t.converter))}}function IT(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new xe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function o1(){if("undefined"==typeof Uint8Array)throw new xe("unimplemented","Uint8Arrays are not available in this environment.")}function a1(){if(!function G_(){return"undefined"!=typeof atob}())throw new xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){nh=Xu.SDK_VERSION,(0,Xu._registerComponent)(new zg.wA("firestore",(t,{options:r})=>{const s=t.getProvider("app").getImmediate(),u=new st(s,new lw(t.getProvider("auth-internal")),new XI(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC")),(0,Xu.registerVersion)(aw,"3.4.9",n),(0,Xu.registerVersion)(aw,"3.4.9","esm2017")}();class N0{constructor(e){this._delegate=e}static fromBase64String(e){return a1(),new N0(gl.fromBase64String(e))}static fromUint8Array(e){return o1(),new N0(gl.fromUint8Array(e))}toBase64(){return a1(),this._delegate.toBase64()}toUint8Array(){return o1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function CT(n){return function yN(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class _N{enableIndexedDbPersistence(e,t){return function b0(n,e){VS(n=l(n,st));const t=Dn(n),r=n._freezeSettings(),s=new yD;return Ey(t,s,new iT(s,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function D0(n){VS(n=l(n,st));const e=Dn(n),t=n._freezeSettings(),r=new yD;return Ey(e,r,new NS(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function I0(n){if(n._initialized&&!n._terminated)throw new xe(le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Wr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(t=(0,be.Z)(function*(r){if(!Do.vt())return Promise.resolve();const s=r+"main";yield Do.delete(s)}),function(r){return t.apply(this,arguments)})(kc(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class u1{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof fa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&cc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function w(n,e,t,r={}){var s;const u=(n=l(n,_))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&cc("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,p;if("string"==typeof r.mockUserToken)d=r.mockUserToken,p=Fr.MOCK_USER;else{d=(0,St.Sg)(r.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new xe(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Fr(v)}n._authCredentials=new QI(new uw(d,p))}}(this._delegate,e,t,r)}enableNetwork(){return function T0(n){return function RS(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield E0(n),t=yield vD(n);return e.setNetworkEnabled(!0),function(r){const s=Ke(r);return s.wu.delete(0),Uc(s)}(t)}))}(Dn(n=l(n,st)))}(this._delegate)}disableNetwork(){return function A0(n){return function cT(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield E0(n),t=yield vD(n);return e.setNetworkEnabled(!1),(r=(0,be.Z)(function*(s){const u=Ke(s);u.wu.add(0),yield Tp(u),u.yu.set("Offline")}),function(s){return r.apply(this,arguments)})(t);var r}))}(Dn(n=l(n,st)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,mT("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function C0(n){return function(e){const t=new Wr;return e.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function tT(n,e){return fy.apply(this,arguments)}(yield w0(e),t)})),t.promise}(Dn(n=l(n,st)))}(this._delegate)}onSnapshotsInSync(e){return function aN(n,e){return function kS(n,e){const t=new Fp(e);return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return r=yield Vp(n),s=t,Ke(r).bu.add(s),void s.next();var r,s})),()=>{t.Aa(),n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return r=yield Vp(n),s=t,void Ke(r).bu.delete(s);var r,s}))}}(Dn(n=l(n,st)),tt(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new by(this,k(this._delegate,e))}catch(t){throw ds(t,"collection()","Firestore.collection()")}}doc(e){try{return new va(this,Q(this._delegate,e))}catch(t){throw ds(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new hs(this,function U(n,e){if(n=l(n,_),wD("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xe(le.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new T(n,null,(t=e,new du(Zt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ds(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function lN(n,e,t){n=l(n,st);const r=Object.assign(Object.assign({},QO),t);return function(s){if(s.maxAttempts<1)throw new xe(le.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function FS(n,e,t){const r=new Wr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const s=yield(u=n,Ph(u).then(d=>d.datastore));var u;new uT(n.asyncQueue,s,t,e,r).run()})),r.promise}(Dn(n),s=>e(new uN(n,s)),r)}(this._delegate,t=>e(new l1(this,t)))}batch(){return Dn(this._delegate),new c1(new t1(this._delegate,e=>wy(this._delegate,e)))}loadBundle(e){return function xO(n,e){const t=Dn(n=l(n,st)),r=new Se;return function pT(n,e,t,r){const s=function(u,d){let p;return p="string"==typeof u?(new TextEncoder).encode(u):u,v=function(v,D){if(v instanceof Uint8Array)return sT(v,D);if(v instanceof ArrayBuffer)return sT(new Uint8Array(v),D);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new oT(v,d);var v}(t,Vc(e));n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function g0(n,e,t){const r=Ke(n);var s;(s=(0,be.Z)(function*(u,d,p){try{const v=yield d.getMetadata();if(yield function(L,q){const K=Ke(L),ye=Zn(q.createTime);return K.persistence.runTransaction("hasNewerBundle","readonly",Pe=>K._s.getBundleMetadata(Pe,q.id)).then(Pe=>!!Pe&&Pe.createTime.compareTo(ye)>=0)}(u.localStore,v))return yield d.close(),p._completeWith({taskState:"Success",documentsLoaded:(L=v).totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}),Promise.resolve(new Set);p._updateProgress(nD(v));const D=new Jv(v,u.localStore,d.M);let S=yield d.ma();for(;S;){const L=yield D.Fu(S);L&&p._updateProgress(L),S=yield d.ma()}const x=yield D.complete();return yield yu(u,x.Lu,void 0),yield function(L,q){const K=Ke(L);return K.persistence.runTransaction("Save bundle","readwrite",ye=>K._s.saveBundleMetadata(ye,q))}(u.localStore,v),p._completeWith(x.progress),Promise.resolve(x.Bu)}catch(v){return cc("SyncEngine",`Loading bundle failed with ${v}`),p._failWith(v),Promise.resolve(new Set)}var L}),function(u,d,p){return s.apply(this,arguments)})(r,e,t).then(s=>{r.sharedClientState.notifyBundleLoaded(s)})}(yield w0(n),s,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function OO(n,e){return function LS(n,e){return n.asyncQueue.enqueue((0,be.Z)(function*(){return function(t,r){const s=Ke(t);return s.persistence.runTransaction("Get named query","readonly",u=>s._s.getNamedQuery(u,r))}(yield Lp(n),e)}))}(Dn(n=l(n,st)),e).then(t=>t?new T(n,null,t.query):null)}(this._delegate,e).then(t=>t?new hs(this,t):null)}}class xD extends bT{constructor(e){super(),this.firestore=e}convertBytes(e){return new N0(new gl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return va.forKey(t,this.firestore,null)}}class l1{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new xD(e)}get(e){const t=zp(e);return this._delegate.get(t).then(r=>new R0(this._firestore,new qc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const s=zp(e);return r?(IT("Transaction.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const u=zp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...s),this}delete(e){const t=zp(e);return this._delegate.delete(t),this}}class c1{constructor(e){this._delegate=e}set(e,t,r){const s=zp(e);return r?(IT("WriteBatch.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const u=zp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...s),this}delete(e){const t=zp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Gp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new x0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new P0(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Gp.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let u=s.get(t);return u||(u=new Gp(e,new xD(e),t),s.set(t,u)),u}}Gp.INSTANCES=new WeakMap;class va{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new xD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new va(t,new b(t._delegate,r,new He(e)))}static forKey(e,t,r){return new va(t,new b(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new by(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new by(this.firestore,k(this._delegate,e))}catch(t){throw ds(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,St.m9)(e))instanceof b&&_e(this._delegate,e)}set(e,t){t=IT("DocumentReference.set",t);try{return t?n1(this._delegate,e,t):n1(this._delegate,e)}catch(r){throw ds(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?r1(this._delegate,e):r1(this._delegate,e,t,...r)}catch(s){throw ds(s,"updateDoc()","DocumentReference.update()")}}delete(){return function sN(n){return wy(l(n.firestore,st),[new Rm(n._key,rr.none())])}(this._delegate)}onSnapshot(...e){const t=d1(e),r=h1(e,s=>new R0(this.firestore,new qc(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return i1(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function eN(n){n=l(n,b);const e=l(n.firestore,st),t=Dn(e),r=new Hp(e);return function dT(n,e){const t=new Wr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(r=(0,be.Z)(function*(s,u,d){try{const p=yield function(v,D){const S=Ke(v);return S.persistence.runTransaction("read document","readonly",x=>S.fi.Ls(x,D))}(s,u);p.isFoundDocument()?d.resolve(p):p.isNoDocument()?d.resolve(null):d.reject(new xe(le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const v=$c(p,`Failed to get document '${u} from cache`);d.reject(v)}}),function(s,u,d){return r.apply(this,arguments)})(yield Lp(n),e,t);var r})),t.promise}(t,n._key).then(s=>new qc(e,r,n._key,s,new $p(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function tN(n){n=l(n,b);const e=l(n.firestore,st);return hT(Dn(e),n._key,{source:"server"}).then(t=>DT(e,n,t))}(this._delegate):function XO(n){n=l(n,b);const e=l(n.firestore,st);return hT(Dn(e),n._key).then(t=>DT(e,n,t))}(this._delegate),t.then(r=>new R0(this.firestore,new qc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new va(this.firestore,this._delegate.withConverter(e?Gp.getInstance(this.firestore,e):null))}}function ds(n,e,t){return n.message=n.message.replace(e,t),n}function d1(n){for(const e of n)if("object"==typeof e&&!CT(e))return e;return{}}function h1(n,e){var t,r;let s;return s=CT(n[0])?n[0]:CT(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{s.next&&s.next(e(u))},error:null===(t=s.error)||void 0===t?void 0:t.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class R0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new va(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return qS(this._delegate,e._delegate)}}class P0 extends R0{data(e){const t=this._delegate.data(e);return function hS(n,e){n||rt()}(void 0!==t),t}}class hs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new xD(e)}where(e,t,r){try{return new hs(this.firestore,Fh(this._delegate,function $O(n,e,t){const r=e,s=SD("where",n);return new jO(s,r,t)}(e,t,r)))}catch(s){throw ds(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new hs(this.firestore,Fh(this._delegate,function GO(n,e="asc"){const t=e,r=SD("orderBy",n);return new HO(r,t)}(e,t)))}catch(r){throw ds(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new hs(this.firestore,Fh(this._delegate,function zO(n){return h("limit",n),new WS("limit",n,"F")}(e)))}catch(t){throw ds(t,"limit()","Query.limit()")}}limitToLast(e){try{return new hs(this.firestore,Fh(this._delegate,function qO(n){return h("limitToLast",n),new WS("limitToLast",n,"L")}(e)))}catch(t){throw ds(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new hs(this.firestore,Fh(this._delegate,function ZO(...n){return new KS("startAt",n,!0)}(...e)))}catch(t){throw ds(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new hs(this.firestore,Fh(this._delegate,function WO(...n){return new KS("startAfter",n,!1)}(...e)))}catch(t){throw ds(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new hs(this.firestore,Fh(this._delegate,function KO(...n){return new YS("endBefore",n,!1)}(...e)))}catch(t){throw ds(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new hs(this.firestore,Fh(this._delegate,function YO(...n){return new YS("endAt",n,!0)}(...e)))}catch(t){throw ds(t,"endAt()","Query.endAt()")}}isEqual(e){return ke(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function rN(n){n=l(n,T);const e=l(n.firestore,st),t=Dn(e),r=new Hp(e);return function PS(n,e){const t=new Wr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(r=(0,be.Z)(function*(s,u,d){try{const p=yield Mh(s,u,!0),v=new Xv(u,p._i),D=v.Wu(p.documents),S=v.applyChanges(D,!1);d.resolve(S.snapshot)}catch(p){const v=$c(p,`Failed to execute query '${u} against cache`);d.reject(v)}}),function(s,u,d){return r.apply(this,arguments)})(yield Lp(n),e,t);var r})),t.promise}(t,n._query).then(s=>new kh(e,r,n,s))}(this._delegate):"server"===(null==e?void 0:e.source)?function iN(n){n=l(n,T);const e=l(n.firestore,st),t=Dn(e),r=new Hp(e);return fT(t,n._query,{source:"server"}).then(s=>new kh(e,r,n,s))}(this._delegate):function nN(n){n=l(n,T);const e=l(n.firestore,st),t=Dn(e),r=new Hp(e);return ZS(n._query),fT(t,n._query).then(s=>new kh(e,r,n,s))}(this._delegate),t.then(r=>new TT(this.firestore,new kh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=d1(e),r=h1(e,s=>new TT(this.firestore,new kh(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return i1(this._delegate,t,r)}withConverter(e){return new hs(this.firestore,this._delegate.withConverter(e?Gp.getInstance(this.firestore,e):null))}}class EN{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new P0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class TT{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new hs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new P0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new EN(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new P0(this._firestore,r))})}isEqual(e){return qS(this._delegate,e._delegate)}}class by extends hs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new va(this.firestore,e):null}doc(e){try{return new va(this.firestore,void 0===e?Q(this._delegate):Q(this._delegate,e))}catch(t){throw ds(t,"doc()","CollectionReference.doc()")}}add(e){return function oN(n,e){const t=l(n.firestore,st),r=Q(n),s=MD(n.converter,e);return wy(t,[CD(Bp(n.firestore),"addDoc",r._key,s,null!==n.converter,{}).toMutation(r._key,rr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new va(this.firestore,t))}isEqual(e){return _e(this._delegate,e._delegate)}withConverter(e){return new by(this.firestore,this._delegate.withConverter(e?Gp.getInstance(this.firestore,e):null))}}function zp(n){return l(n,b)}class AT{constructor(...e){this._delegate=new zc(...e)}static documentId(){return new AT(jn.keyField().canonicalString())}isEqual(e){return(e=(0,St.m9)(e))instanceof zc&&this._delegate._internalPath.isEqual(e._internalPath)}}class qp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function dN(){return new yT("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new qp(e)}static delete(){const e=function cN(){return new S0("deleteField")}();return e._methodName="FieldValue.delete",new qp(e)}static arrayUnion(...e){const t=function hN(...n){return new kO("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new qp(t)}static arrayRemove(...e){const t=function fN(...n){return new FO("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new qp(t)}static increment(e){const t=function pN(n){return new LO("increment",n)}(e);return t._methodName="FieldValue.increment",new qp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const wN={Firestore:u1,GeoPoint:DD,Timestamp:er,Blob:N0,Transaction:l1,WriteBatch:c1,DocumentReference:va,DocumentSnapshot:R0,Query:hs,QueryDocumentSnapshot:P0,QuerySnapshot:TT,CollectionReference:by,FieldPath:AT,FieldValue:qp,setLogLevel:function vN(n){!function YI(n){ou.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function DN(n){(function bN(n,e){n.INTERNAL.registerComponent(new zg.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),s=t.getProvider("firestore").getImmediate();return e(r,s)},"PUBLIC").setServiceProps(Object.assign({},wN)))})(n,(e,t)=>new u1(e,t,new _N)),n.registerVersion("@firebase/firestore-compat","0.1.18")}(lE.Z);var IN=R(6451),OD=R(5363),CN=R(6063);class TN extends ri.x{constructor(e=1/0,t=1/0,r=CN.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:u,_windowTime:d}=this;t||(r.push(e),!s&&r.push(u.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:s}=this,u=s.slice();for(let d=0;d<u.length&&!e.closed;d+=r?1:2)e.next(u[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:s}=this,u=(s?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!s){const d=t.now();let p=0;for(let v=1;v<r.length&&r[v]<=d;v+=2)p=v;p&&r.splice(0,p+1)}}}var AN=R(3099);function f1(n,e,t){let r,s=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:s=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,AN.B)({connector:()=>new TN(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function p1(n,e){return(0,ku.m)(e)?pn(()=>n,e):pn(()=>n)}var ST=R(9468),MT=R(5867);const g1=new Map,NN={activated:!1,tokenObservers:[]},RN={initialized:!1,enabled:!1};function yi(n){return g1.get(n)||NN}function _u(n,e){g1.set(n,e)}function ND(){return RN}class VN{constructor(e,t,r,s,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=s,s>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,be.Z)(function*(){t.stop();try{t.pending=new St.BH,yield function UN(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new St.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const fs=new St.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function y1(n){if(!yi(n).activated)throw fs.create("use-before-activation",{appName:n.name})}function RT(n,e){return PT.apply(this,arguments)}function PT(){return PT=(0,be.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){const x=yield s.getHeartbeatsHeader();x&&(r["X-Firebase-Client"]=x)}const u={method:"POST",body:JSON.stringify(e),headers:r};let d,p;try{d=yield fetch(n,u)}catch(x){throw fs.create("fetch-network-error",{originalErrorMessage:x.message})}if(200!==d.status)throw fs.create("fetch-status-error",{httpStatus:d.status});try{p=yield d.json()}catch(x){throw fs.create("fetch-parse-error",{originalErrorMessage:x.message})}const v=p.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw fs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const D=1e3*Number(v[1]),S=Date.now();return{token:p.token,expireTimeMillis:S+D,issuedAtTimeMillis:S}}),PT.apply(this,arguments)}function GN(n,e){const{projectId:t,appId:r,apiKey:s}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${s}`,body:{debug_token:e}}}const F0="firebase-app-check-store";let kD=null;function v1(){return kD||(kD=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var s;e(fs.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(F0,{keyPath:"compositeKey"})}}catch(t){e(fs.create("storage-open",{originalErrorMessage:t.message}))}}),kD)}function kT(){return kT=(0,be.Z)(function*(n,e){const r=(yield v1()).transaction(F0,"readwrite"),u=r.objectStore(F0).put({compositeKey:n,value:e});return new Promise((d,p)=>{u.onsuccess=v=>{d()},r.onerror=v=>{var D;p(fs.create("storage-set",{originalErrorMessage:null===(D=v.target.error)||void 0===D?void 0:D.message}))}})}),kT.apply(this,arguments)}const L0=new el.Yd("@firebase/app-check");function D1(n,e){return(0,St.hl)()?function WN(n,e){return function E1(n,e){return kT.apply(this,arguments)}(function b1(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{L0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function I1(){return ND().enabled}function C1(){return UT.apply(this,arguments)}function UT(){return UT=(0,be.Z)(function*(){const n=ND();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),UT.apply(this,arguments)}const eR={error:"UNKNOWN_ERROR"};function tR(n){return St.US.encodeString(JSON.stringify(n),!1)}function FD(n){return BT.apply(this,arguments)}function BT(){return BT=(0,be.Z)(function*(n,e=!1){const t=n.app;y1(t);const r=yi(t);let u,s=r.token;if(!s){const v=yield r.cachedTokenPromise;v&&LD(v)&&(s=v)}if(!e&&s&&LD(s))return{token:s.token};let p,d=!1;if(I1()){r.exchangeTokenPromise||(r.exchangeTokenPromise=RT(GN(t,yield C1()),n.heartbeatServiceProvider).then(D=>(r.exchangeTokenPromise=void 0,D)),d=!0);const v=yield r.exchangeTokenPromise;return yield D1(t,v),_u(t,Object.assign(Object.assign({},r),{token:v})),{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(v=>(r.exchangeTokenPromise=void 0,v)),d=!0),s=yield r.exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?L0.warn(v.message):L0.error(v),u=v}return s?(p={token:s.token},_u(t,Object.assign(Object.assign({},r),{token:s})),yield D1(t,s)):p=rR(u),d&&A1(t,p),p}),BT.apply(this,arguments)}function $T(n,e){const t=yi(n),r=t.tokenObservers.filter(s=>s.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),_u(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function T1(n){const{app:e}=n,t=yi(e);let r=t.tokenRefresher;r||(r=function nR(n){const{app:e}=n;return new VN((0,be.Z)(function*(){let r;if(r=yi(e).token?yield FD(n,!0):yield FD(n),r.error)throw r.error}),()=>!0,()=>{const t=yi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),_u(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function A1(n,e){const t=yi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(s){}}function LD(n){return n.expireTimeMillis-Date.now()>0}function rR(n){return{token:tR(eR),error:n}}class iR{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=yi(this.app);for(const t of e)$T(this.app,t.next);return Promise.resolve()}}const k1="app-check-internal";!function _R(){(0,Xu._registerComponent)(new zg.wA("app-check",n=>function sR(n,e){return new iR(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(k1).initialize()})),(0,Xu._registerComponent)(new zg.wA(k1,n=>function oR(n){return{getToken:e=>FD(n,e),addTokenListener:e=>function jT(n,e,t,r){const{app:s}=n,u=yi(s),d={next:t,error:r,type:e};if(_u(s,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,d]})),u.token&&LD(u.token)){const p=u.token;Promise.resolve().then(()=>{t({token:p.token}),T1(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>T1(n))}(n,"INTERNAL",e),removeTokenListener:e=>$T(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Xu.registerVersion)("@firebase/app-check","0.5.8")}();class qT{constructor(){return(0,hr.vb)("app-check")}}"undefined"!=typeof window&&window;var DR=R(127);const L1=new c.OlP("angularfire2.auth.use-emulator"),V1=new c.OlP("angularfire2.auth.settings"),U1=new c.OlP("angularfire2.auth.tenant-id"),B1=new c.OlP("angularfire2.auth.langugage-code"),j1=new c.OlP("angularfire2.auth.use-device-language"),$1=new c.OlP("angularfire.auth.persistence"),H1=(n,e,t,r,s,u,d,p)=>(0,ss.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=s,u&&v.useDeviceLanguage(),d)for(const[D,S]of Object.entries(d))v.settings[D]=S;return p&&v.setPersistence(p),v},[t,r,s,u,d,p]);let G1=(()=>{class n{constructor(t,r,s,u,d,p,v,D,S,x,L,q){const K=new ri.x,ye=et(void 0).pipe((0,OD.Q)(d.outsideAngular),pn(()=>u.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,7092)))),(0,At.U)(()=>(0,ss.on)(t,u,r)),(0,At.U)(Pe=>H1(Pe,u,p,D,S,x,v,L)),f1({bufferSize:1,refCount:!1}));if(Fo(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=et(null);else{ye.pipe(Xo()).subscribe();const pt=ye.pipe(pn(ut=>ut.getRedirectResult().then(kt=>kt,()=>null)),hr.iC,f1({bufferSize:1,refCount:!1})),mt=ye.pipe(pn(ut=>new Un.y(kt=>({unsubscribe:u.runOutsideAngular(()=>ut.onAuthStateChanged(Ut=>kt.next(Ut),Ut=>kt.error(Ut),()=>kt.complete()))})))),Dt=ye.pipe(pn(ut=>new Un.y(kt=>({unsubscribe:u.runOutsideAngular(()=>ut.onIdTokenChanged(Ut=>kt.next(Ut),Ut=>kt.error(Ut),()=>kt.complete()))}))));this.authState=pt.pipe(p1(mt),(0,ST.R)(d.outsideAngular),(0,OD.Q)(d.insideAngular)),this.user=pt.pipe(p1(Dt),(0,ST.R)(d.outsideAngular),(0,OD.Q)(d.insideAngular)),this.idToken=this.user.pipe(pn(ut=>ut?(0,fn.D)(ut.getIdToken()):et(null))),this.idTokenResult=this.user.pipe(pn(ut=>ut?(0,fn.D)(ut.getIdTokenResult()):et(null))),this.credential=(0,IN.T)(pt,K,this.authState.pipe(xr(ut=>!ut))).pipe((0,At.U)(ut=>(null==ut?void 0:ut.user)?ut:null),(0,ST.R)(d.outsideAngular),(0,OD.Q)(d.insideAngular))}return(0,ss.pX)(this,ye,u,{spy:{apply:(Pe,pt,mt)=>{(Pe.startsWith("signIn")||Pe.startsWith("createUser"))&&mt.then(Dt=>K.next(Dt))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ss.Dh),c.LFG(ss.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(hr.HU),c.LFG(L1,8),c.LFG(V1,8),c.LFG(U1,8),c.LFG(B1,8),c.LFG(j1,8),c.LFG($1,8),c.LFG(qT,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function z1(n,e){return function CR(n,e=aE.z){return new Un.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function WT(n,e){return z1(n,e).pipe((0,At.U)(t=>({payload:t,type:"query"})))}function UD(n,e){return WT(n,e).pipe(ji(void 0),u_(),(0,At.U)(([t,r])=>{const s=r.payload.docChanges(),u=s.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,p)=>{const v=s.find(S=>S.doc.ref.isEqual(d.ref)),D=null==t?void 0:t.payload.docs.find(S=>S.ref.isEqual(d.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(d.metadata)||!v&&D&&JSON.stringify(D.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:d}})}),u}))}function q1(n,e,t){return UD(n,t).pipe($i((r,s)=>function AR(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function SR(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return KT(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return KT(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return KT(n,e.oldIndex,1)}return n}(n,r))}),n}(r,s.map(u=>u.payload),e),[]),function uE(n,e=Di.y){return n=null!=n?n:l_,(0,lr.e)((t,r)=>{let s,u=!0;t.subscribe((0,Pn.x)(r,d=>{const p=e(d);(u||!n(s,p))&&(u=!1,s=p,r.next(d))}))})}(),(0,At.U)(r=>r.map(s=>({type:s.type,payload:s}))))}function KT(n,e,t,...r){const s=n.slice();return s.splice(e,t,...r),s}function Z1(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class W1{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=UD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,At.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)))),t.pipe(ji(void 0),u_(),xr(([r,s])=>s.length>0||!r),(0,At.U)(([r,s])=>s),hr.iC)}auditTrail(e){return this.stateChanges(e).pipe($i((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Z1(e);return q1(this.query,t,this.afs.schedulers.outsideAngular).pipe(hr.iC)}valueChanges(e={}){return WT(this.query,this.afs.schedulers.outsideAngular).pipe((0,At.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),hr.iC)}get(e){return(0,fn.D)(this.query.get(e)).pipe(hr.iC)}add(e){return this.ref.add(e)}doc(e){return new K1(this.ref.doc(e),this.afs)}}class K1{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:s,query:u}=J1(r,t);return new W1(s,u,this.afs)}snapshotChanges(){return function TR(n,e){return z1(n,e).pipe(ji(void 0),u_(),(0,At.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(hr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,At.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,fn.D)(this.ref.get(e)).pipe(hr.iC)}}class MR{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?UD(this.query,this.afs.schedulers.outsideAngular).pipe((0,At.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),xr(t=>t.length>0),hr.iC):UD(this.query,this.afs.schedulers.outsideAngular).pipe(hr.iC)}auditTrail(e){return this.stateChanges(e).pipe($i((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Z1(e);return q1(this.query,t,this.afs.schedulers.outsideAngular).pipe(hr.iC)}valueChanges(e={}){return WT(this.query,this.afs.schedulers.outsideAngular).pipe((0,At.U)(r=>r.payload.docs.map(s=>e.idField?Object.assign({[e.idField]:s.id},s.data()):s.data())),hr.iC)}get(e){return(0,fn.D)(this.query.get(e)).pipe(hr.iC)}}const Y1=new c.OlP("angularfire2.enableFirestorePersistence"),Q1=new c.OlP("angularfire2.firestore.persistenceSettings"),xR=new c.OlP("angularfire2.firestore.settings"),OR=new c.OlP("angularfire2.firestore.use-emulator");function J1(n,e=(t=>t)){return{query:e(n),ref:n}}let Vh=(()=>{class n{constructor(t,r,s,u,d,p,v,D,S,x,L,q,K,ye,Pe,pt,mt){this.schedulers=v;const Dt=(0,ss.on)(t,p,r),ut=S;x&&H1(Dt,p,L,K,ye,Pe,q,pt),[this.firestore,this.persistenceEnabled$]=(0,ss.cc)(`${Dt.name}.firestore`,"AngularFirestore",Dt.name,()=>{const kt=p.runOutsideAngular(()=>Dt.firestore());if(u&&kt.settings(u),ut&&kt.useEmulator(...ut),s&&!Fo(d)){const Ut=()=>{try{return(0,fn.D)(kt.enablePersistence(D||void 0).then(()=>!0,()=>!1))}catch(on){return"undefined"!=typeof console&&console.warn(on),et(!1)}};return[kt,p.runOutsideAngular(Ut)]}return[kt,et(!1)]},[u,ut,s])}collection(t,r){let s;s="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:d}=J1(s,r),p=this.schedulers.ngZone.run(()=>u);return new W1(p,d,this)}collectionGroup(t,r){const s=r||(d=>d),u=this.firestore.collectionGroup(t);return new MR(s(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const s=this.schedulers.ngZone.run(()=>r);return new K1(s,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ss.Dh),c.LFG(ss.xv,8),c.LFG(Y1,8),c.LFG(xR,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(hr.HU),c.LFG(Q1,8),c.LFG(OR,8),c.LFG(G1,8),c.LFG(L1,8),c.LFG(V1,8),c.LFG(U1,8),c.LFG(B1,8),c.LFG(j1,8),c.LFG($1,8),c.LFG(qT,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Zp=(()=>{class n{constructor(){DR.Z.registerVersion("angularfire",hr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Y1,useValue:!0},{provide:Q1,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Vh]}),n})(),X1=(()=>{class n{constructor(t){this._client=t}getAll(){return this._client.collection("heroes").valueChanges({idField:"id"})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Vh))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const eM=new c.OlP("GETS_ALL_HERO_DTO");let tM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[X1,{provide:eM,useExisting:X1}],imports:[[Zp]]}),n})(),NR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[],imports:[[nn,qn]]}),n})(),YT=(()=>{class n{constructor(t){this._client=t}getAll(){return this._client.collection("products").valueChanges({idField:"id"})}getOne(t){return this._client.doc("products/"+t).valueChanges({idField:"id"}).pipe(pn(r=>r?et(r):Bi(new Error("Item does not exist in firebase"))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Vh))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const nM=new c.OlP("GETS_ALL_PRODUCT_DTO"),rM=new c.OlP("GETS_ONE_PRODUCT_DTO");let QT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[YT,{provide:nM,useExisting:YT},{provide:rM,useExisting:YT}],imports:[[Zp]]}),n})(),RR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[],imports:[[nn]]}),n})(),JT=(()=>{class n{constructor(){this._subject=new Mr({})}select(){return this._subject.asObservable().pipe(xr(t=>t!=={}))}setState(t){return et(this._subject.next(t)).pipe((0,At.U)(()=>{}))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const iM=new c.OlP("SELECTS_PRODUCT_CONTEXT_STORAGE"),sM=new c.OlP("SETS_STATE_PRODUCT_CONTEXT_STORAGE");let XT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[JT,{provide:iM,useExisting:JT},{provide:sM,useExisting:JT}],imports:[[]]}),n})(),oM=(()=>{class n{constructor(t){this._setsStateProductContextStorage=t}resolve(t,r){return this._setsStateProductContextStorage.setState({productId:t.params.productId}).pipe((0,At.U)(s=>!0))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(sM))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),PR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[oM],imports:[[]]}),n})(),kR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[],imports:[[nn]]}),n})(),FR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[],imports:[[nn]]}),n})(),LR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[],imports:[[nn,qn]]}),n})(),eA=(()=>{class n{constructor(t){this._client=t}getAll(){return this._client.collection("Topsellers").valueChanges({idField:"id"})}getOne(t){return this._client.doc("Topsellers/"+t).valueChanges({idField:"id"}).pipe(pn(r=>r?et(r):Bi(new Error("Item does not exist in firebase"))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Vh))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const aM=new c.OlP("GETS_ALL_TOPSELLERS_DTO"),tA=new c.OlP("GETS_ONE_TOPSELLERS_DTO");let uM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[eA,{provide:aM,useExisting:eA},{provide:tA,useExisting:eA}],imports:[[Zp]]}),n})(),VR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[],imports:[[nn]]}),n})(),UR=(()=>{class n{constructor(t){this._getsAllHeroDto=t,this.image$=this._getsAllHeroDto.getAll()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(eM))},n.\u0275cmp=c.Xpm({type:n,selectors:[["lib-hero"]],decls:19,vars:0,consts:[[1,"center","container-fluid","scbackground"],[1,"container"],[1,"row"],[1,"col"],[1,"col","herotext"],[1,"fw-bold"],["xmlns","http://www.w3.org/2000/svg","width","100","height","100","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-lightning-charge"],["d","M11.251.068a.5.5 0 0 1 .227.58L9.677 6.5H13a.5.5 0 0 1 .364.843l-8 8.5a.5.5 0 0 1-.842-.49L6.323 9.5H3a.5.5 0 0 1-.364-.843l8-8.5a.5.5 0 0 1 .615-.09zM4.157 8.5H7a.5.5 0 0 1 .478.647L6.11 13.59l5.732-6.09H9a.5.5 0 0 1-.478-.647L9.89 2.41 4.157 8.5z"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"br")(3,"br")(4,"br")(5,"br")(6,"br")(7,"br")(8,"br")(9,"br"),c.TgZ(10,"div",2),c._UZ(11,"div",3)(12,"div",3),c.TgZ(13,"div",4)(14,"h1")(15,"span",5),c.O4$(),c.TgZ(16,"svg",6),c._UZ(17,"path",7),c.qZA(),c._uU(18," STYLIST PICKS UP THE HEAT"),c.qZA()()()()()())},encapsulation:2,changeDetection:0}),n})();function BR(n,e){if(1&n&&(c.TgZ(0,"div",6)(1,"div",7),c._UZ(2,"img",8),c.TgZ(3,"div",9)(4,"h5",10),c._uU(5),c.qZA(),c.TgZ(6,"p",11),c._uU(7),c.qZA(),c.TgZ(8,"button",12),c.O4$(),c.TgZ(9,"svg",13),c._UZ(10,"path",14),c.qZA(),c._uU(11," KUP "),c.qZA()()()()),2&n){const t=e.$implicit;c.xp6(2),c.s9C("src",t.imageUrl,c.LSH),c.Q6J("routerLink","details/"+t.id),c.xp6(3),c.Oqu(t.name),c.xp6(2),c.hij("",t.price," z\u0142"),c.xp6(1),c.Q6J("routerLink","")}}let jR=(()=>{class n{constructor(t){this._getsAllProductDto=t,this.products$=this._getsAllProductDto.getAll()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(nM))},n.\u0275cmp=c.Xpm({type:n,selectors:[["lib-product-list"]],decls:12,vars:3,consts:[[1,"border","bg-light","w-100"],[1,"col","herotext"],[1,"fw-bold"],[1,"container"],[1,"row"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card","background","text-white",2,"width","15rem"],[1,"card-img-top","background","productimgs",3,"routerLink","src"],[1,"card-body"],[1,"card-title","navtext","fw-bold"],[1,"card-text","navtext"],["type","button",1,"background","navtext",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","width","40","height","40","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-bag-heart","text-white"],["fill-rule","evenodd","d","M10.5 3.5a2.5 2.5 0 0 0-5 0V4h5v-.5Zm1 0V4H15v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4h3.5v-.5a3.5 3.5 0 1 1 7 0ZM14 14V5H2v9a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1ZM8 7.993c1.664-1.711 5.825 1.283 0 5.132-5.825-3.85-1.664-6.843 0-5.132Z"]],template:function(t,r){1&t&&(c._UZ(0,"p",0),c.TgZ(1,"div",1)(2,"h1")(3,"span",2),c._uU(4," DISCOVER OUR PRODUCTS"),c.qZA()(),c.TgZ(5,"h4"),c._uU(6,"THE LATEST FASHION ONLY"),c.qZA()(),c._UZ(7,"p",0),c.TgZ(8,"div",3)(9,"div",4),c.YNc(10,BR,12,5,"div",5),c.ALo(11,"async"),c.qZA()()),2&t&&(c.xp6(10),c.Q6J("ngForOf",c.lcZ(11,1,r.products$)))},directives:[Nn,mo],pipes:[No],encapsulation:2,changeDetection:0}),n})(),$R=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["lib-shop-description"]],decls:56,vars:0,consts:[[1,"border","bg-light","w-100"],[1,"container-fluid","navtext","contacttext"],[1,"row"],[1,"col-sm"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-truck"],["d","M0 3.5A1.5 1.5 0 0 1 1.5 2h9A1.5 1.5 0 0 1 12 3.5V5h1.02a1.5 1.5 0 0 1 1.17.563l1.481 1.85a1.5 1.5 0 0 1 .329.938V10.5a1.5 1.5 0 0 1-1.5 1.5H14a2 2 0 1 1-4 0H5a2 2 0 1 1-3.998-.085A1.5 1.5 0 0 1 0 10.5v-7zm1.294 7.456A1.999 1.999 0 0 1 4.732 11h5.536a2.01 2.01 0 0 1 .732-.732V3.5a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .294.456zM12 10a2 2 0 0 1 1.732 1h.768a.5.5 0 0 0 .5-.5V8.35a.5.5 0 0 0-.11-.312l-1.48-1.85A.5.5 0 0 0 13.02 6H12v4zm-9 1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm9 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-life-preserver"],["d","M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm6.43-5.228a7.025 7.025 0 0 1-3.658 3.658l-1.115-2.788a4.015 4.015 0 0 0 1.985-1.985l2.788 1.115zM5.228 14.43a7.025 7.025 0 0 1-3.658-3.658l2.788-1.115a4.015 4.015 0 0 0 1.985 1.985L5.228 14.43zm9.202-9.202-2.788 1.115a4.015 4.015 0 0 0-1.985-1.985l1.115-2.788a7.025 7.025 0 0 1 3.658 3.658zm-8.087-.87a4.015 4.015 0 0 0-1.985 1.985L1.57 5.228A7.025 7.025 0 0 1 5.228 1.57l1.115 2.788zM8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-counterclockwise"],["fill-rule","evenodd","d","M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z"],["d","M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-cash-coin"],["fill-rule","evenodd","d","M11 15a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm5-4a5 5 0 1 1-10 0 5 5 0 0 1 10 0z"],["d","M9.438 11.944c.047.596.518 1.06 1.363 1.116v.44h.375v-.443c.875-.061 1.386-.529 1.386-1.207 0-.618-.39-.936-1.09-1.1l-.296-.07v-1.2c.376.043.614.248.671.532h.658c-.047-.575-.54-1.024-1.329-1.073V8.5h-.375v.45c-.747.073-1.255.522-1.255 1.158 0 .562.378.92 1.007 1.066l.248.061v1.272c-.384-.058-.639-.27-.696-.563h-.668zm1.36-1.354c-.369-.085-.569-.26-.569-.522 0-.294.216-.514.572-.578v1.1h-.003zm.432.746c.449.104.655.272.655.569 0 .339-.257.571-.709.614v-1.195l.054.012z"],["d","M1 0a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4.083c.058-.344.145-.678.258-1H3a2 2 0 0 0-2-2V3a2 2 0 0 0 2-2h10a2 2 0 0 0 2 2v3.528c.38.34.717.728 1 1.154V1a1 1 0 0 0-1-1H1z"],["d","M9.998 5.083 10 5a2 2 0 1 0-3.132 1.65 5.982 5.982 0 0 1 3.13-1.567z"]],template:function(t,r){1&t&&(c._UZ(0,"p",0)(1,"br"),c.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"b"),c.O4$(),c.TgZ(6,"svg",4),c._UZ(7,"path",5),c.qZA(),c._uU(8," FREE SHIPPING "),c.qZA(),c.kcU(),c._UZ(9,"br"),c._uU(10," Enjoy free shipping "),c._UZ(11,"br"),c._uU(12,"on all orders above "),c._UZ(13,"br"),c._uU(14,"100$ "),c.qZA(),c.TgZ(15,"div",3)(16,"b"),c.O4$(),c.TgZ(17,"svg",6),c._UZ(18,"path",7),c.qZA(),c._uU(19," SUPPORT 24/7"),c.kcU(),c._UZ(20,"br"),c.qZA(),c._uU(21," Our support team "),c._UZ(22,"br"),c._uU(23,"is there to help you "),c._UZ(24,"br"),c._uU(25,"for queries "),c.qZA(),c.TgZ(26,"div",3)(27,"b"),c.O4$(),c.TgZ(28,"svg",8),c._UZ(29,"path",9)(30,"path",10),c.qZA(),c._uU(31," 30 DAYS RETURN"),c.qZA(),c.kcU(),c._UZ(32,"br"),c._uU(33,"Simply return it within "),c._UZ(34,"br"),c._uU(35,"30 days for an "),c._UZ(36,"br"),c._uU(37,"exchange. "),c.qZA(),c.TgZ(38,"div",3)(39,"b"),c.O4$(),c.TgZ(40,"svg",11),c._UZ(41,"path",12)(42,"path",13)(43,"path",14)(44,"path",15),c.qZA(),c._uU(45," 100% PAYMENT "),c.kcU(),c._UZ(46,"br"),c._uU(47,"SECURE"),c.qZA(),c._UZ(48,"br"),c._uU(49,"Our Payments are secured "),c._UZ(50,"br"),c._uU(51,"with 256 bit encryption "),c.qZA()()(),c._UZ(52,"br")(53,"br")(54,"p",0)(55,"br"))},encapsulation:2,changeDetection:0}),n})();const nA=new c.OlP("SETS_STATE_TOPSELLERS_CONTEXT");function HR(n,e){if(1&n&&(c.TgZ(0,"div",6)(1,"div",7),c._UZ(2,"img",8),c.TgZ(3,"div",9)(4,"h5",10),c._uU(5),c.qZA(),c.TgZ(6,"p",11),c._uU(7),c.qZA(),c.TgZ(8,"button",12),c.O4$(),c.TgZ(9,"svg",13),c._UZ(10,"path",14),c.qZA(),c._uU(11," KUP "),c.qZA()()()()),2&n){const t=e.$implicit;c.xp6(2),c.s9C("src",t.imageUrl,c.LSH),c.Q6J("routerLink","topdetalis/"+t.id),c.xp6(3),c.Oqu(t.name),c.xp6(2),c.hij("",t.price," z\u0142"),c.xp6(1),c.Q6J("routerLink","")}}let GR=(()=>{class n{constructor(t,r,s){this._getsAllTopsellersDto=t,this._getsOneTopsellersDto=r,this._setsStateTopsellersContext=s,this.topsellers$=this._getsAllTopsellersDto.getAll()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(aM),c.Y36(tA),c.Y36(nA))},n.\u0275cmp=c.Xpm({type:n,selectors:[["lib-topsellers"]],decls:10,vars:3,consts:[[1,"border","bg-light","w-100"],[1,"col","herotext"],[1,"fw-bold"],[1,"container"],[1,"row"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card","background","text-white",2,"width","15rem"],[1,"card-img-top","background","productimgs",3,"routerLink","src"],[1,"card-body"],[1,"card-title","navtext","fw-bold"],[1,"card-text","navtext"],["type","button",1,"background","navtext",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","width","40","height","40","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-bag-heart","text-white"],["fill-rule","evenodd","d","M10.5 3.5a2.5 2.5 0 0 0-5 0V4h5v-.5Zm1 0V4H15v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4h3.5v-.5a3.5 3.5 0 1 1 7 0ZM14 14V5H2v9a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1ZM8 7.993c1.664-1.711 5.825 1.283 0 5.132-5.825-3.85-1.664-6.843 0-5.132Z"]],template:function(t,r){1&t&&(c._UZ(0,"p",0),c.TgZ(1,"div",1)(2,"h1")(3,"span",2),c._uU(4," DON'T MISS OUR TOPSELLERS"),c.qZA()()(),c._UZ(5,"p",0),c.TgZ(6,"div",3)(7,"div",4),c.YNc(8,HR,12,5,"div",5),c.ALo(9,"async"),c.qZA()()),2&t&&(c.xp6(8),c.Q6J("ngForOf",c.lcZ(9,1,r.topsellers$)))},directives:[Nn,mo],pipes:[No],encapsulation:2,changeDetection:0}),n})(),zR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-home-page"]],decls:7,vars:0,template:function(t,r){1&t&&c._UZ(0,"lib-hero")(1,"br")(2,"lib-product-list")(3,"br")(4,"lib-shop-description")(5,"br")(6,"lib-topsellers")},directives:[UR,jR,$R,GR],encapsulation:2,changeDetection:0}),n})(),lM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[],imports:[[nn,vI,qn.forChild([{path:"",component:zR}]),NR,QT,tM,QT,LR,uM,FR]]}),n})(),cM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[],imports:[[nn]]}),n})(),dM=(()=>{class n{constructor(t){this._client=t}getAll(){return this._client.collection("team").valueChanges({idField:"id"})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Vh))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const hM=new c.OlP("GETS_ALL_OURTEAM_DTO");let qR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[dM,{provide:hM,useExisting:dM}],imports:[[Zp]]}),n})(),Dy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[],imports:[[nn,qn]]}),n})(),fM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[],imports:[[nn]]}),n})(),pM=(()=>{class n{constructor(t){this._client=t}getAll(){return this._client.collection("testimonials").valueChanges({idField:"id"})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Vh))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const gM=new c.OlP("GETS_ALL_OPINIONS_DTO");let ZR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[pM,{provide:gM,useExisting:pM}],imports:[[Zp]]}),n})();function WR(n,e){if(1&n&&(c.TgZ(0,"div",7)(1,"div",8),c._UZ(2,"img",9),c.TgZ(3,"div",10)(4,"h3",11),c._uU(5),c._UZ(6,"br"),c.qZA(),c.TgZ(7,"h4",11),c._uU(8),c._UZ(9,"br"),c.qZA()()()()),2&n){const t=e.$implicit;c.xp6(2),c.Q6J("src",t.imageUrl,c.LSH),c.xp6(3),c.Oqu(t.name),c.xp6(3),c.Oqu(t.description)}}let KR=(()=>{class n{constructor(t){this._getsAllOurteamDto=t,this.team$=this._getsAllOurteamDto.getAll()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(hM))},n.\u0275cmp=c.Xpm({type:n,selectors:[["lib-ourteam"]],decls:13,vars:3,consts:[[1,"center","container-fluid","aboutbackgroundpic"],[1,"border","bg-light","w-100"],[1,"col","herotext"],[1,"fw-bold"],[1,"center","container-fluid","background"],[1,"row"],["class","col-md",4,"ngFor","ngForOf"],[1,"col-md"],[1,"card","background",2,"width","42rem"],[1,"photo",3,"src"],[1,"card-body","background","containertext"],[1,"card-title","fw-bold"]],template:function(t,r){1&t&&(c._UZ(0,"div",0)(1,"br")(2,"p",1),c.TgZ(3,"div",2)(4,"h1")(5,"span",3),c._uU(6," FOUNDERS"),c.qZA()(),c._UZ(7,"p",1)(8,"br"),c.qZA(),c.TgZ(9,"div",4)(10,"div",5),c.YNc(11,WR,10,3,"div",6),c.ALo(12,"async"),c.qZA()()),2&t&&(c.xp6(11),c.Q6J("ngForOf",c.lcZ(12,1,r.team$)))},directives:[Nn],pipes:[No],encapsulation:2,changeDetection:0}),n})();function YR(n,e){if(1&n&&(c.TgZ(0,"div",4)(1,"div",5)(2,"div",6),c._UZ(3,"img",7),c.qZA(),c.TgZ(4,"div",8)(5,"h3",9),c.O4$(),c.TgZ(6,"svg",10),c._UZ(7,"path",11)(8,"path",12),c.qZA(),c.kcU(),c._UZ(9,"br"),c._uU(10),c._UZ(11,"br"),c.qZA(),c.TgZ(12,"h5",13)(13,"em"),c._uU(14),c.qZA()()()()()),2&n){const t=e.$implicit;c.xp6(3),c.Q6J("src",t.imageUrl,c.LSH),c.xp6(7),c.hij(" ",t.name," "),c.xp6(4),c.hij(' "',t.text,'" ')}}let QR=(()=>{class n{constructor(t){this._getsAllOpinionsDto=t,this.opinion$=this._getsAllOpinionsDto.getAll()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(gM))},n.\u0275cmp=c.Xpm({type:n,selectors:[["lib-opinions"]],decls:9,vars:3,consts:[[1,"border","bg-light","w-100"],[1,"col","herotext"],[1,"fw-bold"],["class","container",4,"ngFor","ngForOf"],[1,"container"],[1,"row"],[1,"col"],[1,"testimg",3,"src"],[1,"col","text-white"],[1,"card-title","fw-bold"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-bag-heart","text-white"],["d","M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-2.5a2 2 0 0 0-1.6.8L8 14.333 6.1 11.8a2 2 0 0 0-1.6-.8H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h2.5a1 1 0 0 1 .8.4l1.9 2.533a1 1 0 0 0 1.6 0l1.9-2.533a1 1 0 0 1 .8-.4H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"],["d","M7.066 4.76A1.665 1.665 0 0 0 4 5.668a1.667 1.667 0 0 0 2.561 1.406c-.131.389-.375.804-.777 1.22a.417.417 0 1 0 .6.58c1.486-1.54 1.293-3.214.682-4.112zm4 0A1.665 1.665 0 0 0 8 5.668a1.667 1.667 0 0 0 2.561 1.406c-.131.389-.375.804-.777 1.22a.417.417 0 1 0 .6.58c1.486-1.54 1.293-3.214.682-4.112z"],[1,""]],template:function(t,r){1&t&&(c._UZ(0,"p",0),c.TgZ(1,"div",1)(2,"h1")(3,"span",2),c._uU(4," EVERY OPINION IS REALLY IMPORTANT TO US"),c.qZA()()(),c._UZ(5,"p",0)(6,"br"),c.YNc(7,YR,15,3,"div",3),c.ALo(8,"async")),2&t&&(c.xp6(7),c.Q6J("ngForOf",c.lcZ(8,1,r.opinion$)))},directives:[Nn],pipes:[No],encapsulation:2,changeDetection:0}),n})(),BD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["lib-goback"]],decls:7,vars:1,consts:[[1,"border","bg-light","w-100"],[1,"d-flex"],["type","button",1,"background","navtext",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","width","40","height","40","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-bag-heart","text-white"],["d","M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146zM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4H2.5z"]],template:function(t,r){1&t&&(c._UZ(0,"p",0),c.TgZ(1,"div",1)(2,"button",2),c.O4$(),c.TgZ(3,"svg",3),c._UZ(4,"path",4),c.qZA(),c._uU(5," HOME "),c.qZA()(),c.kcU(),c._UZ(6,"p",0)),2&t&&(c.xp6(2),c.Q6J("routerLink","/"))},directives:[mo],encapsulation:2,changeDetection:0}),n})(),JR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-aboutus-page"]],decls:5,vars:0,template:function(t,r){1&t&&c._UZ(0,"lib-ourteam")(1,"br")(2,"lib-opinions")(3,"br")(4,"lib-goback")},directives:[KR,QR,BD],encapsulation:2,changeDetection:0}),n})(),XR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[],imports:[[nn,cM,Dy,fM,qn.forChild([{path:"",component:JR}]),qR,ZR,Dy,cM,fM]]}),n})(),mM=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Wp=(()=>{class n extends mM{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const ml=new c.OlP("NgValueAccessor"),nP={provide:ml,useExisting:(0,c.Gpc)(()=>V0),multi:!0},iP=new c.OlP("CompositionEventMode");let V0=(()=>{class n extends mM{constructor(t,r,s){super(t,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function rP(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(iP,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[c._Bn([nP]),c.qOj]}),n})();function Uh(n){return null==n||0===n.length}function _M(n){return null!=n&&"number"==typeof n.length}const qi=new c.OlP("NgValidators"),Bh=new c.OlP("NgAsyncValidators"),sP=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Gs{static min(e){return function vM(n){return e=>{if(Uh(e.value)||Uh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function EM(n){return e=>{if(Uh(e.value)||Uh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function wM(n){return Uh(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function bM(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function DM(n){return Uh(n.value)||sP.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function IM(n){return e=>Uh(e.value)||!_M(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function CM(n){return e=>_M(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function TM(n){if(!n)return jD;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Uh(r.value))return null;const s=r.value;return e.test(s)?null:{pattern:{requiredPattern:t,actualValue:s}}}}(e)}static nullValidator(e){return null}static compose(e){return NM(e)}static composeAsync(e){return RM(e)}}function jD(n){return null}function AM(n){return null!=n}function SM(n){const e=(0,c.QGY)(n)?(0,fn.D)(n):n;return(0,c.CqO)(e),e}function MM(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function xM(n,e){return e.map(t=>t(n))}function OM(n){return n.map(e=>function oP(n){return!n.validate}(e)?e:t=>e.validate(t))}function NM(n){if(!n)return null;const e=n.filter(AM);return 0==e.length?null:function(t){return MM(xM(t,e))}}function rA(n){return null!=n?NM(OM(n)):null}function RM(n){if(!n)return null;const e=n.filter(AM);return 0==e.length?null:function(t){return function eP(...n){const e=(0,Ba.jO)(n),{args:t,keys:r}=an(n),s=new Un.y(u=>{const{length:d}=t;if(!d)return void u.complete();const p=new Array(d);let v=d,D=d;for(let S=0;S<d;S++){let x=!1;(0,Qo.Xf)(t[S]).subscribe((0,Pn.x)(u,L=>{x||(x=!0,D--),p[S]=L},()=>v--,void 0,()=>{(!v||!x)&&(D||u.next(r?Fl(r,p):p),u.complete())}))}});return e?s.pipe(md(e)):s}(xM(t,e).map(SM)).pipe((0,At.U)(MM))}}function iA(n){return null!=n?RM(OM(n)):null}function PM(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function kM(n){return n._rawValidators}function FM(n){return n._rawAsyncValidators}function sA(n){return n?Array.isArray(n)?n:[n]:[]}function $D(n,e){return Array.isArray(n)?n.includes(e):n===e}function LM(n,e){const t=sA(e);return sA(n).forEach(s=>{$D(t,s)||t.push(s)}),t}function VM(n,e){return sA(e).filter(t=>!$D(n,t))}class UM{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=rA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=iA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class jh extends UM{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ps extends UM{get formDirective(){return null}get path(){return null}}class BM{constructor(e){this._cd=e}is(e){var t,r,s;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(s=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===s?void 0:s[e])}}let oA=(()=>{class n extends BM{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(jh,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[c.qOj]}),n})(),aA=(()=>{class n extends BM{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ps,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[c.qOj]}),n})();function U0(n,e){cA(n,e),e.valueAccessor.writeValue(n.value),function pP(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&$M(n,e)})}(n,e),function mP(n,e){const t=(r,s)=>{e.valueAccessor.writeValue(r),s&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function gP(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&$M(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function fP(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function zD(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ZD(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function qD(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function cA(n,e){const t=kM(n);null!==e.validator?n.setValidators(PM(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=FM(n);null!==e.asyncValidator?n.setAsyncValidators(PM(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const s=()=>n.updateValueAndValidity();qD(e._rawValidators,s),qD(e._rawAsyncValidators,s)}function ZD(n,e){let t=!1;if(null!==n){if(null!==e.validator){const s=kM(n);if(Array.isArray(s)&&s.length>0){const u=s.filter(d=>d!==e.validator);u.length!==s.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const s=FM(n);if(Array.isArray(s)&&s.length>0){const u=s.filter(d=>d!==e.asyncValidator);u.length!==s.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return qD(e._rawValidators,r),qD(e._rawAsyncValidators,r),t}function $M(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function fA(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const B0="VALID",WD="INVALID",Iy="PENDING",j0="DISABLED";function gA(n){return(KD(n)?n.validators:n)||null}function qM(n){return Array.isArray(n)?rA(n):n||null}function mA(n,e){return(KD(e)?e.asyncValidators:n)||null}function ZM(n){return Array.isArray(n)?iA(n):n||null}function KD(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const WM=n=>n instanceof To,yA=n=>n instanceof $0;function KM(n){return WM(n)?n.value:n.getRawValue()}function YM(n,e){const t=yA(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new c.vHH(1e3,"");if(!r[e])throw new c.vHH(1001,"")}function QM(n,e){yA(n),n._forEachChild((r,s)=>{if(void 0===e[s])throw new c.vHH(1002,"")})}class _A{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=qM(this._rawValidators),this._composedAsyncValidatorFn=ZM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===B0}get invalid(){return this.status===WD}get pending(){return this.status==Iy}get disabled(){return this.status===j0}get enabled(){return this.status!==j0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=qM(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=ZM(e)}addValidators(e){this.setValidators(LM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(LM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(VM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(VM(e,this._rawAsyncValidators))}hasValidator(e){return $D(this._rawValidators,e)}hasAsyncValidator(e){return $D(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Iy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=j0,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=B0,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===B0||this.status===Iy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?j0:B0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Iy,this._hasOwnPendingAsyncValidator=!0;const t=SM(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function EP(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(s=>{r=yA(r)?r.controls.hasOwnProperty(s)?r.controls[s]:null:(n=>n instanceof bP)(r)&&r.at(s)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?j0:this.errors?WD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Iy)?Iy:this._anyControlsHaveStatus(WD)?WD:B0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){KD(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class To extends _A{constructor(e=null,t,r){super(gA(t),mA(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),KD(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){fA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){fA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class $0 extends _A{constructor(e,t,r){super(gA(t),mA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){QM(this,e),Object.keys(e).forEach(r=>{YM(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=KM(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((s,u)=>{r=t(r,s,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class bP extends _A{constructor(e,t,r){super(gA(t),mA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){QM(this,e),e.forEach((r,s)=>{YM(this,s),this.at(s).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,s)=>{this.at(s)&&this.at(s).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>KM(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let EA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),rx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const wA=new c.OlP("NgModelWithFormControlWarning"),OP={provide:ps,useExisting:(0,c.Gpc)(()=>G0)};let G0=(()=>{class n extends ps{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ZD(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return U0(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){zD(t.control||null,t,!1),fA(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function zM(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,s=this.form.get(t.path);r!==s&&(zD(r||null,t),WM(s)&&(U0(s,t),t.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function HM(n,e){cA(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function yP(n,e){return ZD(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){cA(this.form,this),this._oldForm&&ZD(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(qi,10),c.Y36(Bh,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([OP]),c.qOj,c.TTD]}),n})();const PP={provide:jh,useExisting:(0,c.Gpc)(()=>YD)};let YD=(()=>{class n extends jh{constructor(t,r,s,u,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=function hA(n,e){if(!e)return null;let t,r,s;return Array.isArray(e),e.forEach(u=>{u.constructor===V0?t=u:function vP(n){return Object.getPrototypeOf(n.constructor)===Wp}(u)?r=u:s=u}),s||r||t||null}(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function dA(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function GD(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(ps,13),c.Y36(qi,10),c.Y36(Bh,10),c.Y36(ml,10),c.Y36(wA,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([PP]),c.qOj,c.TTD]}),n})(),YP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[rx]]}),n})(),vx=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:wA,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[YP]}),n})(),Ex=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[],imports:[[nn,vx,qn]]}),n})(),wx=(()=>{class n{constructor(t){this._client=t}add(t){return(0,fn.D)(this._client.collection("messages").add(t)).pipe((0,At.U)(()=>{}))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Vh))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const bx=new c.OlP("ADDS_MESSAGES_DTO");let Dx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[wx,{provide:bx,useExisting:wx}],imports:[[Zp]]}),n})(),QP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[],imports:[[nn,qn]]}),n})();function JP(n,e){1&n&&(c.TgZ(0,"div",23),c._uU(1," Please provide your name "),c.qZA())}function XP(n,e){1&n&&(c.TgZ(0,"div",23),c._uU(1," Please provide an email address "),c.qZA())}function ek(n,e){1&n&&(c.TgZ(0,"div",23),c._uU(1," Provided email is not a valid email "),c.qZA())}function tk(n,e){1&n&&(c.TgZ(0,"div",23),c._uU(1," Please provide your message "),c.qZA())}let nk=(()=>{class n{constructor(t,r){this._addsMessagesDto=t,this.router=r,this.contact=new $0({name:new To("",[Gs.required,Gs.minLength(3)]),email:new To("",[Gs.required,Gs.email]),text:new To("",[Gs.required,Gs.minLength(1)])})}onMessageSubmited(t){var r,s,u;t.invalid||(this._addsMessagesDto.add({name:null===(r=t.get("name"))||void 0===r?void 0:r.value,email:null===(s=t.get("email"))||void 0===s?void 0:s.value,text:null===(u=t.get("text"))||void 0===u?void 0:u.value}),this.contact.reset(),this.router.navigate(["//messagesent"]))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(bx),c.Y36(Nr))},n.\u0275cmp=c.Xpm({type:n,selectors:[["lib-contactus"]],decls:74,vars:5,consts:[[1,"center","container-fluid","contactbackgroundpic"],[1,"border","bg-light","w-100"],[1,"col","herotext"],[1,"fw-bold"],[1,"row","no-gutters"],[1,"col-12","col-sm-6","col-md-8"],[1,"container-fluid"],[1,"col-5"],["xmlns","http://www.w3.org/2000/svg","width","40","height","40","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-envelope"],["d","M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z"],[3,"formGroup","ngSubmit"],["type","text","formControlName","name","placeholder","Name",2,"width","500px"],["class","alert alert-danger fw-bold",4,"ngIf"],["type","text","formControlName","email","placeholder","Email",2,"width","500px"],["type","text","formControlName","text","placeholder","Text",1,"p-5",2,"width","500px"],["type","submit","value","SEND MESSAGE",1,"background","navtext"],[1,"col-6","col-md-4","contacttext"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-globe"],["d","M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm7.5-6.923c-.67.204-1.335.82-1.887 1.855A7.97 7.97 0 0 0 5.145 4H7.5V1.077zM4.09 4a9.267 9.267 0 0 1 .64-1.539 6.7 6.7 0 0 1 .597-.933A7.025 7.025 0 0 0 2.255 4H4.09zm-.582 3.5c.03-.877.138-1.718.312-2.5H1.674a6.958 6.958 0 0 0-.656 2.5h2.49zM4.847 5a12.5 12.5 0 0 0-.338 2.5H7.5V5H4.847zM8.5 5v2.5h2.99a12.495 12.495 0 0 0-.337-2.5H8.5zM4.51 8.5a12.5 12.5 0 0 0 .337 2.5H7.5V8.5H4.51zm3.99 0V11h2.653c.187-.765.306-1.608.338-2.5H8.5zM5.145 12c.138.386.295.744.468 1.068.552 1.035 1.218 1.65 1.887 1.855V12H5.145zm.182 2.472a6.696 6.696 0 0 1-.597-.933A9.268 9.268 0 0 1 4.09 12H2.255a7.024 7.024 0 0 0 3.072 2.472zM3.82 11a13.652 13.652 0 0 1-.312-2.5h-2.49c.062.89.291 1.733.656 2.5H3.82zm6.853 3.472A7.024 7.024 0 0 0 13.745 12H11.91a9.27 9.27 0 0 1-.64 1.539 6.688 6.688 0 0 1-.597.933zM8.5 12v2.923c.67-.204 1.335-.82 1.887-1.855.173-.324.33-.682.468-1.068H8.5zm3.68-1h2.146c.365-.767.594-1.61.656-2.5h-2.49a13.65 13.65 0 0 1-.312 2.5zm2.802-3.5a6.959 6.959 0 0 0-.656-2.5H12.18c.174.782.282 1.623.312 2.5h2.49zM11.27 2.461c.247.464.462.98.64 1.539h1.835a7.024 7.024 0 0 0-3.072-2.472c.218.284.418.598.597.933zM10.855 4a7.966 7.966 0 0 0-.468-1.068C9.835 1.897 9.17 1.282 8.5 1.077V4h2.355z"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-telephone-outbound"],["d","M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.568 17.568 0 0 0 4.168 6.608 17.569 17.569 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.678.678 0 0 0-.58-.122l-2.19.547a1.745 1.745 0 0 1-1.657-.459L5.482 8.062a1.745 1.745 0 0 1-.46-1.657l.548-2.19a.678.678 0 0 0-.122-.58L3.654 1.328zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511zM11 .5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V1.707l-4.146 4.147a.5.5 0 0 1-.708-.708L14.293 1H11.5a.5.5 0 0 1-.5-.5z"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-send"],["d","M15.854.146a.5.5 0 0 1 .11.54l-5.819 14.547a.75.75 0 0 1-1.329.124l-3.178-4.995L.643 7.184a.75.75 0 0 1 .124-1.33L15.314.037a.5.5 0 0 1 .54.11ZM6.636 10.07l2.761 4.338L14.13 2.576 6.636 10.07Zm6.787-8.201L1.591 6.602l4.339 2.76 7.494-7.493Z"],[1,"alert","alert-danger","fw-bold"]],template:function(t,r){if(1&t&&(c._UZ(0,"div",0)(1,"br")(2,"p",1),c.TgZ(3,"div",2)(4,"h1")(5,"span",3),c._uU(6,"ANY QUESTIONS? "),c._UZ(7,"br"),c._uU(8," DROP US A LINE!"),c.qZA()(),c._UZ(9,"p",1)(10,"br"),c.qZA(),c.TgZ(11,"div",4)(12,"div",5)(13,"div",6)(14,"div",7)(15,"div",2),c._UZ(16,"p",1),c.TgZ(17,"h1")(18,"span",3),c.O4$(),c.TgZ(19,"svg",8),c._UZ(20,"path",9),c.qZA(),c._uU(21," CONTACT FORM"),c.qZA()(),c.kcU(),c._UZ(22,"p",1)(23,"br"),c.qZA(),c.TgZ(24,"form",10),c.NdJ("ngSubmit",function(){return r.onMessageSubmited(r.contact)}),c._UZ(25,"input",11)(26,"br"),c.YNc(27,JP,2,0,"div",12),c._UZ(28,"br")(29,"input",13)(30,"br"),c.YNc(31,XP,2,0,"div",12),c.YNc(32,ek,2,0,"div",12),c._UZ(33,"br")(34,"input",14)(35,"br"),c.YNc(36,tk,2,0,"div",12),c._UZ(37,"br")(38,"br")(39,"p",1)(40,"input",15)(41,"p",1)(42,"br")(43,"br"),c.qZA()()()(),c.TgZ(44,"div",16)(45,"b"),c.O4$(),c.TgZ(46,"svg",17),c._UZ(47,"path",18),c.qZA(),c._uU(48," VISIT US!"),c.qZA(),c.kcU(),c._UZ(49,"br"),c._uU(50,"02-897 Warszawa"),c._UZ(51,"br"),c._uU(52,"ul. Prosta 20"),c._UZ(53,"br")(54,"br"),c.TgZ(55,"b"),c.O4$(),c.TgZ(56,"svg",19),c._UZ(57,"path",20),c.qZA(),c._uU(58," CALL US!"),c.qZA(),c.kcU(),c._UZ(59,"br"),c._uU(60,"Phone: 879 392 817 "),c._UZ(61,"br")(62,"br"),c.TgZ(63,"b"),c.O4$(),c.TgZ(64,"svg",21),c._UZ(65,"path",22),c.qZA(),c._uU(66," GET IN TOUCH!"),c.qZA(),c.kcU(),c._UZ(67,"br"),c._uU(68," You can get in touch with us "),c._UZ(69,"br"),c._uU(70," on this provided email:"),c._UZ(71,"br"),c.TgZ(72,"u"),c._uU(73,"info@info.com"),c.qZA()()()),2&t){let s,u,d,p;c.xp6(24),c.Q6J("formGroup",r.contact),c.xp6(3),c.Q6J("ngIf",(null==(s=r.contact.get("name"))?null:s.touched)&&(null==(s=r.contact.get("name"))?null:s.hasError("required"))),c.xp6(4),c.Q6J("ngIf",(null==(u=r.contact.get("email"))?null:u.touched)&&(null==(u=r.contact.get("email"))?null:u.hasError("required"))),c.xp6(1),c.Q6J("ngIf",null==(d=r.contact.get("email"))?null:d.hasError("email")),c.xp6(4),c.Q6J("ngIf",(null==(p=r.contact.get("text"))?null:p.touched)&&(null==(p=r.contact.get("text"))?null:p.hasError("required")))}},directives:[EA,aA,G0,V0,oA,YD,zn],encapsulation:2,changeDetection:0}),n})(),rk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-contactus-page"]],decls:3,vars:0,template:function(t,r){1&t&&c._UZ(0,"lib-contactus")(1,"br")(2,"lib-goback")},directives:[nk,BD],encapsulation:2,changeDetection:0}),n})(),ik=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[],imports:[[nn,Ex,ss.hO,Dx,Ex,qn.forChild([{path:"",component:rk}]),Dy]]}),n})();function sk(n,e){if(1&n&&(c.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),c._uU(6),c.qZA(),c.TgZ(7,"h6",6),c._uU(8),c.qZA(),c.TgZ(9,"h6",6),c._uU(10),c.qZA(),c._UZ(11,"img",7),c.TgZ(12,"a",8),c._uU(13,"Dodaj do koszyka"),c.qZA()()()()()()),2&n){const t=e.ngIf;c.xp6(6),c.Oqu(t.name),c.xp6(2),c.Oqu(t.description),c.xp6(2),c.hij("",t.price," z\u0142"),c.xp6(1),c.Q6J("src",t.imageUrl,c.LSH)}}let ok=(()=>{class n{constructor(t,r){this._getsOneProductDto=t,this._selectsProductContextStorage=r,this.productDetail$=this._selectsProductContextStorage.select().pipe(pn(s=>this._getsOneProductDto.getOne(s.productId)))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(rM),c.Y36(iM))},n.\u0275cmp=c.Xpm({type:n,selectors:[["lib-product-detail"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"row","justify-content-center"],[1,"col-4"],[1,"card",2,"width","18rem"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle","mb-2","text-muted"],["width","100","height","200",3,"src"],["href","#",1,"card-link"]],template:function(t,r){1&t&&(c.YNc(0,sk,14,4,"div",0),c.ALo(1,"async")),2&t&&c.Q6J("ngIf",c.lcZ(1,1,r.productDetail$))},directives:[zn],pipes:[No],encapsulation:2,changeDetection:0}),n})(),ak=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-productdetail-page"]],decls:5,vars:0,template:function(t,r){1&t&&(c.TgZ(0,"h1"),c._uU(1,"ProductdetailPage"),c.qZA(),c._UZ(2,"lib-product-detail")(3,"lib-goback"),c._uU(4,">\n"))},directives:[ok,BD],encapsulation:2,changeDetection:0}),n})(),uk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[],imports:[[nn,RR,QT,XT,PR,qn.forChild([{path:"",component:ak,resolve:[oM]}]),Dy]]}),n})(),Ix=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[],imports:[[nn,vx]]}),n})(),Cx=(()=>{class n{constructor(t){this._client=t}add(t){return(0,fn.D)(this._client.collection("orders").add(t)).pipe((0,At.U)(()=>{}))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Vh))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Tx=new c.OlP("ADDS_ORDER_DTO");let lk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Cx,{provide:Tx,useExisting:Cx}],imports:[[Zp]]}),n})(),ck=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[],imports:[[nn,qn]]}),n})(),dk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["lib-order-confirmation"]],decls:27,vars:1,consts:[[1,"border","bg-light","w-100"],[1,"herotext"],[1,"fw-bold"],[1,"container","no-gutters"],[1,"col","herotext"],["type","button",1,"container","background","navtext","container","no-gutters",3,"routerLink"]],template:function(t,r){1&t&&(c._UZ(0,"br")(1,"br")(2,"p",0),c.TgZ(3,"div",1)(4,"h1")(5,"span",2),c._uU(6," ORDER CONFIRMATION"),c._UZ(7,"br"),c.qZA()(),c._UZ(8,"p",0),c.TgZ(9,"div",3)(10,"div",4),c._UZ(11,"br"),c.TgZ(12,"h1")(13,"span",2),c._uU(14," THANK YOU FOR YOUR ORDER!"),c._UZ(15,"br"),c.qZA()(),c.TgZ(16,"h3"),c._uU(17,"We'll contact you as soon as your package is shipped."),c.qZA(),c._UZ(18,"br"),c.qZA()()(),c._UZ(19,"p",0),c.TgZ(20,"div",3)(21,"div",4)(22,"button",5)(23,"b"),c._uU(24,"GO BACK"),c.qZA(),c._UZ(25,"br"),c.qZA()()(),c._UZ(26,"p",0)),2&t&&(c.xp6(22),c.Q6J("routerLink","/"))},directives:[mo],encapsulation:2,changeDetection:0}),n})(),hk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-confirmation-page"]],decls:2,vars:0,template:function(t,r){1&t&&(c._UZ(0,"lib-order-confirmation"),c._uU(1,">\n"))},directives:[dk],encapsulation:2,changeDetection:0}),n})(),fk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[],imports:[[nn,qn.forChild([{path:"",component:hk}]),Dy,ck]]}),n})(),pk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["lib-cart"]],decls:6,vars:0,consts:[[1,"border","bg-light","w-100"],[1,"col","herotext"],[1,"fw-bold"]],template:function(t,r){1&t&&(c._UZ(0,"p",0),c.TgZ(1,"div",1)(2,"h1")(3,"span",2),c._uU(4," YOUR SHOPPING CART"),c.qZA()()(),c._UZ(5,"p",0))},encapsulation:2,changeDetection:0}),n})(),gk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-cart-page"]],decls:2,vars:0,template:function(t,r){1&t&&(c._UZ(0,"lib-cart"),c._uU(1,">\n"))},directives:[pk],encapsulation:2,changeDetection:0}),n})(),mk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[],imports:[[nn,qn.forChild([{path:"",component:gk}]),kR]]}),n})();const Ax=new c.OlP("SELECTS_TOPSELLERS_CONTEXT");function yk(n,e){if(1&n&&(c.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),c._uU(6),c.qZA(),c.TgZ(7,"h6",6),c._uU(8),c.qZA(),c.TgZ(9,"h6",6),c._uU(10),c.qZA(),c._UZ(11,"img",7),c.TgZ(12,"a",8),c._uU(13,"Dodaj do koszyka"),c.qZA()()()()()()),2&n){const t=e.ngIf;c.xp6(6),c.Oqu(t.name),c.xp6(2),c.Oqu(t.description),c.xp6(2),c.hij("",t.price," z\u0142"),c.xp6(1),c.Q6J("src",t.imageUrl,c.LSH)}}let _k=(()=>{class n{constructor(t,r){this._getsOneTopsellersDto=t,this._selectsTopsellersContext=r,this.topsellersDetalis$=this._selectsTopsellersContext.select().pipe(pn(s=>this._getsOneTopsellersDto.getOne(s.TopsellersId)))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(tA),c.Y36(Ax))},n.\u0275cmp=c.Xpm({type:n,selectors:[["lib-topsellers-detalis"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"row","justify-content-center"],[1,"col-4"],[1,"card",2,"width","18rem"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle","mb-2","text-muted"],["width","100","height","200",3,"src"],["href","#",1,"card-link"]],template:function(t,r){1&t&&(c.YNc(0,yk,14,4,"div",0),c.ALo(1,"async")),2&t&&c.Q6J("ngIf",c.lcZ(1,1,r.topsellersDetalis$))},directives:[zn],pipes:[No],encapsulation:2,changeDetection:0}),n})(),vk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-topsellersdetalis-page"]],decls:4,vars:0,template:function(t,r){1&t&&(c.TgZ(0,"h1"),c._uU(1,"TopsellersdetalisPage"),c.qZA(),c._UZ(2,"lib-topsellers-detalis")(3,"lib-goback"))},directives:[_k,BD],encapsulation:2,changeDetection:0}),n})(),Sx=(()=>{class n{constructor(t){this._setsStateTopsellersContext=t}resolve(t,r){return this._setsStateTopsellersContext.setState({TopsellersId:t.params.topsellersId}).pipe((0,At.U)(s=>!0))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(nA))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ek=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Sx],imports:[[]]}),n})(),wk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[],imports:[[nn,uM,XT,Ek,Dy,VR,qn.forChild([{path:"",component:vk,resolve:[Sx]}])]]}),n})(),bk=(()=>{class n{constructor(t,r){this._addsOrderDto=t,this.router=r,this.count=Date.now(),this.details=new $0({name:new To("",[Gs.required]),address:new To("",[Gs.required]),town:new To("",[Gs.required]),code:new To("",[Gs.required]),country:new To("",[Gs.required]),phone:new To("",[Gs.required]),email:new To("",[Gs.required]),delivery:new To("",[Gs.required])})}onOrderSubmited(t){var r,s,u,d,p,v,D,S;t.invalid||(this._addsOrderDto.add({name:null===(r=null==t?void 0:t.get("name"))||void 0===r?void 0:r.value,address:null===(s=null==t?void 0:t.get("address"))||void 0===s?void 0:s.value,town:null===(u=null==t?void 0:t.get("town"))||void 0===u?void 0:u.value,code:null===(d=null==t?void 0:t.get("code"))||void 0===d?void 0:d.value,country:null===(p=null==t?void 0:t.get("country"))||void 0===p?void 0:p.value,phone:null===(v=null==t?void 0:t.get("phone"))||void 0===v?void 0:v.value,email:null===(D=null==t?void 0:t.get("email"))||void 0===D?void 0:D.value,delivery:null===(S=null==t?void 0:t.get("delivery"))||void 0===S?void 0:S.value,count:Date.now()}),this.details.reset(),this.router.navigate(["./confirmation"]))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Tx),c.Y36(Nr))},n.\u0275cmp=c.Xpm({type:n,selectors:[["lib-billing-detail"]],decls:45,vars:1,consts:[[1,"border","bg-light","w-100"],[1,"col","herotext"],[1,"fw-bold"],[1,"container-fluid"],[1,"col-1"],[3,"formGroup","ngSubmit"],["type","text","formControlName","name","placeholder","Name"],["type","text","formControlName","address","placeholder","Address"],["type","text","formControlName","town","placeholder","Town"],["type","text","formControlName","code","placeholder","Code"],["type","text","formControlName","country","placeholder","Country"],["type","text","formControlName","phone","placeholder","Phone"],["type","text","formControlName","email","placeholder","Email"],["type","text","formControlName","delivery","placeholder","Delivery"],[1,"text-white","fw-bold"],["type","submit","value","Confirm and order!"]],template:function(t,r){1&t&&(c._UZ(0,"p",0),c.TgZ(1,"div",1)(2,"h1")(3,"span",2),c._uU(4," YOUR ORDER "),c.qZA()(),c._UZ(5,"p",0)(6,"br"),c.qZA(),c._UZ(7,"p",0),c.TgZ(8,"div",1)(9,"h1")(10,"span",2),c._uU(11," BILLING DETAILS "),c.qZA()(),c._UZ(12,"p",0)(13,"br"),c.qZA(),c.TgZ(14,"div",3)(15,"div",4)(16,"form",5),c.NdJ("ngSubmit",function(){return r.onOrderSubmited(r.details)}),c._UZ(17,"input",6)(18,"br")(19,"br")(20,"input",7)(21,"br")(22,"br")(23,"input",8)(24,"br")(25,"br")(26,"input",9)(27,"br")(28,"br")(29,"input",10)(30,"br")(31,"br")(32,"input",11)(33,"br")(34,"br")(35,"input",12)(36,"br")(37,"br")(38,"input",13)(39,"br"),c.TgZ(40,"p",14),c._uU(41,"*DPD DELIVERY OR PICKUP IN PERSON ONLY"),c.qZA(),c._UZ(42,"br")(43,"br")(44,"input",15),c.qZA()()()),2&t&&(c.xp6(16),c.Q6J("formGroup",r.details))},directives:[EA,aA,G0,V0,oA,YD],encapsulation:2,changeDetection:0}),n})(),Dk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-billing-detail-page"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"lib-billing-detail")},directives:[bk],encapsulation:2,changeDetection:0}),n})(),Ik=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[],imports:[[nn,Ix,qn.forChild([{path:"",component:Dk}]),Ix,lk]]}),n})(),Ck=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["lib-send-confirmation"]],decls:24,vars:1,consts:[[1,"center","container-fluid","contactbackgroundpic"],[1,"border","bg-light","w-100"],[1,"col","herotext"],[1,"fw-bold"],["xmlns","http://www.w3.org/2000/svg","width","40","height","40","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-envelope"],["d","M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z"],[1,"contacttext"],["type","button",1,"background","navtext",3,"routerLink"]],template:function(t,r){1&t&&(c._UZ(0,"div",0)(1,"br")(2,"p",1),c.TgZ(3,"div",2)(4,"h1")(5,"span",3),c.O4$(),c.TgZ(6,"svg",4),c._UZ(7,"path",5),c.qZA(),c._uU(8," MESSAGE SENT! "),c.kcU(),c._UZ(9,"br"),c.qZA()(),c._UZ(10,"p",1)(11,"br"),c.TgZ(12,"span",6)(13,"i"),c._uU(14,"THANK YOU FOR YOR MESSAGE."),c._UZ(15,"br"),c._uU(16,"WE'LL CONTACT YOU AS SOON AS POSSIBLE."),c.qZA()(),c._UZ(17,"br")(18,"br")(19,"p",1),c.TgZ(20,"button",7)(21,"b"),c._uU(22,"GO BACK"),c.qZA()(),c._UZ(23,"p",1),c.qZA()),2&t&&(c.xp6(20),c.Q6J("routerLink","/"))},directives:[mo],encapsulation:2,changeDetection:0}),n})(),Tk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-send-confirmation-page"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"lib-send-confirmation")},directives:[Ck],encapsulation:2,changeDetection:0}),n})(),Ak=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[],imports:[[nn,qn.forChild([{path:"",component:Tk}]),QP]]}),n})();const Sk=[{path:"home",loadChildren:()=>lM},{path:"aboutus",loadChildren:()=>XR},{path:"contactus",loadChildren:()=>ik},{path:"details/:productId",loadChildren:()=>uk},{path:"confirmation",loadChildren:()=>fk},{path:"",loadChildren:()=>lM},{path:"shoppingcart",loadChildren:()=>mk},{path:"topdetalis/:topsellersId",loadChildren:()=>wk},{path:"billing",loadChildren:()=>Ik},{path:"messagesent",loadChildren:()=>Ak}];let Mk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[qn.forRoot(Sk)],qn]}),n})(),xk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["lib-button"]],decls:27,vars:6,consts:[[1,"border","bg-light","w-100"],[1,"container-fluid"],["type","button",1,"background","navtext","navpaddingsright",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","width","40","height","40","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-bag-heart","text-white"],["d","M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146zM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4H2.5z"],["d","M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816zM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275zM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"],["d","M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.568 17.568 0 0 0 4.168 6.608 17.569 17.569 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.678.678 0 0 0-.58-.122l-2.19.547a1.745 1.745 0 0 1-1.657-.459L5.482 8.062a1.745 1.745 0 0 1-.46-1.657l.548-2.19a.678.678 0 0 0-.122-.58L3.654 1.328zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z"],["d","M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"],["fill-rule","evenodd","d","M10.5 3.5a2.5 2.5 0 0 0-5 0V4h5v-.5Zm1 0V4H15v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4h3.5v-.5a3.5 3.5 0 1 1 7 0ZM14 14V5H2v9a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1ZM8 7.993c1.664-1.711 5.825 1.283 0 5.132-5.825-3.85-1.664-6.843 0-5.132Z"],["type","button",1,"background","navtext",3,"routerLink"],["fill-rule","evenodd","d","M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"]],template:function(t,r){1&t&&(c._UZ(0,"p",0),c.TgZ(1,"div",1)(2,"button",2),c.O4$(),c.TgZ(3,"svg",3),c._UZ(4,"path",4),c.qZA(),c._uU(5," HOME "),c.qZA(),c.kcU(),c.TgZ(6,"button",2),c.O4$(),c.TgZ(7,"svg",3),c._UZ(8,"path",5),c.qZA(),c._uU(9," ABOUT "),c.qZA(),c.kcU(),c.TgZ(10,"button",2),c.O4$(),c.TgZ(11,"svg",3),c._UZ(12,"path",6),c.qZA(),c._uU(13," CONTACT "),c.qZA(),c.kcU(),c.TgZ(14,"button",2),c.O4$(),c.TgZ(15,"svg",3),c._UZ(16,"path",7),c.qZA(),c._uU(17," PROFILE "),c.qZA(),c.kcU(),c.TgZ(18,"button",2),c.O4$(),c.TgZ(19,"svg",3),c._UZ(20,"path",8),c.qZA(),c._uU(21," CART "),c.qZA(),c.kcU(),c.TgZ(22,"button",9),c.O4$(),c.TgZ(23,"svg",3),c._UZ(24,"path",10),c.qZA(),c._uU(25," MORE "),c.qZA()(),c.kcU(),c._UZ(26,"p",0)),2&t&&(c.xp6(2),c.Q6J("routerLink","/"),c.xp6(4),c.Q6J("routerLink","./aboutus"),c.xp6(4),c.Q6J("routerLink","./contactus"),c.xp6(4),c.Q6J("routerLink",""),c.xp6(4),c.Q6J("routerLink","./shoppingcart"),c.xp6(4),c.Q6J("routerLink",""))},directives:[mo],encapsulation:2,changeDetection:0}),n})(),Ok=(()=>{class n{constructor(){this.title="HACKATON"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"container-fluid","text-white","header","background"],[1,"display-6","fw-bold","mainheading"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"p",1),c._uU(2," E-COMMERCE by \u017byrafy "),c._UZ(3,"br")(4,"br")(5,"lib-button"),c.qZA()(),c._UZ(6,"router-outlet"))},directives:[xk,zl],styles:[""]}),n})();const Mx_firebase={projectId:"hakaton-2939c",appId:"1:328501125806:web:f4fdbfdcfbd55095c0433f",storageBucket:"hakaton-2939c.appspot.com",locationId:"europe-west",apiKey:"AIzaSyBBe-onwqZKv-FSmDwnyRRflXyYmm_SleI",authDomain:"hakaton-2939c.firebaseapp.com",messagingSenderId:"328501125806"};class AA{constructor(e){return e}}const xx="firestore",SA=new c.OlP("angularfire2.firestore-instances"),kk={provide:class Nk{constructor(){return(0,hr.vb)(xx)}},deps:[[new c.FiY,SA]]},Fk={provide:AA,useFactory:function Rk(n,e){const t=(0,hr.JM)(xx,n,e);return t&&new AA(t)},deps:[[new c.FiY,SA],class k0{constructor(e){return e}}]};let Ox=(()=>{class n{constructor(){(0,MT.KN)("angularfire",hr.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Fk,kk]}),n})();class Nx{}const Zc="*";function Rx(n,e=null){return{type:2,steps:n,options:e}}function Px(n){return{type:6,styles:n,offset:null}}function kx(n){Promise.resolve(null).then(n)}class z0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){kx(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Fx{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,s=0;const u=this.players.length;0==u?kx(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++t==u&&this._onFinish()}),d.onDestroy(()=>{++r==u&&this._onDestroy()}),d.onStart(()=>{++s==u&&this._onStart()})}),this.totalTime=this.players.reduce((d,p)=>Math.max(d,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const s=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(s)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const Wt=!1;function Lx(n){return new c.vHH(3e3,Wt)}function yF(){return"undefined"!=typeof window&&void 0!==window.document}function xA(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function $h(n){switch(n.length){case 0:return new z0;case 1:return n[0];default:return new Fx(n)}}function Vx(n,e,t,r,s={},u={}){const d=[],p=[];let v=-1,D=null;if(r.forEach(S=>{const x=S.offset,L=x==v,q=L&&D||{};Object.keys(S).forEach(K=>{let ye=K,Pe=S[K];if("offset"!==K)switch(ye=e.normalizePropertyName(ye,d),Pe){case"!":Pe=s[K];break;case Zc:Pe=u[K];break;default:Pe=e.normalizeStyleValue(K,ye,Pe,d)}q[ye]=Pe}),L||p.push(q),D=q,v=x}),d.length)throw function oF(n){return new c.vHH(3502,Wt)}();return p}function OA(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&NA(t,"start",n)));break;case"done":n.onDone(()=>r(t&&NA(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&NA(t,"destroy",n)))}}function NA(n,e,t){const r=t.totalTime,u=RA(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),d=n._data;return null!=d&&(u._data=d),u}function RA(n,e,t,r,s="",u=0,d){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:s,totalTime:u,disabled:!!d}}function Ao(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function Ux(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let PA=(n,e)=>!1,Bx=(n,e,t)=>[],jx=null;function kA(n){const e=n.parentNode||n.host;return e===jx?null:e}(xA()||"undefined"!=typeof Element)&&(yF()?(jx=(()=>document.documentElement)(),PA=(n,e)=>{for(;e;){if(e===n)return!0;e=kA(e)}return!1}):PA=(n,e)=>n.contains(e),Bx=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Yp=null,$x=!1;function Hx(n){Yp||(Yp=function vF(){return"undefined"!=typeof document?document.body:null}()||{},$x=!!Yp.style&&"WebkitAppearance"in Yp.style);let e=!0;return Yp.style&&!function _F(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Yp.style,!e&&$x&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Yp.style)),e}const Gx=PA,zx=Bx;let qx=(()=>{class n{validateStyleProperty(t){return Hx(t)}matchesElement(t,r){return!1}containsElement(t,r){return Gx(t,r)}getParentElement(t){return kA(t)}query(t,r,s){return zx(t,r,s)}computeStyle(t,r,s){return s||""}animate(t,r,s,u,d,p=[],v){return new z0(s,u)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),FA=(()=>{class n{}return n.NOOP=new qx,n})();const LA="ng-enter",JD="ng-leave",XD="ng-trigger",eI=".ng-trigger",Wx="ng-animating",VA=".ng-animating";function Qp(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:UA(parseFloat(e[1]),e[2])}function UA(n,e){return"s"===e?1e3*n:n}function tI(n,e,t){return n.hasOwnProperty("duration")?n:function bF(n,e,t){let s,u=0,d="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return e.push(Lx()),{duration:0,delay:0,easing:""};s=UA(parseFloat(p[1]),p[2]);const v=p[3];null!=v&&(u=UA(parseFloat(v),p[4]));const D=p[5];D&&(d=D)}else s=n;if(!t){let p=!1,v=e.length;s<0&&(e.push(function Vk(){return new c.vHH(3100,Wt)}()),p=!0),u<0&&(e.push(function Uk(){return new c.vHH(3101,Wt)}()),p=!0),p&&e.splice(v,0,Lx())}return{duration:s,delay:u,easing:d}}(n,e,t)}function Cy(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Hh(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Cy(n,t);return t}function Yx(n,e,t){return t?e+":"+t+";":""}function Qx(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=Yx(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Yx(0,CF(t),n.style[t]));n.setAttribute("style",e)}function yl(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const s=jA(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[s]),n.style[s]=e[r]}),xA()&&Qx(n))}function Jp(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=jA(t);n.style[r]=""}),xA()&&Qx(n))}function q0(n){return Array.isArray(n)?1==n.length?n[0]:Rx(n):n}const BA=new RegExp("{{\\s*(.+?)\\s*}}","g");function Jx(n){let e=[];if("string"==typeof n){let t;for(;t=BA.exec(n);)e.push(t[1]);BA.lastIndex=0}return e}function nI(n,e,t){const r=n.toString(),s=r.replace(BA,(u,d)=>{let p=e[d];return e.hasOwnProperty(d)||(t.push(function jk(n){return new c.vHH(3003,Wt)}()),p=""),p.toString()});return s==r?n:s}function rI(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const IF=/-+([a-z0-9])/g;function jA(n){return n.replace(IF,(...e)=>e[1].toUpperCase())}function CF(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function So(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function $k(n){return new c.vHH(3004,Wt)}()}}function Xx(n,e){return window.getComputedStyle(n)[e]}function OF(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function NF(n,e,t){if(":"==n[0]){const v=function RF(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function nF(n){return new c.vHH(3016,Wt)}()),"* => *"}}(n,t);if("function"==typeof v)return void e.push(v);n=v}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function tF(n){return new c.vHH(3015,Wt)}()),e;const s=r[1],u=r[2],d=r[3];e.push(eO(s,d));"<"==u[0]&&!("*"==s&&"*"==d)&&e.push(eO(d,s))}(r,t,e)):t.push(n),t}const aI=new Set(["true","1"]),uI=new Set(["false","0"]);function eO(n,e){const t=aI.has(n)||uI.has(n),r=aI.has(e)||uI.has(e);return(s,u)=>{let d="*"==n||n==s,p="*"==e||e==u;return!d&&t&&"boolean"==typeof s&&(d=s?aI.has(n):uI.has(n)),!p&&r&&"boolean"==typeof u&&(p=u?aI.has(e):uI.has(e)),d&&p}}const PF=new RegExp("s*:selfs*,?","g");function $A(n,e,t,r){return new kF(n).build(e,t,r)}class kF{constructor(e){this._driver=e}build(e,t,r){const s=new VF(t);this._resetContextStyleTimingState(s);const u=So(this,q0(e),s);return s.unsupportedCSSPropertiesFound.size&&s.unsupportedCSSPropertiesFound.keys(),u}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,s=t.depCount=0;const u=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push(function Gk(){return new c.vHH(3006,Wt)}()),e.definitions.forEach(p=>{if(this._resetContextStyleTimingState(t),0==p.type){const v=p,D=v.name;D.toString().split(/\s*,\s*/).forEach(S=>{v.name=S,u.push(this.visitState(v,t))}),v.name=D}else if(1==p.type){const v=this.visitTransition(p,t);r+=v.queryCount,s+=v.depCount,d.push(v)}else t.errors.push(function zk(){return new c.vHH(3007,Wt)}())}),{type:7,name:e.name,states:u,transitions:d,queryCount:r,depCount:s,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),s=e.options&&e.options.params||null;if(r.containsDynamicStyles){const u=new Set,d=s||{};r.styles.forEach(p=>{if(lI(p)){const v=p;Object.keys(v).forEach(D=>{Jx(v[D]).forEach(S=>{d.hasOwnProperty(S)||u.add(S)})})}}),u.size&&(rI(u.values()),t.errors.push(function qk(n,e){return new c.vHH(3008,Wt)}()))}return{type:0,name:e.name,style:r,options:s?{params:s}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=So(this,q0(e.animation),t);return{type:1,matchers:OF(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Xp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>So(this,r,t)),options:Xp(e.options)}}visitGroup(e,t){const r=t.currentTime;let s=0;const u=e.steps.map(d=>{t.currentTime=r;const p=So(this,d,t);return s=Math.max(s,t.currentTime),p});return t.currentTime=s,{type:3,steps:u,options:Xp(e.options)}}visitAnimate(e,t){const r=function BF(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return HA(tI(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=HA(0,0,"");return u.dynamic=!0,u.strValue=r,u}return t=t||tI(r,e),HA(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let s,u=e.styles?e.styles:Px({});if(5==u.type)s=this.visitKeyframes(u,t);else{let d=e.styles,p=!1;if(!d){p=!0;const D={};r.easing&&(D.easing=r.easing),d=Px(D)}t.currentTime+=r.duration+r.delay;const v=this.visitStyle(d,t);v.isEmptyStep=p,s=v}return t.currentAnimateTimings=null,{type:4,timings:r,style:s,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(d=>{"string"==typeof d?d==Zc?r.push(d):t.errors.push(function Zk(n){return new c.vHH(3002,Wt)}()):r.push(d)}):r.push(e.styles);let s=!1,u=null;return r.forEach(d=>{if(lI(d)){const p=d,v=p.easing;if(v&&(u=v,delete p.easing),!s)for(let D in p)if(p[D].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:r,easing:u,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let s=t.currentTime,u=t.currentTime;r&&u>0&&(u-=r.duration+r.delay),e.styles.forEach(d=>{"string"!=typeof d&&Object.keys(d).forEach(p=>{if(!this._driver.validateStyleProperty(p))return delete d[p],void t.unsupportedCSSPropertiesFound.add(p);const v=t.collectedStyles[t.currentQuerySelector],D=v[p];let S=!0;D&&(u!=s&&u>=D.startTime&&s<=D.endTime&&(t.errors.push(function Wk(n,e,t,r,s){return new c.vHH(3010,Wt)}()),S=!1),u=D.startTime),S&&(v[p]={startTime:u,endTime:s}),t.options&&function DF(n,e,t){const r=e.params||{},s=Jx(n);s.length&&s.forEach(u=>{r.hasOwnProperty(u)||t.push(function Bk(n){return new c.vHH(3001,Wt)}())})}(d[p],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Kk(){return new c.vHH(3011,Wt)}()),r;let u=0;const d=[];let p=!1,v=!1,D=0;const S=e.steps.map(pt=>{const mt=this._makeStyleAst(pt,t);let Dt=null!=mt.offset?mt.offset:function UF(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(lI(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(lI(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(mt.styles),ut=0;return null!=Dt&&(u++,ut=mt.offset=Dt),v=v||ut<0||ut>1,p=p||ut<D,D=ut,d.push(ut),mt});v&&t.errors.push(function Yk(){return new c.vHH(3012,Wt)}()),p&&t.errors.push(function Qk(){return new c.vHH(3200,Wt)}());const x=e.steps.length;let L=0;u>0&&u<x?t.errors.push(function Jk(){return new c.vHH(3202,Wt)}()):0==u&&(L=1/(x-1));const q=x-1,K=t.currentTime,ye=t.currentAnimateTimings,Pe=ye.duration;return S.forEach((pt,mt)=>{const Dt=L>0?mt==q?1:L*mt:d[mt],ut=Dt*Pe;t.currentTime=K+ye.delay+ut,ye.duration=ut,this._validateStyleAst(pt,t),pt.offset=Dt,r.styles.push(pt)}),r}visitReference(e,t){return{type:8,animation:So(this,q0(e.animation),t),options:Xp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Xp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Xp(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,s=e.options||{};t.queryCount++,t.currentQuery=e;const[u,d]=function FF(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(PF,"")),n=n.replace(/@\*/g,eI).replace(/@\w+/g,t=>eI+"-"+t.substr(1)).replace(/:animating/g,VA),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+u:u,Ao(t.collectedStyles,t.currentQuerySelector,{});const p=So(this,q0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:u,limit:s.limit||0,optional:!!s.optional,includeSelf:d,animation:p,originalSelector:e.selector,options:Xp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Xk(){return new c.vHH(3013,Wt)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:tI(e.timings,t.errors,!0);return{type:12,animation:So(this,q0(e.animation),t),timings:r,options:null}}}class VF{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function lI(n){return!Array.isArray(n)&&"object"==typeof n}function Xp(n){return n?(n=Cy(n)).params&&(n.params=function LF(n){return n?Cy(n):null}(n.params)):n={},n}function HA(n,e,t){return{duration:n,delay:e,easing:t}}function GA(n,e,t,r,s,u,d=null,p=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:s,delay:u,totalTime:s+u,easing:d,subTimeline:p}}class cI{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const HF=new RegExp(":enter","g"),zF=new RegExp(":leave","g");function zA(n,e,t,r,s,u={},d={},p,v,D=[]){return(new qF).buildKeyframes(n,e,t,r,s,u,d,p,v,D)}class qF{buildKeyframes(e,t,r,s,u,d,p,v,D,S=[]){D=D||new cI;const x=new qA(e,t,D,s,u,S,[]);x.options=v,x.currentTimeline.setStyles([d],null,x.errors,v),So(this,r,x);const L=x.timelines.filter(q=>q.containsAnimation());if(Object.keys(p).length){let q;for(let K=L.length-1;K>=0;K--){const ye=L[K];if(ye.element===t){q=ye;break}}q&&!q.allowOnlyTimelineStyles()&&q.setStyles([p],null,x.errors,v)}return L.length?L.map(q=>q.buildKeyframes()):[GA(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const s=t.createSubContext(e.options),u=t.currentTimeline.currentTime,d=this._visitSubInstructions(r,s,s.options);u!=d&&t.transformIntoNewTimeline(d)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let u=t.currentTimeline.currentTime;const d=null!=r.duration?Qp(r.duration):null,p=null!=r.delay?Qp(r.delay):null;return 0!==d&&e.forEach(v=>{const D=t.appendInstructionToTimeline(v,d,p);u=Math.max(u,D.duration+D.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),So(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let s=t;const u=e.options;if(u&&(u.params||u.delay)&&(s=t.createSubContext(u),s.transformIntoNewTimeline(),null!=u.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=dI);const d=Qp(u.delay);s.delayNextStep(d)}e.steps.length&&(e.steps.forEach(d=>So(this,d,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>r&&s.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let s=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?Qp(e.options.delay):0;e.steps.forEach(d=>{const p=t.createSubContext(e.options);u&&p.delayNextStep(u),So(this,d,p),s=Math.max(s,p.currentTimeline.currentTime),r.push(p.currentTimeline)}),r.forEach(d=>t.currentTimeline.mergeTimelineCollectedStyles(d)),t.transformIntoNewTimeline(s),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return tI(t.params?nI(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),s=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),s.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(r.duration),this.visitStyle(u,t),s.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,s=t.currentAnimateTimings;!s&&r.getCurrentStyleProperties().length&&r.forwardFrame();const u=s&&s.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(u):r.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,s=t.currentTimeline.duration,u=r.duration,p=t.createSubContext().currentTimeline;p.easing=r.easing,e.styles.forEach(v=>{p.forwardTime((v.offset||0)*u),p.setStyles(v.styles,v.easing,t.errors,t.options),p.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(p),t.transformIntoNewTimeline(s+u),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,s=e.options||{},u=s.delay?Qp(s.delay):0;u&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=dI);let d=r;const p=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!s.optional,t.errors);t.currentQueryTotal=p.length;let v=null;p.forEach((D,S)=>{t.currentQueryIndex=S;const x=t.createSubContext(e.options,D);u&&x.delayNextStep(u),D===t.element&&(v=x.currentTimeline),So(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),v&&(t.currentTimeline.mergeTimelineCollectedStyles(v),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,s=t.currentTimeline,u=e.timings,d=Math.abs(u.duration),p=d*(t.currentQueryTotal-1);let v=d*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":v=p-v;break;case"full":v=r.currentStaggerTime}const S=t.currentTimeline;v&&S.delayNextStep(v);const x=S.currentTime;So(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=s.currentTime-x+(s.startTime-r.currentTimeline.startTime)}}const dI={};class qA{constructor(e,t,r,s,u,d,p,v){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=s,this._leaveClassName=u,this.errors=d,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=dI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new hI(this._driver,t,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let s=this.options;null!=r.duration&&(s.duration=Qp(r.duration)),null!=r.delay&&(s.delay=Qp(r.delay));const u=r.params;if(u){let d=s.params;d||(d=this.options.params={}),Object.keys(u).forEach(p=>{(!t||!d.hasOwnProperty(p))&&(d[p]=nI(u[p],d,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(s=>{r[s]=t[s]})}}return e}createSubContext(e=null,t,r){const s=t||this.element,u=new qA(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=dI,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const s={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},u=new ZF(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,s,e.stretchStartingKeyframe);return this.timelines.push(u),s}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,s,u,d){let p=[];if(s&&p.push(this.element),e.length>0){e=(e=e.replace(HF,"."+this._enterClassName)).replace(zF,"."+this._leaveClassName);let D=this._driver.query(this.element,e,1!=r);0!==r&&(D=r<0?D.slice(D.length+r,D.length):D.slice(0,r)),p.push(...D)}return!u&&0==p.length&&d.push(function eF(n){return new c.vHH(3014,Wt)}()),p}}class hI{constructor(e,t,r,s){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new hI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Zc,this._currentKeyframe[t]=Zc}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,s){t&&(this._previousKeyframe.easing=t);const u=s&&s.params||{},d=function WF(n,e){const t={};let r;return n.forEach(s=>{"*"===s?(r=r||Object.keys(e),r.forEach(u=>{t[u]=Zc})):Hh(s,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(d).forEach(p=>{const v=nI(d[p],u,r);this._pendingStyles[p]=v,this._localTimelineStyles.hasOwnProperty(p)||(this._backFill[p]=this._globalTimelineStyles.hasOwnProperty(p)?this._globalTimelineStyles[p]:Zc),this._updateStyle(p,v)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],s=e._styleSummary[t];(!r||s.time>r.time)&&this._updateStyle(t,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((p,v)=>{const D=Hh(p,!0);Object.keys(D).forEach(S=>{const x=D[S];"!"==x?e.add(S):x==Zc&&t.add(S)}),r||(D.offset=v/this.duration),s.push(D)});const u=e.size?rI(e.values()):[],d=t.size?rI(t.values()):[];if(r){const p=s[0],v=Cy(p);p.offset=0,v.offset=1,s=[p,v]}return GA(this.element,s,u,d,this.duration,this.startTime,this.easing,!1)}}class ZF extends hI{constructor(e,t,r,s,u,d,p=!1){super(e,t,d.delay),this.keyframes=r,this.preStyleProps=s,this.postStyleProps=u,this._stretchStartingKeyframe=p,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:s}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],d=r+t,p=t/d,v=Hh(e[0],!1);v.offset=0,u.push(v);const D=Hh(e[0],!1);D.offset=rO(p),u.push(D);const S=e.length-1;for(let x=1;x<=S;x++){let L=Hh(e[x],!1);L.offset=rO((t+L.offset*r)/d),u.push(L)}r=d,t=0,s="",e=u}return GA(this.element,e,this.preStyleProps,this.postStyleProps,r,t,s,!0)}}function rO(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class ZA{}class KF extends ZA{normalizePropertyName(e,t){return jA(e)}normalizeStyleValue(e,t,r,s){let u="";const d=r.toString().trim();if(YF[t]&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const p=r.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&s.push(function Hk(n,e){return new c.vHH(3005,Wt)}())}return d+u}}const YF=(()=>function QF(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function iO(n,e,t,r,s,u,d,p,v,D,S,x,L){return{type:0,element:n,triggerName:e,isRemovalTransition:s,fromState:t,fromStyles:u,toState:r,toStyles:d,timelines:p,queriedElements:v,preStyleProps:D,postStyleProps:S,totalTime:x,errors:L}}const WA={};class sO{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,s){return function JF(n,e,t,r,s){return n.some(u=>u(e,t,r,s))}(this.ast.matchers,e,t,r,s)}buildStyles(e,t,r){const s=this._stateStyles["*"],u=this._stateStyles[e],d=s?s.buildStyles(t,r):{};return u?u.buildStyles(t,r):d}build(e,t,r,s,u,d,p,v,D,S){const x=[],L=this.ast.options&&this.ast.options.params||WA,K=this.buildStyles(r,p&&p.params||WA,x),ye=v&&v.params||WA,Pe=this.buildStyles(s,ye,x),pt=new Set,mt=new Map,Dt=new Map,ut="void"===s,kt={params:Object.assign(Object.assign({},L),ye)},Ut=S?[]:zA(e,t,this.ast.animation,u,d,K,Pe,kt,D,x);let on=0;if(Ut.forEach(Wc=>{on=Math.max(Wc.duration+Wc.delay,on)}),x.length)return iO(t,this._triggerName,r,s,ut,K,Pe,[],[],mt,Dt,on,x);Ut.forEach(Wc=>{const Kc=Wc.element,wO=Ao(mt,Kc,{});Wc.preStyleProps.forEach(eg=>wO[eg]=!0);const W0=Ao(Dt,Kc,{});Wc.postStyleProps.forEach(eg=>W0[eg]=!0),Kc!==t&&pt.add(Kc)});const gs=rI(pt.values());return iO(t,this._triggerName,r,s,ut,K,Pe,Ut,gs,mt,Dt,on)}}class XF{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},s=Cy(this.defaultParams);return Object.keys(e).forEach(u=>{const d=e[u];null!=d&&(s[u]=d)}),this.styles.styles.forEach(u=>{if("string"!=typeof u){const d=u;Object.keys(d).forEach(p=>{let v=d[p];v.length>1&&(v=nI(v,s,t));const D=this.normalizer.normalizePropertyName(p,t);v=this.normalizer.normalizeStyleValue(p,D,v,t),r[D]=v})}}),r}}class tL{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(s=>{this.states[s.name]=new XF(s.style,s.options&&s.options.params||{},r)}),oO(this.states,"true","1"),oO(this.states,"false","0"),t.transitions.forEach(s=>{this.transitionFactories.push(new sO(e,s,this.states))}),this.fallbackTransition=function nL(n,e,t){return new sO(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,p)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,s){return this.transitionFactories.find(d=>d.match(e,t,r,s))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function oO(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const rL=new cI;class iL{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],u=$A(this._driver,t,r,[]);if(r.length)throw function aF(n){return new c.vHH(3503,Wt)}();this._animations[e]=u}_buildPlayer(e,t,r){const s=e.element,u=Vx(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(s,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const s=[],u=this._animations[e];let d;const p=new Map;if(u?(d=zA(this._driver,t,u,LA,JD,{},{},r,rL,s),d.forEach(S=>{const x=Ao(p,S.element,{});S.postStyleProps.forEach(L=>x[L]=null)})):(s.push(function uF(){return new c.vHH(3300,Wt)}()),d=[]),s.length)throw function lF(n){return new c.vHH(3504,Wt)}();p.forEach((S,x)=>{Object.keys(S).forEach(L=>{S[L]=this._driver.computeStyle(x,L,Zc)})});const D=$h(d.map(S=>{const x=p.get(S.element);return this._buildPlayer(S,{},x)}));return this._playersById[e]=D,D.onDestroy(()=>this.destroy(e)),this.players.push(D),D}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function cF(n){return new c.vHH(3301,Wt)}();return t}listen(e,t,r,s){const u=RA(t,"","","");return OA(this._getPlayer(e),r,u,s),()=>{}}command(e,t,r,s){if("register"==r)return void this.register(e,s[0]);if("create"==r)return void this.create(e,t,s[0]||{});const u=this._getPlayer(e);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(e)}}}const aO="ng-animate-queued",KA="ng-animate-disabled",lL=[],uO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},cL={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ea="__ng_removed";class YA{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function pL(n){return null!=n?n:null}(r?e.value:e),r){const u=Cy(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(s=>{null==r[s]&&(r[s]=t[s])})}}}const Z0="void",QA=new YA(Z0);class dL{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,wa(t,this._hostClassName)}listen(e,t,r,s){if(!this._triggers.hasOwnProperty(t))throw function dF(n,e){return new c.vHH(3302,Wt)}();if(null==r||0==r.length)throw function hF(n){return new c.vHH(3303,Wt)}();if(!function gL(n){return"start"==n||"done"==n}(r))throw function fF(n,e){return new c.vHH(3400,Wt)}();const u=Ao(this._elementListeners,e,[]),d={name:t,phase:r,callback:s};u.push(d);const p=Ao(this._engine.statesByElement,e,{});return p.hasOwnProperty(t)||(wa(e,XD),wa(e,XD+"-"+t),p[t]=QA),()=>{this._engine.afterFlush(()=>{const v=u.indexOf(d);v>=0&&u.splice(v,1),this._triggers[t]||delete p[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function pF(n){return new c.vHH(3401,Wt)}();return t}trigger(e,t,r,s=!0){const u=this._getTrigger(t),d=new JA(this.id,t,e);let p=this._engine.statesByElement.get(e);p||(wa(e,XD),wa(e,XD+"-"+t),this._engine.statesByElement.set(e,p={}));let v=p[t];const D=new YA(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&v&&D.absorbOptions(v.options),p[t]=D,v||(v=QA),D.value!==Z0&&v.value===D.value){if(!function _L(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let s=0;s<t.length;s++){const u=t[s];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(v.params,D.params)){const ye=[],Pe=u.matchStyles(v.value,v.params,ye),pt=u.matchStyles(D.value,D.params,ye);ye.length?this._engine.reportError(ye):this._engine.afterFlush(()=>{Jp(e,Pe),yl(e,pt)})}return}const L=Ao(this._engine.playersByElement,e,[]);L.forEach(ye=>{ye.namespaceId==this.id&&ye.triggerName==t&&ye.queued&&ye.destroy()});let q=u.matchTransition(v.value,D.value,e,D.params),K=!1;if(!q){if(!s)return;q=u.fallbackTransition,K=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:q,fromState:v,toState:D,player:d,isFallbackTransition:K}),K||(wa(e,aO),d.onStart(()=>{Ty(e,aO)})),d.onDone(()=>{let ye=this.players.indexOf(d);ye>=0&&this.players.splice(ye,1);const Pe=this._engine.playersByElement.get(e);if(Pe){let pt=Pe.indexOf(d);pt>=0&&Pe.splice(pt,1)}}),this.players.push(d),L.push(d),d}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(s=>s.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,eI,!0);r.forEach(s=>{if(s[Ea])return;const u=this._engine.fetchNamespacesByElement(s);u.size?u.forEach(d=>d.triggerLeaveAnimation(s,t,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(e,t,r,s){const u=this._engine.statesByElement.get(e),d=new Map;if(u){const p=[];if(Object.keys(u).forEach(v=>{if(d.set(v,u[v].value),this._triggers[v]){const D=this.trigger(e,v,Z0,s);D&&p.push(D)}}),p.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,d),r&&$h(p).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const s=new Set;t.forEach(u=>{const d=u.name;if(s.has(d))return;s.add(d);const v=this._triggers[d].fallbackTransition,D=r[d]||QA,S=new YA(Z0),x=new JA(this.id,d,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:d,transition:v,fromState:D,toState:S,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let s=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(e):[];if(u&&u.length)s=!0;else{let d=e;for(;d=d.parentNode;)if(r.statesByElement.get(d)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(e),s)r.markElementAsRemoved(this.id,e,!1,t);else{const u=e[Ea];(!u||u===uO)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){wa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const s=r.player;if(s.destroyed)return;const u=r.element,d=this._elementListeners.get(u);d&&d.forEach(p=>{if(p.name==r.triggerName){const v=RA(u,r.triggerName,r.fromState.value,r.toState.value);v._data=e,OA(r.player,p.phase,v,p.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):t.push(r)}),this._queue=[],t.sort((r,s)=>{const u=r.transition.ast.depCount,d=s.transition.ast.depCount;return 0==u||0==d?u-d:this._engine.driver.containsElement(r.element,s.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class hL{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,u)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new dL(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,s=this.namespacesByHostElement,u=r.length-1;if(u>=0){let d=!1;if(void 0!==this.driver.getParentElement){let p=this.driver.getParentElement(t);for(;p;){const v=s.get(p);if(v){const D=r.indexOf(v);r.splice(D+1,0,e),d=!0;break}p=this.driver.getParentElement(p)}}else for(let p=u;p>=0;p--)if(this.driver.containsElement(r[p].hostElement,t)){r.splice(p+1,0,e),d=!0;break}d||r.unshift(e)}else r.push(e);return s.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let s=this._namespaceLookup[e];s&&s.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const s=this._namespaceList.indexOf(r);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const s=Object.keys(r);for(let u=0;u<s.length;u++){const d=r[s[u]].namespaceId;if(d){const p=this._fetchNamespace(d);p&&t.add(p)}}}return t}trigger(e,t,r,s){if(fI(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,r,s),!0}return!1}insertNode(e,t,r,s){if(!fI(t))return;const u=t[Ea];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const d=this.collectedLeaveElements.indexOf(t);d>=0&&this.collectedLeaveElements.splice(d,1)}if(e){const d=this._fetchNamespace(e);d&&d.insertNode(t,r)}s&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),wa(e,KA)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ty(e,KA))}removeNode(e,t,r,s){if(fI(t)){const u=e?this._fetchNamespace(e):null;if(u?u.removeNode(t,s):this.markElementAsRemoved(e,t,!1,s),r){const d=this.namespacesByHostElement.get(t);d&&d.id!==e&&d.removeNode(t,s)}}else this._onRemovalComplete(t,s)}markElementAsRemoved(e,t,r,s,u){this.collectedLeaveElements.push(t),t[Ea]={namespaceId:e,setForRemoval:s,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:u}}listen(e,t,r,s,u){return fI(t)?this._fetchNamespace(e).listen(t,r,s,u):()=>{}}_buildInstruction(e,t,r,s,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,s,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,eI,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,VA,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return $h(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[Ea];if(r&&r.setForRemoval){if(e[Ea]=uO,r.namespaceId){this.destroyInnerAnimations(e);const s=this._fetchNamespace(r.namespaceId);s&&s.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(KA))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,s)=>this._balanceNamespaceList(r,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)wa(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let s=0;s<r.length;s++)r[s]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?$h(t).onDone(()=>{r.forEach(s=>s())}):r.forEach(s=>s())}}reportError(e){throw function gF(n){return new c.vHH(3402,Wt)}()}_flushAnimations(e,t){const r=new cI,s=[],u=new Map,d=[],p=new Map,v=new Map,D=new Map,S=new Set;this.disabledNodes.forEach(ot=>{S.add(ot);const It=this.driver.query(ot,".ng-animate-queued",!0);for(let Ot=0;Ot<It.length;Ot++)S.add(It[Ot])});const x=this.bodyNode,L=Array.from(this.statesByElement.keys()),q=dO(L,this.collectedEnterElements),K=new Map;let ye=0;q.forEach((ot,It)=>{const Ot=LA+ye++;K.set(It,Ot),ot.forEach(Xt=>wa(Xt,Ot))});const Pe=[],pt=new Set,mt=new Set;for(let ot=0;ot<this.collectedLeaveElements.length;ot++){const It=this.collectedLeaveElements[ot],Ot=It[Ea];Ot&&Ot.setForRemoval&&(Pe.push(It),pt.add(It),Ot.hasAnimation?this.driver.query(It,".ng-star-inserted",!0).forEach(Xt=>pt.add(Xt)):mt.add(It))}const Dt=new Map,ut=dO(L,Array.from(pt));ut.forEach((ot,It)=>{const Ot=JD+ye++;Dt.set(It,Ot),ot.forEach(Xt=>wa(Xt,Ot))}),e.push(()=>{q.forEach((ot,It)=>{const Ot=K.get(It);ot.forEach(Xt=>Ty(Xt,Ot))}),ut.forEach((ot,It)=>{const Ot=Dt.get(It);ot.forEach(Xt=>Ty(Xt,Ot))}),Pe.forEach(ot=>{this.processLeaveNode(ot)})});const kt=[],Ut=[];for(let ot=this._namespaceList.length-1;ot>=0;ot--)this._namespaceList[ot].drainQueuedTransitions(t).forEach(Ot=>{const Xt=Ot.player,_i=Ot.element;if(kt.push(Xt),this.collectedEnterElements.length){const ms=_i[Ea];if(ms&&ms.setForMove){if(ms.previousTriggersValues&&ms.previousTriggersValues.has(Ot.triggerName)){const tg=ms.previousTriggersValues.get(Ot.triggerName),zh=this.statesByElement.get(Ot.element);zh&&zh[Ot.triggerName]&&(zh[Ot.triggerName].value=tg)}return void Xt.destroy()}}const _l=!x||!this.driver.containsElement(x,_i),Mo=Dt.get(_i),Gh=K.get(_i),ir=this._buildInstruction(Ot,r,Gh,Mo,_l);if(ir.errors&&ir.errors.length)return void Ut.push(ir);if(_l)return Xt.onStart(()=>Jp(_i,ir.fromStyles)),Xt.onDestroy(()=>yl(_i,ir.toStyles)),void s.push(Xt);if(Ot.isFallbackTransition)return Xt.onStart(()=>Jp(_i,ir.fromStyles)),Xt.onDestroy(()=>yl(_i,ir.toStyles)),void s.push(Xt);const IO=[];ir.timelines.forEach(ms=>{ms.stretchStartingKeyframe=!0,this.disabledNodes.has(ms.element)||IO.push(ms)}),ir.timelines=IO,r.append(_i,ir.timelines),d.push({instruction:ir,player:Xt,element:_i}),ir.queriedElements.forEach(ms=>Ao(p,ms,[]).push(Xt)),ir.preStyleProps.forEach((ms,tg)=>{const zh=Object.keys(ms);if(zh.length){let ng=v.get(tg);ng||v.set(tg,ng=new Set),zh.forEach(tS=>ng.add(tS))}}),ir.postStyleProps.forEach((ms,tg)=>{const zh=Object.keys(ms);let ng=D.get(tg);ng||D.set(tg,ng=new Set),zh.forEach(tS=>ng.add(tS))})});if(Ut.length){const ot=[];Ut.forEach(It=>{ot.push(function mF(n,e){return new c.vHH(3505,Wt)}())}),kt.forEach(It=>It.destroy()),this.reportError(ot)}const on=new Map,gs=new Map;d.forEach(ot=>{const It=ot.element;r.has(It)&&(gs.set(It,It),this._beforeAnimationBuild(ot.player.namespaceId,ot.instruction,on))}),s.forEach(ot=>{const It=ot.element;this._getPreviousPlayers(It,!1,ot.namespaceId,ot.triggerName,null).forEach(Xt=>{Ao(on,It,[]).push(Xt),Xt.destroy()})});const Wc=Pe.filter(ot=>fO(ot,v,D)),Kc=new Map;cO(Kc,this.driver,mt,D,Zc).forEach(ot=>{fO(ot,v,D)&&Wc.push(ot)});const W0=new Map;q.forEach((ot,It)=>{cO(W0,this.driver,new Set(ot),v,"!")}),Wc.forEach(ot=>{const It=Kc.get(ot),Ot=W0.get(ot);Kc.set(ot,Object.assign(Object.assign({},It),Ot))});const eg=[],bO=[],DO={};d.forEach(ot=>{const{element:It,player:Ot,instruction:Xt}=ot;if(r.has(It)){if(S.has(It))return Ot.onDestroy(()=>yl(It,Xt.toStyles)),Ot.disabled=!0,Ot.overrideTotalTime(Xt.totalTime),void s.push(Ot);let _i=DO;if(gs.size>1){let Mo=It;const Gh=[];for(;Mo=Mo.parentNode;){const ir=gs.get(Mo);if(ir){_i=ir;break}Gh.push(Mo)}Gh.forEach(ir=>gs.set(ir,_i))}const _l=this._buildAnimation(Ot.namespaceId,Xt,on,u,W0,Kc);if(Ot.setRealPlayer(_l),_i===DO)eg.push(Ot);else{const Mo=this.playersByElement.get(_i);Mo&&Mo.length&&(Ot.parentPlayer=$h(Mo)),s.push(Ot)}}else Jp(It,Xt.fromStyles),Ot.onDestroy(()=>yl(It,Xt.toStyles)),bO.push(Ot),S.has(It)&&s.push(Ot)}),bO.forEach(ot=>{const It=u.get(ot.element);if(It&&It.length){const Ot=$h(It);ot.setRealPlayer(Ot)}}),s.forEach(ot=>{ot.parentPlayer?ot.syncPlayerEvents(ot.parentPlayer):ot.destroy()});for(let ot=0;ot<Pe.length;ot++){const It=Pe[ot],Ot=It[Ea];if(Ty(It,JD),Ot&&Ot.hasAnimation)continue;let Xt=[];if(p.size){let _l=p.get(It);_l&&_l.length&&Xt.push(..._l);let Mo=this.driver.query(It,VA,!0);for(let Gh=0;Gh<Mo.length;Gh++){let ir=p.get(Mo[Gh]);ir&&ir.length&&Xt.push(...ir)}}const _i=Xt.filter(_l=>!_l.destroyed);_i.length?mL(this,It,_i):this.processLeaveNode(It)}return Pe.length=0,eg.forEach(ot=>{this.players.push(ot),ot.onDone(()=>{ot.destroy();const It=this.players.indexOf(ot);this.players.splice(It,1)}),ot.play()}),eg}elementContainsData(e,t){let r=!1;const s=t[Ea];return s&&s.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,s,u){let d=[];if(t){const p=this.playersByQueriedElement.get(e);p&&(d=p)}else{const p=this.playersByElement.get(e);if(p){const v=!u||u==Z0;p.forEach(D=>{D.queued||!v&&D.triggerName!=s||d.push(D)})}}return(r||s)&&(d=d.filter(p=>!(r&&r!=p.namespaceId||s&&s!=p.triggerName))),d}_beforeAnimationBuild(e,t,r){const u=t.element,d=t.isRemovalTransition?void 0:e,p=t.isRemovalTransition?void 0:t.triggerName;for(const v of t.timelines){const D=v.element,S=D!==u,x=Ao(r,D,[]);this._getPreviousPlayers(D,S,d,p,t.toState).forEach(q=>{const K=q.getRealPlayer();K.beforeDestroy&&K.beforeDestroy(),q.destroy(),x.push(q)})}Jp(u,t.fromStyles)}_buildAnimation(e,t,r,s,u,d){const p=t.triggerName,v=t.element,D=[],S=new Set,x=new Set,L=t.timelines.map(K=>{const ye=K.element;S.add(ye);const Pe=ye[Ea];if(Pe&&Pe.removedBeforeQueried)return new z0(K.duration,K.delay);const pt=ye!==v,mt=function yL(n){const e=[];return hO(n,e),e}((r.get(ye)||lL).map(on=>on.getRealPlayer())).filter(on=>!!on.element&&on.element===ye),Dt=u.get(ye),ut=d.get(ye),kt=Vx(0,this._normalizer,0,K.keyframes,Dt,ut),Ut=this._buildPlayer(K,kt,mt);if(K.subTimeline&&s&&x.add(ye),pt){const on=new JA(e,p,ye);on.setRealPlayer(Ut),D.push(on)}return Ut});D.forEach(K=>{Ao(this.playersByQueriedElement,K.element,[]).push(K),K.onDone(()=>function fL(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const s=r.indexOf(t);r.splice(s,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const s=r.indexOf(t);r.splice(s,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,K.element,K))}),S.forEach(K=>wa(K,Wx));const q=$h(L);return q.onDestroy(()=>{S.forEach(K=>Ty(K,Wx)),yl(v,t.toStyles)}),x.forEach(K=>{Ao(s,K,[]).push(q)}),q}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new z0(e.duration,e.delay)}}class JA{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new z0,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>OA(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ao(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function fI(n){return n&&1===n.nodeType}function lO(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function cO(n,e,t,r,s){const u=[];t.forEach(v=>u.push(lO(v)));const d=[];r.forEach((v,D)=>{const S={};v.forEach(x=>{const L=S[x]=e.computeStyle(D,x,s);(!L||0==L.length)&&(D[Ea]=cL,d.push(D))}),n.set(D,S)});let p=0;return t.forEach(v=>lO(v,u[p++])),d}function dO(n,e){const t=new Map;if(n.forEach(p=>t.set(p,[])),0==e.length)return t;const s=new Set(e),u=new Map;function d(p){if(!p)return 1;let v=u.get(p);if(v)return v;const D=p.parentNode;return v=t.has(D)?D:s.has(D)?1:d(D),u.set(p,v),v}return e.forEach(p=>{const v=d(p);1!==v&&t.get(v).push(p)}),t}function wa(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Ty(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function mL(n,e,t){$h(t).onDone(()=>n.processLeaveNode(e))}function hO(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Fx?hO(r.players,e):e.push(r)}}function fO(n,e,t){const r=t.get(n);if(!r)return!1;let s=e.get(n);return s?r.forEach(u=>s.add(u)):e.set(n,r),t.delete(n),!0}class pI{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(s,u)=>{},this._transitionEngine=new hL(e,t,r),this._timelineEngine=new iL(e,t,r),this._transitionEngine.onRemovalComplete=(s,u)=>this.onRemovalComplete(s,u)}registerTrigger(e,t,r,s,u){const d=e+"-"+s;let p=this._triggerCache[d];if(!p){const v=[],S=$A(this._driver,u,v,[]);if(v.length)throw function sF(n,e){return new c.vHH(3404,Wt)}();p=function eL(n,e,t){return new tL(n,e,t)}(s,S,this._normalizer),this._triggerCache[d]=p}this._transitionEngine.registerTrigger(t,s,p)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,s){this._transitionEngine.insertNode(e,t,r,s)}onRemove(e,t,r,s){this._transitionEngine.removeNode(e,t,s||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,s){if("@"==r.charAt(0)){const[u,d]=Ux(r);this._timelineEngine.command(u,t,d,s)}else this._transitionEngine.trigger(e,t,r,s)}listen(e,t,r,s,u){if("@"==r.charAt(0)){const[d,p]=Ux(r);return this._timelineEngine.listen(d,t,p,u)}return this._transitionEngine.listen(e,t,r,s,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let EL=(()=>{class n{constructor(t,r,s){this._element=t,this._startStyles=r,this._endStyles=s,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u={}),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&yl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(yl(this._element,this._initialStyles),this._endStyles&&(yl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Jp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Jp(this._element,this._endStyles),this._endStyles=null),yl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function XA(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const s=t[r];wL(s)&&(e=e||{},e[s]=n[s])}return e}function wL(n){return"display"===n||"position"===n}class pO{constructor(e,t,r,s){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:Xx(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class bL{validateStyleProperty(e){return Hx(e)}matchesElement(e,t){return!1}containsElement(e,t){return Gx(e,t)}getParentElement(e){return kA(e)}query(e,t,r){return zx(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,s,u,d=[]){const v={duration:r,delay:s,fill:0==s?"both":"forwards"};u&&(v.easing=u);const D={},S=d.filter(L=>L instanceof pO);(function TF(n,e){return 0===n||0===e})(r,s)&&S.forEach(L=>{let q=L.currentSnapshot;Object.keys(q).forEach(K=>D[K]=q[K])}),t=function AF(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let u=e[0],d=[];if(r.forEach(p=>{u.hasOwnProperty(p)||d.push(p),u[p]=t[p]}),d.length)for(var s=1;s<e.length;s++){let p=e[s];d.forEach(function(v){p[v]=Xx(n,v)})}}return e}(e,t=t.map(L=>Hh(L,!1)),D);const x=function vL(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=XA(e[0]),e.length>1&&(r=XA(e[e.length-1]))):e&&(t=XA(e)),t||r?new EL(n,t,r):null}(e,t);return new pO(e,t,v,x)}}let DL=(()=>{class n extends Nx{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(t)?Rx(t):t;return gO(this._renderer,null,r,"register",[s]),new IL(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(ue))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class IL extends class Lk{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new CL(this._id,e,t||{},this._renderer)}}class CL{constructor(e,t,r,s){this.id=e,this.element=t,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return gO(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function gO(n,e,t,r,s){return n.setProperty(e,`@@${t}:${r}`,s)}const mO="@.disabled";let TL=(()=>{class n{constructor(t,r,s){this.delegate=t,this.engine=r,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(u,d)=>{const p=null==d?void 0:d.parentNode(u);p&&d.removeChild(p,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let S=this._rendererCache.get(u);return S||(S=new yO("",u,this.engine),this._rendererCache.set(u,S)),S}const d=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);const v=S=>{Array.isArray(S)?S.forEach(v):this.engine.registerTrigger(d,p,t,S.name,S)};return r.data.animation.forEach(v),new AL(this,p,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,s){t>=0&&t<this._microtaskId?this._zone.run(()=>r(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[d,p]=u;d(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(pI),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class yO{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,s=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,s)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,s){this.delegate.setAttribute(e,t,r,s)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,s){this.delegate.setStyle(e,t,r,s)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==mO?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class AL extends yO{constructor(e,t,r,s){super(t,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==mO?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const s=function SL(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.substr(1),d="";return"@"!=u.charAt(0)&&([u,d]=function ML(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(u)),this.engine.listen(this.namespaceId,s,u,d,p=>{this.factory.scheduleListenerCallback(p._data||-1,r,p)})}return this.delegate.listen(e,t,r)}}let xL=(()=>{class n extends pI{constructor(t,r,s){super(t.body,r,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ue),c.LFG(FA),c.LFG(ZA))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const _O=new c.OlP("AnimationModuleType"),vO=[{provide:Nx,useClass:DL},{provide:ZA,useFactory:function OL(){return new KF}},{provide:pI,useClass:xL},{provide:c.FYo,useFactory:function NL(n,e,t){return new TL(n,e,t)},deps:[hn,pI,c.R0b]}],EO=[{provide:FA,useFactory:()=>new bL},{provide:_O,useValue:"BrowserAnimations"},...vO],RL=[{provide:FA,useClass:qx},{provide:_O,useValue:"NoopAnimations"},...vO];let PL=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?RL:EO}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:EO,imports:[jo]}),n})(),kL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[],imports:[[nn,qn]]}),n})(),eS=(()=>{class n{constructor(){this._subject=new Mr({})}setState(t){return et(this._subject.next(t)).pipe((0,At.U)(()=>{}))}select(){return this._subject.asObservable().pipe(xr(t=>t!=={}))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),FL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[eS,{provide:nA,useExisting:eS},{provide:Ax,useExisting:eS}],imports:[[]]}),n})(),LL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[Ok]}),n.\u0275inj=c.cJS({providers:[],imports:[[jo,qn,Dx,Mk,kL,Ox,tM,ss.hO.initializeApp(Mx_firebase),PL,XT,FL]]}),n})();(0,c.G48)(),xu().bootstrapModule(LL).catch(n=>console.error(n))},5867:(Xe,we,R)=>{R.d(we,{Mq:()=>c.getApp,C6:()=>c.getApps,KN:()=>c.registerVersion});var c=R(9681);(0,c.registerVersion)("firebase","9.8.1","app")},127:(Xe,we,R)=>{R.d(we,{Z:()=>c.Z});var c=R(3942);c.Z.registerVersion("firebase","9.8.1","app-compat")},7092:(Xe,we,R)=>{R.r(we);var c=R(5861),X=R(3942),P=R(2090),ae=R(9681),re=R(655),pe=R(1877),ue=R(4859);const Ne=function ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ue=function Me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},he=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),qe=new pe.Yd("@firebase/auth");function Ye(y,...f){qe.logLevel<=pe.in.ERROR&&qe.error(`Auth (${ae.SDK_VERSION}): ${y}`,...f)}function Te(y,...f){throw je(y,...f)}function Ee(y,...f){return je(y,...f)}function De(y,f,m){const E=Object.assign(Object.assign({},Ue()),{[f]:m});return new P.LL("auth","Firebase",E).create(f,{appName:y.name})}function $e(y,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Te(y,"argument-error"),De(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function je(y,...f){if("string"!=typeof y){const m=f[0],E=[...f.slice(1)];return E[0]&&(E[0].appName=y.name),y._errorFactory.create(m,...E)}return he.create(y,...f)}function j(y,f,...m){if(!y)throw je(f,...m)}function ve(y){const f="INTERNAL ASSERTION FAILED: "+y;throw Ye(f),new Error(f)}function W(y,f){y||ve(f)}const ie=new Map;function ee(y){W(y instanceof Function,"Expected a class definition");let f=ie.get(y);return f?(W(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,ie.set(y,f),f)}function Re(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function lt(){return"http:"===Ht()||"https:"===Ht()}function Ht(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Qt{constructor(f,m){this.shortDelay=f,this.longDelay=m,W(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function Bt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(lt()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mn(y,f){W(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class en{static initialize(f,m,E){this.fetchImpl=f,m&&(this.headersImpl=m),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ve("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ve("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ve("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Kt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Dr=new Qt(3e4,6e4);function qt(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function Vt(y,f,m,E){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,c.Z)(function*(y,f,m,E,A={}){return Yr(y,A,(0,c.Z)(function*(){let N={},Z={};E&&("GET"===f?Z=E:N={body:JSON.stringify(E)});const fe=(0,P.xO)(Object.assign({key:y.config.apiKey},Z)).slice(1),Le=yield y._getAdditionalHeaders();return Le["Content-Type"]="application/json",y.languageCode&&(Le["X-Firebase-Locale"]=y.languageCode),en.fetch()(ys(y,y.config.apiHost,m,fe),Object.assign({method:f,headers:Le,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function Yr(y,f,m){return pr.apply(this,arguments)}function pr(){return(pr=(0,c.Z)(function*(y,f,m){y._canInitEmulator=!1;const E=Object.assign(Object.assign({},Kt),f);try{const A=new Qr(y),N=yield Promise.race([m(),A.promise]);A.clearNetworkTimeout();const Z=yield N.json();if("needConfirmation"in Z)throw Ai(y,"account-exists-with-different-credential",Z);if(N.ok&&!("errorMessage"in Z))return Z;{const fe=N.ok?Z.errorMessage:Z.error.message,[Le,We]=fe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Le)throw Ai(y,"credential-already-in-use",Z);if("EMAIL_EXISTS"===Le)throw Ai(y,"email-already-in-use",Z);const _t=E[Le]||Le.toLowerCase().replace(/[_\s]+/g,"-");if(We)throw De(y,_t,We);Te(y,_t)}}catch(A){if(A instanceof P.ZR)throw A;Te(y,"network-request-failed")}})).apply(this,arguments)}function Ir(y,f,m,E){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,c.Z)(function*(y,f,m,E,A={}){const N=yield Vt(y,f,m,E,A);return"mfaPendingCredential"in N&&Te(y,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function ys(y,f,m,E){const A=`${f}${m}?${E}`;return y.config.emulator?Mn(y.config,A):`${y.config.apiScheme}://${A}`}class Qr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,E)=>{this.timer=setTimeout(()=>E(Ee(this.auth,"network-request-failed")),Dr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ai(y,f,m){const E={appName:y.name};m.email&&(E.email=m.email),m.phoneNumber&&(E.phoneNumber=m.phoneNumber);const A=Ee(y,f,E);return A.customData._tokenResponse=m,A}function Jr(){return(Jr=(0,c.Z)(function*(y,f){return Vt(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function In(y,f){return xn.apply(this,arguments)}function xn(){return(xn=(0,c.Z)(function*(y,f){return Vt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function zs(y,f){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,c.Z)(function*(y,f){return Vt(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Wn(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function xo(){return(xo=(0,c.Z)(function*(y,f=!1){const m=(0,P.m9)(y),E=yield m.getIdToken(f),A=it(E);j(A&&A.exp&&A.auth_time&&A.iat,m.auth,"internal-error");const N="object"==typeof A.firebase?A.firebase:void 0,Z=null==N?void 0:N.sign_in_provider;return{claims:A,token:E,authTime:Wn(Gt(A.auth_time)),issuedAtTime:Wn(Gt(A.iat)),expirationTime:Wn(Gt(A.exp)),signInProvider:Z||null,signInSecondFactor:(null==N?void 0:N.sign_in_second_factor)||null}})).apply(this,arguments)}function Gt(y){return 1e3*Number(y)}function it(y){const[f,m,E]=y.split(".");if(void 0===f||void 0===m||void 0===E)return Ye("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,P.tV)(m);return A?JSON.parse(A):(Ye("Failed to decode base64 JWT payload"),null)}catch(A){return Ye("Caught error parsing JWT payload as JSON",A),null}}function gr(y,f){return ei.apply(this,arguments)}function ei(){return(ei=(0,c.Z)(function*(y,f,m=!1){if(m)return f;try{return yield f}catch(E){throw E instanceof P.ZR&&jt(E)&&y.auth.currentUser===y&&(yield y.auth.signOut()),E}})).apply(this,arguments)}function jt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class qs{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const A=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const E=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield m.iteration()}),E)}iteration(){var f=this;return(0,c.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&f.schedule(!0))}f.schedule()})()}}class mr{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wn(this.lastLoginAt),this.creationTime=Wn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function yr(y){return V.apply(this,arguments)}function V(){return(V=(0,c.Z)(function*(y){var f;const m=y.auth,E=yield y.getIdToken(),A=yield gr(y,zs(m,{idToken:E}));j(null==A?void 0:A.users.length,m,"internal-error");const N=A.users[0];y._notifyReloadListener(N);const Z=(null===(f=N.providerUserInfo)||void 0===f?void 0:f.length)?H(N.providerUserInfo):[],fe=Ie(y.providerData,Z),_t=!!y.isAnonymous&&!(y.email&&N.passwordHash||(null==fe?void 0:fe.length)),ct={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:fe,metadata:new mr(N.createdAt,N.lastLoginAt),isAnonymous:_t};Object.assign(y,ct)})).apply(this,arguments)}function z(){return(z=(0,c.Z)(function*(y){const f=(0,P.m9)(y);yield yr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Ie(y,f){return[...y.filter(E=>!f.some(A=>A.providerId===E.providerId)),...f]}function H(y){return y.map(f=>{var{providerId:m}=f,E=(0,re._T)(f,["providerId"]);return{providerId:m,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Oe(){return(Oe=(0,c.Z)(function*(y,f){const m=yield Yr(y,{},(0,c.Z)(function*(){const E=(0,P.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:A,apiKey:N}=y.config,Z=ys(y,A,"/v1/token",`key=${N}`),fe=yield y._getAdditionalHeaders();return fe["Content-Type"]="application/x-www-form-urlencoded",en.fetch()(Z,{method:"POST",headers:fe,body:E})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Je{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){j(f.idToken,"internal-error"),j(void 0!==f.idToken,"internal-error"),j(void 0!==f.refreshToken,"internal-error");const m="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function vt(y){const f=it(y);return j(f,"internal-error"),j(void 0!==f.exp,"internal-error"),j(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var E=this;return(0,c.Z)(function*(){return j(!E.accessToken||E.refreshToken,f,"user-token-expired"),m||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(f,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var E=this;return(0,c.Z)(function*(){const{accessToken:A,refreshToken:N,expiresIn:Z}=yield function J(y,f){return Oe.apply(this,arguments)}(f,m);E.updateTokensAndExpiration(A,N,Number(Z))})()}updateTokensAndExpiration(f,m,E){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(f,m){const{refreshToken:E,accessToken:A,expirationTime:N}=m,Z=new Je;return E&&(j("string"==typeof E,"internal-error",{appName:f}),Z.refreshToken=E),A&&(j("string"==typeof A,"internal-error",{appName:f}),Z.accessToken=A),N&&(j("number"==typeof N,"internal-error",{appName:f}),Z.expirationTime=N),Z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Je,this.toJSON())}_performRefresh(){return ve("not implemented")}}function ht(y,f){j("string"==typeof y||void 0===y,"internal-error",{appName:f})}class Ct{constructor(f){var{uid:m,auth:E,stsTokenManager:A}=f,N=(0,re._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=E,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new mr(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,c.Z)(function*(){const E=yield gr(m,m.stsTokenManager.getToken(m.auth,f));return j(E,m.auth,"internal-error"),m.accessToken!==E&&(m.accessToken=E,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),E})()}getIdTokenResult(f){return function vi(y){return xo.apply(this,arguments)}(this,f)}reload(){return function G(y){return z.apply(this,arguments)}(this)}_assign(f){this!==f&&(j(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new Ct(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var E=this;return(0,c.Z)(function*(){let A=!1;f.idToken&&f.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(f),A=!0),m&&(yield yr(E)),yield E.auth._persistUserIfCurrent(E),A&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var f=this;return(0,c.Z)(function*(){const m=yield f.getIdToken();return yield gr(f,function yt(y,f){return Jr.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var E,A,N,Z,fe,Le,We,_t;const ct=null!==(E=m.displayName)&&void 0!==E?E:void 0,An=null!==(A=m.email)&&void 0!==A?A:void 0,fi=null!==(N=m.phoneNumber)&&void 0!==N?N:void 0,Wl=null!==(Z=m.photoURL)&&void 0!==Z?Z:void 0,Jy=null!==(fe=m.tenantId)&&void 0!==fe?fe:void 0,aa=null!==(Le=m._redirectEventId)&&void 0!==Le?Le:void 0,Rd=null!==(We=m.createdAt)&&void 0!==We?We:void 0,Pd=null!==(_t=m.lastLoginAt)&&void 0!==_t?_t:void 0,{uid:yf,emailVerified:kd,isAnonymous:Nr,providerData:_f,stsTokenManager:vf}=m;j(yf&&vf,f,"internal-error");const mo=Je.fromJSON(this.name,vf);j("string"==typeof yf,f,"internal-error"),ht(ct,f.name),ht(An,f.name),j("boolean"==typeof kd,f,"internal-error"),j("boolean"==typeof Nr,f,"internal-error"),ht(fi,f.name),ht(Wl,f.name),ht(Jy,f.name),ht(aa,f.name),ht(Rd,f.name),ht(Pd,f.name);const Kl=new Ct({uid:yf,auth:f,email:An,emailVerified:kd,displayName:ct,isAnonymous:Nr,photoURL:Wl,phoneNumber:fi,tenantId:Jy,stsTokenManager:mo,createdAt:Rd,lastLoginAt:Pd});return _f&&Array.isArray(_f)&&(Kl.providerData=_f.map(Ju=>Object.assign({},Ju))),aa&&(Kl._redirectEventId=aa),Kl}static _fromIdTokenResponse(f,m,E=!1){return(0,c.Z)(function*(){const A=new Je;A.updateFromServerResponse(m);const N=new Ct({uid:m.localId,auth:f,stsTokenManager:A,isAnonymous:E});return yield yr(N),N})()}}const Et=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(m,E){var A=this;return(0,c.Z)(function*(){A.storage[m]=E})()}_get(m){var E=this;return(0,c.Z)(function*(){const A=E.storage[m];return void 0===A?null:A})()}_remove(m){var E=this;return(0,c.Z)(function*(){delete E.storage[m]})()}_addListener(m,E){}_removeListener(m,E){}}return y.type="NONE",y})();function $n(y,f,m){return`firebase:${y}:${f}:${m}`}class Cr{constructor(f,m,E){this.persistence=f,this.auth=m,this.userKey=E;const{config:A,name:N}=this.auth;this.fullUserKey=$n(this.userKey,A.apiKey,N),this.fullPersistenceKey=$n("persistence",A.apiKey,N),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?Ct._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,c.Z)(function*(){if(m.persistence===f)return;const E=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,E?m.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,E="authUser"){return(0,c.Z)(function*(){if(!m.length)return new Cr(ee(Et),f,E);const A=(yield Promise.all(m.map(function(){var We=(0,c.Z)(function*(_t){if(yield _t._isAvailable())return _t});return function(_t){return We.apply(this,arguments)}}()))).filter(We=>We);let N=A[0]||ee(Et);const Z=$n(E,f.config.apiKey,f.name);let fe=null;for(const We of m)try{const _t=yield We._get(Z);if(_t){const ct=Ct._fromJSON(f,_t);We!==N&&(fe=ct),N=We;break}}catch(_t){}const Le=A.filter(We=>We._shouldAllowMigration);return N._shouldAllowMigration&&Le.length?(N=Le[0],fe&&(yield N._set(Z,fe.toJSON())),yield Promise.all(m.map(function(){var We=(0,c.Z)(function*(_t){if(_t!==N)try{yield _t._remove(Z)}catch(ct){}});return function(_t){return We.apply(this,arguments)}}())),new Cr(N,f,E)):new Cr(N,f,E)})()}}function vu(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Hn(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(ba(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Wi(f))return"Blackberry";if(Gn(f))return"Webos";if(Eu(f))return"Safari";if((f.includes("chrome/")||Da(f))&&!f.includes("edge/"))return"Chrome";if(Tr(f))return"Android";{const E=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function ba(y=(0,P.z$)()){return/firefox\//i.test(y)}function Eu(y=(0,P.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Da(y=(0,P.z$)()){return/crios\//i.test(y)}function Hn(y=(0,P.z$)()){return/iemobile/i.test(y)}function Tr(y=(0,P.z$)()){return/android/i.test(y)}function Wi(y=(0,P.z$)()){return/blackberry/i.test(y)}function Gn(y=(0,P.z$)()){return/webos/i.test(y)}function Br(y=(0,P.z$)()){return/iphone|ipad|ipod/i.test(y)}function _s(y=(0,P.z$)()){return Br(y)||Tr(y)||Gn(y)||Wi(y)||/windows phone/i.test(y)||Hn(y)}function Oo(y,f=[]){let m;switch(y){case"Browser":m=vu((0,P.z$)());break;case"Worker":m=`${vu((0,P.z$)())}-${y}`;break;default:m=y}const E=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${ae.SDK_VERSION}/${E}`}class jr{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const E=N=>new Promise((Z,fe)=>{try{Z(f(N))}catch(Le){fe(Le)}});E.onAbort=m,this.queue.push(E);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,c.Z)(function*(){if(m.auth.currentUser===f)return;const E=[];try{for(const A of m.queue)yield A(f),A.onAbort&&E.push(A.onAbort)}catch(A){E.reverse();for(const N of E)try{N()}catch(Z){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:A.message})}})()}}class Ze{constructor(f,m,E){this.app=f,this.heartbeatServiceProvider=m,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jt(this),this.idTokenSubscription=new Jt(this),this.beforeStateQueue=new jr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=he,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(f,m){var E=this;return m&&(this._popupRedirectResolver=ee(m)),this._initializationPromise=this.queue((0,c.Z)(function*(){var A,N;if(!E._deleted&&(E.persistenceManager=yield Cr.create(E,f),!E._deleted)){if(null===(A=E._popupRedirectResolver)||void 0===A?void 0:A._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch(Z){}yield E.initializeCurrentUser(m),E.lastNotifiedUid=(null===(N=E.currentUser)||void 0===N?void 0:N.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,c.Z)(function*(){var E;const A=yield m.assertedPersistence.getCurrentUser();let N=A,Z=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const fe=null===(E=m.redirectUser)||void 0===E?void 0:E._redirectEventId,Le=null==N?void 0:N._redirectEventId,We=yield m.tryRedirectSignIn(f);(!fe||fe===Le)&&(null==We?void 0:We.user)&&(N=We.user,Z=!0)}if(!N)return m.directlySetCurrentUser(null);if(!N._redirectEventId){if(Z)try{yield m.beforeStateQueue.runMiddleware(N)}catch(fe){N=A,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(fe))}return N?m.reloadAndSetCurrentUserOrClear(N):m.directlySetCurrentUser(null)}return j(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===N._redirectEventId?m.directlySetCurrentUser(N):m.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(f){var m=this;return(0,c.Z)(function*(){let E=null;try{E=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch(A){yield m._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,c.Z)(function*(){try{yield yr(f)}catch(E){if("auth/network-request-failed"!==E.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Qe(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,c.Z)(function*(){const E=f?(0,P.m9)(f):null;return E&&j(E.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(E&&E._clone(m))})()}_updateCurrentUser(f,m=!1){var E=this;return(0,c.Z)(function*(){if(!E._deleted)return f&&j(E.tenantId===f.tenantId,E,"tenant-id-mismatch"),m||(yield E.beforeStateQueue.runMiddleware(f)),E.queue((0,c.Z)(function*(){yield E.directlySetCurrentUser(f),E.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,c.Z)(function*(){yield m.assertedPersistence.setPersistence(ee(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new P.LL("auth","Firebase",f())}onAuthStateChanged(f,m,E){return this.registerStateListener(this.authStateSubscription,f,m,E)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,E){return this.registerStateListener(this.idTokenSubscription,f,m,E)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var E=this;return(0,c.Z)(function*(){const A=yield E.getOrInitRedirectPersistenceManager(m);return null===f?A.removeCurrentUser():A.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,c.Z)(function*(){if(!m.redirectPersistenceManager){const E=f&&ee(f)||m._popupRedirectResolver;j(E,m,"argument-error"),m.redirectPersistenceManager=yield Cr.create(m,[ee(E._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,c.Z)(function*(){var E,A;return m._isInitialized&&(yield m.queue((0,c.Z)(function*(){}))),(null===(E=m._currentUser)||void 0===E?void 0:E._redirectEventId)===f?m._currentUser:(null===(A=m.redirectUser)||void 0===A?void 0:A._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,c.Z)(function*(){if(f===m.currentUser)return m.queue((0,c.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,E,A){if(this._deleted)return()=>{};const N="function"==typeof m?m:m.next.bind(m),Z=this._isInitialized?Promise.resolve():this._initializationPromise;return j(Z,this,"internal-error"),Z.then(()=>N(this.currentUser)),"function"==typeof m?f.addObserver(m,E,A):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,c.Z)(function*(){m.currentUser&&m.currentUser!==f&&(m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh()),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Oo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){var m;const E={"X-Client-Version":f.clientVersion};f.app.options.appId&&(E["X-Firebase-gmpid"]=f.app.options.appId);const A=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return A&&(E["X-Firebase-Client"]=A),E})()}}function at(y){return(0,P.m9)(y)}class Jt{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,P.ne)(m=>this.observer=m)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Si(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function Mi(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class Ei{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return ve("not implemented")}_getIdTokenResponse(f){return ve("not implemented")}_linkToIdToken(f,m){return ve("not implemented")}_getReauthenticationResolver(f){return ve("not implemented")}}function On(y,f){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,c.Z)(function*(y,f){return Vt(y,"POST","/v1/accounts:resetPassword",qt(y,f))})).apply(this,arguments)}function Ca(y,f){return vs.apply(this,arguments)}function vs(){return(vs=(0,c.Z)(function*(y,f){return Vt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function wu(y,f){return Es.apply(this,arguments)}function Es(){return(Es=(0,c.Z)(function*(y,f){return Vt(y,"POST","/v1/accounts:update",qt(y,f))})).apply(this,arguments)}function Ws(){return(Ws=(0,c.Z)(function*(y,f){return Ir(y,"POST","/v1/accounts:signInWithPassword",qt(y,f))})).apply(this,arguments)}function ws(y,f){return zn.apply(this,arguments)}function zn(){return(zn=(0,c.Z)(function*(y,f){return Vt(y,"POST","/v1/accounts:sendOobCode",qt(y,f))})).apply(this,arguments)}function tn(y,f){return bu.apply(this,arguments)}function bu(){return(bu=(0,c.Z)(function*(y,f){return ws(y,f)})).apply(this,arguments)}function Ta(y,f){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,c.Z)(function*(y,f){return ws(y,f)})).apply(this,arguments)}function xi(y,f){return Du.apply(this,arguments)}function Du(){return(Du=(0,c.Z)(function*(y,f){return ws(y,f)})).apply(this,arguments)}function Qc(y,f){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,c.Z)(function*(y,f){return ws(y,f)})).apply(this,arguments)}function vl(){return(vl=(0,c.Z)(function*(y,f){return Ir(y,"POST","/v1/accounts:signInWithEmailLink",qt(y,f))})).apply(this,arguments)}function Jc(){return(Jc=(0,c.Z)(function*(y,f){return Ir(y,"POST","/v1/accounts:signInWithEmailLink",qt(y,f))})).apply(this,arguments)}class _r extends Ei{constructor(f,m,E,A=null){super("password",E),this._email=f,this._password=m,this._tenantId=A}static _fromEmailAndPassword(f,m){return new _r(f,m,"password")}static _fromEmailAndCode(f,m,E=null){return new _r(f,m,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,c.Z)(function*(){switch(m.signInMethod){case"password":return function Nn(y,f){return Ws.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Ni(y,f){return vl.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Te(f,"internal-error")}})()}_linkToIdToken(f,m){var E=this;return(0,c.Z)(function*(){switch(E.signInMethod){case"password":return Ca(f,{idToken:m,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function rg(y,f){return Jc.apply(this,arguments)}(f,{idToken:m,email:E._email,oobCode:E._password});default:Te(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function bs(y,f){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,c.Z)(function*(y,f){return Ir(y,"POST","/v1/accounts:signInWithIdp",qt(y,f))})).apply(this,arguments)}class Ki extends Ei{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new Ki(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Te("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:A}=m,N=(0,re._T)(m,["providerId","signInMethod"]);if(!E||!A)return null;const Z=new Ki(E,A);return Z.idToken=N.idToken||void 0,Z.accessToken=N.accessToken||void 0,Z.secret=N.secret,Z.nonce=N.nonce,Z.pendingToken=N.pendingToken||null,Z}_getIdTokenResponse(f){return bs(f,this.buildRequest())}_linkToIdToken(f,m){const E=this.buildRequest();return E.idToken=m,bs(f,E)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,bs(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,P.xO)(m)}return f}}function No(y,f){return ed.apply(this,arguments)}function ed(){return(ed=(0,c.Z)(function*(y,f){return Vt(y,"POST","/v1/accounts:sendVerificationCode",qt(y,f))})).apply(this,arguments)}function Ds(){return(Ds=(0,c.Z)(function*(y,f){return Ir(y,"POST","/v1/accounts:signInWithPhoneNumber",qt(y,f))})).apply(this,arguments)}function td(){return(td=(0,c.Z)(function*(y,f){const m=yield Ir(y,"POST","/v1/accounts:signInWithPhoneNumber",qt(y,f));if(m.temporaryProof)throw Ai(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const og={USER_NOT_FOUND:"user-not-found"};function nd(){return(nd=(0,c.Z)(function*(y,f){return Ir(y,"POST","/v1/accounts:signInWithPhoneNumber",qt(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),og)})).apply(this,arguments)}class Ro extends Ei{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new Ro({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new Ro({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function El(y,f){return Ds.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function sg(y,f){return td.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function ag(y,f){return nd.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:E,verificationCode:A}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:E,code:A}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:E,phoneNumber:A,temporaryProof:N}=f;return E||m||A||N?new Ro({verificationId:m,verificationCode:E,phoneNumber:A,temporaryProof:N}):null}}class Iu{constructor(f){var m,E,A,N,Z,fe;const Le=(0,P.zd)((0,P.pd)(f)),We=null!==(m=Le.apiKey)&&void 0!==m?m:null,_t=null!==(E=Le.oobCode)&&void 0!==E?E:null,ct=function qh(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Le.mode)&&void 0!==A?A:null);j(We&&_t&&ct,"argument-error"),this.apiKey=We,this.operation=ct,this.code=_t,this.continueUrl=null!==(N=Le.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(Z=Le.languageCode)&&void 0!==Z?Z:null,this.tenantId=null!==(fe=Le.tenantId)&&void 0!==fe?fe:null}static parseLink(f){const m=function Aa(y){const f=(0,P.zd)((0,P.pd)(y)).link,m=f?(0,P.zd)((0,P.pd)(f)).deep_link_id:null,E=(0,P.zd)((0,P.pd)(y)).deep_link_id;return(E?(0,P.zd)((0,P.pd)(E)).link:null)||E||m||f||y}(f);try{return new Iu(m)}catch(E){return null}}}let id=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,E){return _r._fromEmailAndPassword(m,E)}static credentialWithLink(m,E){const A=Iu.parseLink(E);return j(A,"argument-error"),_r._fromEmailAndCode(m,A.code,A.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class vr{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Ks extends vr{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Ri extends Ks{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return j("providerId"in m&&"signInMethod"in m,"argument-error"),Ki._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return j(f.idToken||f.accessToken,"argument-error"),Ki._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Ri.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Ri.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:E,oauthTokenSecret:A,pendingToken:N,nonce:Z,providerId:fe}=f;if(!E&&!A&&!m&&!N||!fe)return null;try{return new Ri(fe)._credential({idToken:m,accessToken:E,nonce:Z,pendingToken:N})}catch(Le){return null}}}let Po=(()=>{class y extends Ks{constructor(){super("facebook.com")}static credential(m){return Ki._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(E){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),sd=(()=>{class y extends Ks{constructor(){super("google.com"),this.addScope("profile")}static credential(m,E){return Ki._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:E})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:E,oauthAccessToken:A}=m;if(!E&&!A)return null;try{return y.credential(E,A)}catch(N){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Zh=(()=>{class y extends Ks{constructor(){super("github.com")}static credential(m){return Ki._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(E){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Ys extends Ei{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return bs(f,this.buildRequest())}_linkToIdToken(f,m){const E=this.buildRequest();return E.idToken=m,bs(f,E)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,bs(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:A,pendingToken:N}=m;return E&&A&&N&&E===A?new Ys(E,N):null}static _create(f,m){return new Ys(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ar extends vr{constructor(f){j(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Ar.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Ar.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=Ys.fromJSON(f);return j(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:E}=f;if(!m||!E)return null;try{return Ys._create(E,m)}catch(A){return null}}}let od=(()=>{class y extends Ks{constructor(){super("twitter.com")}static credential(m,E){return Ki._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:E})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:E,oauthTokenSecret:A}=m;if(!E||!A)return null;try{return y.credential(E,A)}catch(N){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Sr(y,f){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,c.Z)(function*(y,f){return Ir(y,"POST","/v1/accounts:signUp",qt(y,f))})).apply(this,arguments)}class ti{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,E,A=!1){return(0,c.Z)(function*(){const N=yield Ct._fromIdTokenResponse(f,E,A),Z=wl(E);return new ti({user:N,providerId:Z,_tokenResponse:E,operationType:m})})()}static _forOperation(f,m,E){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(E,!0);const A=wl(E);return new ti({user:f,providerId:A,_tokenResponse:E,operationType:m})})()}}function wl(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function bl(){return(bl=(0,c.Z)(function*(y){var f;const m=at(y);if(yield m._initializationPromise,null===(f=m.currentUser)||void 0===f?void 0:f.isAnonymous)return new ti({user:m.currentUser,providerId:null,operationType:"signIn"});const E=yield Sr(m,{returnSecureToken:!0}),A=yield ti._fromIdTokenResponse(m,"signIn",E,!0);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class Lo extends P.ZR{constructor(f,m,E,A){var N;super(m.code,m.message),this.operationType=E,this.user=A,Object.setPrototypeOf(this,Lo.prototype),this.customData={appName:f.name,tenantId:null!==(N=f.tenantId)&&void 0!==N?N:void 0,_serverResponse:m.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(f,m,E,A){return new Lo(f,m,E,A)}}function Dl(y,f,m,E){return("reauthenticate"===f?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?Lo._fromErrorAndOperation(y,N,f,E):N})}function Pi(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function rn(){return(rn=(0,c.Z)(function*(y,f){const m=(0,P.m9)(y);yield Yt(!0,m,f);const{providerUserInfo:E}=yield In(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),A=Pi(E||[]);return m.providerData=m.providerData.filter(N=>A.has(N.providerId)),A.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Sa(y,f){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,c.Z)(function*(y,f,m=!1){const E=yield gr(y,f._linkToIdToken(y.auth,yield y.getIdToken()),m);return ti._forOperation(y,"link",E)})).apply(this,arguments)}function Yt(y,f,m){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,c.Z)(function*(y,f,m){yield yr(f);const A=!1===y?"provider-already-linked":"no-such-provider";j(Pi(f.providerData).has(m)===y,f.auth,A)})).apply(this,arguments)}function Cu(y,f){return Is.apply(this,arguments)}function Is(){return(Is=(0,c.Z)(function*(y,f,m=!1){const{auth:E}=y,A="reauthenticate";try{const N=yield gr(y,Dl(E,A,f,y),m);j(N.idToken,E,"internal-error");const Z=it(N.idToken);j(Z,E,"internal-error");const{sub:fe}=Z;return j(y.uid===fe,E,"user-mismatch"),ti._forOperation(y,A,N)}catch(N){throw"auth/user-not-found"===(null==N?void 0:N.code)&&Te(E,"user-mismatch"),N}})).apply(this,arguments)}function or(y,f){return Il.apply(this,arguments)}function Il(){return(Il=(0,c.Z)(function*(y,f,m=!1){const E="signIn",A=yield Dl(y,E,f),N=yield ti._fromIdTokenResponse(y,E,A);return m||(yield y._updateCurrentUser(N.user)),N})).apply(this,arguments)}function _n(y,f){return ki.apply(this,arguments)}function ki(){return(ki=(0,c.Z)(function*(y,f){return or(at(y),f)})).apply(this,arguments)}function ar(y,f){return Js.apply(this,arguments)}function Js(){return(Js=(0,c.Z)(function*(y,f){const m=(0,P.m9)(y);return yield Yt(!1,m,f.providerId),Sa(m,f)})).apply(this,arguments)}function Yi(y,f){return xa.apply(this,arguments)}function xa(){return(xa=(0,c.Z)(function*(y,f){return Cu((0,P.m9)(y),f)})).apply(this,arguments)}function wi(y,f){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,c.Z)(function*(y,f){return Ir(y,"POST","/v1/accounts:signInWithCustomToken",qt(y,f))})).apply(this,arguments)}function ft(){return(ft=(0,c.Z)(function*(y,f){const m=at(y),E=yield wi(m,{token:f,returnSecureToken:!0}),A=yield ti._fromIdTokenResponse(m,"signIn",E);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class Uo{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?Tu._fromServerResponse(f,m):Te(f,"internal-error")}}class Tu extends Uo{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new Tu(m)}}function Oa(y,f,m){var E;j((null===(E=m.url)||void 0===E?void 0:E.length)>0,y,"invalid-continue-uri"),j(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(j(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(j(m.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function Na(){return(Na=(0,c.Z)(function*(y,f,m){const E=(0,P.m9)(y),A={requestType:"PASSWORD_RESET",email:f};m&&Oa(E,A,m),yield Ta(E,A)})).apply(this,arguments)}function Al(){return(Al=(0,c.Z)(function*(y,f,m){yield On((0,P.m9)(y),{oobCode:f,newPassword:m})})).apply(this,arguments)}function Ft(){return(Ft=(0,c.Z)(function*(y,f){yield wu((0,P.m9)(y),{oobCode:f})})).apply(this,arguments)}function Sl(y,f){return hn.apply(this,arguments)}function hn(){return(hn=(0,c.Z)(function*(y,f){const m=(0,P.m9)(y),E=yield On(m,{oobCode:f}),A=E.requestType;switch(j(A,m,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":j(E.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":j(E.mfaInfo,m,"internal-error");default:j(E.email,m,"internal-error")}let N=null;return E.mfaInfo&&(N=Uo._fromServerResponse(at(m),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:N},operation:A}})).apply(this,arguments)}function Xs(){return(Xs=(0,c.Z)(function*(y,f){const{data:m}=yield Sl((0,P.m9)(y),f);return m.email})).apply(this,arguments)}function Ra(){return(Ra=(0,c.Z)(function*(y,f,m){const E=at(y),A=yield Sr(E,{returnSecureToken:!0,email:f,password:m}),N=yield ti._fromIdTokenResponse(E,"signIn",A);return yield E._updateCurrentUser(N.user),N})).apply(this,arguments)}function Au(){return(Au=(0,c.Z)(function*(y,f,m){const E=(0,P.m9)(y),A={requestType:"EMAIL_SIGNIN",email:f};j(m.handleCodeInApp,E,"argument-error"),m&&Oa(E,A,m),yield xi(E,A)})).apply(this,arguments)}function Rn(){return(Rn=(0,c.Z)(function*(y,f,m){const E=(0,P.m9)(y),A=id.credentialWithLink(f,m||Re());return j(A._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),_n(E,A)})).apply(this,arguments)}function Qi(y,f){return ka.apply(this,arguments)}function ka(){return(ka=(0,c.Z)(function*(y,f){return Vt(y,"POST","/v1/accounts:createAuthUri",qt(y,f))})).apply(this,arguments)}function bi(){return(bi=(0,c.Z)(function*(y,f){const E={identifier:f,continueUri:lt()?Re():"http://localhost"},{signinMethods:A}=yield Qi((0,P.m9)(y),E);return A||[]})).apply(this,arguments)}function Mu(){return(Mu=(0,c.Z)(function*(y,f){const m=(0,P.m9)(y),A={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&Oa(m.auth,A,f);const{email:N}=yield tn(m.auth,A);N!==y.email&&(yield y.reload())})).apply(this,arguments)}function xu(){return(xu=(0,c.Z)(function*(y,f,m){const E=(0,P.m9)(y),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};m&&Oa(E.auth,N,m);const{email:Z}=yield Qc(E.auth,N);Z!==y.email&&(yield y.reload())})).apply(this,arguments)}function Fa(y,f){return jo.apply(this,arguments)}function jo(){return(jo=(0,c.Z)(function*(y,f){return Vt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function La(){return(La=(0,c.Z)(function*(y,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const E=(0,P.m9)(y),N={idToken:yield E.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},Z=yield gr(E,Fa(E.auth,N));E.displayName=Z.displayName||null,E.photoURL=Z.photoUrl||null;const fe=E.providerData.find(({providerId:Le})=>"password"===Le);fe&&(fe.displayName=E.displayName,fe.photoURL=E.photoURL),yield E._updateTokensIfNecessary(Z)})).apply(this,arguments)}function $o(y,f,m){return Va.apply(this,arguments)}function Va(){return(Va=(0,c.Z)(function*(y,f,m){const{auth:E}=y,N={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(N.email=f),m&&(N.password=m);const Z=yield gr(y,Ca(E,N));yield y._updateTokensIfNecessary(Z,!0)})).apply(this,arguments)}class Ho{constructor(f,m,E={}){this.isNewUser=f,this.providerId=m,this.profile=E}}class ld extends Ho{constructor(f,m,E,A){super(f,m,E),this.username=A}}class Go extends Ho{constructor(f,m){super(f,"facebook.com",m)}}class Li extends ld{constructor(f,m){super(f,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Kh extends Ho{constructor(f,m){super(f,"google.com",m)}}class Kn extends ld{constructor(f,m,E){super(f,"twitter.com",m,E)}}function Vi(y){const{user:f,_tokenResponse:m}=y;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function ud(y){var f,m;if(!y)return null;const{providerId:E}=y,A=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},N=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!E&&(null==y?void 0:y.idToken)){const Z=null===(m=null===(f=it(y.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(Z)return new Ho(N,"anonymous"!==Z&&"custom"!==Z?Z:null)}if(!E)return null;switch(E){case"facebook.com":return new Go(N,A);case"github.com":return new Li(N,A);case"google.com":return new Kh(N,A);case"twitter.com":return new Kn(N,A,y.screenName||null);case"custom":case"anonymous":return new Ho(N,null);default:return new Ho(N,E,A)}}(m)}class Ji{constructor(f,m){this.type=f,this.credential=m}static _fromIdtoken(f){return new Ji("enroll",f)}static _fromMfaPendingCredential(f){return new Ji("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,E;if(null==f?void 0:f.multiFactorSession){if(null===(m=f.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Ji._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(E=f.multiFactorSession)||void 0===E?void 0:E.idToken)return Ji._fromIdtoken(f.multiFactorSession.idToken)}return null}}class zo{constructor(f,m,E){this.session=f,this.hints=m,this.signInResolver=E}static _fromError(f,m){const E=at(f),A=m.customData._serverResponse,N=(A.mfaInfo||[]).map(fe=>Uo._fromServerResponse(E,fe));j(A.mfaPendingCredential,E,"internal-error");const Z=Ji._fromMfaPendingCredential(A.mfaPendingCredential);return new zo(Z,N,function(){var fe=(0,c.Z)(function*(Le){const We=yield Le._process(E,Z);delete A.mfaInfo,delete A.mfaPendingCredential;const _t=Object.assign(Object.assign({},A),{idToken:We.idToken,refreshToken:We.refreshToken});switch(m.operationType){case"signIn":const ct=yield ti._fromIdTokenResponse(E,m.operationType,_t);return yield E._updateCurrentUser(ct.user),ct;case"reauthenticate":return j(m.user,E,"internal-error"),ti._forOperation(m.user,m.operationType,_t);default:Te(E,"internal-error")}});return function(Le){return fe.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,c.Z)(function*(){return m.signInResolver(f)})()}}function Qh(y,f){return Vt(y,"POST","/v2/accounts/mfaEnrollment:start",qt(y,f))}class hd{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(E=>Uo._fromServerResponse(f.auth,E)))})}static _fromUser(f){return new hd(f)}getSession(){var f=this;return(0,c.Z)(function*(){return Ji._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,m){var E=this;return(0,c.Z)(function*(){const A=f,N=yield E.getSession(),Z=yield gr(E.user,A._process(E.user.auth,N,m));return yield E.user._updateTokensIfNecessary(Z),E.user.reload()})()}unenroll(f){var m=this;return(0,c.Z)(function*(){const E="string"==typeof f?f:f.uid,A=yield m.user.getIdToken(),N=yield gr(m.user,function Ou(y,f){return Vt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",qt(y,f))}(m.user.auth,{idToken:A,mfaEnrollmentId:E}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Z})=>Z!==E),yield m.user._updateTokensIfNecessary(N);try{yield m.user.reload()}catch(Z){if("auth/user-token-expired"!==Z.code)throw Z}})()}}const Nu=new WeakMap,to="__sak";class fd{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(to,"1"),this.storage.removeItem(to),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const ri=(()=>{class y extends fd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,E)=>this.onStorageEvent(m,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function dg(){const y=(0,P.z$)();return Eu(y)||Br(y)}()&&function sr(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=_s(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const E of Object.keys(this.listeners)){const A=this.storage.getItem(E),N=this.localCache[E];A!==N&&m(E,N,A)}}onStorageEvent(m,E=!1){if(!m.key)return void this.forAllChangedKeys((fe,Le,We)=>{this.notifyListeners(fe,We)});const A=m.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const fe=this.storage.getItem(A);if(m.newValue!==fe)null!==m.newValue?this.storage.setItem(A,m.newValue):this.storage.removeItem(A);else if(this.localCache[A]===m.newValue&&!E)return}const N=()=>{const fe=this.storage.getItem(A);!E&&this.localCache[A]===fe||this.notifyListeners(A,fe)},Z=this.storage.getItem(A);!function Ia(){return(0,P.w1)()&&10===document.documentMode}()||Z===m.newValue||m.newValue===m.oldValue?N():setTimeout(N,10)}notifyListeners(m,E){this.localCache[m]=E;const A=this.listeners[m];if(A)for(const N of Array.from(A))N(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,E,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:E,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,E){var A=()=>super._set,N=this;return(0,c.Z)(function*(){yield A().call(N,m,E),N.localCache[m]=JSON.stringify(E)})()}_get(m){var E=()=>super._get,A=this;return(0,c.Z)(function*(){const N=yield E().call(A,m);return A.localCache[m]=JSON.stringify(N),N})()}_remove(m){var E=()=>super._remove,A=this;return(0,c.Z)(function*(){yield E().call(A,m),delete A.localCache[m]})()}}return y.type="LOCAL",y})(),Un=(()=>{class y extends fd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,E){}_removeListener(m,E){}}return y.type="SESSION",y})();let pd=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const E=this.receivers.find(N=>N.isListeningto(m));if(E)return E;const A=new y(m);return this.receivers.push(A),A}isListeningto(m){return this.eventTarget===m}handleEvent(m){var E=this;return(0,c.Z)(function*(){const A=m,{eventId:N,eventType:Z,data:fe}=A.data,Le=E.handlersMap[Z];if(!(null==Le?void 0:Le.size))return;A.ports[0].postMessage({status:"ack",eventId:N,eventType:Z});const We=Array.from(Le).map(function(){var ct=(0,c.Z)(function*(An){return An(A.origin,fe)});return function(An){return ct.apply(this,arguments)}}()),_t=yield function Pl(y){return Promise.all(y.map(function(){var f=(0,c.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(E){return{fulfilled:!1,reason:E}}});return function(m){return f.apply(this,arguments)}}()))}(We);A.ports[0].postMessage({status:"done",eventId:N,eventType:Z,response:_t})})()}_subscribe(m,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(E)}_unsubscribe(m,E){this.handlersMap[m]&&E&&this.handlersMap[m].delete(E),(!E||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Ui(y="",f=10){let m="";for(let E=0;E<f;E++)m+=Math.floor(10*Math.random());return y+m}class kl{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,E=50){var A=this;return(0,c.Z)(function*(){const N="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let Z,fe;return new Promise((Le,We)=>{const _t=Ui("",20);N.port1.start();const ct=setTimeout(()=>{We(new Error("unsupported_event"))},E);fe={messageChannel:N,onMessage(An){const fi=An;if(fi.data.eventId===_t)switch(fi.data.status){case"ack":clearTimeout(ct),Z=setTimeout(()=>{We(new Error("timeout"))},3e3);break;case"done":clearTimeout(Z),Le(fi.data.response);break;default:clearTimeout(ct),clearTimeout(Z),We(new Error("invalid_response"))}}},A.handlers.add(fe),N.port1.addEventListener("message",fe.onMessage),A.target.postMessage({eventType:f,eventId:_t,data:m},[N.port2])}).finally(()=>{fe&&A.removeMessageHandler(fe)})})()}}function an(){return window}function Di(){return void 0!==an().WorkerGlobalScope&&"function"==typeof an().importScripts}function Pu(){return(Pu=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Fl="firebaseLocalStorageDb",qo="firebaseLocalStorage",Zo="fbase_key";class Ts{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function ur(y,f){return y.transaction([qo],f?"readwrite":"readonly").objectStore(qo)}function Bi(){const y=indexedDB.open(Fl,1);return new Promise((f,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const E=y.result;try{E.createObjectStore(qo,{keyPath:Zo})}catch(A){m(A)}}),y.addEventListener("success",(0,c.Z)(function*(){const E=y.result;E.objectStoreNames.contains(qo)?f(E):(E.close(),yield function ku(){const y=indexedDB.deleteDatabase(Fl);return new Ts(y).toPromise()}(),f(yield Bi()))}))})}function Wo(y,f,m){return As.apply(this,arguments)}function As(){return(As=(0,c.Z)(function*(y,f,m){const E=ur(y,!0).put({[Zo]:f,value:m});return new Ts(E).toPromise()})).apply(this,arguments)}function no(){return(no=(0,c.Z)(function*(y,f){const m=ur(y,!1).get(f),E=yield new Ts(m).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Yo(y,f){const m=ur(y,!0).delete(f);return new Ts(m).toPromise()}const Ss=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,c.Z)(function*(){return m.db||(m.db=yield Bi()),m.db})()}_withRetries(m){var E=this;return(0,c.Z)(function*(){let A=0;for(;;)try{const N=yield E._openDb();return yield m(N)}catch(N){if(A++>3)throw N;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,c.Z)(function*(){return Di()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,c.Z)(function*(){m.receiver=pd._getInstance(function md(){return Di()?self:null}()),m.receiver._subscribe("keyChanged",function(){var E=(0,c.Z)(function*(A,N){return{keyProcessed:(yield m._poll()).includes(N.key)}});return function(A,N){return E.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var E=(0,c.Z)(function*(A,N){return["keyChanged"]});return function(A,N){return E.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,c.Z)(function*(){var E,A;if(m.activeServiceWorker=yield function At(){return Pu.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new kl(m.activeServiceWorker);const N=yield m.sender._send("ping",{},800);!N||(null===(E=N[0])||void 0===E?void 0:E.fulfilled)&&(null===(A=N[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var E=this;return(0,c.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function gd(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:m},E.serviceWorkerReceiverAvailable?800:50)}catch(A){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Bi();return yield Wo(m,to,"1"),yield Yo(m,to),!0}catch(m){}return!1})()}_withPendingWrite(m){var E=this;return(0,c.Z)(function*(){E.pendingWrites++;try{yield m()}finally{E.pendingWrites--}})()}_set(m,E){var A=this;return(0,c.Z)(function*(){return A._withPendingWrite((0,c.Z)(function*(){return yield A._withRetries(N=>Wo(N,m,E)),A.localCache[m]=E,A.notifyServiceWorker(m)}))})()}_get(m){var E=this;return(0,c.Z)(function*(){const A=yield E._withRetries(N=>function Ko(y,f){return no.apply(this,arguments)}(N,m));return E.localCache[m]=A,A})()}_remove(m){var E=this;return(0,c.Z)(function*(){return E._withPendingWrite((0,c.Z)(function*(){return yield E._withRetries(A=>Yo(A,m)),delete E.localCache[m],E.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,c.Z)(function*(){const E=yield m._withRetries(Z=>{const fe=ur(Z,!1).getAll();return new Ts(fe).toPromise()});if(!E)return[];if(0!==m.pendingWrites)return[];const A=[],N=new Set;for(const{fbase_key:Z,value:fe}of E)N.add(Z),JSON.stringify(m.localCache[Z])!==JSON.stringify(fe)&&(m.notifyListeners(Z,fe),A.push(Z));for(const Z of Object.keys(m.localCache))m.localCache[Z]&&!N.has(Z)&&(m.notifyListeners(Z,null),A.push(Z));return A})()}notifyListeners(m,E){this.localCache[m]=E;const A=this.listeners[m];if(A)for(const N of Array.from(A))N(E)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function lr(y,f){return Vt(y,"POST","/v2/accounts/mfaSignIn:start",qt(y,f))}function pn(){return(pn=(0,c.Z)(function*(y){return(yield Vt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ji(y){return new Promise((f,m)=>{const E=document.createElement("script");E.setAttribute("src",y),E.onload=f,E.onerror=A=>{const N=Ee("internal-error");N.customData=A,m(N)},E.type="text/javascript",E.charset="UTF-8",function io(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(E)})}function Xi(y){return`__${y}${Math.floor(1e6*Math.random())}`}const ii=1e12;class Tn{constructor(f){this.auth=f,this.counter=ii,this._widgets=new Map}render(f,m){const E=this.counter;return this._widgets.set(E,new Lu(f,this.auth.name,m||{})),this.counter++,E}reset(f){var m;const E=f||ii;null===(m=this._widgets.get(E))||void 0===m||m.delete(),this._widgets.delete(E)}getResponse(f){var m;return(null===(m=this._widgets.get(f||ii))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,c.Z)(function*(){var E;return null===(E=m._widgets.get(f||ii))||void 0===E||E.execute(),""})()}}class Lu{constructor(f,m,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof f?document.getElementById(f):f;j(A,"argument-error",{appName:m}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ha(y){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<y;E++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const gn=Xi("rcb"),hg=new Qt(3e4,6e4);class xy{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!an().grecaptcha}load(f,m=""){return j(function Xo(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(an().grecaptcha):new Promise((E,A)=>{const N=an().setTimeout(()=>{A(Ee(f,"network-request-failed"))},hg.get());an()[gn]=()=>{an().clearTimeout(N),delete an()[gn];const fe=an().grecaptcha;if(!fe)return void A(Ee(f,"internal-error"));const Le=fe.render;fe.render=(We,_t)=>{const ct=Le(We,_t);return this.counter++,ct},this.hostLanguage=m,E(fe)},ji(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:gn,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(N),A(Ee(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!an().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Gr{load(f){return(0,c.Z)(function*(){return new Tn(f)})()}clearedOneInstance(){}}const yd="recaptcha",Ms={theme:"light",type:"image"};class so{constructor(f,m=Object.assign({},Ms),E){this.parameters=m,this.type=yd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=at(E),this.isInvisible="invisible"===this.parameters.size,j("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof f?document.getElementById(f):f;j(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Gr:new xy,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),E=f.getAssertedRecaptcha();return E.getResponse(m)||new Promise(N=>{const Z=fe=>{!fe||(f.tokenChangeListeners.delete(Z),N(fe))};f.tokenChangeListeners.add(Z),f.isInvisible&&E.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){j(!this.parameters.sitekey,this.auth,"argument-error"),j(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),j("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(E=>E(m)),"function"==typeof f)f(m);else if("string"==typeof f){const E=an()[f];"function"==typeof E&&E(m)}}}assertNotDestroyed(){j(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const E=document.createElement("div");m.appendChild(E),m=E}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){j(lt()&&!Di(),f.auth,"internal-error"),yield function Vu(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function Fu(y){return pn.apply(this,arguments)}(f.auth);j(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return j(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class vn{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=Ro._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function oo(){return(oo=(0,c.Z)(function*(y,f,m){const E=at(y),A=yield ea(E,f,(0,P.m9)(m));return new vn(A,N=>_n(E,N))})).apply(this,arguments)}function Vl(){return(Vl=(0,c.Z)(function*(y,f,m){const E=(0,P.m9)(y);yield Yt(!1,E,"phone");const A=yield ea(E.auth,f,(0,P.m9)(m));return new vn(A,N=>ar(E,N))})).apply(this,arguments)}function oi(){return(oi=(0,c.Z)(function*(y,f,m){const E=(0,P.m9)(y),A=yield ea(E.auth,f,(0,P.m9)(m));return new vn(A,N=>Yi(E,N))})).apply(this,arguments)}function ea(y,f,m){return ao.apply(this,arguments)}function ao(){return(ao=(0,c.Z)(function*(y,f,m){var E;const A=yield m.verify();try{let N;if(j("string"==typeof A,y,"argument-error"),j(m.type===yd,y,"argument-error"),N="string"==typeof f?{phoneNumber:f}:f,"session"in N){const Z=N.session;if("phoneNumber"in N)return j("enroll"===Z.type,y,"internal-error"),(yield Qh(y,{idToken:Z.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{j("signin"===Z.type,y,"internal-error");const fe=(null===(E=N.multiFactorHint)||void 0===E?void 0:E.uid)||N.multiFactorUid;return j(fe,y,"missing-multi-factor-info"),(yield lr(y,{mfaPendingCredential:Z.credential,mfaEnrollmentId:fe,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Z}=yield No(y,{phoneNumber:N.phoneNumber,recaptchaToken:A});return Z}}finally{m._reset()}})).apply(this,arguments)}function ta(){return(ta=(0,c.Z)(function*(y,f){yield Sa((0,P.m9)(y),f)})).apply(this,arguments)}let lo=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=at(m)}verifyPhoneNumber(m,E){return ea(this.auth,m,(0,P.m9)(E))}static credential(m,E){return Ro._fromVerification(m,E)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:E,temporaryProof:A}=m;return E&&A?Ro._fromTokenResponse(E,A):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function es(y,f){return f?ee(f):(j(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ga extends Ei{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return bs(f,this._buildIdpRequest())}_linkToIdToken(f,m){return bs(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return bs(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function Pt(y){return or(y.auth,new Ga(y),y.bypassAuthState)}function Uu(y){const{auth:f,user:m}=y;return j(m,f,"internal-error"),Cu(m,new Ga(y),y.bypassAuthState)}function Qn(y){return za.apply(this,arguments)}function za(){return(za=(0,c.Z)(function*(y){const{auth:f,user:m}=y;return j(m,f,"internal-error"),Sa(m,new Ga(y),y.bypassAuthState)})).apply(this,arguments)}class xs{constructor(f,m,E,A,N=!1){this.auth=f,this.resolver=E,this.user=A,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,c.Z)(function*(E,A){f.pendingPromise={resolve:E,reject:A};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(N){f.reject(N)}});return function(E,A){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,c.Z)(function*(){const{urlResponse:E,sessionId:A,postBody:N,tenantId:Z,error:fe,type:Le}=f;if(fe)return void m.reject(fe);const We={auth:m.auth,requestUri:E,sessionId:A,tenantId:Z||void 0,postBody:N||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Le)(We))}catch(_t){m.reject(_t)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Pt;case"linkViaPopup":case"linkViaRedirect":return Qn;case"reauthViaPopup":case"reauthViaRedirect":return Uu;default:Te(this.auth,"internal-error")}}resolve(f){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pg=new Qt(2e3,1e4);function Os(){return(Os=(0,c.Z)(function*(y,f,m){const E=at(y);$e(y,f,vr);const A=es(E,m);return new Ul(E,"signInViaPopup",f,A).executeNotNull()})).apply(this,arguments)}function Bu(){return(Bu=(0,c.Z)(function*(y,f,m){const E=(0,P.m9)(y);$e(E.auth,f,vr);const A=es(E.auth,m);return new Ul(E.auth,"reauthViaPopup",f,A,E).executeNotNull()})).apply(this,arguments)}function Hi(){return(Hi=(0,c.Z)(function*(y,f,m){const E=(0,P.m9)(y);$e(E.auth,f,vr);const A=es(E.auth,m);return new Ul(E.auth,"linkViaPopup",f,A,E).executeNotNull()})).apply(this,arguments)}let Ul=(()=>{class y extends xs{constructor(m,E,A,N,Z){super(m,E,N,Z),this.provider=A,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,c.Z)(function*(){const E=yield m.execute();return j(E,m.auth,"internal-error"),E})()}onExecution(){var m=this;return(0,c.Z)(function*(){W(1===m.filter.length,"Popup operations only handle one event");const E=Ui();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],E),m.authWindow.associatedEvent=E,m.resolver._originValidation(m.auth).catch(A=>{m.reject(A)}),m.resolver._isIframeWebStorageSupported(m.auth,A=>{A||m.reject(Ee(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var E,A;this.pollId=(null===(A=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===A?void 0:A.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ee(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,pg.get())};m()}}return y.currentPopupAction=null,y})();const cr=new Map;class Ny extends xs{constructor(f,m,E=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,E),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,c.Z)(function*(){let E=cr.get(m.auth._key());if(!E){try{const N=(yield function na(y,f){return ra.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;E=()=>Promise.resolve(N)}catch(A){E=()=>Promise.reject(A)}cr.set(m.auth._key(),E)}return m.bypassAuthState||cr.set(m.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,E=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(E,f);if("unknown"!==f.type){if(f.eventId){const A=yield E.auth._redirectUserForId(f.eventId);if(A)return E.user=A,m().call(E,f);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function ra(){return(ra=(0,c.Z)(function*(y,f){const m=F(f),E=O(y);if(!(yield E._isAvailable()))return!1;const A="true"===(yield E._get(m));return yield E._remove(m),A})).apply(this,arguments)}function co(y,f){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,c.Z)(function*(y,f){return O(y)._set(F(f),"true")})).apply(this,arguments)}function C(y,f){cr.set(y._key(),f)}function O(y){return ee(y._redirectPersistence)}function F(y){return $n("pendingRedirect",y.config.apiKey,y.name)}function ge(){return(ge=(0,c.Z)(function*(y,f,m){const E=at(y);$e(y,f,vr);const A=es(E,m);return yield co(A,E),A._openRedirect(E,f,"signInViaRedirect")})).apply(this,arguments)}function dt(){return(dt=(0,c.Z)(function*(y,f,m){const E=(0,P.m9)(y);$e(E.auth,f,vr);const A=es(E.auth,m);yield co(A,E.auth);const N=yield ui(E);return A._openRedirect(E.auth,f,"reauthViaRedirect",N)})).apply(this,arguments)}function Er(){return(Er=(0,c.Z)(function*(y,f,m){const E=(0,P.m9)(y);$e(E.auth,f,vr);const A=es(E.auth,m);yield Yt(!1,E,f.providerId),yield co(A,E.auth);const N=yield ui(E);return A._openRedirect(E.auth,f,"linkViaRedirect",N)})).apply(this,arguments)}function ts(){return(ts=(0,c.Z)(function*(y,f){return yield at(y)._initializationPromise,zr(y,f,!1)})).apply(this,arguments)}function zr(y,f){return ai.apply(this,arguments)}function ai(){return(ai=(0,c.Z)(function*(y,f,m=!1){const E=at(y),A=es(E,f),Z=yield new Ny(E,A,m).execute();return Z&&!m&&(delete Z.user._redirectEventId,yield E._persistUserIfCurrent(Z.user),yield E._setRedirectUser(null,f)),Z})).apply(this,arguments)}function ui(y){return li.apply(this,arguments)}function li(){return(li=(0,c.Z)(function*(y){const f=Ui(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class $u{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(f,E)&&(m=!0,this.sendToConsumer(f,E),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function gg(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hu(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var E;if(f.error&&!Hu(f)){const A=(null===(E=f.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";m.onError(Ee(this.auth,A))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const E=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&E}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bl(f))}saveEventToCache(f){this.cachedEventUids.add(Bl(f)),this.lastProcessedEventTime=Date.now()}}function Bl(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function Hu({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===(null==f?void 0:f.code)}function mg(y){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,c.Z)(function*(y,f={}){return Vt(y,"GET","/v1/projects",f)})).apply(this,arguments)}const ho=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jl=/^https?/;function yg(){return(yg=(0,c.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield mg(y);for(const m of f)try{if(_g(m))return}catch(E){}Te(y,"unauthorized-domain")})).apply(this,arguments)}function _g(y){const f=Re(),{protocol:m,hostname:E}=new URL(f);if(y.startsWith("chrome-extension://")){const Z=new URL(y);return""===Z.hostname&&""===E?"chrome-extension:"===m&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&Z.hostname===E}if(!jl.test(m))return!1;if(ho.test(y))return E===y;const A=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(E)}const Py=new Qt(3e4,6e4);function vg(){const y=an().___jsl;if(null==y?void 0:y.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let Gu=null;function fo(y){return Gu=Gu||function Xh(y){return new Promise((f,m)=>{var E,A,N;function Z(){vg(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{vg(),m(Ee(y,"network-request-failed"))},timeout:Py.get()})}if(null===(A=null===(E=an().gapi)||void 0===E?void 0:E.iframes)||void 0===A?void 0:A.Iframe)f(gapi.iframes.getContext());else{if(!(null===(N=an().gapi)||void 0===N?void 0:N.load)){const fe=Xi("iframefcb");return an()[fe]=()=>{gapi.load?Z():m(Ee(y,"network-request-failed"))},ji(`https://apis.google.com/js/api.js?onload=${fe}`).catch(Le=>m(Le))}Z()}}).catch(f=>{throw Gu=null,f})}(y),Gu}const po=new Qt(5e3,15e3),ky={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fy(y){const f=y.config;j(f.authDomain,y,"auth-domain-config-required");const m=f.emulator?Mn(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,E={apiKey:f.apiKey,appName:y.name,v:ae.SDK_VERSION},A=zu.get(y.config.apiHost);A&&(E.eid=A);const N=y._getFrameworks();return N.length&&(E.fw=N.join(",")),`${m}?${(0,P.xO)(E).slice(1)}`}function ia(){return ia=(0,c.Z)(function*(y){const f=yield fo(y),m=an().gapi;return j(m,y,"internal-error"),f.open({where:document.body,url:Fy(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ky,dontclear:!0},E=>new Promise(function(){var A=(0,c.Z)(function*(N,Z){yield E.restyle({setHideOnLeave:!1});const fe=Ee(y,"network-request-failed"),Le=an().setTimeout(()=>{Z(fe)},po.get());function We(){an().clearTimeout(Le),N(E)}E.ping(We).then(We,()=>{Z(fe)})});return function(N,Z){return A.apply(this,arguments)}}()))}),ia.apply(this,arguments)}const ef={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Eg{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function Ns(y,f,m,E,A,N){j(y.config.authDomain,y,"auth-domain-config-required"),j(y.config.apiKey,y,"invalid-api-key");const Z={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:E,v:ae.SDK_VERSION,eventId:A};if(f instanceof vr){f.setDefaultLanguage(y.languageCode),Z.providerId=f.providerId||"",(0,P.xb)(f.getCustomParameters())||(Z.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Le,We]of Object.entries(N||{}))Z[Le]=We}if(f instanceof Ks){const Le=f.getScopes().filter(We=>""!==We);Le.length>0&&(Z.scopes=Le.join(","))}y.tenantId&&(Z.tid=y.tenantId);const fe=Z;for(const Le of Object.keys(fe))void 0===fe[Le]&&delete fe[Le];return`${function Hl({config:y}){return y.emulator?Mn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,P.xO)(fe).slice(1)}`}const Cd="webStorageSupport";class Td extends class K0{constructor(f){this.factorId=f}_process(f,m,E){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,E);case"signin":return this._finalizeSignIn(f,m.credential);default:return ve("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Td(f)}_finalizeEnroll(f,m,E){return function eo(y,f){return Vt(y,"POST","/v2/accounts/mfaEnrollment:finalize",qt(y,f))}(f,{idToken:m,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function ro(y,f){return Vt(y,"POST","/v2/accounts/mfaSignIn:finalize",qt(y,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let bg=(()=>{class y{constructor(){}static assertion(m){return Td._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var Dg="@firebase/auth";class Cg{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,c.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(E=>{var A;f((null===(A=E)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Rs(){return window}function Za(){return(Za=(0,c.Z)(function*(y,f,m){var E;const{BuildInfo:A}=Rs();W(f.sessionId,"AuthEvent did not contain a session ID");const N=yield sf(f.sessionId),Z={};return Br()?Z.ibi=A.packageName:Tr()?Z.apn=A.packageName:Te(y,"operation-not-supported-in-this-environment"),A.displayName&&(Z.appDisplayName=A.displayName),Z.sessionId=N,Ns(y,m,f.type,void 0,null!==(E=f.eventId)&&void 0!==E?E:void 0,Z)})).apply(this,arguments)}function Sd(){return(Sd=(0,c.Z)(function*(y){const{BuildInfo:f}=Rs(),m={};Br()?m.iosBundleId=f.packageName:Tr()?m.androidPackageName=f.packageName:Te(y,"operation-not-supported-in-this-environment"),yield mg(y,m)})).apply(this,arguments)}function Sg(){return(Sg=(0,c.Z)(function*(y,f,m){const{cordova:E}=Rs();let A=()=>{};try{yield new Promise((N,Z)=>{let fe=null;function Le(){var ct;N();const An=null===(ct=E.plugins.browsertab)||void 0===ct?void 0:ct.close;"function"==typeof An&&An(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function We(){fe||(fe=window.setTimeout(()=>{Z(Ee(y,"redirect-cancelled-by-user"))},2e3))}function _t(){"visible"===(null==document?void 0:document.visibilityState)&&We()}f.addPassiveListener(Le),document.addEventListener("resume",We,!1),Tr()&&document.addEventListener("visibilitychange",_t,!1),A=()=>{f.removePassiveListener(Le),document.removeEventListener("resume",We,!1),document.removeEventListener("visibilitychange",_t,!1),fe&&window.clearTimeout(fe)}})}finally{A()}})).apply(this,arguments)}function sf(y){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,c.Z)(function*(y){const f=of(y),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function of(y){if(W(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),m=new Uint8Array(f);for(let E=0;E<y.length;E++)m[E]=y.charCodeAt(E);return m}!function Y0(y){(0,ae._registerComponent)(new ue.wA("auth",(f,{options:m})=>{const E=f.getProvider("app").getImmediate(),A=f.getProvider("heartbeat"),{apiKey:N,authDomain:Z}=E.options;return((fe,Le)=>{j(N&&!N.includes(":"),"invalid-api-key",{appName:fe.name}),j(!(null==Z?void 0:Z.includes(":")),"argument-error",{appName:fe.name});const We={apiKey:N,authDomain:Z,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Oo(y)},_t=new Ze(fe,Le,We);return function oe(y,f){const m=(null==f?void 0:f.persistence)||[],E=(Array.isArray(m)?m:[m]).map(ee);(null==f?void 0:f.errorMap)&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(E,null==f?void 0:f.popupRedirectResolver)}(_t,m),_t})(E,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,E)=>{f.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new ue.wA("auth-internal",f=>{const m=at(f.getProvider("auth").getImmediate());return new Cg(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(Dg,"0.20.1",function Ad(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ae.registerVersion)(Dg,"0.20.1","esm2017")}("Browser");class xd extends $u{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,c.Z)(function*(){yield f.initPromise})()}}function Wu(y){return zl.apply(this,arguments)}function zl(){return(zl=(0,c.Z)(function*(y){const f=yield Ka()._get(uf(y));return f&&(yield Ka()._remove(uf(y))),f})).apply(this,arguments)}function af(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const E=Math.floor(Math.random()*f.length);y.push(f.charAt(E))}return y.join("")}function Ka(){return ee(ri)}function uf(y){return $n("authEvent",y.config.apiKey,y.name)}function zt(y){if(!(null==y?void 0:y.includes("?")))return{};const[f,...m]=y.split("?");return(0,P.zd)(m.join("?"))}function Yu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ee("no-auth-event")}}function Ya(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Og(y=(0,P.z$)()){return!("file:"!==Ya()&&"ionic:"!==Ya()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function hf(){try{const y=self.localStorage,f=Ui();if(y)return y.setItem(f,"1"),y.removeItem(f),!function df(y=(0,P.z$)()){return function Or(){return(0,P.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Qa(y=(0,P.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,P.hl)()}catch(y){return dr()&&(0,P.hl)()}return!1}function dr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ja(){return(function qy(){return"http:"===Ya()||"https:"===Ya()}()||(0,P.ru)()||Og())&&!function oa(){return(0,P.b$)()||(0,P.UG)()}()&&hf()&&!dr()}function Od(){return Og()&&"undefined"!=typeof document}function ql(){return(ql=(0,c.Z)(function*(){return!!Od()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const ci={LOCAL:"local",NONE:"none",SESSION:"session"},go=j,Rg="persistence";function Qu(y){return ff.apply(this,arguments)}function ff(){return(ff=(0,c.Z)(function*(y){yield y._initializationPromise;const f=kg(),m=$n(Rg,y.config.apiKey,y.name);f&&f.setItem(m,y._getPersistence())})).apply(this,arguments)}function kg(){var y;try{return(null===(y=function Ng(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(f){return null}}const Wy=j;class di{constructor(){this.browserResolver=ee(class Uy{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Un,this._completeRedirectFn=zr,this._overrideRedirectResult=C}_openPopup(f,m,E,A){var N=this;return(0,c.Z)(function*(){var Z;W(null===(Z=N.eventManagers[f._key()])||void 0===Z?void 0:Z.manager,"_initialize() not called before _openPopup()");const fe=Ns(f,m,E,Re(),A);return function $l(y,f,m,E=500,A=600){const N=Math.max((window.screen.availHeight-A)/2,0).toString(),Z=Math.max((window.screen.availWidth-E)/2,0).toString();let fe="";const Le=Object.assign(Object.assign({},ef),{width:E.toString(),height:A.toString(),top:N,left:Z}),We=(0,P.z$)().toLowerCase();m&&(fe=Da(We)?"_blank":m),ba(We)&&(f=f||"http://localhost",Le.scrollbars="yes");const _t=Object.entries(Le).reduce((An,[fi,Wl])=>`${An}${fi}=${Wl},`,"");if(function Zs(y=(0,P.z$)()){var f;return Br(y)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(We)&&"_self"!==fe)return function Ly(y,f){const m=document.createElement("a");m.href=y,m.target=f;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(E)}(f||"",fe),new Eg(null);const ct=window.open(f||"",fe,_t);j(ct,y,"popup-blocked");try{ct.focus()}catch(An){}return new Eg(ct)}(f,fe,Ui())})()}_openRedirect(f,m,E,A){var N=this;return(0,c.Z)(function*(){return yield N._originValidation(f),function ja(y){an().location.href=y}(Ns(f,m,E,Re(),A)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:A,promise:N}=this.eventManagers[m];return A?Promise.resolve(A):(W(N,"If manager is not set, promise should be"),N)}const E=this.initAndGetManager(f);return this.eventManagers[m]={promise:E},E.catch(()=>{delete this.eventManagers[m]}),E}initAndGetManager(f){var m=this;return(0,c.Z)(function*(){const E=yield function bd(y){return ia.apply(this,arguments)}(f),A=new $u(f);return E.register("authEvent",N=>(j(null==N?void 0:N.authEvent,f,"invalid-auth-event"),{status:A.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:A},m.iframes[f._key()]=E,A})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(Cd,{type:Cd},A=>{var N;const Z=null===(N=null==A?void 0:A[0])||void 0===N?void 0:N[Cd];void 0!==Z&&m(!!Z),Te(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Ry(y){return yg.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return _s()||Eu()||Br()}}),this.cordovaResolver=ee(class xg{constructor(){this._redirectPersistence=Un,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=zr,this._overrideRedirectResult=C}_initialize(f){var m=this;return(0,c.Z)(function*(){const E=f._key();let A=m.eventManagers.get(E);return A||(A=new xd(f),m.eventManagers.set(E,A),m.attachCallbackListeners(f,A)),A})()}_openPopup(f){Te(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,E,A){var N=this;return(0,c.Z)(function*(){!function qu(y){var f,m,E,A,N,Z,fe,Le,We,_t;const ct=Rs();j("function"==typeof(null===(f=null==ct?void 0:ct.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),j(void 0!==(null===(m=null==ct?void 0:ct.BuildInfo)||void 0===m?void 0:m.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),j("function"==typeof(null===(N=null===(A=null===(E=null==ct?void 0:ct.cordova)||void 0===E?void 0:E.plugins)||void 0===A?void 0:A.browsertab)||void 0===N?void 0:N.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j("function"==typeof(null===(Le=null===(fe=null===(Z=null==ct?void 0:ct.cordova)||void 0===Z?void 0:Z.plugins)||void 0===fe?void 0:fe.browsertab)||void 0===Le?void 0:Le.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j("function"==typeof(null===(_t=null===(We=null==ct?void 0:ct.cordova)||void 0===We?void 0:We.InAppBrowser)||void 0===_t?void 0:_t.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const Z=yield N._initialize(f);yield Z.initialized(),Z.resetRedirect(),function I(){cr.clear()}(),yield N._originValidation(f);const fe=function Zu(y,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:af(),postBody:null,tenantId:y.tenantId,error:Ee(y,"no-auth-event")}}(f,E,A);yield function By(y,f){return Ka()._set(uf(y),f)}(f,fe);const Le=yield function ns(y,f,m){return Za.apply(this,arguments)}(f,fe,m),We=yield function Md(y){const{cordova:f}=Rs();return new Promise(m=>{f.plugins.browsertab.isAvailable(E=>{let A=null;E?f.plugins.browsertab.openUrl(y):A=f.InAppBrowser.open(y,function Yc(y=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(A)})})}(Le);return function Wa(y,f,m){return Sg.apply(this,arguments)}(f,Z,We)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Ag(y){return Sd.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:E,handleOpenURL:A,BuildInfo:N}=Rs(),Z=setTimeout((0,c.Z)(function*(){yield Wu(f),m.onEvent(Yu())}),500),fe=function(){var _t=(0,c.Z)(function*(ct){clearTimeout(Z);const An=yield Wu(f);let fi=null;An&&(null==ct?void 0:ct.url)&&(fi=function jy(y,f){var m,E;const A=function cf(y){const f=zt(y),m=f.link?decodeURIComponent(f.link):void 0,E=zt(m).link,A=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return zt(A).link||A||E||m||y}(f);if(A.includes("/__/auth/callback")){const N=zt(A),Z=N.firebaseError?function lf(y){try{return JSON.parse(y)}catch(f){return null}}(decodeURIComponent(N.firebaseError)):null,fe=null===(E=null===(m=null==Z?void 0:Z.code)||void 0===m?void 0:m.split("auth/"))||void 0===E?void 0:E[1],Le=fe?Ee(fe):null;return Le?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:A,postBody:null}}return null}(An,ct.url)),m.onEvent(fi||Yu())});return function(An){return _t.apply(this,arguments)}}();void 0!==E&&"function"==typeof E.subscribe&&E.subscribe(null,fe);const Le=A,We=`${N.packageName.toLowerCase()}://`;Rs().handleOpenURL=function(){var _t=(0,c.Z)(function*(ct){if(ct.toLowerCase().startsWith(We)&&fe({url:ct}),"function"==typeof Le)try{Le(ct)}catch(An){console.error(An)}});return function(ct){return _t.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Un,this._completeRedirectFn=zr,this._overrideRedirectResult=C}_initialize(f){var m=this;return(0,c.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,E,A){var N=this;return(0,c.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(f,m,E,A)})()}_openRedirect(f,m,E,A){var N=this;return(0,c.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(f,m,E,A)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Od()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Wy(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,c.Z)(function*(){if(f.underlyingResolver)return;const m=yield function Zy(){return ql.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function Fg(y){return y.unwrap()}function Nd(y){return Lg(y)}function Lg(y){const{_tokenResponse:f}=y instanceof P.ZR?y.customData:y;if(!f)return null;if(!(y instanceof P.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return lo.credentialFromResult(y);const m=f.providerId;if(!m||"password"===m)return null;let E;switch(m){case"google.com":E=sd;break;case"facebook.com":E=Po;break;case"github.com":E=Zh;break;case"twitter.com":E=od;break;default:const{oauthIdToken:A,oauthAccessToken:N,oauthTokenSecret:Z,pendingToken:fe,nonce:Le}=f;return N||Z||A||fe?fe?m.startsWith("saml.")?Ys._create(m,fe):Ki._fromParams({providerId:m,signInMethod:m,pendingToken:fe,idToken:A,accessToken:N}):new Ri(m).credential({idToken:A,accessToken:N,rawNonce:Le}):null}return y instanceof P.ZR?E.credentialFromError(y):E.credentialFromResult(y)}function hi(y,f){return f.catch(m=>{throw m instanceof P.ZR&&function Yy(y,f){var m;const E=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new Vg(y,function Yn(y,f){var m;const E=(0,P.m9)(y),A=f;return j(f.customData.operationType,E,"argument-error"),j(null===(m=A.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,E,"argument-error"),zo._fromError(E,A)}(y,f));else if(E){const A=Lg(f),N=f;A&&(N.credential=A,N.tenantId=E.tenantId||void 0,N.email=E.email||void 0,N.phoneNumber=E.phoneNumber||void 0)}}(y,m),m}).then(m=>{const A=m.user;return{operationType:m.operationType,credential:Nd(m),additionalUserInfo:Vi(m),user:Ps.getOrCreate(A)}})}function pf(y,f){return gf.apply(this,arguments)}function gf(){return(gf=(0,c.Z)(function*(y,f){const m=yield f;return{verificationId:m.verificationId,confirm:E=>hi(y,m.confirm(E))}})).apply(this,arguments)}class Vg{constructor(f,m){this.resolver=m,this.auth=function Ky(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return hi(Fg(this.auth),this.resolver.resolveSignIn(f))}}class Ps{constructor(f){this._delegate=f,this.multiFactor=function Ru(y){const f=(0,P.m9)(y);return Nu.has(f)||Nu.set(f,hd._fromUser(f)),Nu.get(f)}(f)}static getOrCreate(f){return Ps.USER_MAP.has(f)||Ps.USER_MAP.set(f,new Ps(f)),Ps.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,c.Z)(function*(){return hi(m.auth,ar(m._delegate,f))})()}linkWithPhoneNumber(f,m){var E=this;return(0,c.Z)(function*(){return pf(E.auth,function Oy(y,f,m){return Vl.apply(this,arguments)}(E._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,c.Z)(function*(){return hi(m.auth,function vd(y,f,m){return Hi.apply(this,arguments)}(m._delegate,f,di))})()}linkWithRedirect(f){var m=this;return(0,c.Z)(function*(){return yield Qu(at(m.auth)),function $t(y,f,m){return function wt(y,f,m){return Er.apply(this,arguments)}(y,f,m)}(m._delegate,f,di)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,c.Z)(function*(){return hi(m.auth,Yi(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return pf(this.auth,function si(y,f,m){return oi.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return hi(this.auth,function Ii(y,f,m){return Bu.apply(this,arguments)}(this._delegate,f,di))}reauthenticateWithRedirect(f){var m=this;return(0,c.Z)(function*(){return yield Qu(at(m.auth)),function Ve(y,f,m){return function Tt(y,f,m){return dt.apply(this,arguments)}(y,f,m)}(m._delegate,f,di)})()}sendEmailVerification(f){return function xl(y,f){return Mu.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,c.Z)(function*(){return yield function Wh(y,f){return rn.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function lg(y,f){return $o((0,P.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function Rl(y,f){return $o((0,P.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function uo(y,f){return ta.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Nl(y,f){return La.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function Ol(y,f,m){return xu.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ps.USER_MAP=new WeakMap;const Zl=j;let Ug=(()=>{class y{constructor(m,E){if(this.app=m,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=m.options;Zl(A,"invalid-api-key",{appName:m.name}),Zl(A,"invalid-api-key",{appName:m.name});const N="undefined"!=typeof window?di:void 0;this._delegate=E.initialize({options:{persistence:Qy(A,m.name),popupRedirectResolver:N}}),this._delegate._updateErrorMap(Ne),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ps.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,E){!function $r(y,f,m){const E=at(y);j(E._canInitEmulator,E,"emulator-config-failed"),j(/^https?:\/\//.test(f),E,"invalid-emulator-scheme");const A=!!(null==m?void 0:m.disableWarnings),N=Si(f),{host:Z,port:fe}=function Vn(y){const f=Si(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!m)return{host:"",port:null};const E=m[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(E);if(A){const N=A[1];return{host:N,port:Mi(E.substr(N.length+1))}}{const[N,Z]=E.split(":");return{host:N,port:Mi(Z)}}}(f);E.config.emulator={url:`${N}//${Z}${null===fe?"":`:${fe}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:Z,port:fe,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function dn(){function y(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,E)}applyActionCode(m){return function Ae(y,f){return Ft.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Sl(this._delegate,m)}confirmPasswordReset(m,E){return function Tl(y,f,m){return Al.apply(this,arguments)}(this._delegate,m,E)}createUserWithEmailAndPassword(m,E){var A=this;return(0,c.Z)(function*(){return hi(A._delegate,function ni(y,f,m){return Ra.apply(this,arguments)}(A._delegate,m,E))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Cs(y,f){return bi.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Pa(y,f){const m=Iu.parseLink(f);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,c.Z)(function*(){Zl(Ja(),m._delegate,"operation-not-supported-in-this-environment");const E=yield function Jn(y,f){return ts.apply(this,arguments)}(m._delegate,di);return E?hi(m._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function $y(y,f){at(y)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,E,A){const{next:N,error:Z,complete:fe}=Bg(m,E,A);return this._delegate.onAuthStateChanged(N,Z,fe)}onIdTokenChanged(m,E,A){const{next:N,error:Z,complete:fe}=Bg(m,E,A);return this._delegate.onIdTokenChanged(N,Z,fe)}sendSignInLinkToEmail(m,E){return function ug(y,f,m){return Au.apply(this,arguments)}(this._delegate,m,E)}sendPasswordResetEmail(m,E){return function Cl(y,f,m){return Na.apply(this,arguments)}(this._delegate,m,E||void 0)}setPersistence(m){var E=this;return(0,c.Z)(function*(){let A;switch(function Pg(y,f){go(Object.values(ci).includes(f),y,"invalid-persistence-type"),(0,P.b$)()?go(f!==ci.SESSION,y,"unsupported-persistence-type"):(0,P.UG)()?go(f===ci.NONE,y,"unsupported-persistence-type"):dr()?go(f===ci.NONE||f===ci.LOCAL&&(0,P.hl)(),y,"unsupported-persistence-type"):go(f===ci.NONE||hf(),y,"unsupported-persistence-type")}(E._delegate,m),m){case ci.SESSION:A=Un;break;case ci.LOCAL:A=(yield ee(Ss)._isAvailable())?Ss:ri;break;case ci.NONE:A=Et;break;default:return Te("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return hi(this._delegate,function ad(y){return bl.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return hi(this._delegate,_n(this._delegate,m))}signInWithCustomToken(m){return hi(this._delegate,function Vo(y,f){return ft.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,E){return hi(this._delegate,function Ml(y,f,m){return _n((0,P.m9)(y),id.credential(f,m))}(this._delegate,m,E))}signInWithEmailLink(m,E){return hi(this._delegate,function Su(y,f,m){return Rn.apply(this,arguments)}(this._delegate,m,E))}signInWithPhoneNumber(m,E){return pf(this._delegate,function Ll(y,f,m){return oo.apply(this,arguments)}(this._delegate,m,E))}signInWithPopup(m){var E=this;return(0,c.Z)(function*(){return Zl(Ja(),E._delegate,"operation-not-supported-in-this-environment"),hi(E._delegate,function _d(y,f,m){return Os.apply(this,arguments)}(E._delegate,m,di))})()}signInWithRedirect(m){var E=this;return(0,c.Z)(function*(){return Zl(Ja(),E._delegate,"operation-not-supported-in-this-environment"),yield Qu(E._delegate),function Y(y,f,m){return function ne(y,f,m){return ge.apply(this,arguments)}(y,f,m)}(E._delegate,m,di)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Bo(y,f){return Xs.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=ci,y})();function Bg(y,f,m){let E=y;"function"!=typeof y&&({next:E,error:f,complete:m}=y);const A=E;return{next:Z=>A(Z&&Ps.getOrCreate(Z)),error:f,complete:m}}function Qy(y,f){const m=function Xa(y,f){const m=kg();if(!m)return[];const E=$n(Rg,y,f);switch(m.getItem(E)){case ci.NONE:return[Et];case ci.LOCAL:return[Ss,Un];case ci.SESSION:return[Un];default:return[]}}(y,f);if("undefined"!=typeof self&&!m.includes(Ss)&&m.push(Ss),"undefined"!=typeof window)for(const E of[ri,Un])m.includes(E)||m.push(E);return m.includes(Et)||m.push(Et),m}class mf{constructor(){this.providerId="phone",this._delegate=new lo(Fg(X.Z.auth()))}static credential(f,m){return lo.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}mf.PHONE_SIGN_IN_METHOD=lo.PHONE_SIGN_IN_METHOD,mf.PROVIDER_ID=lo.PROVIDER_ID;const jg=j;class J0{constructor(f,m,E=X.Z.app()){var A;jg(null===(A=E.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new so(f,m,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function rs(y){y.INTERNAL.registerComponent(new ue.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),E=f.getProvider("auth");return new Ug(m,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:id,FacebookAuthProvider:Po,GithubAuthProvider:Zh,GoogleAuthProvider:sd,OAuthProvider:Ri,SAMLAuthProvider:Ar,PhoneAuthProvider:mf,PhoneMultiFactorGenerator:bg,RecaptchaVerifier:J0,TwitterAuthProvider:od,Auth:Ug,AuthCredential:Ei,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.14")}(X.Z)},8306:(Xe,we,R)=>{R.d(we,{y:()=>$});var c=R(2961),X=R(727),P=R(8822),ae=R(4671);var ue=R(2416),se=R(576),ce=R(2806);let $=(()=>{class Me{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const he=new Me;return he.source=this,he.operator=Ue,he}subscribe(Ue,he,Ce){const qe=function ze(Me){return Me&&Me instanceof c.Lv||function te(Me){return Me&&(0,se.m)(Me.next)&&(0,se.m)(Me.error)&&(0,se.m)(Me.complete)}(Me)&&(0,X.Nn)(Me)}(Ue)?Ue:new c.Hp(Ue,he,Ce);return(0,ce.x)(()=>{const{operator:Ye,source:Te}=this;qe.add(Ye?Ye.call(qe,Te):Te?this._subscribe(qe):this._trySubscribe(qe))}),qe}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(he){Ue.error(he)}}forEach(Ue,he){return new(he=B(he))((Ce,qe)=>{const Ye=new c.Hp({next:Te=>{try{Ue(Te)}catch(Ee){qe(Ee),Ye.unsubscribe()}},error:qe,complete:Ce});this.subscribe(Ye)})}_subscribe(Ue){var he;return null===(he=this.source)||void 0===he?void 0:he.subscribe(Ue)}[P.L](){return this}pipe(...Ue){return function pe(Me){return 0===Me.length?ae.y:1===Me.length?Me[0]:function(Ue){return Me.reduce((he,Ce)=>Ce(he),Ue)}}(Ue)(this)}toPromise(Ue){return new(Ue=B(Ue))((he,Ce)=>{let qe;this.subscribe(Ye=>qe=Ye,Ye=>Ce(Ye),()=>he(qe))})}}return Me.create=Ne=>new Me(Ne),Me})();function B(Me){var Ne;return null!==(Ne=null!=Me?Me:ue.v.Promise)&&void 0!==Ne?Ne:Promise}},7579:(Xe,we,R)=>{R.d(we,{x:()=>ue});var c=R(8306),X=R(727);const ae=(0,R(3888).d)(ce=>function(){ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=R(8737),pe=R(2806);let ue=(()=>{class ce extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(B){const te=new se(this,this);return te.operator=B,te}_throwIfClosed(){if(this.closed)throw new ae}next(B){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(B)}})}error(B){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=B;const{observers:te}=this;for(;te.length;)te.shift().error(B)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:B}=this;for(;B.length;)B.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var B;return(null===(B=this.observers)||void 0===B?void 0:B.length)>0}_trySubscribe(B){return this._throwIfClosed(),super._trySubscribe(B)}_subscribe(B){return this._throwIfClosed(),this._checkFinalizedStatuses(B),this._innerSubscribe(B)}_innerSubscribe(B){const{hasError:te,isStopped:ze,observers:Me}=this;return te||ze?X.Lc:(this.currentObservers=null,Me.push(B),new X.w0(()=>{this.currentObservers=null,(0,re.P)(Me,B)}))}_checkFinalizedStatuses(B){const{hasError:te,thrownError:ze,isStopped:Me}=this;te?B.error(ze):Me&&B.complete()}asObservable(){const B=new c.y;return B.source=this,B}}return ce.create=($,B)=>new se($,B),ce})();class se extends ue{constructor($,B){super(),this.destination=$,this.source=B}next($){var B,te;null===(te=null===(B=this.destination)||void 0===B?void 0:B.next)||void 0===te||te.call(B,$)}error($){var B,te;null===(te=null===(B=this.destination)||void 0===B?void 0:B.error)||void 0===te||te.call(B,$)}complete(){var $,B;null===(B=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===B||B.call($)}_subscribe($){var B,te;return null!==(te=null===(B=this.source)||void 0===B?void 0:B.subscribe($))&&void 0!==te?te:X.Lc}}},2961:(Xe,we,R)=>{R.d(we,{Hp:()=>Ue,Lv:()=>te});var c=R(576),X=R(727),P=R(2416),ae=R(7849);function re(){}const pe=ce("C",void 0,void 0);function ce(Te,Ee,De){return{kind:Te,value:Ee,error:De}}var $=R(3410),B=R(2806);class te extends X.w0{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,X.Nn)(Ee)&&Ee.add(this)):this.destination=Ye}static create(Ee,De,$e){return new Ue(Ee,De,$e)}next(Ee){this.isStopped?qe(function se(Te){return ce("N",Te,void 0)}(Ee),this):this._next(Ee)}error(Ee){this.isStopped?qe(function ue(Te){return ce("E",void 0,Te)}(Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?qe(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function Me(Te,Ee){return ze.call(Te,Ee)}class Ne{constructor(Ee){this.partialObserver=Ee}next(Ee){const{partialObserver:De}=this;if(De.next)try{De.next(Ee)}catch($e){he($e)}}error(Ee){const{partialObserver:De}=this;if(De.error)try{De.error(Ee)}catch($e){he($e)}else he(Ee)}complete(){const{partialObserver:Ee}=this;if(Ee.complete)try{Ee.complete()}catch(De){he(De)}}}class Ue extends te{constructor(Ee,De,$e){let je;if(super(),(0,c.m)(Ee)||!Ee)je={next:null!=Ee?Ee:void 0,error:null!=De?De:void 0,complete:null!=$e?$e:void 0};else{let j;this&&P.v.useDeprecatedNextContext?(j=Object.create(Ee),j.unsubscribe=()=>this.unsubscribe(),je={next:Ee.next&&Me(Ee.next,j),error:Ee.error&&Me(Ee.error,j),complete:Ee.complete&&Me(Ee.complete,j)}):je=Ee}this.destination=new Ne(je)}}function he(Te){P.v.useDeprecatedSynchronousErrorHandling?(0,B.O)(Te):(0,ae.h)(Te)}function qe(Te,Ee){const{onStoppedNotification:De}=P.v;De&&$.z.setTimeout(()=>De(Te,Ee))}const Ye={closed:!0,next:re,error:function Ce(Te){throw Te},complete:re}},727:(Xe,we,R)=>{R.d(we,{Lc:()=>pe,w0:()=>re,Nn:()=>ue});var c=R(576);const P=(0,R(3888).d)(ce=>function(B){ce(this),this.message=B?`${B.length} errors occurred during unsubscription:\n${B.map((te,ze)=>`${ze+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=B});var ae=R(8737);class re{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:B}=this;if(B)if(this._parentage=null,Array.isArray(B))for(const Me of B)Me.remove(this);else B.remove(this);const{initialTeardown:te}=this;if((0,c.m)(te))try{te()}catch(Me){$=Me instanceof P?Me.errors:[Me]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const Me of ze)try{se(Me)}catch(Ne){$=null!=$?$:[],Ne instanceof P?$=[...$,...Ne.errors]:$.push(Ne)}}if($)throw new P($)}}add($){var B;if($&&$!==this)if(this.closed)se($);else{if($ instanceof re){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(B=this._finalizers)&&void 0!==B?B:[]).push($)}}_hasParent($){const{_parentage:B}=this;return B===$||Array.isArray(B)&&B.includes($)}_addParent($){const{_parentage:B}=this;this._parentage=Array.isArray(B)?(B.push($),B):B?[B,$]:$}_removeParent($){const{_parentage:B}=this;B===$?this._parentage=null:Array.isArray(B)&&(0,ae.P)(B,$)}remove($){const{_finalizers:B}=this;B&&(0,ae.P)(B,$),$ instanceof re&&$._removeParent(this)}}re.EMPTY=(()=>{const ce=new re;return ce.closed=!0,ce})();const pe=re.EMPTY;function ue(ce){return ce instanceof re||ce&&"closed"in ce&&(0,c.m)(ce.remove)&&(0,c.m)(ce.add)&&(0,c.m)(ce.unsubscribe)}function se(ce){(0,c.m)(ce)?ce():ce.unsubscribe()}},2416:(Xe,we,R)=>{R.d(we,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Xe,we,R)=>{R.d(we,{E:()=>X});const X=new(R(8306).y)(re=>re.complete())},8996:(Xe,we,R)=>{R.d(we,{D:()=>Ee});var c=R(8421),X=R(5363),P=R(9468),pe=R(8306),se=R(2202),ce=R(576),$=R(9672);function te(De,$e){if(!De)throw new Error("Iterable cannot be null");return new pe.y(je=>{(0,$.f)(je,$e,()=>{const j=De[Symbol.asyncIterator]();(0,$.f)(je,$e,()=>{j.next().then(ve=>{ve.done?je.complete():je.next(ve.value)})},0,!0)})})}var ze=R(3670),Me=R(8239),Ne=R(1144),Ue=R(6495),he=R(2206),Ce=R(4532),qe=R(3260);function Ee(De,$e){return $e?function Te(De,$e){if(null!=De){if((0,ze.c)(De))return function ae(De,$e){return(0,c.Xf)(De).pipe((0,P.R)($e),(0,X.Q)($e))}(De,$e);if((0,Ne.z)(De))return function ue(De,$e){return new pe.y(je=>{let j=0;return $e.schedule(function(){j===De.length?je.complete():(je.next(De[j++]),je.closed||this.schedule())})})}(De,$e);if((0,Me.t)(De))return function re(De,$e){return(0,c.Xf)(De).pipe((0,P.R)($e),(0,X.Q)($e))}(De,$e);if((0,he.D)(De))return te(De,$e);if((0,Ue.T)(De))return function B(De,$e){return new pe.y(je=>{let j;return(0,$.f)(je,$e,()=>{j=De[se.h](),(0,$.f)(je,$e,()=>{let ve,W;try{({value:ve,done:W}=j.next())}catch(ie){return void je.error(ie)}W?je.complete():je.next(ve)},0,!0)}),()=>(0,ce.m)(null==j?void 0:j.return)&&j.return()})}(De,$e);if((0,qe.L)(De))return function Ye(De,$e){return te((0,qe.Q)(De),$e)}(De,$e)}throw(0,Ce.z)(De)}(De,$e):(0,c.Xf)(De)}},8421:(Xe,we,R)=>{R.d(we,{Xf:()=>ze});var c=R(655),X=R(1144),P=R(8239),ae=R(8306),re=R(3670),pe=R(2206),ue=R(4532),se=R(6495),ce=R(3260),$=R(576),B=R(7849),te=R(8822);function ze(Te){if(Te instanceof ae.y)return Te;if(null!=Te){if((0,re.c)(Te))return function Me(Te){return new ae.y(Ee=>{const De=Te[te.L]();if((0,$.m)(De.subscribe))return De.subscribe(Ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Te);if((0,X.z)(Te))return function Ne(Te){return new ae.y(Ee=>{for(let De=0;De<Te.length&&!Ee.closed;De++)Ee.next(Te[De]);Ee.complete()})}(Te);if((0,P.t)(Te))return function Ue(Te){return new ae.y(Ee=>{Te.then(De=>{Ee.closed||(Ee.next(De),Ee.complete())},De=>Ee.error(De)).then(null,B.h)})}(Te);if((0,pe.D)(Te))return Ce(Te);if((0,se.T)(Te))return function he(Te){return new ae.y(Ee=>{for(const De of Te)if(Ee.next(De),Ee.closed)return;Ee.complete()})}(Te);if((0,ce.L)(Te))return function qe(Te){return Ce((0,ce.Q)(Te))}(Te)}throw(0,ue.z)(Te)}function Ce(Te){return new ae.y(Ee=>{(function Ye(Te,Ee){var De,$e,je,j;return(0,c.mG)(this,void 0,void 0,function*(){try{for(De=(0,c.KL)(Te);!($e=yield De.next()).done;)if(Ee.next($e.value),Ee.closed)return}catch(ve){je={error:ve}}finally{try{$e&&!$e.done&&(j=De.return)&&(yield j.call(De))}finally{if(je)throw je.error}}Ee.complete()})})(Te,Ee).catch(De=>Ee.error(De))})}},6451:(Xe,we,R)=>{R.d(we,{T:()=>pe});var c=R(8189),X=R(8421),P=R(515),ae=R(7669),re=R(8996);function pe(...ue){const se=(0,ae.yG)(ue),ce=(0,ae._6)(ue,1/0),$=ue;return $.length?1===$.length?(0,X.Xf)($[0]):(0,c.J)(ce)((0,re.D)($,se)):P.E}},5403:(Xe,we,R)=>{R.d(we,{x:()=>X});var c=R(2961);function X(ae,re,pe,ue,se){return new P(ae,re,pe,ue,se)}class P extends c.Lv{constructor(re,pe,ue,se,ce,$){super(re),this.onFinalize=ce,this.shouldUnsubscribe=$,this._next=pe?function(B){try{pe(B)}catch(te){re.error(te)}}:super._next,this._error=se?function(B){try{se(B)}catch(te){re.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=ue?function(){try{ue()}catch(B){re.error(B)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},4004:(Xe,we,R)=>{R.d(we,{U:()=>P});var c=R(4482),X=R(5403);function P(ae,re){return(0,c.e)((pe,ue)=>{let se=0;pe.subscribe((0,X.x)(ue,ce=>{ue.next(ae.call(re,ce,se++))}))})}},8189:(Xe,we,R)=>{R.d(we,{J:()=>P});var c=R(5577),X=R(4671);function P(ae=1/0){return(0,c.z)(X.y,ae)}},5577:(Xe,we,R)=>{R.d(we,{z:()=>se});var c=R(4004),X=R(8421),P=R(4482),ae=R(9672),re=R(5403),ue=R(576);function se(ce,$,B=1/0){return(0,ue.m)($)?se((te,ze)=>(0,c.U)((Me,Ne)=>$(te,Me,ze,Ne))((0,X.Xf)(ce(te,ze))),B):("number"==typeof $&&(B=$),(0,P.e)((te,ze)=>function pe(ce,$,B,te,ze,Me,Ne,Ue){const he=[];let Ce=0,qe=0,Ye=!1;const Te=()=>{Ye&&!he.length&&!Ce&&$.complete()},Ee=$e=>Ce<te?De($e):he.push($e),De=$e=>{Me&&$.next($e),Ce++;let je=!1;(0,X.Xf)(B($e,qe++)).subscribe((0,re.x)($,j=>{null==ze||ze(j),Me?Ee(j):$.next(j)},()=>{je=!0},void 0,()=>{if(je)try{for(Ce--;he.length&&Ce<te;){const j=he.shift();Ne?(0,ae.f)($,Ne,()=>De(j)):De(j)}Te()}catch(j){$.error(j)}}))};return ce.subscribe((0,re.x)($,Ee,()=>{Ye=!0,Te()})),()=>{null==Ue||Ue()}}(te,ze,ce,B)))}},5363:(Xe,we,R)=>{R.d(we,{Q:()=>ae});var c=R(9672),X=R(4482),P=R(5403);function ae(re,pe=0){return(0,X.e)((ue,se)=>{ue.subscribe((0,P.x)(se,ce=>(0,c.f)(se,re,()=>se.next(ce),pe),()=>(0,c.f)(se,re,()=>se.complete(),pe),ce=>(0,c.f)(se,re,()=>se.error(ce),pe)))})}},3099:(Xe,we,R)=>{R.d(we,{B:()=>pe});var c=R(8996),X=R(5698),P=R(7579),ae=R(2961),re=R(4482);function pe(se={}){const{connector:ce=(()=>new P.x),resetOnError:$=!0,resetOnComplete:B=!0,resetOnRefCountZero:te=!0}=se;return ze=>{let Me=null,Ne=null,Ue=null,he=0,Ce=!1,qe=!1;const Ye=()=>{null==Ne||Ne.unsubscribe(),Ne=null},Te=()=>{Ye(),Me=Ue=null,Ce=qe=!1},Ee=()=>{const De=Me;Te(),null==De||De.unsubscribe()};return(0,re.e)((De,$e)=>{he++,!qe&&!Ce&&Ye();const je=Ue=null!=Ue?Ue:ce();$e.add(()=>{he--,0===he&&!qe&&!Ce&&(Ne=ue(Ee,te))}),je.subscribe($e),Me||(Me=new ae.Hp({next:j=>je.next(j),error:j=>{qe=!0,Ye(),Ne=ue(Te,$,j),je.error(j)},complete:()=>{Ce=!0,Ye(),Ne=ue(Te,B),je.complete()}}),(0,c.D)(De).subscribe(Me))})(ze)}}function ue(se,ce,...$){return!0===ce?(se(),null):!1===ce?null:ce(...$).pipe((0,X.q)(1)).subscribe(()=>se())}},9468:(Xe,we,R)=>{R.d(we,{R:()=>X});var c=R(4482);function X(P,ae=0){return(0,c.e)((re,pe)=>{pe.add(P.schedule(()=>re.subscribe(pe),ae))})}},5698:(Xe,we,R)=>{R.d(we,{q:()=>ae});var c=R(515),X=R(4482),P=R(5403);function ae(re){return re<=0?()=>c.E:(0,X.e)((pe,ue)=>{let se=0;pe.subscribe((0,P.x)(ue,ce=>{++se<=re&&(ue.next(ce),re<=se&&ue.complete())}))})}},8505:(Xe,we,R)=>{R.d(we,{b:()=>re});var c=R(576),X=R(4482),P=R(5403),ae=R(4671);function re(pe,ue,se){const ce=(0,c.m)(pe)||ue||se?{next:pe,error:ue,complete:se}:pe;return ce?(0,X.e)(($,B)=>{var te;null===(te=ce.subscribe)||void 0===te||te.call(ce);let ze=!0;$.subscribe((0,P.x)(B,Me=>{var Ne;null===(Ne=ce.next)||void 0===Ne||Ne.call(ce,Me),B.next(Me)},()=>{var Me;ze=!1,null===(Me=ce.complete)||void 0===Me||Me.call(ce),B.complete()},Me=>{var Ne;ze=!1,null===(Ne=ce.error)||void 0===Ne||Ne.call(ce,Me),B.error(Me)},()=>{var Me,Ne;ze&&(null===(Me=ce.unsubscribe)||void 0===Me||Me.call(ce)),null===(Ne=ce.finalize)||void 0===Ne||Ne.call(ce)}))}):ae.y}},4408:(Xe,we,R)=>{R.d(we,{o:()=>re});var c=R(727);class X extends c.w0{constructor(ue,se){super()}schedule(ue,se=0){return this}}const P={setInterval(pe,ue,...se){const{delegate:ce}=P;return(null==ce?void 0:ce.setInterval)?ce.setInterval(pe,ue,...se):setInterval(pe,ue,...se)},clearInterval(pe){const{delegate:ue}=P;return((null==ue?void 0:ue.clearInterval)||clearInterval)(pe)},delegate:void 0};var ae=R(8737);class re extends X{constructor(ue,se){super(ue,se),this.scheduler=ue,this.work=se,this.pending=!1}schedule(ue,se=0){if(this.closed)return this;this.state=ue;const ce=this.id,$=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId($,ce,se)),this.pending=!0,this.delay=se,this.id=this.id||this.requestAsyncId($,this.id,se),this}requestAsyncId(ue,se,ce=0){return P.setInterval(ue.flush.bind(ue,this),ce)}recycleAsyncId(ue,se,ce=0){if(null!=ce&&this.delay===ce&&!1===this.pending)return se;P.clearInterval(se)}execute(ue,se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ce=this._execute(ue,se);if(ce)return ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,se){let $,ce=!1;try{this.work(ue)}catch(B){ce=!0,$=B||new Error("Scheduled action threw falsy error")}if(ce)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:ue,scheduler:se}=this,{actions:ce}=se;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(ce,this),null!=ue&&(this.id=this.recycleAsyncId(se,ue,null)),this.delay=null,super.unsubscribe()}}}},7565:(Xe,we,R)=>{R.d(we,{v:()=>P});var c=R(6063);class X{constructor(re,pe=X.now){this.schedulerActionCtor=re,this.now=pe}schedule(re,pe=0,ue){return new this.schedulerActionCtor(this,re).schedule(ue,pe)}}X.now=c.l.now;class P extends X{constructor(re,pe=X.now){super(re,pe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(re){const{actions:pe}=this;if(this._active)return void pe.push(re);let ue;this._active=!0;do{if(ue=re.execute(re.state,re.delay))break}while(re=pe.shift());if(this._active=!1,ue){for(;re=pe.shift();)re.unsubscribe();throw ue}}}},4986:(Xe,we,R)=>{R.d(we,{z:()=>P});var c=R(4408);const P=new(R(7565).v)(c.o)},6063:(Xe,we,R)=>{R.d(we,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(Xe,we,R)=>{R.d(we,{z:()=>c});const c={setTimeout(X,P,...ae){const{delegate:re}=c;return(null==re?void 0:re.setTimeout)?re.setTimeout(X,P,...ae):setTimeout(X,P,...ae)},clearTimeout(X){const{delegate:P}=c;return((null==P?void 0:P.clearTimeout)||clearTimeout)(X)},delegate:void 0}},2202:(Xe,we,R)=>{R.d(we,{h:()=>X});const X=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Xe,we,R)=>{R.d(we,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Xe,we,R)=>{R.d(we,{_6:()=>pe,jO:()=>ae,yG:()=>re});var c=R(576);function P(ue){return ue[ue.length-1]}function ae(ue){return(0,c.m)(P(ue))?ue.pop():void 0}function re(ue){return function X(ue){return ue&&(0,c.m)(ue.schedule)}(P(ue))?ue.pop():void 0}function pe(ue,se){return"number"==typeof P(ue)?ue.pop():se}},8737:(Xe,we,R)=>{function c(X,P){if(X){const ae=X.indexOf(P);0<=ae&&X.splice(ae,1)}}R.d(we,{P:()=>c})},3888:(Xe,we,R)=>{function c(X){const ae=X(re=>{Error.call(re),re.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}R.d(we,{d:()=>c})},2806:(Xe,we,R)=>{R.d(we,{x:()=>P,O:()=>ae});var c=R(2416);let X=null;function P(re){if(c.v.useDeprecatedSynchronousErrorHandling){const pe=!X;if(pe&&(X={errorThrown:!1,error:null}),re(),pe){const{errorThrown:ue,error:se}=X;if(X=null,ue)throw se}}else re()}function ae(re){c.v.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=re)}},9672:(Xe,we,R)=>{function c(X,P,ae,re=0,pe=!1){const ue=P.schedule(function(){ae(),pe?X.add(this.schedule(null,re)):this.unsubscribe()},re);if(X.add(ue),!pe)return ue}R.d(we,{f:()=>c})},4671:(Xe,we,R)=>{function c(X){return X}R.d(we,{y:()=>c})},1144:(Xe,we,R)=>{R.d(we,{z:()=>c});const c=X=>X&&"number"==typeof X.length&&"function"!=typeof X},2206:(Xe,we,R)=>{R.d(we,{D:()=>X});var c=R(576);function X(P){return Symbol.asyncIterator&&(0,c.m)(null==P?void 0:P[Symbol.asyncIterator])}},576:(Xe,we,R)=>{function c(X){return"function"==typeof X}R.d(we,{m:()=>c})},3670:(Xe,we,R)=>{R.d(we,{c:()=>P});var c=R(8822),X=R(576);function P(ae){return(0,X.m)(ae[c.L])}},6495:(Xe,we,R)=>{R.d(we,{T:()=>P});var c=R(2202),X=R(576);function P(ae){return(0,X.m)(null==ae?void 0:ae[c.h])}},8239:(Xe,we,R)=>{R.d(we,{t:()=>X});var c=R(576);function X(P){return(0,c.m)(null==P?void 0:P.then)}},3260:(Xe,we,R)=>{R.d(we,{Q:()=>P,L:()=>ae});var c=R(655),X=R(576);function P(re){return(0,c.FC)(this,arguments,function*(){const ue=re.getReader();try{for(;;){const{value:se,done:ce}=yield(0,c.qq)(ue.read());if(ce)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(se)}}finally{ue.releaseLock()}})}function ae(re){return(0,X.m)(null==re?void 0:re.getReader)}},4482:(Xe,we,R)=>{R.d(we,{A:()=>X,e:()=>P});var c=R(576);function X(ae){return(0,c.m)(null==ae?void 0:ae.lift)}function P(ae){return re=>{if(X(re))return re.lift(function(pe){try{return ae(pe,this)}catch(ue){this.error(ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(Xe,we,R)=>{R.d(we,{h:()=>P});var c=R(2416),X=R(3410);function P(ae){X.z.setTimeout(()=>{const{onUnhandledError:re}=c.v;if(!re)throw ae;re(ae)})}},4532:(Xe,we,R)=>{function c(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(we,{z:()=>c})},655:(Xe,we,R)=>{function ae(W,ie){var ee={};for(var me in W)Object.prototype.hasOwnProperty.call(W,me)&&ie.indexOf(me)<0&&(ee[me]=W[me]);if(null!=W&&"function"==typeof Object.getOwnPropertySymbols){var oe=0;for(me=Object.getOwnPropertySymbols(W);oe<me.length;oe++)ie.indexOf(me[oe])<0&&Object.prototype.propertyIsEnumerable.call(W,me[oe])&&(ee[me[oe]]=W[me[oe]])}return ee}function se(W,ie,ee,me){return new(ee||(ee=Promise))(function(Re,lt){function Ht(Qt){try{Qe(me.next(Qt))}catch(Mn){lt(Mn)}}function Bt(Qt){try{Qe(me.throw(Qt))}catch(Mn){lt(Mn)}}function Qe(Qt){Qt.done?Re(Qt.value):function oe(Re){return Re instanceof ee?Re:new ee(function(lt){lt(Re)})}(Qt.value).then(Ht,Bt)}Qe((me=me.apply(W,ie||[])).next())})}function he(W){return this instanceof he?(this.v=W,this):new he(W)}function Ce(W,ie,ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,me=ee.apply(W,ie||[]),Re=[];return oe={},lt("next"),lt("throw"),lt("return"),oe[Symbol.asyncIterator]=function(){return this},oe;function lt(en){me[en]&&(oe[en]=function(Kt){return new Promise(function(Dr,qt){Re.push([en,Kt,Dr,qt])>1||Ht(en,Kt)})})}function Ht(en,Kt){try{!function Bt(en){en.value instanceof he?Promise.resolve(en.value.v).then(Qe,Qt):Mn(Re[0][2],en)}(me[en](Kt))}catch(Dr){Mn(Re[0][3],Dr)}}function Qe(en){Ht("next",en)}function Qt(en){Ht("throw",en)}function Mn(en,Kt){en(Kt),Re.shift(),Re.length&&Ht(Re[0][0],Re[0][1])}}function Ye(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ee,ie=W[Symbol.asyncIterator];return ie?ie.call(W):(W=function te(W){var ie="function"==typeof Symbol&&Symbol.iterator,ee=ie&&W[ie],me=0;if(ee)return ee.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&me>=W.length&&(W=void 0),{value:W&&W[me++],done:!W}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),ee={},me("next"),me("throw"),me("return"),ee[Symbol.asyncIterator]=function(){return this},ee);function me(Re){ee[Re]=W[Re]&&function(lt){return new Promise(function(Ht,Bt){!function oe(Re,lt,Ht,Bt){Promise.resolve(Bt).then(function(Qe){Re({value:Qe,done:Ht})},lt)}(Ht,Bt,(lt=W[Re](lt)).done,lt.value)})}}}R.d(we,{_T:()=>ae,mG:()=>se,qq:()=>he,FC:()=>Ce,KL:()=>Ye})},5e3:(Xe,we,R)=>{R.d(we,{deG:()=>hg,tb:()=>mu,AFp:()=>uy,ip1:()=>ay,CZH:()=>qv,hGG:()=>dT,z2F:()=>xp,sBO:()=>nT,Sil:()=>Kv,_Vd:()=>pu,EJc:()=>Rh,SBq:()=>Mc,qLn:()=>Nd,vpe:()=>$s,tBr:()=>zr,XFs:()=>yt,OlP:()=>gn,zs3:()=>ks,ZZ4:()=>Ph,aQg:()=>Lp,soG:()=>cy,YKP:()=>Ih,h0i:()=>Oc,PXZ:()=>o0,R0b:()=>Io,FiY:()=>ai,Lbi:()=>jc,g9A:()=>ly,Qsj:()=>fb,FYo:()=>hb,JOm:()=>A,tp0:()=>li,Rgc:()=>kc,dDg:()=>sD,q4F:()=>gb,GfV:()=>cl,s_b:()=>Ep,ifc:()=>Gt,eFA:()=>uD,G48:()=>yu,Gpc:()=>B,X6Q:()=>l0,_c5:()=>cT,VLi:()=>t0,c2e:()=>$c,zSh:()=>x_,wAp:()=>Be,vHH:()=>Ne,cg1:()=>Nm,kL8:()=>Pm,dqk:()=>jt,sIi:()=>nc,CqO:()=>He,QGY:()=>pc,F4k:()=>q_,RDi:()=>Dl,AaK:()=>se,qOj:()=>L_,TTD:()=>Ri,_Bn:()=>fu,xp6:()=>cE,uIk:()=>Vf,ekj:()=>lu,Suo:()=>Rb,Xpm:()=>ht,lG2:()=>Eu,Yz7:()=>Kt,cJS:()=>qt,oAB:()=>Cr,Yjl:()=>Da,Y36:()=>jn,_UZ:()=>uu,qZA:()=>Sn,TgZ:()=>Eo,n5z:()=>Fu,LFG:()=>Ve,$8M:()=>io,$Z:()=>hc,NdJ:()=>pa,CRH:()=>Pb,kcU:()=>Sy,O4$:()=>Ay,ALo:()=>Cb,lcZ:()=>Sv,Q6J:()=>G_,s9C:()=>zf,iGM:()=>Ym,LSH:()=>Ku,YNc:()=>sw,_uU:()=>vc,Oqu:()=>iv,hij:()=>lh});var c=R(7579),X=R(727),P=R(8306),ae=R(6451),re=R(3099);function pe(i){for(let o in i)if(i[o]===pe)return o;throw Error("Could not find renamed property on target object.")}function ue(i,o){for(const a in o)o.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=o[a])}function se(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(se).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function ce(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const $=pe({__forward_ref__:pe});function B(i){return i.__forward_ref__=B,i.toString=function(){return se(this())},i}function te(i){return ze(i)?i():i}function ze(i){return"function"==typeof i&&i.hasOwnProperty($)&&i.__forward_ref__===B}class Ne extends Error{constructor(o,a){super(function Ue(i,o){return`NG0${Math.abs(i)}${o?": "+o:""}`}(o,a)),this.code=o}}function he(i){return"string"==typeof i?i:null==i?"":String(i)}function Ce(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():he(i)}function Ee(i,o){const a=o?` in ${o}`:"";throw new Ne(-201,`No provider for ${Ce(i)} found${a}`)}function Bt(i,o){null==i&&function Qe(i,o,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}(o,i,null,"!=")}function Kt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function qt(i){return{providers:i.providers||[],imports:i.imports||[]}}function Vt(i){return Zi(i,Ti)||Zi(i,Qr)}function Zi(i,o){return i.hasOwnProperty(o)?i[o]:null}function Ir(i){return i&&(i.hasOwnProperty(ys)||i.hasOwnProperty(Ai))?i[ys]:null}const Ti=pe({\u0275prov:pe}),ys=pe({\u0275inj:pe}),Qr=pe({ngInjectableDef:pe}),Ai=pe({ngInjectorDef:pe});var yt=(()=>((yt=yt||{})[yt.Default=0]="Default",yt[yt.Host=1]="Host",yt[yt.Self=2]="Self",yt[yt.SkipSelf=4]="SkipSelf",yt[yt.Optional=8]="Optional",yt))();let Jr;function xn(i){const o=Jr;return Jr=i,o}function zs(i,o,a){const l=Vt(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&yt.Optional?null:void 0!==o?o:void Ee(se(i),"Injector")}function Wn(i){return{toString:i}.toString()}var Ln=(()=>((Ln=Ln||{})[Ln.OnPush=0]="OnPush",Ln[Ln.Default=1]="Default",Ln))(),Gt=(()=>{return(i=Gt||(Gt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Gt;var i})();const it="undefined"!=typeof globalThis&&globalThis,vt="undefined"!=typeof window&&window,gr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,jt=it||"undefined"!=typeof global&&global||vt||gr,yr={},V=[],G=pe({\u0275cmp:pe}),z=pe({\u0275dir:pe}),Ie=pe({\u0275pipe:pe}),H=pe({\u0275mod:pe}),J=pe({\u0275fac:pe}),Oe=pe({__NG_ELEMENT_ID__:pe});let Je=0;function ht(i){return Wn(()=>{const a={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Ln.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||V,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Gt.Emulated,id:"c",styles:i.styles||V,_:null,setInput:null,schemas:i.schemas||null,tView:null},h=i.directives,g=i.features,_=i.pipes;return l.id+=Je++,l.inputs=ba(i.inputs,a),l.outputs=ba(i.outputs),g&&g.forEach(w=>w(l)),l.directiveDefs=h?()=>("function"==typeof h?h():h).map(cn):null,l.pipeDefs=_?()=>("function"==typeof _?_():_).map(Et):null,l})}function cn(i){return Hn(i)||function Tr(i){return i[z]||null}(i)}function Et(i){return function Wi(i){return i[Ie]||null}(i)}const $n={};function Cr(i){return Wn(()=>{const o={type:i.type,bootstrap:i.bootstrap||V,declarations:i.declarations||V,imports:i.imports||V,exports:i.exports||V,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&($n[i.id]=i.type),o})}function ba(i,o){if(null==i)return yr;const a={};for(const l in i)if(i.hasOwnProperty(l)){let h=i[l],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),a[h]=l,o&&(o[h]=g)}return a}const Eu=ht;function Da(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Hn(i){return i[G]||null}function Gn(i,o){const a=i[H]||null;if(!a&&!0===o)throw new Error(`Type ${se(i)} does not have '\u0275mod' property.`);return a}function Hr(i){return Array.isArray(i)&&"object"==typeof i[1]}function xi(i){return Array.isArray(i)&&!0===i[1]}function Du(i){return 0!=(8&i.flags)}function Qc(i){return 2==(2&i.flags)}function Oi(i){return 1==(1&i.flags)}function Ni(i){return null!==i.template}function vl(i){return 0!=(512&i[2])}function vr(i,o){return i.hasOwnProperty(J)?i[J]:null}class Ks{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function Ri(){return Po}function Po(i){return i.type.prototype.ngOnChanges&&(i.setInput=Zh),sd}function sd(){const i=Ys(this),o=null==i?void 0:i.current;if(o){const a=i.previous;if(a===yr)i.previous=o;else for(let l in o)a[l]=o[l];i.current=null,this.ngOnChanges(o)}}function Zh(i,o,a,l){const h=Ys(i)||function ko(i,o){return i[nn]=o}(i,{previous:yr,current:null}),g=h.current||(h.current={}),_=h.previous,w=this.declaredInputs[a],b=_[w];g[w]=new Ks(b&&b.currentValue,o,_===yr),i[l]=o}Ri.ngInherit=!0;const nn="__ngSimpleChanges__";function Ys(i){return i[nn]||null}let Lo;function Dl(i){Lo=i}function rn(i){return!!i.listen}const Sa={createRenderer:(i,o)=>function Pi(){return void 0!==Lo?Lo:"undefined"!=typeof document?document:void 0}()};function Yt(i){for(;Array.isArray(i);)i=i[0];return i}function Is(i,o){return Yt(o[i])}function or(i,o){return Yt(o[i.index])}function _n(i,o){return i.data[o]}function ar(i,o){const a=o[i];return Hr(a)?a:a[0]}function Js(i){return 4==(4&i[2])}function Yi(i){return 128==(128&i[2])}function wi(i,o){return null==o?null:i[o]}function Fi(i){i[18]=0}function Vo(i,o){i[5]+=o;let a=i,l=i[3];for(;null!==l&&(1===o&&1===a[5]||-1===o&&0===a[5]);)l[5]+=o,a=l,l=l[3]}const ft={lFrame:ud(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Na(){return ft.bindingsEnabled}function Ae(){return ft.lFrame.lView}function Ft(){return ft.lFrame.tView}function hn(){let i=Bo();for(;null!==i&&64===i.type;)i=i.parent;return i}function Bo(){return ft.lFrame.currentTNode}function ni(i,o){const a=ft.lFrame;a.currentTNode=i,a.isParent=o}function Ra(){return ft.lFrame.isParent}function Pa(){return ft.isInCheckNoChangesMode}function Su(i){ft.isInCheckNoChangesMode=i}function Cs(){return ft.lFrame.bindingIndex++}function Ol(i,o){const a=ft.lFrame;a.bindingIndex=a.bindingRootIndex=i,Fa(o)}function Fa(i){ft.lFrame.currentDirectiveIndex=i}function Nl(){return ft.lFrame.currentQueryIndex}function La(i){ft.lFrame.currentQueryIndex=i}function lg(i){const o=i[1];return 2===o.type?o.declTNode:1===o.type?i[6]:null}function Rl(i,o,a){if(a&yt.SkipSelf){let h=o,g=i;for(;!(h=h.parent,null!==h||a&yt.Host||(h=lg(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,i=g}const l=ft.lFrame=Va();return l.currentTNode=o,l.lView=i,!0}function $o(i){const o=Va(),a=i[1];ft.lFrame=o,o.currentTNode=a.firstChild,o.lView=i,o.tView=a,o.contextLView=i,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Va(){const i=ft.lFrame,o=null===i?null:i.child;return null===o?ud(i):o}function ud(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function Ho(){const i=ft.lFrame;return ft.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const ld=Ho;function Go(){const i=Ho();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Kn(){return ft.lFrame.selectedIndex}function Vi(i){ft.lFrame.selectedIndex=i}function Cn(){const i=ft.lFrame;return _n(i.tView,i.selectedIndex)}function Ay(){ft.lFrame.currentNamespace="svg"}function Sy(){!function My(){ft.lFrame.currentNamespace=null}()}function dd(i,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const g=i.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:w,ngAfterViewInit:b,ngAfterViewChecked:T,ngOnDestroy:M}=g;_&&(i.contentHooks||(i.contentHooks=[])).push(-a,_),w&&((i.contentHooks||(i.contentHooks=[])).push(a,w),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,w)),b&&(i.viewHooks||(i.viewHooks=[])).push(-a,b),T&&((i.viewHooks||(i.viewHooks=[])).push(a,T),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,T)),null!=M&&(i.destroyHooks||(i.destroyHooks=[])).push(a,M)}}function Ua(i,o,a){Yn(i,o,3,a)}function Ji(i,o,a,l){(3&i[2])===a&&Yn(i,o,a,l)}function zo(i,o){let a=i[2];(3&a)===o&&(a&=2047,a+=1,i[2]=a)}function Yn(i,o,a,l){const g=null!=l?l:-1,_=o.length-1;let w=0;for(let b=void 0!==l?65535&i[18]:0;b<_;b++)if("number"==typeof o[b+1]){if(w=o[b],null!=l&&w>=l)break}else o[b]<0&&(i[18]+=65536),(w<g||-1==g)&&(Qh(i,a,o,b),i[18]=(4294901760&i[18])+b+2),b++}function Qh(i,o,a,l){const h=a[l]<0,g=a[l+1],w=i[h?-a[l]:a[l]];if(h){if(i[2]>>11<i[18]>>16&&(3&i[2])===o){i[2]+=2048;try{g.call(w)}finally{}}}else try{g.call(w)}finally{}}class Ou{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function et(i,o,a){const l=rn(i);let h=0;for(;h<a.length;){const g=a[h];if("number"==typeof g){if(0!==g)break;h++;const _=a[h++],w=a[h++],b=a[h++];l?i.setAttribute(o,w,b,_):o.setAttributeNS(_,w,b)}else{const _=g,w=a[++h];Mr(_)?l&&i.setProperty(o,_,w):l?i.setAttribute(o,_,w):o.setAttribute(_,w),h++}}return h}function ri(i){return 3===i||4===i||6===i}function Mr(i){return 64===i.charCodeAt(0)}function Un(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const h=o[l];"number"==typeof h?a=h:0===a||Pl(i,a,h,null,-1===a||2===a?o[++l]:null)}}return i}function Pl(i,o,a,l,h){let g=0,_=i.length;if(-1===o)_=-1;else for(;g<i.length;){const w=i[g++];if("number"==typeof w){if(w===o){_=-1;break}if(w>o){_=g-1;break}}}for(;g<i.length;){const w=i[g];if("number"==typeof w)break;if(w===a){if(null===l)return void(null!==h&&(i[g+1]=h));if(l===i[g+1])return void(i[g+2]=h)}g++,null!==l&&g++,null!==h&&g++}-1!==_&&(i.splice(_,0,o),g=_+1),i.splice(g++,0,a),null!==l&&i.splice(g++,0,l),null!==h&&i.splice(g++,0,h)}function pd(i){return-1!==i}function Ui(i){return 32767&i}function an(i,o){let a=function kl(i){return i>>16}(i),l=o;for(;a>0;)l=l[15],a--;return l}let ja=!0;function Di(i){const o=ja;return ja=i,o}let md=0;function Pn(i,o){const a=Zo(i,o);if(-1!==a)return a;const l=o[1];l.firstCreatePass&&(i.injectorIndex=o.length,qo(l.data,i),qo(o,null),qo(l.blueprint,null));const h=Ts(i,o),g=i.injectorIndex;if(pd(h)){const _=Ui(h),w=an(h,o),b=w[1].data;for(let T=0;T<8;T++)o[g+T]=w[_+T]|b[_+T]}return o[g+8]=h,g}function qo(i,o){i.push(0,0,0,0,0,0,0,0,o)}function Zo(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function Ts(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,h=o;for(;null!==h;){const g=h[1],_=g.type;if(l=2===_?g.declTNode:1===_?h[6]:null,null===l)return-1;if(a++,h=h[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function ur(i,o,a){!function Fl(i,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(Oe)&&(l=a[Oe]),null==l&&(l=a[Oe]=md++);const h=255&l;o.data[i+(h>>5)]|=1<<h}(i,o,a)}function Bi(i,o,a){if(a&yt.Optional)return i;Ee(o,"NodeInjector")}function Wo(i,o,a,l){if(a&yt.Optional&&void 0===l&&(l=null),0==(a&(yt.Self|yt.Host))){const h=i[9],g=xn(void 0);try{return h?h.get(o,l,a&yt.Optional):zs(o,l,a&yt.Optional)}finally{xn(g)}}return Bi(l,o,a)}function As(i,o,a,l=yt.Default,h){if(null!==i){const g=function $a(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(Oe)?i[Oe]:void 0;return"number"==typeof o?o>=0?255&o:no:o}(a);if("function"==typeof g){if(!Rl(o,i,l))return l&yt.Host?Bi(h,a,l):Wo(o,a,l,h);try{const _=g(l);if(null!=_||l&yt.Optional)return _;Ee(a)}finally{ld()}}else if("number"==typeof g){let _=null,w=Zo(i,o),b=-1,T=l&yt.Host?o[16][6]:null;for((-1===w||l&yt.SkipSelf)&&(b=-1===w?Ts(i,o):o[w+8],-1!==b&&lr(l,!1)?(_=o[1],w=Ui(b),o=an(b,o)):w=-1);-1!==w;){const M=o[1];if(Ss(g,w,M.data)){const k=Yo(w,o,a,_,l,T);if(k!==Ko)return k}b=o[w+8],-1!==b&&lr(l,o[1].data[w+8]===T)&&Ss(g,w,o)?(_=M,w=Ui(b),o=an(b,o)):w=-1}}}return Wo(o,a,l,h)}const Ko={};function no(){return new ro(hn(),Ae())}function Yo(i,o,a,l,h,g){const _=o[1],w=_.data[i+8],M=Qo(w,_,a,null==l?Qc(w)&&ja:l!=_&&0!=(3&w.type),h&yt.Host&&g===w);return null!==M?Jo(o,_,M,w):Ko}function Qo(i,o,a,l,h){const g=i.providerIndexes,_=o.data,w=1048575&g,b=i.directiveStart,M=g>>20,U=h?w+M:i.directiveEnd;for(let Q=l?w:w+M;Q<U;Q++){const _e=_[Q];if(Q<b&&a===_e||Q>=b&&_e.type===a)return Q}if(h){const Q=_[b];if(Q&&Ni(Q)&&Q.type===a)return b}return null}function Jo(i,o,a,l){let h=i[a];const g=o.data;if(function hd(i){return i instanceof Ou}(h)){const _=h;_.resolving&&function qe(i,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new Ne(-200,`Circular dependency in DI detected for ${i}${a}`)}(Ce(g[a]));const w=Di(_.canSeeViewProviders);_.resolving=!0;const b=_.injectImpl?xn(_.injectImpl):null;Rl(i,l,yt.Default);try{h=i[a]=_.factory(void 0,g,i,l),o.firstCreatePass&&a>=l.directiveStart&&function cg(i,o,a){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(l){const _=Po(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,_)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,h),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,g))}(a,g[a],o)}finally{null!==b&&xn(b),Di(w),_.resolving=!1,ld()}}return h}function Ss(i,o,a){return!!(a[o+(i>>5)]&1<<i)}function lr(i,o){return!(i&yt.Self||i&yt.Host&&o)}class ro{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return As(this._tNode,this._lView,o,l,a)}}function Fu(i){return Wn(()=>{const o=i.prototype.constructor,a=o[J]||pn(o),l=Object.prototype;let h=Object.getPrototypeOf(i.prototype).constructor;for(;h&&h!==l;){const g=h[J]||pn(h);if(g&&g!==a)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function pn(i){return ze(i)?()=>{const o=pn(te(i));return o&&o()}:vr(i)}function io(i){return function ku(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const a=i.attrs;if(a){const l=a.length;let h=0;for(;h<l;){const g=a[h];if(ri(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<l&&"string"==typeof a[h];)h++;else{if(g===o)return a[h+1];h+=2}}}return null}(hn(),i)}const Xi="__parameters__";function Tn(i,o,a){return Wn(()=>{const l=function ii(i){return function(...a){if(i){const l=i(...a);for(const h in l)this[h]=l[h]}}}(o);function h(...g){if(this instanceof h)return l.apply(this,g),this;const _=new h(...g);return w.annotation=_,w;function w(b,T,M){const k=b.hasOwnProperty(Xi)?b[Xi]:Object.defineProperty(b,Xi,{value:[]})[Xi];for(;k.length<=M;)k.push(null);return(k[M]=k[M]||[]).push(_),b}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=i,h.annotationCls=h,h})}class gn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Kt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const hg=new gn("AnalyzeForEntryComponents");function si(i,o){void 0===o&&(o=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(o===i&&(o=i.slice(0,a)),si(l,o)):o!==i&&o.push(l)}return o}function oi(i,o){i.forEach(a=>Array.isArray(a)?oi(a,o):o(a))}function ea(i,o,a){o>=i.length?i.push(a):i.splice(o,0,a)}function ao(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function Qn(i,o,a){let l=xs(i,o);return l>=0?i[1|l]=a:(l=~l,function es(i,o,a,l){let h=i.length;if(h==o)i.push(a,l);else if(1===h)i.push(l,i[0]),i[0]=a;else{for(h--,i.push(i[h-1],i[h]);h>o;)i[h]=i[h-2],h--;i[o]=a,i[o+1]=l}}(i,l,o,a)),l}function za(i,o){const a=xs(i,o);if(a>=0)return i[1|a]}function xs(i,o){return function _d(i,o,a){let l=0,h=i.length>>a;for(;h!==l;){const g=l+(h-l>>1),_=i[g<<a];if(o===_)return g<<a;_>o?h=g:l=g+1}return~(h<<a)}(i,o,1)}const na={},ra="__NG_DI_FLAG__",co="ngTempTokenPath",I=/\n/gm,O="__source",F=pe({provide:String,useValue:pe});let Y;function ne(i){const o=Y;return Y=i,o}function ge(i,o=yt.Default){if(void 0===Y)throw new Ne(203,"");return null===Y?zs(i,void 0,o):Y.get(i,o&yt.Optional?null:void 0,o)}function Ve(i,o=yt.Default){return(function In(){return Jr}()||ge)(te(i),o)}const dt=Ve;function $t(i){const o=[];for(let a=0;a<i.length;a++){const l=te(i[a]);if(Array.isArray(l)){if(0===l.length)throw new Ne(900,"");let h,g=yt.Default;for(let _=0;_<l.length;_++){const w=l[_],b=Er(w);"number"==typeof b?-1===b?h=w.token:g|=b:h=w}o.push(Ve(h,g))}else o.push(Ve(l))}return o}function wt(i,o){return i[ra]=o,i.prototype[ra]=o,i}function Er(i){return i[ra]}const zr=wt(Tn("Inject",i=>({token:i})),-1),ai=wt(Tn("Optional"),8),li=wt(Tn("SkipSelf"),4);class Id{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function sa(i){return i instanceof Id?i.changingThisBreaksApplicationSecurity:i}const Ad=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Tg=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var zt=(()=>((zt=zt||{})[zt.NONE=0]="NONE",zt[zt.HTML=1]="HTML",zt[zt.STYLE=2]="STYLE",zt[zt.SCRIPT=3]="SCRIPT",zt[zt.URL=4]="URL",zt[zt.RESOURCE_URL=5]="RESOURCE_URL",zt))();function Ku(i){const o=function oa(){const i=Ae();return i&&i[12]}();return o?o.sanitize(zt.URL,i)||"":function Ns(i,o){const a=function Hl(i){return i instanceof Id&&i.getTypeName()||null}(i);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}(i,"URL")?sa(i):function Rs(i){return(i=String(i)).match(Ad)||i.match(Tg)?i:"unsafe:"+i}(he(i))}const hf="__ngContext__";function dr(i,o){i[hf]=o}function Od(i){const o=function Ja(i){return i[hf]||null}(i);return o?Array.isArray(o)?o:o.lView:null}function di(i){return i.ngOriginalError}function Ky(i,...o){i.error(...o)}class Nd{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),l=function Fg(i){return i&&i.ngErrorLogger||Ky}(o);l(this._console,"ERROR",o),a&&l(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&di(o);for(;a&&di(a);)a=di(a);return a||null}}const Qy=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(jt))();function rs(i){return i instanceof Function?i():i}var A=(()=>((A=A||{})[A.Important=1]="Important",A[A.DashCase=2]="DashCase",A))();function Z(i,o){return undefined(i,o)}function We(i){const o=i[3];return xi(o)?o[3]:o}function An(i){return Wl(i[13])}function fi(i){return Wl(i[4])}function Wl(i){for(;null!==i&&!xi(i);)i=i[4];return i}function aa(i,o,a,l,h){if(null!=l){let g,_=!1;xi(l)?g=l:Hr(l)&&(_=!0,l=l[0]);const w=Yt(l);0===i&&null!==a?null==h?n_(o,a,w):is(o,a,w,h||null,!0):1===i&&null!==a?is(o,a,w,h||null,!0):2===i?function o_(i,o,a){const l=qn(i,o);l&&function yI(i,o,a,l){rn(i)?i.removeChild(o,a,l):o.removeChild(a)}(i,l,o,a)}(o,w,_):3===i&&o.destroyNode(w),null!=g&&function hr(i,o,a,l,h){const g=a[7];g!==Yt(a)&&aa(o,i,l,g,h);for(let w=10;w<a.length;w++){const b=a[w];Gg(b[1],b,i,o,l,g)}}(o,i,g,a,h)}}function kd(i,o,a){if(rn(i))return i.createElement(o,a);{const l=null!==a?function bl(i){const o=i.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(a):null;return null===l?i.createElement(o):i.createElementNS(l,o)}}function X0(i,o){const a=i[9],l=a.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,Vo(h,-1)),a.splice(l,1)}function Xy(i,o){if(i.length<=10)return;const a=10+o,l=i[a];if(l){const h=l[17];null!==h&&h!==i&&X0(h,l),o>0&&(i[a-1][4]=l[4]);const g=ao(i,10+o);!function Nr(i,o){Gg(i,o,o[11],2,null,null),o[0]=null,o[6]=null}(l[1],l);const _=g[19];null!==_&&_.detachView(g[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function e_(i,o){if(!(256&o[2])){const a=o[11];rn(a)&&a.destroyNode&&Gg(i,o,a,3,null,null),function mo(i){let o=i[13];if(!o)return t_(i[1],i);for(;o;){let a=null;if(Hr(o))a=o[13];else{const l=o[10];l&&(a=l)}if(!a){for(;o&&!o[4]&&o!==i;)Hr(o)&&t_(o[1],o),o=o[3];null===o&&(o=i),Hr(o)&&t_(o[1],o),a=o&&o[4]}o=a}}(o)}}function t_(i,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function tE(i,o){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const h=o[a[l]];if(!(h instanceof Ou)){const g=a[l+1];if(Array.isArray(g))for(let _=0;_<g.length;_+=2){const w=h[g[_]],b=g[_+1];try{b.call(w)}finally{}}else try{g.call(h)}finally{}}}}(i,o),function eE(i,o){const a=i.cleanup,l=o[7];let h=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const _=a[g+1],w="function"==typeof _?_(o):Yt(o[_]),b=l[h=a[g+2]],T=a[g+3];"boolean"==typeof T?w.removeEventListener(a[g],b,T):T>=0?l[h=T]():l[h=-T].unsubscribe(),g+=2}else{const _=l[h=a[g+1]];a[g].call(_)}if(null!==l){for(let g=h+1;g<l.length;g++)l[g]();o[7]=null}}(i,o),1===o[1].type&&rn(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&xi(o[3])){a!==o[3]&&X0(a,o);const l=o[19];null!==l&&l.detachView(i)}}}function $g(i,o,a){return function mI(i,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[0];if(2&l.flags){const h=i.data[l.directiveStart].encapsulation;if(h===Gt.None||h===Gt.Emulated)return null}return or(l,a)}(i,o.parent,a)}function is(i,o,a,l,h){rn(i)?i.insertBefore(o,a,l,h):o.insertBefore(a,l,h)}function n_(i,o,a){rn(i)?i.appendChild(o,a):o.appendChild(a)}function nE(i,o,a,l,h){null!==l?is(i,o,a,l,h):n_(i,o,a)}function qn(i,o){return rn(i)?i.parentNode(o):o.parentNode}let r_=function iE(i,o,a){return 40&i.type?or(i,a):null};function Hg(i,o,a,l){const h=$g(i,l,o),g=o[11],w=function rE(i,o,a){return r_(i,o,a)}(l.parent||o[6],l,o);if(null!=h)if(Array.isArray(a))for(let b=0;b<a.length;b++)nE(g,h,a[b],w,!1);else nE(g,h,a,w,!1)}function Fd(i,o){if(null!==o){const a=o.type;if(3&a)return or(o,i);if(4&a)return s_(-1,i[o.index]);if(8&a){const l=o.child;if(null!==l)return Fd(i,l);{const h=i[o.index];return xi(h)?s_(-1,h):Yt(h)}}if(32&a)return Z(o,i)()||Yt(i[o.index]);{const l=oE(i,o);return null!==l?Array.isArray(l)?l[0]:Fd(We(i[16]),l):Fd(i,o.next)}}return null}function oE(i,o){return null!==o?i[16][6].projection[o.projection]:null}function s_(i,o){const a=10+i+1;if(a<o.length){const l=o[a],h=l[1].firstChild;if(null!==h)return Fd(l,h)}return o[7]}function a_(i,o,a,l,h,g,_){for(;null!=a;){const w=l[a.index],b=a.type;if(_&&0===o&&(w&&dr(Yt(w),l),a.flags|=4),64!=(64&a.flags))if(8&b)a_(i,o,a.child,l,h,g,!1),aa(o,i,h,w,g);else if(32&b){const T=Z(a,l);let M;for(;M=T();)aa(o,i,h,M,g);aa(o,i,h,w,g)}else 16&b?aE(i,o,l,a,h,g):aa(o,i,h,w,g);a=_?a.projectionNext:a.next}}function Gg(i,o,a,l,h,g){a_(a,l,i.firstChild,o,h,g,!1)}function aE(i,o,a,l,h,g){const _=a[16],b=_[6].projection[l.projection];if(Array.isArray(b))for(let T=0;T<b.length;T++)aa(o,i,h,b[T],g);else a_(i,o,b,_[3],h,g,!0)}function uE(i,o,a){rn(i)?i.setAttribute(o,"style",a):o.style.cssText=a}function l_(i,o,a){rn(i)?""===a?i.removeAttribute(o,"class"):i.setAttribute(o,"class",a):o.className=a}function ss(i,o,a){let l=i.length;for(;;){const h=i.indexOf(o,a);if(-1===h)return h;if(0===h||i.charCodeAt(h-1)<=32){const g=o.length;if(h+g===l||i.charCodeAt(h+g)<=32)return h}a=h+1}}const lE="ng-template";function be(i,o,a){let l=0;for(;l<i.length;){let h=i[l++];if(a&&"class"===h){if(h=i[l],-1!==ss(h.toLowerCase(),o,0))return!0}else if(1===h){for(;l<i.length&&"string"==typeof(h=i[l++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Xu(i){return 4===i.type&&i.value!==lE}function zg(i,o,a){return o===(4!==i.type||a?i.value:lE)}function el(i,o,a){let l=4;const h=i.attrs||[],g=function c_(i){for(let o=0;o<i.length;o++)if(ri(i[o]))return o;return i.length}(h);let _=!1;for(let w=0;w<o.length;w++){const b=o[w];if("number"!=typeof b){if(!_)if(4&l){if(l=2|1&l,""!==b&&!zg(i,b,a)||""===b&&1===o.length){if(St(l))return!1;_=!0}}else{const T=8&l?b:o[++w];if(8&l&&null!==i.attrs){if(!be(i.attrs,T,a)){if(St(l))return!1;_=!0}continue}const k=EI(8&l?"class":b,h,Xu(i),a);if(-1===k){if(St(l))return!1;_=!0;continue}if(""!==T){let U;U=k>g?"":h[k+1].toLowerCase();const Q=8&l?U:null;if(Q&&-1!==ss(Q,T,0)||2&l&&T!==U){if(St(l))return!1;_=!0}}}}else{if(!_&&!St(l)&&!St(b))return!1;if(_&&St(b))continue;_=!1,l=b|1&l}}return St(l)||_}function St(i){return 0==(1&i)}function EI(i,o,a,l){if(null===o)return-1;let h=0;if(l||!a){let g=!1;for(;h<o.length;){const _=o[h];if(_===i)return h;if(3===_||6===_)g=!0;else{if(1===_||2===_){let w=o[++h];for(;"string"==typeof w;)w=o[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=g?1:2}return-1}return function Nt(i,o){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,i)}function ua(i,o,a=!1){for(let l=0;l<o.length;l++)if(el(i,o[l],a))return!0;return!1}function Zg(i,o){return i?":not("+o.trim()+")":o}function Ef(i){let o=i[0],a=1,l=2,h="",g=!1;for(;a<i.length;){let _=i[a];if("string"==typeof _)if(2&l){const w=i[++a];h+="["+_+(w.length>0?'="'+w+'"':"")+"]"}else 8&l?h+="."+_:4&l&&(h+=" "+_);else""!==h&&!St(_)&&(o+=Zg(g,h),h=""),l=_,g=g||!St(l);a++}return""!==h&&(o+=Zg(g,h)),o}const Rt={};function cE(i){dE(Ft(),Ae(),Kn()+i,Pa())}function dE(i,o,a,l){if(!l)if(3==(3&o[2])){const g=i.preOrderCheckHooks;null!==g&&Ua(o,g,a)}else{const g=i.preOrderHooks;null!==g&&Ji(o,g,0,a)}Vi(a)}function Yl(i,o){return i<<17|o<<2}function mn(i){return i>>17&32767}function h_(i){return 2|i}function la(i){return(131068&i)>>2}function Wg(i,o){return-131069&i|o<<2}function Kg(i){return 1|i}function __(i,o){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const h=a[l],g=a[l+1];if(-1!==g){const _=i.data[g];La(h),_.contentQueries(2,o[g],g)}}}function jd(i,o,a,l,h,g,_,w,b,T){const M=o.blueprint.slice();return M[0]=h,M[2]=140|l,Fi(M),M[3]=M[15]=i,M[8]=a,M[10]=_||i&&i[10],M[11]=w||i&&i[11],M[12]=b||i&&i[12]||null,M[9]=T||i&&i[9]||null,M[6]=g,M[16]=2==o.type?i[16]:M,M}function tl(i,o,a,l,h){let g=i.data[o];if(null===g)g=function nm(i,o,a,l,h){const g=Bo(),_=Ra(),b=i.data[o]=function MI(i,o,a,l,h,g){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?g:g&&g.parent,a,o,l,h);return null===i.firstChild&&(i.firstChild=b),null!==g&&(_?null==g.child&&null!==b.parent&&(g.child=b):null===g.next&&(g.next=b)),b}(i,o,a,l,h),function xl(){return ft.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=a,g.value=l,g.attrs=h;const _=function Xs(){const i=ft.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();g.injectorIndex=null===_?-1:_.injectorIndex}return ni(g,!0),g}function $d(i,o,a,l){if(0===a)return-1;const h=o.length;for(let g=0;g<a;g++)o.push(l),i.blueprint.push(l),i.data.push(null);return h}function Jl(i,o,a){$o(o);try{const l=i.viewQuery;null!==l&&hm(1,l,a);const h=i.template;null!==h&&wr(i,o,h,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&__(i,o),i.staticViewQueries&&hm(2,i.viewQuery,a);const g=i.components;null!==g&&function CE(i,o){for(let a=0;a<o.length;a++)D_(i,o[a])}(o,g)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{o[2]&=-5,Go()}}function nl(i,o,a,l){const h=o[2];if(256==(256&h))return;$o(o);const g=Pa();try{Fi(o),function ka(i){return ft.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&wr(i,o,a,2,l);const _=3==(3&h);if(!g)if(_){const T=i.preOrderCheckHooks;null!==T&&Ua(o,T,null)}else{const T=i.preOrderHooks;null!==T&&Ji(o,T,0,null),zo(o,0)}if(function kE(i){for(let o=An(i);null!==o;o=fi(o)){if(!o[2])continue;const a=o[9];for(let l=0;l<a.length;l++){const h=a[l],g=h[3];0==(1024&h[2])&&Vo(g,1),h[2]|=1024}}}(o),function PE(i){for(let o=An(i);null!==o;o=fi(o))for(let a=10;a<o.length;a++){const l=o[a],h=l[1];Yi(l)&&nl(h,l,h.template,l[8])}}(o),null!==i.contentQueries&&__(i,o),!g)if(_){const T=i.contentCheckHooks;null!==T&&Ua(o,T)}else{const T=i.contentHooks;null!==T&&Ji(o,T,1),zo(o,1)}!function IE(i,o){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const h=a[l];if(h<0)Vi(~h);else{const g=h,_=a[++l],w=a[++l];Ol(_,g),w(2,o[g])}}}finally{Vi(-1)}}(i,o);const w=i.components;null!==w&&function SI(i,o){for(let a=0;a<o.length;a++)Tf(i,o[a])}(o,w);const b=i.viewQuery;if(null!==b&&hm(2,b,l),!g)if(_){const T=i.viewCheckHooks;null!==T&&Ua(o,T)}else{const T=i.viewHooks;null!==T&&Ji(o,T,2),zo(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),g||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Vo(o[3],-1))}finally{Go()}}function v_(i,o,a,l){const h=o[10],g=!Pa(),_=Js(o);try{g&&!_&&h.begin&&h.begin(),_&&Jl(i,o,l),nl(i,o,a,l)}finally{g&&!_&&h.end&&h.end()}}function wr(i,o,a,l,h){const g=Kn(),_=2&l;try{Vi(-1),_&&o.length>20&&dE(i,o,20,Pa()),a(l,h)}finally{Vi(g)}}function Hd(i,o,a){!Na()||(function PI(i,o,a,l){const h=a.directiveStart,g=a.directiveEnd;i.firstCreatePass||Pn(a,o),dr(l,o);const _=a.initialInputs;for(let w=h;w<g;w++){const b=i.data[w],T=Ni(b);T&&RE(o,a,b);const M=Jo(o,i,w,a);dr(M,o),null!==_&&Cf(0,w-h,M,b,0,_),T&&(ar(a.index,o)[8]=M)}}(i,o,a,or(a,o)),128==(128&a.flags)&&function zd(i,o,a){const l=a.directiveStart,h=a.directiveEnd,_=a.index,w=function xu(){return ft.lFrame.currentDirectiveIndex}();try{Vi(_);for(let b=l;b<h;b++){const T=i.data[b],M=o[b];Fa(b),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&OE(T,M)}}finally{Vi(-1),Fa(w)}}(i,o,a))}function Df(i,o,a=or){const l=o.localNames;if(null!==l){let h=o.index+1;for(let g=0;g<l.length;g+=2){const _=l[g+1],w=-1===_?a(o,i):i[_];i[h++]=w}}}function TE(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=rm(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):o}function rm(i,o,a,l,h,g,_,w,b,T){const M=20+l,k=M+h,U=function AE(i,o){const a=[];for(let l=0;l<o;l++)a.push(l<i?null:Rt);return a}(M,k),Q="function"==typeof T?T():T;return U[1]={type:i,blueprint:U,template:a,queries:null,viewQuery:w,declTNode:o,data:U.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:b,consts:Q,incompleteFirstPass:!1}}function sm(i,o,a,l){const h=Zd(o);null===a?h.push(l):(h.push(a),i.firstCreatePass&&A_(i).push(l,h.length-1))}function om(i,o,a){for(let l in i)if(i.hasOwnProperty(l)){const h=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(o,h):a[l]=[o,h]}return a}function pi(i,o,a,l,h,g,_,w){const b=or(o,a);let M,T=o.inputs;!w&&null!=T&&(M=T[l])?(il(i,a,M,l,h),Qc(o)&&function E_(i,o){const a=ar(o,i);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(l=function xI(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),h=null!=_?_(h,o.value||"",l):h,rn(g)?g.setProperty(b,l,h):Mr(l)||(b.setProperty?b.setProperty(l,h):b[l]=h))}function am(i,o,a,l){let h=!1;if(Na()){const g=function kI(i,o,a){const l=i.directiveRegistry;let h=null;if(l)for(let g=0;g<l.length;g++){const _=l[g];ua(a,_.selectors,!1)&&(h||(h=[]),ur(Pn(a,o),i,_.type),Ni(_)?(rl(i,a),h.unshift(_)):h.push(_))}return h}(i,o,a),_=null===l?null:{"":-1};if(null!==g){h=!0,b_(a,i.data.length,g.length);for(let M=0;M<g.length;M++){const k=g[M];k.providersResolver&&k.providersResolver(k)}let w=!1,b=!1,T=$d(i,o,g.length,null);for(let M=0;M<g.length;M++){const k=g[M];a.mergedAttrs=Un(a.mergedAttrs,k.hostAttrs),qd(i,a,o,T,k),um(T,k,_),null!==k.contentQueries&&(a.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(a.flags|=128);const U=k.type.prototype;!w&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),w=!0),!b&&(U.ngOnChanges||U.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),b=!0),T++}!function ME(i,o){const l=o.directiveEnd,h=i.data,g=o.attrs,_=[];let w=null,b=null;for(let T=o.directiveStart;T<l;T++){const M=h[T],k=M.inputs,U=null===g||Xu(o)?null:cm(k,g);_.push(U),w=om(k,T,w),b=om(M.outputs,T,b)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=_,o.inputs=w,o.outputs=b}(i,a)}_&&function NE(i,o,a){if(o){const l=i.localNames=[];for(let h=0;h<o.length;h+=2){const g=a[o[h+1]];if(null==g)throw new Ne(-301,!1);l.push(o[h],g)}}}(a,l,_)}return a.mergedAttrs=Un(a.mergedAttrs,a.attrs),h}function If(i,o,a,l,h,g){const _=g.hostBindings;if(_){let w=i.hostBindingOpCodes;null===w&&(w=i.hostBindingOpCodes=[]);const b=~o.index;(function RI(i){let o=i.length;for(;o>0;){const a=i[--o];if("number"==typeof a&&a<0)return a}return 0})(w)!=b&&w.push(b),w.push(l,h,_)}}function OE(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function rl(i,o){o.flags|=2,(i.components||(i.components=[])).push(o.index)}function um(i,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=i;Ni(o)&&(a[""]=i)}}function b_(i,o,a){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+a,i.providerIndexes=o}function qd(i,o,a,l,h){i.data[l]=h;const g=h.factory||(h.factory=vr(h.type)),_=new Ou(g,Ni(h),null);i.blueprint[l]=_,a[l]=_,If(i,o,0,l,$d(i,a,h.hostVars,Rt),h)}function RE(i,o,a){const l=or(o,i),h=TE(a),g=i[10],_=Xl(i,jd(i,h,null,a.onPush?64:16,l,o,g,g.createRenderer(l,a),null,null));i[o.index]=_}function kn(i,o,a,l,h,g){const _=or(i,o);!function lm(i,o,a,l,h,g,_){if(null==g)rn(i)?i.removeAttribute(o,h,a):o.removeAttribute(h);else{const w=null==_?he(g):_(g,l||"",h);rn(i)?i.setAttribute(o,h,w,a):a?o.setAttributeNS(a,h,w):o.setAttribute(h,w)}}(o[11],_,g,i.value,a,l,h)}function Cf(i,o,a,l,h,g){const _=g[o];if(null!==_){const w=l.setInput;for(let b=0;b<_.length;){const T=_[b++],M=_[b++],k=_[b++];null!==w?l.setInput(a,k,T,M):a[M]=k}}}function cm(i,o){let a=null,l=0;for(;l<o.length;){const h=o[l];if(0!==h)if(5!==h){if("number"==typeof h)break;i.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,i[h],o[l+1])),l+=2}else l+=2;else l+=4}return a}function dm(i,o,a,l){return new Array(i,!0,!1,o,null,0,l,a,null,null)}function Tf(i,o){const a=ar(o,i);if(Yi(a)){const l=a[1];80&a[2]?nl(l,a,l.template,a[8]):a[5]>0&&Af(a)}}function Af(i){for(let l=An(i);null!==l;l=fi(l))for(let h=10;h<l.length;h++){const g=l[h];if(1024&g[2]){const _=g[1];nl(_,g,_.template,g[8])}else g[5]>0&&Af(g)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const h=ar(a[l],i);Yi(h)&&h[5]>0&&Af(h)}}function D_(i,o){const a=ar(o,i),l=a[1];(function I_(i,o){for(let a=o.length;a<i.blueprint.length;a++)o.push(i.blueprint[a])})(l,a),Jl(l,a,a[8])}function Xl(i,o){return i[13]?i[14][4]=o:i[13]=o,i[14]=o,o}function ec(i){for(;i;){i[2]|=64;const o=We(i);if(vl(i)&&!o)return i;i=o}return null}function Sf(i,o,a){const l=o[10];l.begin&&l.begin();try{nl(i,o,i.template,a)}catch(h){throw Wd(o,h),h}finally{l.end&&l.end()}}function Mf(i){!function C_(i){for(let o=0;o<i.components.length;o++){const a=i.components[o],l=Od(a),h=l[1];v_(h,l,h.template,a)}}(i[8])}function hm(i,o,a){La(0),o(i,a)}const VI=(()=>Promise.resolve(null))();function Zd(i){return i[7]||(i[7]=[])}function A_(i){return i.cleanup||(i.cleanup=[])}function Wd(i,o){const a=i[9],l=a?a.get(Nd,null):null;l&&l.handleError(o)}function il(i,o,a,l,h){for(let g=0;g<a.length;){const _=a[g++],w=a[g++],b=o[_],T=i.data[_];null!==T.setInput?T.setInput(b,h,l,w):b[w]=h}}function yo(i,o,a){const l=Is(o,i);!function Pd(i,o,a){rn(i)?i.setValue(o,a):o.textContent=a}(i[11],l,a)}function fm(i,o,a){let l=a?i.styles:null,h=a?i.classes:null,g=0;if(null!==o)for(let _=0;_<o.length;_++){const w=o[_];"number"==typeof w?g=w:1==g?h=ce(h,w):2==g&&(l=ce(l,w+": "+o[++_]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=h:i.classesWithoutHost=h}const nu=new gn("INJECTOR",-1);class M_{get(o,a=na){if(a===na){const l=new Error(`NullInjectorError: No provider for ${se(o)}!`);throw l.name="NullInjectorError",l}return a}}const x_=new gn("Set Injector scope."),_o={},ru={};let Yd;function Of(){return void 0===Yd&&(Yd=new M_),Yd}function Nf(i,o=null,a=null,l){const h=O_(i,o,a,l);return h._resolveInjectorDefTypes(),h}function O_(i,o=null,a=null,l){return new Fn(i,a,o||Of(),l)}class Fn{constructor(o,a,l,h=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];a&&oi(a,w=>this.processProvider(w,o,a)),oi([o],w=>this.processInjectorType(w,[],g)),this.records.set(nu,da(void 0,this));const _=this.records.get(x_);this.scope=null!=_?_.value:null,this.source=h||("object"==typeof o?null:se(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=na,l=yt.Default){this.assertNotDestroyed();const h=ne(this),g=xn(void 0);try{if(!(l&yt.SkipSelf)){let w=this.records.get(o);if(void 0===w){const b=function sl(i){return"function"==typeof i||"object"==typeof i&&i instanceof gn}(o)&&Vt(o);w=b&&this.injectableDefInScope(b)?da(Qd(o),_o):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(l&yt.Self?Of():this.parent).get(o,a=l&yt.Optional&&a===na?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[co]=_[co]||[]).unshift(se(o)),h)throw _;return function Jn(i,o,a,l){const h=i[co];throw o[O]&&h.unshift(o[O]),i.message=function ts(i,o,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let h=se(o);if(Array.isArray(o))h=o.map(se).join(" -> ");else if("object"==typeof o){let g=[];for(let _ in o)if(o.hasOwnProperty(_)){let w=o[_];g.push(_+":"+("string"==typeof w?JSON.stringify(w):se(w)))}h=`{${g.join(", ")}}`}return`${a}${l?"("+l+")":""}[${h}]: ${i.replace(I,"\n  ")}`}("\n"+i.message,h,a,l),i.ngTokenPath=h,i[co]=null,i}(_,o,"R3InjectorError",this.source)}throw _}finally{xn(g),ne(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((l,h)=>o.push(se(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ne(205,!1)}processInjectorType(o,a,l){if(!(o=te(o)))return!1;let h=Ir(o);const g=null==h&&o.ngModule||void 0,_=void 0===g?o:g,w=-1!==l.indexOf(_);if(void 0!==g&&(h=Ir(g)),null==h)return!1;if(null!=h.imports&&!w){let M;l.push(_);try{oi(h.imports,k=>{this.processInjectorType(k,a,l)&&(void 0===M&&(M=[]),M.push(k))})}finally{}if(void 0!==M)for(let k=0;k<M.length;k++){const{ngModule:U,providers:Q}=M[k];oi(Q,_e=>this.processProvider(_e,U,Q||V))}}this.injectorDefTypes.add(_);const b=vr(_)||(()=>new _);this.records.set(_,da(b,_o));const T=h.providers;if(null!=T&&!w){const M=o;oi(T,k=>this.processProvider(k,M,T))}return void 0!==g&&void 0!==o.providers}processProvider(o,a,l){let h=Xd(o=te(o))?o:te(o&&o.provide);const g=function BI(i,o,a){return UE(i)?da(void 0,i.useValue):da(Jd(i),_o)}(o);if(Xd(o)||!0!==o.multi)this.records.get(h);else{let _=this.records.get(h);_||(_=da(void 0,_o,!0),_.factory=()=>$t(_.multi),this.records.set(h,_)),h=o,_.multi.push(o)}this.records.set(h,g)}hydrate(o,a){return a.value===_o&&(a.value=ru,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Rf(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=te(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Qd(i){const o=Vt(i),a=null!==o?o.factory:vr(i);if(null!==a)return a;if(i instanceof gn)throw new Ne(204,!1);if(i instanceof Function)return function UI(i){const o=i.length;if(o>0)throw function uo(i,o){const a=[];for(let l=0;l<i;l++)a.push(o);return a}(o,"?"),new Ne(204,!1);const a=function Yr(i){const o=i&&(i[Ti]||i[Qr]);if(o){const a=function pr(i){if(i.hasOwnProperty("name"))return i.name;const o=(""+i).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Ne(204,!1)}function Jd(i,o,a){let l;if(Xd(i)){const h=te(i);return vr(h)||Qd(h)}if(UE(i))l=()=>te(i.useValue);else if(function jI(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...$t(i.deps||[]));else if(function BE(i){return!(!i||!i.useExisting)}(i))l=()=>Ve(te(i.useExisting));else{const h=te(i&&(i.useClass||i.provide));if(!function HI(i){return!!i.deps}(i))return vr(h)||Qd(h);l=()=>new h(...$t(i.deps))}return l}function da(i,o,a=!1){return{factory:i,value:o,multi:a?[]:void 0}}function UE(i){return null!==i&&"object"==typeof i&&F in i}function Xd(i){return"function"==typeof i}let ks=(()=>{class i{static create(a,l){var h;if(Array.isArray(a))return Nf({name:""},l,a,"");{const g=null!==(h=a.name)&&void 0!==h?h:"";return Nf({name:g},a.parent,a.providers,g)}}}return i.THROW_IF_NOT_FOUND=na,i.NULL=new M_,i.\u0275prov=Kt({token:i,providedIn:"any",factory:()=>Ve(nu)}),i.__NG_ELEMENT_ID__=-1,i})();function zI(i,o){dd(Od(i)[1],hn())}function L_(i){let o=function YE(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;o;){let h;if(Ni(i))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ne(903,"");h=o.\u0275dir}if(h){if(a){l.push(h);const _=i;_.inputs=vm(i.inputs),_.declaredInputs=vm(i.declaredInputs),_.outputs=vm(i.outputs);const w=h.hostBindings;w&&XE(i,w);const b=h.viewQuery,T=h.contentQueries;if(b&&JE(i,b),T&&Em(i,T),ue(i.inputs,h.inputs),ue(i.declaredInputs,h.declaredInputs),ue(i.outputs,h.outputs),Ni(h)&&h.data.animation){const M=i.data;M.animation=(M.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let _=0;_<g.length;_++){const w=g[_];w&&w.ngInherit&&w(i),w===L_&&(a=!1)}}o=Object.getPrototypeOf(o)}!function QE(i){let o=0,a=null;for(let l=i.length-1;l>=0;l--){const h=i[l];h.hostVars=o+=h.hostVars,h.hostAttrs=Un(h.hostAttrs,a=Un(a,h.hostAttrs))}}(l)}function vm(i){return i===yr?{}:i===V?[]:i}function JE(i,o){const a=i.viewQuery;i.viewQuery=a?(l,h)=>{o(l,h),a(l,h)}:o}function Em(i,o){const a=i.contentQueries;i.contentQueries=a?(l,h,g)=>{o(l,h,g),a(l,h,g)}:o}function XE(i,o){const a=i.hostBindings;i.hostBindings=a?(l,h)=>{o(l,h),a(l,h)}:o}let th=null;function ha(){if(!th){const i=jt.Symbol;if(i&&i.iterator)th=i.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const l=o[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(th=l)}}}return th}function nc(i){return!!kf(i)&&(Array.isArray(i)||!(i instanceof Map)&&ha()in i)}function kf(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Zr(i,o,a){return!Object.is(i[o],a)&&(i[o]=a,!0)}function Vf(i,o,a,l){const h=Ae();return Zr(h,Cs(),o)&&(Ft(),kn(Cn(),h,i,o,a,l)),Vf}function rc(i,o,a,l){return Zr(i,Cs(),a)?o+he(a)+l:Rt}function sw(i,o,a,l,h,g,_,w){const b=Ae(),T=Ft(),M=i+20,k=T.firstCreatePass?function ZI(i,o,a,l,h,g,_,w,b){const T=o.consts,M=tl(o,i,4,_||null,wi(T,w));am(o,a,M,wi(T,b)),dd(o,M);const k=M.tViews=rm(2,M,l,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,T);return null!==o.queries&&(o.queries.template(o,M),k.queries=o.queries.embeddedTView(M)),M}(M,T,b,o,a,l,h,g,_):T.data[M];ni(k,!1);const U=b[11].createComment("");Hg(T,b,U,k),dr(U,b),Xl(b,b[M]=dm(U,b,U,k)),Oi(k)&&Hd(T,b,k),null!=_&&Df(b,k,w)}function jn(i,o=yt.Default){const a=Ae();return null===a?Ve(i,o):As(hn(),a,te(i),o)}function hc(){throw new Error("invalid")}function G_(i,o,a){const l=Ae();return Zr(l,Cs(),o)&&pi(Ft(),Cn(),l,i,o,l[11],a,!1),G_}function tr(i,o,a,l,h){const _=h?"class":"style";il(i,a,o.inputs[_],_,l)}function Eo(i,o,a,l){const h=Ae(),g=Ft(),_=20+i,w=h[11],b=h[_]=kd(w,o,function cd(){return ft.lFrame.currentNamespace}()),T=g.firstCreatePass?function rC(i,o,a,l,h,g,_){const w=o.consts,T=tl(o,i,2,h,wi(w,g));return am(o,a,T,wi(w,_)),null!==T.attrs&&fm(T,T.attrs,!1),null!==T.mergedAttrs&&fm(T,T.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,T),T}(_,g,h,0,o,a,l):g.data[_];ni(T,!0);const M=T.mergedAttrs;null!==M&&et(w,b,M);const k=T.classes;null!==k&&l_(w,b,k);const U=T.styles;return null!==U&&uE(w,b,U),64!=(64&T.flags)&&Hg(g,h,b,T),0===function Tu(){return ft.lFrame.elementDepthCount}()&&dr(b,h),function Oa(){ft.lFrame.elementDepthCount++}(),Oi(T)&&(Hd(g,h,T),function kr(i,o,a){if(Du(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const _=i.data[g];_.contentQueries&&_.contentQueries(1,a[g],g)}}}(g,T,h)),null!==l&&Df(h,T),Eo}function Sn(){let i=hn();Ra()?function Ml(){ft.lFrame.isParent=!1}():(i=i.parent,ni(i,!1));const o=i;!function Cl(){ft.lFrame.elementDepthCount--}();const a=Ft();return a.firstCreatePass&&(dd(a,i),Du(i)&&a.queries.elementEnd(i)),null!=o.classesWithoutHost&&function fd(i){return 0!=(16&i.flags)}(o)&&tr(a,o,Ae(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function dg(i){return 0!=(32&i.flags)}(o)&&tr(a,o,Ae(),o.stylesWithoutHost,!1),Sn}function uu(i,o,a,l){return Eo(i,o,a,l),Sn(),uu}function pc(i){return!!i&&"function"==typeof i.then}function q_(i){return!!i&&"function"==typeof i.subscribe}const He=q_;function pa(i,o,a,l){const h=Ae(),g=Ft(),_=hn();return function wo(i,o,a,l,h,g,_,w){const b=Oi(l),M=i.firstCreatePass&&A_(i),k=o[8],U=Zd(o);let Q=!0;if(3&l.type||w){const Ge=or(l,o),tt=w?w(Ge):Ge,Se=U.length,gt=w?st=>w(Yt(st[l.index])):l.index;if(rn(a)){let st=null;if(!w&&b&&(st=function gc(i,o,a,l){const h=i.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const _=h[g];if(_===a&&h[g+1]===l){const w=o[7],b=h[g+2];return w.length>b?w[b]:null}"string"==typeof _&&(g+=2)}return null}(i,o,h,l.index)),null!==st)(st.__ngLastListenerFn__||st).__ngNextListenerFn__=g,st.__ngLastListenerFn__=g,Q=!1;else{g=ga(l,o,k,g,!1);const ln=a.listen(tt,h,g);U.push(g,ln),M&&M.push(h,gt,Se,Se+1)}}else g=ga(l,o,k,g,!0),tt.addEventListener(h,g,_),U.push(g),M&&M.push(h,gt,Se,_)}else g=ga(l,o,k,g,!1);const _e=l.outputs;let ke;if(Q&&null!==_e&&(ke=_e[h])){const Ge=ke.length;if(Ge)for(let tt=0;tt<Ge;tt+=2){const Hs=o[ke[tt]][ke[tt+1]].subscribe(g),Dn=U.length;U.push(g,Hs),M&&M.push(h,l.index,Dn,-(Dn+1))}}}(g,h,h[11],_,i,o,!!a,l),pa}function sh(i,o,a,l){try{return!1!==a(l)}catch(h){return Wd(i,h),!1}}function ga(i,o,a,l,h){return function g(_){if(_===Function)return l;const w=2&i.flags?ar(i.index,o):o;0==(32&o[2])&&ec(w);let b=sh(o,0,l,_),T=g.__ngNextListenerFn__;for(;T;)b=sh(o,0,T,_)&&b,T=T.__ngNextListenerFn__;return h&&!1===b&&(_.preventDefault(),_.returnValue=!1),b}}function zf(i,o,a){return yc(i,"",o,"",a),zf}function yc(i,o,a,l,h){const g=Ae(),_=rc(g,o,a,l);return _!==Rt&&pi(Ft(),Cn(),g,i,_,g[11],h,!1),yc}function En(i,o,a,l,h){const g=i[a+1],_=null===o;let w=l?mn(g):la(g),b=!1;for(;0!==w&&(!1===b||_);){const M=i[w+1];Dm(i[w],o)&&(b=!0,i[w+1]=l?Kg(M):h_(M)),w=l?mn(M):la(M)}b&&(i[a+1]=l?h_(g):Kg(g))}function Dm(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&xs(i,o)>=0}function lu(i,o){return function Us(i,o,a,l){const h=Ae(),g=Ft(),_=function bi(i){const o=ft.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,a}(2);g.firstUpdatePass&&function vw(i,o,a,l){const h=i.data;if(null===h[a+1]){const g=h[Kn()],_=function Lr(i,o){return o>=i.expandoStartIndex}(i,a);(function rv(i,o){return 0!=(i.flags&(o?16:32))})(g,l)&&null===o&&!_&&(o=!1),o=function oC(i,o,a,l){const h=function jo(i){const o=ft.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let g=l?o.residualClasses:o.residualStyles;if(null===h)0===(l?o.classBindings:o.styleBindings)&&(a=Kf(a=tv(null,i,o,a,l),o.attrs,l),g=null);else{const _=o.directiveStylingLast;if(-1===_||i[_]!==h)if(a=tv(h,i,o,a,l),null===g){let b=function aC(i,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==la(l))return i[mn(l)]}(i,o,l);void 0!==b&&Array.isArray(b)&&(b=tv(null,i,o,b[1],l),b=Kf(b,o.attrs,l),function Ew(i,o,a,l){i[mn(a?o.classBindings:o.styleBindings)]=l}(i,o,l,b))}else g=function uC(i,o,a){let l;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)l=Kf(l,i[g].hostAttrs,a);return Kf(l,o.attrs,a)}(i,o,l)}return void 0!==g&&(l?o.residualClasses=g:o.residualStyles=g),a}(h,g,o,l),function gi(i,o,a,l,h,g){let _=g?o.classBindings:o.styleBindings,w=mn(_),b=la(_);i[l]=a;let M,T=!1;if(Array.isArray(a)){const k=a;M=k[1],(null===M||xs(k,M)>0)&&(T=!0)}else M=a;if(h)if(0!==b){const U=mn(i[w+1]);i[l+1]=Yl(U,w),0!==U&&(i[U+1]=Wg(i[U+1],l)),i[w+1]=function bI(i,o){return 131071&i|o<<17}(i[w+1],l)}else i[l+1]=Yl(w,0),0!==w&&(i[w+1]=Wg(i[w+1],l)),w=l;else i[l+1]=Yl(b,0),0===w?w=l:i[b+1]=Wg(i[b+1],l),b=l;T&&(i[l+1]=h_(i[l+1])),En(i,M,l,!0),En(i,M,l,!1),function yw(i,o,a,l,h){const g=h?i.residualClasses:i.residualStyles;null!=g&&"string"==typeof o&&xs(g,o)>=0&&(a[l+1]=Kg(a[l+1]))}(o,M,i,l,g),_=Yl(w,b),g?o.classBindings=_:o.styleBindings=_}(h,g,o,a,_,l)}}(g,i,_,l),o!==Rt&&Zr(h,_,o)&&function ww(i,o,a,l,h,g,_,w){if(!(3&o.type))return;const b=i.data,T=b[w+1];Yf(function hE(i){return 1==(1&i)}(T)?nv(b,o,a,h,la(T),_):void 0)||(Yf(g)||function tu(i){return 2==(2&i)}(T)&&(g=nv(b,null,a,h,w,_)),function u_(i,o,a,l,h){const g=rn(i);if(o)h?g?i.addClass(a,l):a.classList.add(l):g?i.removeClass(a,l):a.classList.remove(l);else{let _=-1===l.indexOf("-")?void 0:A.DashCase;if(null==h)g?i.removeStyle(a,l,_):a.style.removeProperty(l);else{const w="string"==typeof h&&h.endsWith("!important");w&&(h=h.slice(0,-10),_|=A.Important),g?i.setStyle(a,l,h,_):a.style.setProperty(l,h,w?"important":"")}}}(l,_,Is(Kn(),a),h,g))}(g,g.data[Kn()],h,h[11],i,h[_+1]=function du(i,o){return null==i||("string"==typeof o?i+=o:"object"==typeof i&&(i=se(sa(i)))),i}(o,a),l,_)}(i,o,null,!0),lu}function tv(i,o,a,l,h){let g=null;const _=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<_&&(g=o[w],l=Kf(l,g.hostAttrs,h),g!==i);)w++;return null!==i&&(a.directiveStylingLast=w),l}function Kf(i,o,a){const l=a?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const _=o[g];"number"==typeof _?h=_:h===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Qn(i,_,!!a||o[++g]))}return void 0===i?null:i}function nv(i,o,a,l,h,g){const _=null===o;let w;for(;h>0;){const b=i[h],T=Array.isArray(b),M=T?b[1]:b,k=null===M;let U=a[h+1];U===Rt&&(U=k?V:void 0);let Q=k?za(U,l):M===l?U:void 0;if(T&&!Yf(Q)&&(Q=za(b,l)),Yf(Q)&&(w=Q,_))return w;const _e=i[h+1];h=_?mn(_e):la(_e)}if(null!==o){let b=g?o.residualClasses:o.residualStyles;null!=b&&(w=za(b,l))}return w}function Yf(i){return void 0!==i}function vc(i,o=""){const a=Ae(),l=Ft(),h=i+20,g=l.firstCreatePass?tl(l,h,1,o,null):l.data[h],_=a[h]=function Rd(i,o){return rn(i)?i.createText(o):i.createTextNode(o)}(a[11],o);Hg(l,a,_,g),ni(g,!1)}function iv(i){return lh("",i,""),iv}function lh(i,o,a){const l=Ae(),h=rc(l,i,o,a);return h!==Rt&&yo(l,Kn(),h),lh}const ul=void 0;var Dc=["en",[["a","p"],["AM","PM"],ul],[["AM","PM"],ul,ul],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ul,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ul,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ul,"{1} 'at' {0}",ul],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Xf(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Ic={};function Nm(i){const o=function Fw(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=kw(o);if(a)return a;const l=o.split("-")[0];if(a=kw(l),a)return a;if("en"===l)return Dc;throw new Error(`Missing locale data for the locale "${i}".`)}function Pm(i){return Nm(i)[Be.PluralCase]}function kw(i){return i in Ic||(Ic[i]=jt.ng&&jt.ng.common&&jt.ng.common.locales&&jt.ng.common.locales[i]),Ic[i]}var Be=(()=>((Be=Be||{})[Be.LocaleId=0]="LocaleId",Be[Be.DayPeriodsFormat=1]="DayPeriodsFormat",Be[Be.DayPeriodsStandalone=2]="DayPeriodsStandalone",Be[Be.DaysFormat=3]="DaysFormat",Be[Be.DaysStandalone=4]="DaysStandalone",Be[Be.MonthsFormat=5]="MonthsFormat",Be[Be.MonthsStandalone=6]="MonthsStandalone",Be[Be.Eras=7]="Eras",Be[Be.FirstDayOfWeek=8]="FirstDayOfWeek",Be[Be.WeekendRange=9]="WeekendRange",Be[Be.DateFormat=10]="DateFormat",Be[Be.TimeFormat=11]="TimeFormat",Be[Be.DateTimeFormat=12]="DateTimeFormat",Be[Be.NumberSymbols=13]="NumberSymbols",Be[Be.NumberFormats=14]="NumberFormats",Be[Be.CurrencyCode=15]="CurrencyCode",Be[Be.CurrencySymbol=16]="CurrencySymbol",Be[Be.CurrencyName=17]="CurrencyName",Be[Be.Currencies=18]="Currencies",Be[Be.Directionality=19]="Directionality",Be[Be.PluralCase=20]="PluralCase",Be[Be.ExtraData=21]="ExtraData",Be))();const km="en-US";let Vw=km;function hu(i,o,a,l,h){if(i=te(i),Array.isArray(i))for(let g=0;g<i.length;g++)hu(i[g],o,a,l,h);else{const g=Ft(),_=Ae();let w=Xd(i)?i:te(i.provide),b=Jd(i);const T=hn(),M=1048575&T.providerIndexes,k=T.directiveStart,U=T.providerIndexes>>20;if(Xd(i)||!i.multi){const Q=new Ou(b,h,jn),_e=Hm(w,o,h?M:M+U,k);-1===_e?(ur(Pn(T,_),g,w),jm(g,i,o.length),o.push(w),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),a.push(Q),_.push(Q)):(a[_e]=Q,_[_e]=Q)}else{const Q=Hm(w,o,M+U,k),_e=Hm(w,o,M,M+U),ke=Q>=0&&a[Q],Ge=_e>=0&&a[_e];if(h&&!Ge||!h&&!ke){ur(Pn(T,_),g,w);const tt=function vv(i,o,a,l,h){const g=new Ou(i,a,jn);return g.multi=[],g.index=o,g.componentProviders=0,$m(g,h,l&&!a),g}(h?_v:Vr,a.length,h,l,b);!h&&Ge&&(a[_e].providerFactory=tt),jm(g,i,o.length,0),o.push(w),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),a.push(tt),_.push(tt)}else jm(g,i,Q>-1?Q:_e,$m(a[h?_e:Q],b,!h&&l));!h&&l&&Ge&&a[_e].componentProviders++}}}function jm(i,o,a,l){const h=Xd(o),g=function $I(i){return!!i.useClass}(o);if(h||g){const b=(g?te(o.useClass):o).prototype.ngOnDestroy;if(b){const T=i.destroyHooks||(i.destroyHooks=[]);if(!h&&o.multi){const M=T.indexOf(a);-1===M?T.push(a,[l,b]):T[M+1].push(l,b)}else T.push(a,b)}}}function $m(i,o,a){return a&&i.componentProviders++,i.multi.push(o)-1}function Hm(i,o,a,l){for(let h=a;h<l;h++)if(o[h]===i)return h;return-1}function Vr(i,o,a,l){return up(this.multi,[])}function _v(i,o,a,l){const h=this.multi;let g;if(this.providerFactory){const _=this.providerFactory.componentProviders,w=Jo(a,a[1],this.providerFactory.index,l);g=w.slice(0,_),up(h,g);for(let b=_;b<w.length;b++)g.push(w[b])}else g=[],up(h,g);return g}function up(i,o){for(let a=0;a<i.length;a++)o.push((0,i[a])());return o}function fu(i,o=[]){return a=>{a.providersResolver=(l,h)=>function RC(i,o,a){const l=Ft();if(l.firstCreatePass){const h=Ni(i);hu(a,l.data,l.blueprint,h,!0),hu(o,l.data,l.blueprint,h,!1)}}(l,h?h(i):i,o)}}class cb{}class Ac{resolveComponentFactory(o){throw function db(i){const o=Error(`No component factory found for ${se(i)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=i,o}(o)}}let pu=(()=>{class i{}return i.NULL=new Ac,i})();function cp(){return Sc(hn(),Ae())}function Sc(i,o){return new Mc(or(i,o))}let Mc=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=cp,i})();function Ev(i){return i instanceof Mc?i.nativeElement:i}class hb{}let fb=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function wv(){const i=Ae(),a=ar(hn().index,i);return function pb(i){return i[11]}(Hr(a)?a:i)}(),i})(),dp=(()=>{class i{}return i.\u0275prov=Kt({token:i,providedIn:"root",factory:()=>null}),i})();class cl{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const gb=new cl("13.2.7"),Gm={};function zm(i,o,a,l,h=!1){for(;null!==a;){const g=o[a.index];if(null!==g&&l.push(Yt(g)),xi(g))for(let w=10;w<g.length;w++){const b=g[w],T=b[1].firstChild;null!==T&&zm(b[1],b,T,l)}const _=a.type;if(8&_)zm(i,o,a.child,l);else if(32&_){const w=Z(a,o);let b;for(;b=w();)l.push(b)}else if(16&_){const w=oE(o,a);if(Array.isArray(w))l.push(...w);else{const b=We(o[16]);zm(b[1],b,w,l,!0)}}a=h?a.projectionNext:a.next}return l}class hp{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return zm(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(xi(o)){const a=o[8],l=a?a.indexOf(this):-1;l>-1&&(Xy(o,l),ao(a,l))}this._attachedToViewContainer=!1}e_(this._lView[1],this._lView)}onDestroy(o){sm(this._lView[1],this._lView,null,o)}markForCheck(){ec(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Sf(this._lView[1],this._lView,this.context)}checkNoChanges(){!function T_(i,o,a){Su(!0);try{Sf(i,o,a)}finally{Su(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ne(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vf(i,o){Gg(i,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ne(902,"");this._appRef=o}}class kC extends hp{constructor(o){super(o),this._view=o}detectChanges(){Mf(this._view)}checkNoChanges(){!function LE(i){Su(!0);try{Mf(i)}finally{Su(!1)}}(this._view)}get context(){return null}}class Dh extends pu{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Hn(o);return new bv(a,this.ngModule)}}function dl(i){const o=[];for(let a in i)i.hasOwnProperty(a)&&o.push({propName:i[a],templateName:a});return o}class bv extends cb{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function wI(i){return i.map(Ef).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return dl(this.componentDef.inputs)}get outputs(){return dl(this.componentDef.outputs)}create(o,a,l,h){const g=(h=h||this.ngModule)?function mb(i,o){return{get:(a,l,h)=>{const g=i.get(a,Gm,h);return g!==Gm||l===Gm?g:o.get(a,l,h)}}}(o,h.injector):o,_=g.get(hb,Sa),w=g.get(dp,null),b=_.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",M=l?function im(i,o,a){if(rn(i))return i.selectRootElement(o,a===Gt.ShadowDom);let l="string"==typeof o?i.querySelector(o):o;return l.textContent="",l}(b,l,this.componentDef.encapsulation):kd(_.createRenderer(null,this.componentDef),T,function xc(i){const o=i.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(T)),k=this.componentDef.onPush?576:528,U=function F_(i,o){return{components:[],scheduler:i||Qy,clean:VI,playerHandler:o||null,flags:0}}(),Q=rm(0,null,null,1,0,null,null,null,null,null),_e=jd(null,Q,U,k,null,null,_,b,w,g);let ke,Ge;$o(_e);try{const tt=function KE(i,o,a,l,h,g){const _=a[1];a[20]=i;const b=tl(_,20,2,"#host",null),T=b.mergedAttrs=o.hostAttrs;null!==T&&(fm(b,T,!0),null!==i&&(et(h,i,T),null!==b.classes&&l_(h,i,b.classes),null!==b.styles&&uE(h,i,b.styles)));const M=l.createRenderer(i,o),k=jd(a,TE(o),null,o.onPush?64:16,a[20],b,l,M,g||null,null);return _.firstCreatePass&&(ur(Pn(b,a),_,o.type),rl(_,b),b_(b,a.length,1)),Xl(a,k),a[20]=k}(M,this.componentDef,_e,_,b);if(M)if(l)et(b,M,["ng-version",gb.full]);else{const{attrs:Se,classes:gt}=function d_(i){const o=[],a=[];let l=1,h=2;for(;l<i.length;){let g=i[l];if("string"==typeof g)2===h?""!==g&&o.push(g,i[++l]):8===h&&a.push(g);else{if(!St(h))break;h=g}l++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Se&&et(b,M,Se),gt&&gt.length>0&&l_(b,M,gt.join(" "))}if(Ge=_n(Q,20),void 0!==a){const Se=Ge.projection=[];for(let gt=0;gt<this.ngContentSelectors.length;gt++){const st=a[gt];Se.push(null!=st?Array.from(st):null)}}ke=function Xn(i,o,a,l,h){const g=a[1],_=function xE(i,o,a){const l=hn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),qd(i,l,o,$d(i,o,1,null),a));const h=Jo(o,i,l.directiveStart,l);dr(h,o);const g=or(l,o);return g&&dr(g,o),h}(g,a,o);if(l.components.push(_),i[8]=_,h&&h.forEach(b=>b(_,o)),o.contentQueries){const b=hn();o.contentQueries(1,_,b.directiveStart)}const w=hn();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Vi(w.index),If(a[1],w,0,w.directiveStart,w.directiveEnd,o),OE(o,_)),_}(tt,this.componentDef,_e,U,[zI]),Jl(Q,_e,null)}finally{Go()}return new qm(this.componentType,ke,Sc(Ge,_e),_e,Ge)}}class qm extends class lb{}{constructor(o,a,l,h,g){super(),this.location=l,this._rootLView=h,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new kC(h),this.componentType=o}get injector(){return new ro(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Oc{}class Ih{}const gu=new Map;class Cv extends Oc{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Dh(this);const l=Gn(o);this._bootstrapComponents=rs(l.bootstrap),this._r3Injector=O_(o,a,[{provide:Oc,useValue:this},{provide:pu,useValue:this.componentFactoryResolver}],se(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=ks.THROW_IF_NOT_FOUND,l=yt.Default){return o===ks||o===Oc||o===nu?this:this._r3Injector.get(o,a,l)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class _a extends Ih{constructor(o){super(),this.moduleType=o,null!==Gn(o)&&function zi(i){const o=new Set;!function a(l){const h=Gn(l,!0),g=h.id;null!==g&&(function Iv(i,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${i} - ${se(o)} vs ${se(o.name)}`)}(g,gu.get(g),l),gu.set(g,l));const _=rs(h.imports);for(const w of _)o.has(w)||(o.add(w),a(w))}(i)}(o)}create(o){return new Cv(this.moduleType,o)}}function bb(i,o,a,l,h,g){const _=o+a;return Zr(i,_,h)?function os(i,o,a){return i[o]=a}(i,_+1,g?l.call(g,h):l(h)):function pp(i,o){const a=i[o];return a===Rt?void 0:a}(i,_+1)}function Cb(i,o){const a=Ft();let l;const h=i+20;a.firstCreatePass?(l=function BC(i,o){if(o)for(let a=o.length-1;a>=0;a--){const l=o[a];if(i===l.name)return l}}(o,a.pipeRegistry),a.data[h]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(h,l.onDestroy)):l=a.data[h];const g=l.factory||(l.factory=vr(l.type)),_=xn(jn);try{const w=Di(!1),b=g();return Di(w),function ow(i,o,a,l){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),o[a]=l}(a,Ae(),h,b),b}finally{xn(_)}}function Sv(i,o,a){const l=i+20,h=Ae(),g=function ki(i,o){return i[o]}(h,l);return function yp(i,o){return i[1].data[o].pure}(h,l)?bb(h,function Rn(){const i=ft.lFrame;let o=i.bindingRootIndex;return-1===o&&(o=i.bindingRootIndex=i.tView.bindingStartIndex),o}(),o,g.transform,a,g):g.transform(a)}function _p(i){return o=>{setTimeout(i,void 0,o)}}const $s=class Sb extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){var h,g,_;let w=o,b=a||(()=>null),T=l;if(o&&"object"==typeof o){const k=o;w=null===(h=k.next)||void 0===h?void 0:h.bind(k),b=null===(g=k.error)||void 0===g?void 0:g.bind(k),T=null===(_=k.complete)||void 0===_?void 0:_.bind(k)}this.__isAsync&&(b=_p(b),w&&(w=_p(w)),T&&(T=_p(T)));const M=super.subscribe({next:w,error:b,complete:T});return o instanceof X.w0&&o.add(M),M}};function vp(){return this._results[ha()]()}class Ah{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=ha(),l=Ah.prototype;l[a]||(l[a]=vp)}get changes(){return this._changes||(this._changes=new $s)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const l=this;l.dirty=!1;const h=si(o);(this._changesDetected=!function Vl(i,o,a){if(i.length!==o.length)return!1;for(let l=0;l<i.length;l++){let h=i[l],g=o[l];if(a&&(h=a(h),g=a(g)),g!==h)return!1}return!0}(l._results,h,a))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let kc=(()=>{class i{}return i.__NG_ELEMENT_ID__=Mb,i})();const jC=kc,Mv=class extends jC{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(o){const a=this._declarationTContainer.tViews,l=jd(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(l[19]=g.createEmbeddedView(a)),Jl(a,l,o),new hp(l)}};function Mb(){return Zm(hn(),Ae())}function Zm(i,o){return 4&i.type?new Mv(o,i,Sc(i,o)):null}let Ep=(()=>{class i{}return i.__NG_ELEMENT_ID__=xb,i})();function xb(){return Rv(hn(),Ae())}const xv=Ep,Ob=class extends xv{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return Sc(this._hostTNode,this._hostLView)}get injector(){return new ro(this._hostTNode,this._hostLView)}get parentInjector(){const o=Ts(this._hostTNode,this._hostLView);if(pd(o)){const a=an(o,this._hostLView),l=Ui(o);return new ro(a[1].data[l+8],a)}return new ro(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Ov(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,l){const h=o.createEmbeddedView(a||{});return this.insert(h,l),h}createComponent(o,a,l,h,g){const _=o&&!function oo(i){return"function"==typeof i}(o);let w;if(_)w=a;else{const k=a||{};w=k.index,l=k.injector,h=k.projectableNodes,g=k.ngModuleRef}const b=_?o:new bv(Hn(o)),T=l||this.parentInjector;if(!g&&null==b.ngModule){const U=(_?T:this.parentInjector).get(Oc,null);U&&(g=U)}const M=b.create(T,h,void 0,g);return this.insert(M.hostView,w),M}insert(o,a){const l=o._lView,h=l[1];if(function xa(i){return xi(i[3])}(l)){const M=this.indexOf(o);if(-1!==M)this.detach(M);else{const k=l[3],U=new Ob(k,k[6],k[3]);U.detach(U.indexOf(o))}}const g=this._adjustIndex(a),_=this._lContainer;!function Kl(i,o,a,l){const h=10+l,g=a.length;l>0&&(a[h-1][4]=o),l<g-10?(o[4]=a[h],ea(a,10+l,o)):(a.push(o),o[4]=null),o[3]=a;const _=o[17];null!==_&&a!==_&&function Ju(i,o){const a=i[9];o[16]!==o[3][3][16]&&(i[2]=!0),null===a?i[9]=[o]:a.push(o)}(_,o);const w=o[19];null!==w&&w.insertView(i),o[2]|=128}(h,l,_,g);const w=s_(g,_),b=l[11],T=qn(b,_[7]);return null!==T&&function _f(i,o,a,l,h,g){l[0]=h,l[6]=o,Gg(i,l,a,1,h,g)}(h,_[6],b,l,T,w),o.attachToViewContainerRef(),ea(Nv(_),g,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Ov(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=Xy(this._lContainer,a);l&&(ao(Nv(this._lContainer),a),e_(l[1],l))}detach(o){const a=this._adjustIndex(o,-1),l=Xy(this._lContainer,a);return l&&null!=ao(Nv(this._lContainer),a)?new hp(l):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function Ov(i){return i[8]}function Nv(i){return i[8]||(i[8]=[])}function Rv(i,o){let a;const l=o[i.index];if(xi(l))a=l;else{let h;if(8&i.type)h=Yt(l);else{const g=o[11];h=g.createComment("");const _=or(i,o);is(g,qn(g,_),h,function _I(i,o){return rn(i)?i.nextSibling(o):o.nextSibling}(g,_),!1)}o[i.index]=a=dm(l,o,h,i),Xl(o,a)}return new Ob(a,i,o)}class bp{constructor(o){this.queryList=o,this.matches=null}clone(){return new bp(this.queryList)}setDirty(){this.queryList.setDirty()}}class Mh{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let g=0;g<l;g++){const _=a.getByIndex(g);h.push(this.queries[_.indexInDeclarationView].clone())}return new Mh(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Qm(o,a).matches&&this.queries[a].setDirty()}}class Pv{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class Wm{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const h=null!==a?a.length:0,g=this.getByIndex(l).embeddedTView(o,h);g&&(g.indexInDeclarationView=l,null!==a?a.push(g):a=[g])}return null!==a?new Wm(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Km{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Km(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const g=l[h];this.matchTNodeWithReadOption(o,a,HC(a,g)),this.matchTNodeWithReadOption(o,a,Qo(a,o,g,!1,!1))}else l===kc?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Qo(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===Mc||h===Ep||h===kc&&4&a.type)this.addMatch(a.index,-2);else{const g=Qo(a,o,h,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function HC(i,o){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function GC(i,o,a,l){return-1===a?function kv(i,o){return 11&i.type?Sc(i,o):4&i.type?Zm(i,o):null}(o,i):-2===a?function Fv(i,o,a){return a===Mc?Sc(o,i):a===kc?Zm(o,i):a===Ep?Rv(o,i):void 0}(i,o,l):Jo(i,i[1],a,o)}function Nb(i,o,a,l){const h=o[19].queries[l];if(null===h.matches){const g=i.data,_=a.matches,w=[];for(let b=0;b<_.length;b+=2){const T=_[b];w.push(T<0?null:GC(o,g[T],_[b+1],a.metadata.read))}h.matches=w}return h.matches}function Lv(i,o,a,l){const h=i.queries.getByIndex(a),g=h.matches;if(null!==g){const _=Nb(i,o,h,a);for(let w=0;w<g.length;w+=2){const b=g[w];if(b>0)l.push(_[w/2]);else{const T=g[w+1],M=o[-b];for(let k=10;k<M.length;k++){const U=M[k];U[17]===U[3]&&Lv(U[1],U,T,l)}if(null!==M[9]){const k=M[9];for(let U=0;U<k.length;U++){const Q=k[U];Lv(Q[1],Q,T,l)}}}}}return l}function Ym(i){const o=Ae(),a=Ft(),l=Nl();La(l+1);const h=Qm(a,l);if(i.dirty&&Js(o)===(2==(2&h.metadata.flags))){if(null===h.matches)i.reset([]);else{const g=h.crossesNgTemplate?Lv(a,o,l,[]):Nb(a,o,h,l);i.reset(g,Ev),i.notifyOnChanges()}return!0}return!1}function Rb(i,o,a,l){const h=Ft();if(h.firstCreatePass){const g=hn();(function Fb(i,o,a){null===i.queries&&(i.queries=new Wm),i.queries.track(new Km(o,a))})(h,new Pv(o,a,l),g.index),function qC(i,o){const a=i.contentQueries||(i.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,o)}(h,i),2==(2&a)&&(h.staticContentQueries=!0)}!function kb(i,o,a){const l=new Ah(4==(4&a));sm(i,o,l,l.destroy),null===o[19]&&(o[19]=new Mh),o[19].queries.push(new bp(l))}(h,Ae(),a)}function Pb(){return function zC(i,o){return i[19].queries[o].queryList}(Ae(),Nl())}function Qm(i,o){return i.queries.getByIndex(o)}function Oh(...i){}const ay=new gn("Application Initializer");let qv=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Oh,this.reject=Oh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(pc(g))a.push(g);else if(He(g)){const _=new Promise((w,b)=>{g.subscribe({complete:w,error:b})});a.push(_)}}Promise.all(a).then(()=>{l()}).catch(h=>{this.reject(h)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Ve(ay,8))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const uy=new gn("AppId",{providedIn:"root",factory:function Zv(){return`${Ap()}${Ap()}${Ap()}`}});function Ap(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ly=new gn("Platform Initializer"),jc=new gn("Platform ID"),mu=new gn("appBootstrapListener");let $c=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();const cy=new gn("LocaleId",{providedIn:"root",factory:()=>dt(cy,yt.Optional|yt.SkipSelf)||function Nh(){return"undefined"!=typeof $localize&&$localize.locale||km}()}),Rh=new gn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Wv{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let Kv=(()=>{class i{compileModuleSync(a){return new _a(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),g=rs(Gn(a).declarations).reduce((_,w)=>{const b=Hn(w);return b&&_.push(new bv(b)),_},[]);return new Wv(l,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const XC=(()=>Promise.resolve(0))();function Sp(i){"undefined"==typeof Zone?XC.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Io{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $s(!1),this.onMicrotaskEmpty=new $s(!1),this.onStable=new $s(!1),this.onError=new $s(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&a,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Qv(){let i=jt.requestAnimationFrame,o=jt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&o){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function rD(i){const o=()=>{!function nD(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(jt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,dy(i),i.isCheckStableRunning=!0,Jv(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),dy(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,h,g,_,w)=>{try{return Xv(i),a.invokeTask(h,g,_,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||i.shouldCoalesceRunChangeDetection)&&o(),iD(i)}},onInvoke:(a,l,h,g,_,w,b)=>{try{return Xv(i),a.invoke(h,g,_,w,b)}finally{i.shouldCoalesceRunChangeDetection&&o(),iD(i)}},onHasTask:(a,l,h,g)=>{a.hasTask(h,g),l===h&&("microTask"==g.change?(i._hasPendingMicrotasks=g.microTask,dy(i),Jv(i)):"macroTask"==g.change&&(i.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,l,h,g)=>(a.handleError(h,g),i.runOutsideAngular(()=>i.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Io.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Io.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,h){const g=this._inner,_=g.scheduleEventTask("NgZoneEvent: "+h,o,tD,Oh,Oh);try{return g.runTask(_,a,l)}finally{g.cancelTask(_)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const tD={};function Jv(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function dy(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Xv(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function iD(i){i._nesting--,Jv(i)}class eT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $s,this.onMicrotaskEmpty=new $s,this.onStable=new $s,this.onError=new $s}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,h){return o.apply(a,l)}}let sD=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Io.assertNotInAngularZone(),Sp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Sp(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,h){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==g),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:h})}whenStable(a,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,h){return[]}}return i.\u0275fac=function(a){return new(a||i)(Ve(Io))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})(),oD=(()=>{class i{constructor(){this._applications=new Map,Mp.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return Mp.findTestabilityInTree(this,a,l)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();class e0{addToWindow(o){}findTestabilityInTree(o,a,l){return null}}function t0(i){Mp=i}let Co,Mp=new e0;const s0=new gn("AllowMultipleToken");class o0{constructor(o,a){this.name=o,this.token=a}}function uD(i,o,a=[]){const l=`Platform: ${o}`,h=new gn(l);return(g=[])=>{let _=hy();if(!_||_.injector.get(s0,!1))if(i)i(a.concat(g).concat({provide:h,useValue:!0}));else{const w=a.concat(g).concat({provide:h,useValue:!0},{provide:x_,useValue:"platform"});!function aD(i){if(Co&&!Co.destroyed&&!Co.injector.get(s0,!1))throw new Ne(400,"");Co=i.get(lD);const o=i.get(ly,null);o&&o.forEach(a=>a())}(ks.create({providers:w,name:l}))}return function a0(i){const o=hy();if(!o)throw new Ne(401,"");return o}()}}function hy(){return Co&&!Co.destroyed?Co:null}let lD=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const w=function u0(i,o){let a;return a="noop"===i?new eT:("zone.js"===i?void 0:i)||new Io({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),b=[{provide:Io,useValue:w}];return w.run(()=>{const T=ks.create({providers:b,parent:this.injector,name:a.moduleType.name}),M=a.create(T),k=M.injector.get(Nd,null);if(!k)throw new Ne(402,"");return w.runOutsideAngular(()=>{const U=w.onError.subscribe({next:Q=>{k.handleError(Q)}});M.onDestroy(()=>{Op(this._modules,M),U.unsubscribe()})}),function tT(i,o,a){try{const l=a();return pc(l)?l.catch(h=>{throw o.runOutsideAngular(()=>i.handleError(h)),h}):l}catch(l){throw o.runOutsideAngular(()=>i.handleError(l)),l}}(k,w,()=>{const U=M.injector.get(qv);return U.runInitializers(),U.donePromise.then(()=>(function sn(i){Bt(i,"Expected localeId to be defined"),"string"==typeof i&&(Vw=i.toLowerCase().replace(/_/g,"-"))}(M.injector.get(cy,km)||km),this._moduleDoBootstrap(M),M))})})}bootstrapModule(a,l=[]){const h=fy({},l);return function n0(i,o,a){const l=new _a(a);return Promise.resolve(l)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(a){const l=a.injector.get(xp);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Ne(403,"");a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ne(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Ve(ks))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();function fy(i,o){return Array.isArray(o)?o.reduce(fy,i):Object.assign(Object.assign({},i),o)}let xp=(()=>{class i{constructor(a,l,h,g,_){this._zone=a,this._injector=l,this._exceptionHandler=h,this._componentFactoryResolver=g,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new P.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),b=new P.y(T=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{Io.assertNotInAngularZone(),Sp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{Io.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{M.unsubscribe(),k.unsubscribe()}});this.isStable=(0,ae.T)(w,b.pipe((0,re.B)()))}bootstrap(a,l){if(!this._initStatus.done)throw new Ne(405,"");let h;h=a instanceof cb?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(h.componentType);const g=function r0(i){return i.isBoundToModule}(h)?void 0:this._injector.get(Oc),w=h.create(ks.NULL,[],l||h.selector,g),b=w.location.nativeElement,T=w.injector.get(sD,null),M=T&&w.injector.get(oD);return T&&M&&M.registerApplication(b,T),w.onDestroy(()=>{this.detachView(w.hostView),Op(this.components,w),M&&M.unregisterApplication(b)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Ne(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Op(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(mu,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(Ve(Io),Ve(ks),Ve(Nd),Ve(pu),Ve(qv))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Op(i,o){const a=i.indexOf(o);a>-1&&i.splice(a,1)}let py=!0,dD=!1;function l0(){return dD=!0,py}function yu(){if(dD)throw new Error("Cannot enable prod mode after platform setup.");py=!1}let nT=(()=>{class i{}return i.__NG_ELEMENT_ID__=rT,i})();function rT(i){return function c0(i,o,a){if(Qc(i)&&!a){const l=ar(i.index,o);return new hp(l,l)}return 47&i.type?new hp(o[16],o):null}(hn(),Ae(),16==(16&i))}class Fp{constructor(){}supports(o){return nc(o)}create(o){return new aT(o)}}const oT=(i,o)=>o;class aT{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||oT}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,h=0,g=null;for(;a||l;){const _=!l||a&&a.currentIndex<yy(l,h,g)?a:l,w=yy(_,h,g),b=_.currentIndex;if(_===l)h--,l=l._nextRemoved;else if(a=a._next,null==_.previousIndex)h++;else{g||(g=[]);const T=w-h,M=b-h;if(T!=M){for(let U=0;U<T;U++){const Q=U<g.length?g[U]:g[U]=0,_e=Q+U;M<=_e&&_e<T&&(g[U]=Q+1)}g[_.previousIndex]=M-T}}w!==b&&o(_,w,b)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!nc(o))throw new Ne(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,_,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)g=o[w],_=this._trackByFn(w,g),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,g,_,w)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,_,w),l=!0),a=a._next}else h=0,function nw(i,o){if(Array.isArray(i))for(let a=0;a<i.length;a++)o(i[a]);else{const a=i[ha()]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,w=>{_=this._trackByFn(h,w),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,w,_,h)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,_,h),l=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,g,h)):o=this._addAfter(new uT(a,l),g,h),o}_verifyReinsertion(o,a,l,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new m0),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new m0),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class uT{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lT{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class m0{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new lT,this.map.set(a,l)),l.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yy(i,o,a){const l=i.previousIndex;if(null===l)return l;let h=0;return a&&l<a.length&&(h=a[l]),l+o+h}class y0{constructor(){}supports(o){return o instanceof Map||kf(o)}create(){return new _0}}class _0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||kf(o)))throw new Ne(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(h,l);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const g=h._prev,_=h._next;return g&&(g._next=_),_&&(_._prev=g),h._next=null,h._prev=null,h}const l=new v0(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class v0{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function _y(){return new Ph([new Fp])}let Ph=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const h=l.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||_y()),deps:[[i,new li,new ai]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(null!=l)return l;throw new Ne(901,"")}}return i.\u0275prov=Kt({token:i,providedIn:"root",factory:_y}),i})();function E0(){return new Lp([new y0])}let Lp=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const h=l.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||E0()),deps:[[i,new li,new ai]]}}find(a){const l=this.factories.find(g=>g.supports(a));if(l)return l;throw new Ne(901,"")}}return i.\u0275prov=Kt({token:i,providedIn:"root",factory:E0}),i})();const cT=uD(null,"core",[{provide:jc,useValue:"unknown"},{provide:lD,deps:[ks]},{provide:oD,deps:[]},{provide:$c,deps:[]}]);let dT=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Ve(xp))},i.\u0275mod=Cr({type:i}),i.\u0275inj=qt({}),i})()},3942:(Xe,we,R)=>{R.d(we,{Z:()=>Ne});var c=R(2090),X=R(4859),P=R(9681),ae=R(1877);class re{constructor(he,Ce){this._delegate=he,this.firebase=Ce,(0,P._addComponent)(he,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=he.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this._delegate.automaticDataCollectionEnabled=he}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(he=>{this._delegate.checkDestroyed(),he()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(he,Ce=P._DEFAULT_ENTRY_NAME){var qe;this._delegate.checkDestroyed();const Ye=this._delegate.container.getProvider(he);return!Ye.isInitialized()&&"EXPLICIT"===(null===(qe=Ye.getComponent())||void 0===qe?void 0:qe.instantiationMode)&&Ye.initialize(),Ye.getImmediate({identifier:Ce})}_removeServiceInstance(he,Ce=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(he).clearInstance(Ce)}_addComponent(he){(0,P._addComponent)(this._delegate,he)}_addOrOverwriteComponent(he){(0,P._addOrOverwriteComponent)(this._delegate,he)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ue=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function ce(){const Ue=function se(Ue){const he={},Ce={__esModule:!0,initializeApp:function Te(je,j={}){const ve=P.initializeApp(je,j);if((0,c.r3)(he,ve.name))return he[ve.name];const W=new Ue(ve,Ce);return he[ve.name]=W,W},app:Ye,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function De(je){const j=je.name,ve=j.replace("-compat","");if(P._registerComponent(je)&&"PUBLIC"===je.type){const W=(ie=Ye())=>{if("function"!=typeof ie[ve])throw ue.create("invalid-app-argument",{appName:j});return ie[ve]()};void 0!==je.serviceProps&&(0,c.ZB)(W,je.serviceProps),Ce[ve]=W,Ue.prototype[ve]=function(...ie){return this._getService.bind(this,j).apply(this,je.multipleInstances?ie:[])}}return"PUBLIC"===je.type?Ce[ve]:null},removeApp:function qe(je){delete he[je]},useAsService:function $e(je,j){return"serverAuth"===j?null:j},modularAPIs:P}};function Ye(je){if(!(0,c.r3)(he,je=je||P._DEFAULT_ENTRY_NAME))throw ue.create("no-app",{appName:je});return he[je]}return Ce.default=Ce,Object.defineProperty(Ce,"apps",{get:function Ee(){return Object.keys(he).map(je=>he[je])}}),Ye.App=Ue,Ce}(re);return Ue.INTERNAL=Object.assign(Object.assign({},Ue.INTERNAL),{createFirebaseNamespace:ce,extendNamespace:function he(Ce){(0,c.ZB)(Ue,Ce)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Ue}(),B=new ae.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ue=self.firebase.SDK_VERSION;Ue&&Ue.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ne=$;!function Me(Ue){(0,P.registerVersion)("@firebase/app-compat","0.1.25",Ue)}()},9681:(Xe,we,R)=>{R.r(we),R.d(we,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Ti,_DEFAULT_ENTRY_NAME:()=>Bt,_addComponent:()=>en,_addOrOverwriteComponent:()=>Kt,_apps:()=>Qt,_clearComponents:()=>Zi,_components:()=>Mn,_getProvider:()=>qt,_registerComponent:()=>Dr,_removeServiceInstance:()=>Vt,deleteApp:()=>yt,getApp:()=>Qr,getApps:()=>Ai,initializeApp:()=>ys,onLog:()=>xn,registerVersion:()=>In,setLogLevel:()=>zs});var c=R(5861),X=R(4859),P=R(1877),ae=R(2090),re=R(8766);class pe{constructor(J){this.container=J}getPlatformInfoString(){return this.container.getProviders().map(Oe=>{if(function ue(H){const J=H.getComponent();return"VERSION"===(null==J?void 0:J.type)}(Oe)){const Je=Oe.getImmediate();return`${Je.library}/${Je.version}`}return null}).filter(Oe=>Oe).join(" ")}}const se="@firebase/app",$=new P.Yd("@firebase/app"),Bt="[DEFAULT]",Qe={[se]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Qt=new Map,Mn=new Map;function en(H,J){try{H.container.addComponent(J)}catch(Oe){$.debug(`Component ${J.name} failed to register with FirebaseApp ${H.name}`,Oe)}}function Kt(H,J){H.container.addOrOverwriteComponent(J)}function Dr(H){const J=H.name;if(Mn.has(J))return $.debug(`There were multiple attempts to register component ${J}.`),!1;Mn.set(J,H);for(const Oe of Qt.values())en(Oe,H);return!0}function qt(H,J){const Oe=H.container.getProvider("heartbeat").getImmediate({optional:!0});return Oe&&Oe.triggerHeartbeat(),H.container.getProvider(J)}function Vt(H,J,Oe=Bt){qt(H,J).clearInstance(Oe)}function Zi(){Mn.clear()}const pr=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ir{constructor(J,Oe,Je){this._isDeleted=!1,this._options=Object.assign({},J),this._config=Object.assign({},Oe),this._name=Oe.name,this._automaticDataCollectionEnabled=Oe.automaticDataCollectionEnabled,this._container=Je,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(J){this.checkDestroyed(),this._automaticDataCollectionEnabled=J}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(J){this._isDeleted=J}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}const Ti="9.8.1";function ys(H,J={}){"object"!=typeof J&&(J={name:J});const Oe=Object.assign({name:Bt,automaticDataCollectionEnabled:!1},J),Je=Oe.name;if("string"!=typeof Je||!Je)throw pr.create("bad-app-name",{appName:String(Je)});const ht=Qt.get(Je);if(ht){if((0,ae.vZ)(H,ht.options)&&(0,ae.vZ)(Oe,ht.config))return ht;throw pr.create("duplicate-app",{appName:Je})}const Ct=new X.H0(Je);for(const Et of Mn.values())Ct.addComponent(Et);const cn=new Ir(H,Oe,Ct);return Qt.set(Je,cn),cn}function Qr(H=Bt){const J=Qt.get(H);if(!J)throw pr.create("no-app",{appName:H});return J}function Ai(){return Array.from(Qt.values())}function yt(H){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,c.Z)(function*(H){const J=H.name;Qt.has(J)&&(Qt.delete(J),yield Promise.all(H.container.getProviders().map(Oe=>Oe.delete())),H.isDeleted=!0)})).apply(this,arguments)}function In(H,J,Oe){var Je;let ht=null!==(Je=Qe[H])&&void 0!==Je?Je:H;Oe&&(ht+=`-${Oe}`);const Ct=ht.match(/\s|\//),cn=J.match(/\s|\//);if(Ct||cn){const Et=[`Unable to register library "${ht}" with version "${J}":`];return Ct&&Et.push(`library name "${ht}" contains illegal characters (whitespace or "/")`),Ct&&cn&&Et.push("and"),cn&&Et.push(`version name "${J}" contains illegal characters (whitespace or "/")`),void $.warn(Et.join(" "))}Dr(new X.wA(`${ht}-version`,()=>({library:ht,version:J}),"VERSION"))}function xn(H,J){if(null!==H&&"function"!=typeof H)throw pr.create("invalid-log-argument");(0,P.Am)(H,J)}function zs(H){(0,P.Ub)(H)}const Ln="firebase-heartbeat-store";let vi=null;function xo(){return vi||(vi=(0,re.X3)("firebase-heartbeat-database",1,{upgrade:(H,J)=>{0===J&&H.createObjectStore(Ln)}}).catch(H=>{throw pr.create("storage-open",{originalErrorMessage:H.message})})),vi}function it(){return(it=(0,c.Z)(function*(H){try{return(yield xo()).transaction(Ln).objectStore(Ln).get(ei(H))}catch(J){throw pr.create("storage-get",{originalErrorMessage:J.message})}})).apply(this,arguments)}function vt(H,J){return gr.apply(this,arguments)}function gr(){return(gr=(0,c.Z)(function*(H,J){try{const Je=(yield xo()).transaction(Ln,"readwrite");return yield Je.objectStore(Ln).put(J,ei(H)),Je.done}catch(Oe){throw pr.create("storage-set",{originalErrorMessage:Oe.message})}})).apply(this,arguments)}function ei(H){return`${H.name}!${H.options.appId}`}class mr{constructor(J){this.container=J,this._heartbeatsCache=null;const Oe=this.container.getProvider("app").getImmediate();this._storage=new G(Oe),this._heartbeatsCachePromise=this._storage.read().then(Je=>(this._heartbeatsCache=Je,Je))}triggerHeartbeat(){var J=this;return(0,c.Z)(function*(){const Je=J.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ht=yr();if(null===J._heartbeatsCache&&(J._heartbeatsCache=yield J._heartbeatsCachePromise),J._heartbeatsCache.lastSentHeartbeatDate!==ht&&!J._heartbeatsCache.heartbeats.some(Ct=>Ct.date===ht))return J._heartbeatsCache.heartbeats.push({date:ht,agent:Je}),J._heartbeatsCache.heartbeats=J._heartbeatsCache.heartbeats.filter(Ct=>{const cn=new Date(Ct.date).valueOf();return Date.now()-cn<=2592e6}),J._storage.overwrite(J._heartbeatsCache)})()}getHeartbeatsHeader(){var J=this;return(0,c.Z)(function*(){if(null===J._heartbeatsCache&&(yield J._heartbeatsCachePromise),null===J._heartbeatsCache||0===J._heartbeatsCache.heartbeats.length)return"";const Oe=yr(),{heartbeatsToSend:Je,unsentEntries:ht}=function V(H,J=1024){const Oe=[];let Je=H.slice();for(const ht of H){const Ct=Oe.find(cn=>cn.agent===ht.agent);if(Ct){if(Ct.dates.push(ht.date),z(Oe)>J){Ct.dates.pop();break}}else if(Oe.push({agent:ht.agent,dates:[ht.date]}),z(Oe)>J){Oe.pop();break}Je=Je.slice(1)}return{heartbeatsToSend:Oe,unsentEntries:Je}}(J._heartbeatsCache.heartbeats),Ct=(0,ae.L)(JSON.stringify({version:2,heartbeats:Je}));return J._heartbeatsCache.lastSentHeartbeatDate=Oe,ht.length>0?(J._heartbeatsCache.heartbeats=ht,yield J._storage.overwrite(J._heartbeatsCache)):(J._heartbeatsCache.heartbeats=[],J._storage.overwrite(J._heartbeatsCache)),Ct})()}}function yr(){return(new Date).toISOString().substring(0,10)}class G{constructor(J){this.app=J,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var J=this;return(0,c.Z)(function*(){return(yield J._canUseIndexedDBPromise)&&(yield function Gt(H){return it.apply(this,arguments)}(J.app))||{heartbeats:[]}})()}overwrite(J){var Oe=this;return(0,c.Z)(function*(){var Je;if(yield Oe._canUseIndexedDBPromise){const Ct=yield Oe.read();return vt(Oe.app,{lastSentHeartbeatDate:null!==(Je=J.lastSentHeartbeatDate)&&void 0!==Je?Je:Ct.lastSentHeartbeatDate,heartbeats:J.heartbeats})}})()}add(J){var Oe=this;return(0,c.Z)(function*(){var Je;if(yield Oe._canUseIndexedDBPromise){const Ct=yield Oe.read();return vt(Oe.app,{lastSentHeartbeatDate:null!==(Je=J.lastSentHeartbeatDate)&&void 0!==Je?Je:Ct.lastSentHeartbeatDate,heartbeats:[...Ct.heartbeats,...J.heartbeats]})}})()}}function z(H){return(0,ae.L)(JSON.stringify({version:2,heartbeats:H})).length}!function Ie(H){Dr(new X.wA("platform-logger",J=>new pe(J),"PRIVATE")),Dr(new X.wA("heartbeat",J=>new mr(J),"PRIVATE")),In(se,"0.7.24",H),In(se,"0.7.24","esm2017"),In("fire-js","")}("")},4859:(Xe,we,R)=>{R.d(we,{wA:()=>P,H0:()=>se});var c=R(5861),X=R(2090);class P{constructor($,B,te){this.name=$,this.instanceFactory=B,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const ae="[DEFAULT]";class re{constructor($,B){this.name=$,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const B=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(B)){const te=new X.BH;if(this.instancesDeferred.set(B,te),this.isInitialized(B)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:B});ze&&te.resolve(ze)}catch(ze){}}return this.instancesDeferred.get(B).promise}getImmediate($){var B;const te=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),ze=null!==(B=null==$?void 0:$.optional)&&void 0!==B&&B;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Me){if(ze)return null;throw Me}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function ue(ce){return"EAGER"===ce.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:ae})}catch(B){}for(const[B,te]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(B);try{const Me=this.getOrInitializeService({instanceIdentifier:ze});te.resolve(Me)}catch(Me){}}}}clearInstance($=ae){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,c.Z)(function*(){const B=Array.from($.instances.values());yield Promise.all([...B.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...B.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=ae){return this.instances.has($)}getOptions($=ae){return this.instancesOptions.get($)||{}}initialize($={}){const{options:B={}}=$,te=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:te,options:B});for(const[Me,Ne]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(Me)&&Ne.resolve(ze);return ze}onInit($,B){var te;const ze=this.normalizeInstanceIdentifier(B),Me=null!==(te=this.onInitCallbacks.get(ze))&&void 0!==te?te:new Set;Me.add($),this.onInitCallbacks.set(ze,Me);const Ne=this.instances.get(ze);return Ne&&$(Ne,ze),()=>{Me.delete($)}}invokeOnInitCallbacks($,B){const te=this.onInitCallbacks.get(B);if(te)for(const ze of te)try{ze($,B)}catch(Me){}}getOrInitializeService({instanceIdentifier:$,options:B={}}){let te=this.instances.get($);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(ce=$,ce===ae?void 0:ce),options:B}),this.instances.set($,te),this.instancesOptions.set($,B),this.invokeOnInitCallbacks(te,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,te)}catch(ze){}var ce;return te||null}normalizeInstanceIdentifier($=ae){return this.component?this.component.multipleInstances?$:ae:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class se{constructor($){this.name=$,this.providers=new Map}addComponent($){const B=this.getProvider($.name);if(B.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);B.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const B=new re($,this);return this.providers.set($,B),B}getProviders(){return Array.from(this.providers.values())}}},1877:(Xe,we,R)=>{R.d(we,{in:()=>X,Yd:()=>ue,Ub:()=>se,Am:()=>ce});const c=[];var X=(()=>{return($=X||(X={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",X;var $})();const P={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},ae=X.INFO,re={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},pe=($,B,...te)=>{if(B<$.logLevel)return;const ze=(new Date).toISOString(),Me=re[B];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${B})`);console[Me](`[${ze}]  ${$.name}:`,...te)};class ue{constructor(B){this.name=B,this._logLevel=ae,this._logHandler=pe,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in X))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"==typeof B?P[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(...B){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...B),this._logHandler(this,X.DEBUG,...B)}log(...B){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...B),this._logHandler(this,X.VERBOSE,...B)}info(...B){this._userLogHandler&&this._userLogHandler(this,X.INFO,...B),this._logHandler(this,X.INFO,...B)}warn(...B){this._userLogHandler&&this._userLogHandler(this,X.WARN,...B),this._logHandler(this,X.WARN,...B)}error(...B){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...B),this._logHandler(this,X.ERROR,...B)}}function se($){c.forEach(B=>{B.setLogLevel($)})}function ce($,B){for(const te of c){let ze=null;B&&B.level&&(ze=P[B.level]),te.userLogHandler=null===$?null:(Me,Ne,...Ue)=>{const he=Ue.map(Ce=>{if(null==Ce)return null;if("string"==typeof Ce)return Ce;if("number"==typeof Ce||"boolean"==typeof Ce)return Ce.toString();if(Ce instanceof Error)return Ce.message;try{return JSON.stringify(Ce)}catch(qe){return null}}).filter(Ce=>Ce).join(" ");Ne>=(null!=ze?ze:Me.logLevel)&&$({level:X[Ne].toLowerCase(),message:he,args:Ue,type:Me.name})}}}},8766:(Xe,we,R)=>{R.d(we,{Lj:()=>Te,X3:()=>Ye});var c=R(5861);let P,ae;const ue=new WeakMap,se=new WeakMap,ce=new WeakMap,$=new WeakMap,B=new WeakMap;let Me={get(j,ve,W){if(j instanceof IDBTransaction){if("done"===ve)return se.get(j);if("objectStoreNames"===ve)return j.objectStoreNames||ce.get(j);if("store"===ve)return W.objectStoreNames[1]?void 0:W.objectStore(W.objectStoreNames[0])}return Ce(j[ve])},set:(j,ve,W)=>(j[ve]=W,!0),has:(j,ve)=>j instanceof IDBTransaction&&("done"===ve||"store"===ve)||ve in j};function he(j){return"function"==typeof j?function Ue(j){return j!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(j)?function(...ve){return j.apply(qe(this),ve),Ce(ue.get(this))}:function(...ve){return Ce(j.apply(qe(this),ve))}:function(ve,...W){const ie=j.call(qe(this),ve,...W);return ce.set(ie,ve.sort?ve.sort():[ve]),Ce(ie)}}(j):(j instanceof IDBTransaction&&function ze(j){if(se.has(j))return;const ve=new Promise((W,ie)=>{const ee=()=>{j.removeEventListener("complete",me),j.removeEventListener("error",oe),j.removeEventListener("abort",oe)},me=()=>{W(),ee()},oe=()=>{ie(j.error||new DOMException("AbortError","AbortError")),ee()};j.addEventListener("complete",me),j.addEventListener("error",oe),j.addEventListener("abort",oe)});se.set(j,ve)}(j),((j,ve)=>ve.some(W=>j instanceof W))(j,function re(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(j,Me):j)}function Ce(j){if(j instanceof IDBRequest)return function te(j){const ve=new Promise((W,ie)=>{const ee=()=>{j.removeEventListener("success",me),j.removeEventListener("error",oe)},me=()=>{W(Ce(j.result)),ee()},oe=()=>{ie(j.error),ee()};j.addEventListener("success",me),j.addEventListener("error",oe)});return ve.then(W=>{W instanceof IDBCursor&&ue.set(W,j)}).catch(()=>{}),B.set(ve,j),ve}(j);if($.has(j))return $.get(j);const ve=he(j);return ve!==j&&($.set(j,ve),B.set(ve,j)),ve}const qe=j=>B.get(j);function Ye(j,ve,{blocked:W,upgrade:ie,blocking:ee,terminated:me}={}){const oe=indexedDB.open(j,ve),Re=Ce(oe);return ie&&oe.addEventListener("upgradeneeded",lt=>{ie(Ce(oe.result),lt.oldVersion,lt.newVersion,Ce(oe.transaction))}),W&&oe.addEventListener("blocked",()=>W()),Re.then(lt=>{me&&lt.addEventListener("close",()=>me()),ee&&lt.addEventListener("versionchange",()=>ee())}).catch(()=>{}),Re}function Te(j,{blocked:ve}={}){const W=indexedDB.deleteDatabase(j);return ve&&W.addEventListener("blocked",()=>ve()),Ce(W).then(()=>{})}const Ee=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],$e=new Map;function je(j,ve){if(!(j instanceof IDBDatabase)||ve in j||"string"!=typeof ve)return;if($e.get(ve))return $e.get(ve);const W=ve.replace(/FromIndex$/,""),ie=ve!==W,ee=De.includes(W);if(!(W in(ie?IDBIndex:IDBObjectStore).prototype)||!ee&&!Ee.includes(W))return;const me=function(){var oe=(0,c.Z)(function*(Re,...lt){const Ht=this.transaction(Re,ee?"readwrite":"readonly");let Bt=Ht.store;return ie&&(Bt=Bt.index(lt.shift())),(yield Promise.all([Bt[W](...lt),ee&&Ht.done]))[0]});return function(lt){return oe.apply(this,arguments)}}();return $e.set(ve,me),me}!function Ne(j){Me=j(Me)}(j=>SO(AO({},j),{get:(ve,W,ie)=>je(ve,W)||j.get(ve,W,ie),has:(ve,W)=>!!je(ve,W)||j.has(ve,W)}))},5861:(Xe,we,R)=>{function c(P,ae,re,pe,ue,se,ce){try{var $=P[se](ce),B=$.value}catch(te){return void re(te)}$.done?ae(B):Promise.resolve(B).then(pe,ue)}function X(P){return function(){var ae=this,re=arguments;return new Promise(function(pe,ue){var se=P.apply(ae,re);function ce(B){c(se,pe,ue,ce,$,"next",B)}function $(B){c(se,pe,ue,ce,$,"throw",B)}ce(void 0)})}}R.d(we,{Z:()=>X})}},Xe=>{Xe(Xe.s=9820)}]);