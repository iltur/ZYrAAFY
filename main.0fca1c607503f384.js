"use strict";var kL=Object.defineProperty,FL=Object.defineProperties,LL=Object.getOwnPropertyDescriptors,C1=Object.getOwnPropertySymbols,VL=Object.prototype.hasOwnProperty,UL=Object.prototype.propertyIsEnumerable,T1=(Xe,we,R)=>we in Xe?kL(Xe,we,{enumerable:!0,configurable:!0,writable:!0,value:R}):Xe[we]=R,S1=(Xe,we)=>{for(var R in we||(we={}))VL.call(we,R)&&T1(Xe,R,we[R]);if(C1)for(var R of C1(we))UL.call(we,R)&&T1(Xe,R,we[R]);return Xe},A1=(Xe,we)=>FL(Xe,LL(we));(self.webpackChunkHACKATON=self.webpackChunkHACKATON||[]).push([[179],{2011:(Xe,we,R)=>{R.d(we,{hO:()=>qe,xv:()=>ce,Dh:()=>se,GT:()=>pe,cc:()=>Me,on:()=>$,pX:()=>re});var h=R(5e3),X=R(127),P=R(5813);Xe=R.hmd(Xe);const ae=["ngOnDestroy"],re=(Ce,ze,Ye,Te={})=>new Proxy(Ce,{get:(Ee,De)=>Ye.runOutsideAngular(()=>{var $e;if(Ce[De])return(null===($e=null==Te?void 0:Te.spy)||void 0===$e?void 0:$e.get)&&Te.spy.get(De,Ce[De]),Ce[De];if(ae.indexOf(De)>-1)return()=>{};const je=ze.toPromise().then(j=>{const ve=j&&j[De];return"function"==typeof ve?ve.bind(j):ve&&ve.then?ve.then(Z=>Ye.run(()=>Z)):Ye.run(()=>ve)});return new Proxy(()=>{},{get:(j,ve)=>je[ve],apply:(j,ve,Z)=>je.then(ie=>{var ee;const me=ie&&ie(...Z);return(null===(ee=null==Te?void 0:Te.spy)||void 0===ee?void 0:ee.apply)&&Te.spy.apply(De,Z,me),me})})})}),pe=(Ce,ze)=>{ze.forEach(Ye=>{Object.getOwnPropertyNames(Ye.prototype||Ye).forEach(Te=>{Object.defineProperty(Ce.prototype,Te,Object.getOwnPropertyDescriptor(Ye.prototype||Ye,Te))})})};class ue{constructor(ze){return ze}}const se=new h.OlP("angularfire2.app.options"),ce=new h.OlP("angularfire2.app.name");function $(Ce,ze,Ye){const Ee="object"==typeof Ye&&Ye||{};Ee.name=Ee.name||"string"==typeof Ye&&Ye||"[DEFAULT]";const $e=X.Z.apps.filter(je=>je&&je.name===Ee.name)[0]||ze.runOutsideAngular(()=>X.Z.initializeApp(Ce,Ee));try{JSON.stringify(Ce)!==JSON.stringify($e.options)&&B("error",`${$e.name} Firebase App already initialized with different options${Xe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(je){}return new ue($e)}const B=(Ce,...ze)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[Ce](...ze)},te={provide:ue,useFactory:$,deps:[se,h.R0b,[new h.FiY,ce]]};let qe=(()=>{class Ce{constructor(Ye){X.Z.registerVersion("angularfire",P.q4.full,"core"),X.Z.registerVersion("angularfire",P.q4.full,"app-compat"),X.Z.registerVersion("angular",h.q4F.full,Ye.toString())}static initializeApp(Ye,Te){return{ngModule:Ce,providers:[{provide:se,useValue:Ye},{provide:ce,useValue:Te}]}}}return Ce.\u0275fac=function(Ye){return new(Ye||Ce)(h.LFG(h.Lbi))},Ce.\u0275mod=h.oAB({type:Ce}),Ce.\u0275inj=h.cJS({providers:[te]}),Ce})();function Me(Ce,ze,Ye,Te,Ee){const[,De,$e]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===Ce)||[];if(De)return function Ne(Ce,ze){try{return Ce.toString()===ze.toString()}catch(Ye){return Ce===ze}}(Ee,$e)||(he("error",`${ze} was already initialized on the ${Ye} Firebase App with different settings.${Ue?" You may need to reload as Firebase is not HMR aware.":""}`),he("warn",{is:Ee,was:$e})),De;{const je=Te();return globalThis.\u0275AngularfireInstanceCache.push([Ce,je,Ee]),je}}const Ue=!!Xe.hot,he=(Ce,...ze)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[Ce](...ze)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Xe,we,R)=>{R.d(we,{q4:()=>ao,iC:()=>ta,HU:()=>vd,vb:()=>_d,JM:()=>pg});var h=R(5e3),X=R(5867),P=R(5861),ae=R(9681),re=R(2090),pe=R(4859),ue=R(1877),se=R(8766);const ce="@firebase/installations",$="0.5.9",te=`w:${$}`,qe="FIS_v2",ze=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ye(I){return I instanceof re.ZR&&I.code.includes("request-failed")}function Te({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function Ee(I){return{token:I.token,requestStatus:2,expiresIn:ie(I.expiresIn),creationTime:Date.now()}}function De(I,C){return $e.apply(this,arguments)}function $e(){return($e=(0,P.Z)(function*(I,C){const F=(yield C.json()).error;return ze.create("request-failed",{requestName:I,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function je({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function j(I,{refreshToken:C}){const O=je(I);return O.append("Authorization",function ee(I){return`${qe} ${I}`}(C)),O}function ve(I){return Z.apply(this,arguments)}function Z(){return(Z=(0,P.Z)(function*(I){const C=yield I();return C.status>=500&&C.status<600?I():C})).apply(this,arguments)}function ie(I){return Number(I.replace("s","000"))}function me(I,C){return oe.apply(this,arguments)}function oe(){return(oe=(0,P.Z)(function*({appConfig:I,heartbeatServiceProvider:C},{fid:O}){const F=Te(I),Y=je(I),ne=C.getImmediate({optional:!0});if(ne){const dt=yield ne.getHeartbeatsHeader();dt&&Y.append("x-firebase-client",dt)}const Ve={method:"POST",headers:Y,body:JSON.stringify({fid:O,authVersion:qe,appId:I.appId,sdkVersion:te})},Tt=yield ve(()=>fetch(F,Ve));if(Tt.ok){const dt=yield Tt.json();return{fid:dt.fid||O,registrationStatus:2,refreshToken:dt.refreshToken,authToken:Ee(dt.authToken)}}throw yield De("Create Installation",Tt)})).apply(this,arguments)}function Re(I){return new Promise(C=>{setTimeout(C,I)})}const Ht=/^[cdef][\w-]{21}$/;function Qe(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const O=function Qt(I){return function lt(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return Ht.test(O)?O:""}catch(I){return""}}function Mn(I){return`${I.appName}!${I.appId}`}const en=new Map;function Kt(I,C){const O=Mn(I);Vt(O,C),function Wi(I,C){const O=function pr(){return!Yr&&"BroadcastChannel"in self&&(Yr=new BroadcastChannel("[Firebase] FID Change"),Yr.onmessage=I=>{Vt(I.data.key,I.data.fid)}),Yr}();O&&O.postMessage({key:I,fid:C}),function Ir(){0===en.size&&Yr&&(Yr.close(),Yr=null)}()}(O,C)}function Vt(I,C){const O=en.get(I);if(O)for(const F of O)F(C)}let Yr=null;const Qr="firebase-installations-store";let Si=null;function yt(){return Si||(Si=(0,se.X3)("firebase-installations-database",1,{upgrade:(I,C)=>{0===C&&I.createObjectStore(Qr)}})),Si}function Jr(I,C){return In.apply(this,arguments)}function In(){return(In=(0,P.Z)(function*(I,C){const O=Mn(I),Y=(yield yt()).transaction(Qr,"readwrite"),ne=Y.objectStore(Qr),ge=yield ne.get(O);return yield ne.put(C,O),yield Y.done,(!ge||ge.fid!==C.fid)&&Kt(I,C.fid),C})).apply(this,arguments)}function xn(I){return qs.apply(this,arguments)}function qs(){return(qs=(0,P.Z)(function*(I){const C=Mn(I),F=(yield yt()).transaction(Qr,"readwrite");yield F.objectStore(Qr).delete(C),yield F.done})).apply(this,arguments)}function Xr(I,C){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,P.Z)(function*(I,C){const O=Mn(I),Y=(yield yt()).transaction(Qr,"readwrite"),ne=Y.objectStore(Qr),ge=yield ne.get(O),Ve=C(ge);return void 0===Ve?yield ne.delete(O):yield ne.put(Ve,O),yield Y.done,Ve&&(!ge||ge.fid!==Ve.fid)&&Kt(I,Ve.fid),Ve})).apply(this,arguments)}function Ln(I){return vi.apply(this,arguments)}function vi(){return(vi=(0,P.Z)(function*(I){let C;const O=yield Xr(I.appConfig,F=>{const Y=Mo(F),ne=Gt(I,Y);return C=ne.registrationPromise,ne.installationEntry});return""===O.fid?{installationEntry:yield C}:{installationEntry:O,registrationPromise:C}})).apply(this,arguments)}function Mo(I){return zs(I||{fid:Qe(),registrationStatus:0})}function Gt(I,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(ze.create("app-offline"))};const O={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},F=function it(I,C){return vt.apply(this,arguments)}(I,O);return{installationEntry:O,registrationPromise:F}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:gr(I)}:{installationEntry:C}}function vt(){return(vt=(0,P.Z)(function*(I,C){try{const O=yield me(I,C);return Jr(I.appConfig,O)}catch(O){throw Ye(O)&&409===O.customData.serverCode?yield xn(I.appConfig):yield Jr(I.appConfig,{fid:C.fid,registrationStatus:0}),O}})).apply(this,arguments)}function gr(I){return ei.apply(this,arguments)}function ei(){return(ei=(0,P.Z)(function*(I){let C=yield jt(I.appConfig);for(;1===C.registrationStatus;)yield Re(100),C=yield jt(I.appConfig);if(0===C.registrationStatus){const{installationEntry:O,registrationPromise:F}=yield Ln(I);return F||O}return C})).apply(this,arguments)}function jt(I){return Xr(I,C=>{if(!C)throw ze.create("installation-not-found");return zs(C)})}function zs(I){return function mr(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function yr(I,C){return V.apply(this,arguments)}function V(){return(V=(0,P.Z)(function*({appConfig:I,heartbeatServiceProvider:C},O){const F=G(I,O),Y=j(I,O),ne=C.getImmediate({optional:!0});if(ne){const dt=yield ne.getHeartbeatsHeader();dt&&Y.append("x-firebase-client",dt)}const Ve={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:te,appId:I.appId}})},Tt=yield ve(()=>fetch(F,Ve));if(Tt.ok)return Ee(yield Tt.json());throw yield De("Generate Auth Token",Tt)})).apply(this,arguments)}function G(I,{fid:C}){return`${Te(I)}/${C}/authTokens:generate`}function q(I){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,P.Z)(function*(I,C=!1){let O;const F=yield Xr(I.appConfig,ne=>{if(!Ct(ne))throw ze.create("not-registered");const ge=ne.authToken;if(!C&&ln(ge))return ne;if(1===ge.requestStatus)return O=H(I,C),ne;{if(!navigator.onLine)throw ze.create("app-offline");const Ve=$n(ne);return O=Je(I,Ve),Ve}});return O?yield O:F.authToken})).apply(this,arguments)}function H(I,C){return J.apply(this,arguments)}function J(){return(J=(0,P.Z)(function*(I,C){let O=yield Oe(I.appConfig);for(;1===O.authToken.requestStatus;)yield Re(100),O=yield Oe(I.appConfig);const F=O.authToken;return 0===F.requestStatus?q(I,C):F})).apply(this,arguments)}function Oe(I){return Xr(I,C=>{if(!Ct(C))throw ze.create("not-registered");return function Cr(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function Je(I,C){return ht.apply(this,arguments)}function ht(){return(ht=(0,P.Z)(function*(I,C){try{const O=yield yr(I,C),F=Object.assign(Object.assign({},C),{authToken:O});return yield Jr(I.appConfig,F),O}catch(O){if(!Ye(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const F=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield Jr(I.appConfig,F)}else yield xn(I.appConfig);throw O}})).apply(this,arguments)}function Ct(I){return void 0!==I&&2===I.registrationStatus}function ln(I){return 2===I.requestStatus&&!function Et(I){const C=Date.now();return C<I.creationTime||I.creationTime+I.expiresIn<C+36e5}(I)}function $n(I){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:C})}function ba(){return(ba=(0,P.Z)(function*(I){const C=I,{installationEntry:O,registrationPromise:F}=yield Ln(C);return F?F.catch(console.error):q(C).catch(console.error),O.fid})).apply(this,arguments)}function Da(){return(Da=(0,P.Z)(function*(I,C=!1){const O=I;return yield Hn(O),(yield q(O,C)).token})).apply(this,arguments)}function Hn(I){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,P.Z)(function*(I){const{registrationPromise:C}=yield Ln(I);C&&(yield C)})).apply(this,arguments)}function xo(I){return ze.create("missing-app-config-values",{valueName:I})}const jr="installations",at=I=>{const C=I.getProvider("app").getImmediate(),O=function sr(I){if(!I||!I.options)throw xo("App Configuration");if(!I.name)throw xo("App Name");const C=["projectId","apiKey","appId"];for(const O of C)if(!I.options[O])throw xo(O);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(C);return{app:C,appConfig:O,heartbeatServiceProvider:(0,ae._getProvider)(C,"heartbeat"),_delete:()=>Promise.resolve()}},Jt=I=>{const C=I.getProvider("app").getImmediate(),O=(0,ae._getProvider)(C,jr).getImmediate();return{getId:()=>function vu(I){return ba.apply(this,arguments)}(O),getToken:Y=>function Eu(I){return Da.apply(this,arguments)}(O,Y)}};(function $r(){(0,ae._registerComponent)(new pe.wA(jr,at,"PUBLIC")),(0,ae._registerComponent)(new pe.wA("installations-internal",Jt,"PRIVATE"))})(),(0,ae.registerVersion)(ce,$),(0,ae.registerVersion)(ce,$,"esm2017");const Ai="@firebase/remote-config",On=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class rg{constructor(C,O,F,Y){this.client=C,this.storage=O,this.storageCache=F,this.logger=Y}isCachedDataFresh(C,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-O,Y=F<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${Y}.`),Y}fetch(C){var O=this;return(0,P.Z)(function*(){const[F,Y]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(Y&&O.isCachedDataFresh(C.cacheMaxAgeMillis,F))return Y;C.eTag=Y&&Y.eTag;const ne=yield O.client.fetch(C),ge=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ne.status&&ge.push(O.storage.setLastSuccessfulFetchResponse(ne)),yield Promise.all(ge),ne})()}}function Jc(I=navigator){return I.languages&&I.languages[0]||I.language}class _r{constructor(C,O,F,Y,ne,ge){this.firebaseInstallations=C,this.sdkVersion=O,this.namespace=F,this.projectId=Y,this.apiKey=ne,this.appId=ge}fetch(C){var O=this;return(0,P.Z)(function*(){const[F,Y]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),ge=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,Ve={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},Tt={sdk_version:O.sdkVersion,app_instance_id:F,app_instance_id_token:Y,app_id:O.appId,language_code:Jc()},dt={method:"POST",headers:Ve,body:JSON.stringify(Tt)},$t=fetch(ge,dt),wt=new Promise((ui,li)=>{C.signal.addEventListener(()=>{const ju=new Error("The operation was aborted.");ju.name="AbortError",li(ju)})});let Er;try{yield Promise.race([$t,wt]),Er=yield $t}catch(ui){let li="fetch-client-network";throw"AbortError"===ui.name&&(li="fetch-timeout"),On.create(li,{originalErrorMessage:ui.message})}let Qn=Er.status;const ts=Er.headers.get("ETag")||void 0;let qr,ai;if(200===Er.status){let ui;try{ui=yield Er.json()}catch(li){throw On.create("fetch-client-parse",{originalErrorMessage:li.message})}qr=ui.entries,ai=ui.state}if("INSTANCE_STATE_UNSPECIFIED"===ai?Qn=500:"NO_CHANGE"===ai?Qn=304:("NO_TEMPLATE"===ai||"EMPTY_CONFIG"===ai)&&(qr={}),304!==Qn&&200!==Qn)throw On.create("fetch-status",{httpStatus:Qn});return{status:Qn,eTag:ts,config:qr}})()}}class ig{constructor(C,O){this.client=C,this.storage=O}fetch(C){var O=this;return(0,P.Z)(function*(){const F=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(C,F)})()}attemptFetch(C,{throttleEndTimeMillis:O,backoffCount:F}){var Y=this;return(0,P.Z)(function*(){yield function bs(I,C){return new Promise((O,F)=>{const Y=Math.max(C-Date.now(),0),ne=setTimeout(O,Y);I.addEventListener(()=>{clearTimeout(ne),F(On.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,O);try{const ne=yield Y.client.fetch(C);return yield Y.storage.deleteThrottleMetadata(),ne}catch(ne){if(!function Xc(I){if(!(I instanceof re.ZR&&I.customData))return!1;const C=Number(I.customData.httpStatus);return 429===C||500===C||503===C||504===C}(ne))throw ne;const ge={throttleEndTimeMillis:Date.now()+(0,re.$s)(F),backoffCount:F+1};return yield Y.storage.setThrottleMetadata(ge),Y.attemptFetch(C,ge)}})()}}class ed{constructor(C,O,F,Y,ne){this.app=C,this._client=O,this._storageCache=F,this._storage=Y,this._logger=ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function El(I,C){const O=I.target.error||void 0;return On.create(C,{originalErrorMessage:O&&O.message})}const Ds="app_namespace_store";class ag{constructor(C,O,F,Y=function og(){return new Promise((I,C)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=F=>{C(El(F,"storage-open"))},O.onsuccess=F=>{I(F.target.result)},O.onupgradeneeded=F=>{0===F.oldVersion&&F.target.result.createObjectStore(Ds,{keyPath:"compositeKey"})}}catch(O){C(On.create("storage-open",{originalErrorMessage:O}))}})}()){this.appId=C,this.appName=O,this.namespace=F,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var O=this;return(0,P.Z)(function*(){const F=yield O.openDbPromise;return new Promise((Y,ne)=>{const Ve=F.transaction([Ds],"readonly").objectStore(Ds),Tt=O.createCompositeKey(C);try{const dt=Ve.get(Tt);dt.onerror=$t=>{ne(El($t,"storage-get"))},dt.onsuccess=$t=>{const wt=$t.target.result;Y(wt?wt.value:void 0)}}catch(dt){ne(On.create("storage-get",{originalErrorMessage:dt&&dt.message}))}})})()}set(C,O){var F=this;return(0,P.Z)(function*(){const Y=yield F.openDbPromise;return new Promise((ne,ge)=>{const Tt=Y.transaction([Ds],"readwrite").objectStore(Ds),dt=F.createCompositeKey(C);try{const $t=Tt.put({compositeKey:dt,value:O});$t.onerror=wt=>{ge(El(wt,"storage-set"))},$t.onsuccess=()=>{ne()}}catch($t){ge(On.create("storage-set",{originalErrorMessage:$t&&$t.message}))}})})()}delete(C){var O=this;return(0,P.Z)(function*(){const F=yield O.openDbPromise;return new Promise((Y,ne)=>{const Ve=F.transaction([Ds],"readwrite").objectStore(Ds),Tt=O.createCompositeKey(C);try{const dt=Ve.delete(Tt);dt.onerror=$t=>{ne(El($t,"storage-delete"))},dt.onsuccess=()=>{Y()}}catch(dt){ne(On.create("storage-delete",{originalErrorMessage:dt&&dt.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class nd{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,P.Z)(function*(){const O=C.storage.getLastFetchStatus(),F=C.storage.getLastSuccessfulFetchTimestampMillis(),Y=C.storage.getActiveConfig(),ne=yield O;ne&&(C.lastFetchStatus=ne);const ge=yield F;ge&&(C.lastSuccessfulFetchTimestampMillis=ge);const Ve=yield Y;Ve&&(C.activeConfig=Ve)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function Iu(){return rd.apply(this,arguments)}function rd(){return(rd=(0,P.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch(I){return!1}})).apply(this,arguments)}!function No(){(0,ae._registerComponent)(new pe.wA("remote-config",function I(C,{instanceIdentifier:O}){const F=C.getProvider("app").getImmediate(),Y=C.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw On.create("registration-window");if(!(0,re.hl)())throw On.create("indexed-db-unavailable");const{projectId:ne,apiKey:ge,appId:Ve}=F.options;if(!ne)throw On.create("registration-project-id");if(!ge)throw On.create("registration-api-key");if(!Ve)throw On.create("registration-app-id");const Tt=new ag(Ve,F.name,O=O||"firebase"),dt=new nd(Tt),$t=new ue.Yd(Ai);$t.logLevel=ue.in.ERROR;const wt=new _r(Y,ae.SDK_VERSION,O,ne,ge,Ve),Er=new ig(wt,Tt),Qn=new rg(Er,Tt,dt,$t),ts=new ed(F,Qn,dt,Tt,$t);return function tn(I){const C=(0,re.m9)(I);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(ts),ts},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(Ai,"0.3.8"),(0,ae.registerVersion)(Ai,"0.3.8","esm2017")}();const id="/firebase-messaging-sw.js",vr="/firebase-cloud-messaging-push-scope",Ks="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ro="google.c.a.c_id",sd="google.c.a.c_l",Wh="google.c.a.ts",dn="google.c.a.e";var Po=(()=>{return(I=Po||(Po={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",Po;var I})();function Sr(I){const C=new Uint8Array(I);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function od(I){const O=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(O),Y=new Uint8Array(F.length);for(let ne=0;ne<F.length;++ne)Y[ne]=F.charCodeAt(ne);return Y}const Ar="fcm_token_details_db",ti="fcm_token_object_Store";function wl(I){return ad.apply(this,arguments)}function ad(){return ad=(0,P.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ne=>ne.name).includes(Ar))return null;let C=null;return(yield(0,se.X3)(Ar,5,{upgrade:(F=(0,P.Z)(function*(Y,ne,ge,Ve){var Tt;if(ne<2||!Y.objectStoreNames.contains(ti))return;const dt=Ve.objectStore(ti),$t=yield dt.index("fcmSenderId").get(I);if(yield dt.clear(),$t)if(2===ne){const wt=$t;if(!wt.auth||!wt.p256dh||!wt.endpoint)return;C={token:wt.fcmToken,createTime:null!==(Tt=wt.createTime)&&void 0!==Tt?Tt:Date.now(),subscriptionOptions:{auth:wt.auth,p256dh:wt.p256dh,endpoint:wt.endpoint,swScope:wt.swScope,vapidKey:"string"==typeof wt.vapidKey?wt.vapidKey:Sr(wt.vapidKey)}}}else if(3===ne){const wt=$t;C={token:wt.fcmToken,createTime:wt.createTime,subscriptionOptions:{auth:Sr(wt.auth),p256dh:Sr(wt.p256dh),endpoint:wt.endpoint,swScope:wt.swScope,vapidKey:Sr(wt.vapidKey)}}}else if(4===ne){const wt=$t;C={token:wt.fcmToken,createTime:wt.createTime,subscriptionOptions:{auth:Sr(wt.auth),p256dh:Sr(wt.p256dh),endpoint:wt.endpoint,swScope:wt.swScope,vapidKey:Sr(wt.vapidKey)}}}}),function(ne,ge,Ve,Tt){return F.apply(this,arguments)})})).close(),yield(0,se.Lj)(Ar),yield(0,se.Lj)("fcm_vapid_details_db"),yield(0,se.Lj)("undefined"),bl(C)?C:null;var F}),ad.apply(this,arguments)}function bl(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:C}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}const Pi="firebase-messaging-store";let Zh=null;function nn(){return Zh||(Zh=(0,se.X3)("firebase-messaging-database",1,{upgrade:(I,C)=>{0===C&&I.createObjectStore(Pi)}})),Zh}function Aa(I){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,P.Z)(function*(I){const C=or(I),F=yield(yield nn()).transaction(Pi).objectStore(Pi).get(C);if(F)return F;{const Y=yield wl(I.appConfig.senderId);if(Y)return yield Yt(I,Y),Y}})).apply(this,arguments)}function Yt(I,C){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,P.Z)(function*(I,C){const O=or(I),Y=(yield nn()).transaction(Pi,"readwrite");return yield Y.objectStore(Pi).put(C,O),yield Y.done,C})).apply(this,arguments)}function Cu(I){return Is.apply(this,arguments)}function Is(){return(Is=(0,P.Z)(function*(I){const C=or(I),F=(yield nn()).transaction(Pi,"readwrite");yield F.objectStore(Pi).delete(C),yield F.done})).apply(this,arguments)}function or({appConfig:I}){return I.appId}const _n=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ki(I,C){return ar.apply(this,arguments)}function ar(){return(ar=(0,P.Z)(function*(I,C){const O=yield Lo(I),F=Vo(C),Y={method:"POST",headers:O,body:JSON.stringify(F)};let ne;try{ne=yield(yield fetch(Fi(I.appConfig),Y)).json()}catch(ge){throw _n.create("token-subscribe-failed",{errorInfo:ge})}if(ne.error)throw _n.create("token-subscribe-failed",{errorInfo:ne.error.message});if(!ne.token)throw _n.create("token-subscribe-no-token");return ne.token})).apply(this,arguments)}function Js(I,C){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,P.Z)(function*(I,C){const O=yield Lo(I),F=Vo(C.subscriptionOptions),Y={method:"PATCH",headers:O,body:JSON.stringify(F)};let ne;try{ne=yield(yield fetch(`${Fi(I.appConfig)}/${C.token}`,Y)).json()}catch(ge){throw _n.create("token-update-failed",{errorInfo:ge})}if(ne.error)throw _n.create("token-update-failed",{errorInfo:ne.error.message});if(!ne.token)throw _n.create("token-update-no-token");return ne.token})).apply(this,arguments)}function xa(I,C){return wi.apply(this,arguments)}function wi(){return(wi=(0,P.Z)(function*(I,C){const F={method:"DELETE",headers:yield Lo(I)};try{const ne=yield(yield fetch(`${Fi(I.appConfig)}/${C}`,F)).json();if(ne.error)throw _n.create("token-unsubscribe-failed",{errorInfo:ne.error.message})}catch(Y){throw _n.create("token-unsubscribe-failed",{errorInfo:Y})}})).apply(this,arguments)}function Fi({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function Lo(I){return ft.apply(this,arguments)}function ft(){return(ft=(0,P.Z)(function*({appConfig:I,installations:C}){const O=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function Vo({p256dh:I,auth:C,endpoint:O,vapidKey:F}){const Y={web:{endpoint:O,auth:C,p256dh:I}};return F!==Ks&&(Y.web.applicationPubKey=F),Y}const Tu=6048e5;function Oa(I){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,P.Z)(function*(I){const C=yield hn(I.swRegistration,I.vapidKey),O={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:C.endpoint,auth:Sr(C.getKey("auth")),p256dh:Sr(C.getKey("p256dh"))},F=yield Aa(I.firebaseDependencies);if(F){if(Xs(F.subscriptionOptions,O))return Date.now()>=F.createTime+Tu?Sl(I,{token:F.token,createTime:Date.now(),subscriptionOptions:O}):F.token;try{yield xa(I.firebaseDependencies,F.token)}catch(Y){console.warn(Y)}return Ft(I.firebaseDependencies,O)}return Ft(I.firebaseDependencies,O)})).apply(this,arguments)}function Na(I){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,P.Z)(function*(I){const C=yield Aa(I.firebaseDependencies);C&&(yield xa(I.firebaseDependencies,C.token),yield Cu(I.firebaseDependencies));const O=yield I.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function Sl(I,C){return Se.apply(this,arguments)}function Se(){return(Se=(0,P.Z)(function*(I,C){try{const O=yield Js(I.firebaseDependencies,C),F=Object.assign(Object.assign({},C),{token:O,createTime:Date.now()});return yield Yt(I.firebaseDependencies,F),O}catch(O){throw yield Na(I),O}})).apply(this,arguments)}function Ft(I,C){return Al.apply(this,arguments)}function Al(){return(Al=(0,P.Z)(function*(I,C){const F={token:yield ki(I,C),createTime:Date.now(),subscriptionOptions:C};return yield Yt(I,F),F.token})).apply(this,arguments)}function hn(I,C){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,P.Z)(function*(I,C){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:od(C)})})).apply(this,arguments)}function Xs(I,C){return C.vapidKey===I.vapidKey&&C.endpoint===I.endpoint&&C.auth===I.auth&&C.p256dh===I.p256dh}function ni(I){const C={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function Ra(I,C){if(!C.notification)return;I.notification={};const O=C.notification.title;O&&(I.notification.title=O);const F=C.notification.body;F&&(I.notification.body=F);const Y=C.notification.image;Y&&(I.notification.image=Y)}(C,I),function Ml(I,C){!C.data||(I.data=C.data)}(C,I),function ug(I,C){if(!C.fcmOptions)return;I.fcmOptions={};const O=C.fcmOptions.link;O&&(I.fcmOptions.link=O);const F=C.fcmOptions.analytics_label;F&&(I.fcmOptions.analyticsLabel=F)}(C,I),C}function Su(I){return"object"==typeof I&&!!I&&Ro in I}function Pa(I,C){const O=[];for(let F=0;F<I.length;F++)O.push(I.charAt(F)),F<C.length&&O.push(C.charAt(F));return O.join("")}function Rn(I){return _n.create("missing-app-config-values",{valueName:I})}Pa("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Pa("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Qi{constructor(C,O,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function Au(I){if(!I||!I.options)throw Rn("App Configuration Object");if(!I.name)throw Rn("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:O}=I;for(const F of C)if(!O[F])throw Rn(F);return{appName:I.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:Y,installations:O,analyticsProvider:F}}_delete(){return Promise.resolve()}}function ka(I){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,P.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(id,{scope:vr}),I.swRegistration.update().catch(()=>{})}catch(C){throw _n.create("failed-service-worker-registration",{browserErrorMessage:C.message})}})).apply(this,arguments)}function bi(I,C){return xl.apply(this,arguments)}function xl(){return(xl=(0,P.Z)(function*(I,C){if(!C&&!I.swRegistration&&(yield ka(I)),C||!I.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw _n.create("invalid-sw-registration");I.swRegistration=C}})).apply(this,arguments)}function Mu(I,C){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,P.Z)(function*(I,C){C?I.vapidKey=C:I.vapidKey||(I.vapidKey=Ks)})).apply(this,arguments)}function Fa(){return(Fa=(0,P.Z)(function*(I,C){if(!navigator)throw _n.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw _n.create("permission-blocked");return yield Mu(I,null==C?void 0:C.vapidKey),yield bi(I,null==C?void 0:C.serviceWorkerRegistration),Oa(I)})).apply(this,arguments)}function Bo(I,C,O){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,P.Z)(function*(I,C,O){const F=La(C);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:O[Ro],message_name:O[sd],message_time:O[Wh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function La(I){switch(I){case Po.NOTIFICATION_CLICKED:return"notification_open";case Po.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Rl(){return(Rl=(0,P.Z)(function*(I,C){const O=C.data;if(!O.isFirebaseMessaging)return;I.onMessageHandler&&O.messageType===Po.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(ni(O)):I.onMessageHandler.next(ni(O)));const F=O.data;Su(F)&&"1"===F[dn]&&(yield Bo(I,O.messageType,F))})).apply(this,arguments)}const jo="@firebase/messaging",ud=I=>{const C=new Qi(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function lg(I,C){return Rl.apply(this,arguments)}(C,O)),C},$o=I=>{const C=I.getProvider("messaging").getImmediate();return{getToken:F=>function xu(I,C){return Fa.apply(this,arguments)}(C,F)}};function Ho(){return Li.apply(this,arguments)}function Li(){return(Li=(0,P.Z)(function*(){try{yield(0,re.eu)()}catch(I){return!1}return"undefined"!=typeof window&&(0,re.hl)()&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ld(){(0,ae._registerComponent)(new pe.wA("messaging",ud,"PUBLIC")),(0,ae._registerComponent)(new pe.wA("messaging-internal",$o,"PRIVATE")),(0,ae.registerVersion)(jo,"0.9.13"),(0,ae.registerVersion)(jo,"0.9.13","esm2017")}();const cd="analytics",cg="firebase_id",Ji="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Go="https://www.googletagmanager.com/gtag/js",Kn=new ue.Yd("@firebase/analytics");function Qh(I){return Promise.all(I.map(C=>C.catch(O=>O)))}function eo(I,C){const O=document.createElement("script");O.src=`${Go}?l=${I}&id=${C}`,O.async=!0,document.head.appendChild(O)}function hd(I,C,O,F,Y,ne){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,P.Z)(function*(I,C,O,F,Y,ne){const ge=F[Y];try{if(ge)yield C[ge];else{const Tt=(yield Qh(O)).find(dt=>dt.measurementId===Y);Tt&&(yield C[Tt.appId])}}catch(Ve){Kn.error(Ve)}I("config",Y,ne)})).apply(this,arguments)}function Ru(I,C,O,F,Y){return to.apply(this,arguments)}function to(){return(to=(0,P.Z)(function*(I,C,O,F,Y){try{let ne=[];if(Y&&Y.send_to){let ge=Y.send_to;Array.isArray(ge)||(ge=[ge]);const Ve=yield Qh(O);for(const Tt of ge){const dt=Ve.find(wt=>wt.measurementId===Tt),$t=dt&&C[dt.appId];if(!$t){ne=[];break}ne.push($t)}}0===ne.length&&(ne=Object.values(C)),yield Promise.all(ne),I("event",F,Y||{})}catch(ne){Kn.error(ne)}})).apply(this,arguments)}function fn(){const I=window.document.getElementsByTagName("script");for(const C of Object.values(I))if(C.src&&C.src.includes(Go))return C;return null}const et=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Pl=new class Un{constructor(C={},O=1e3){this.throttleMetadata=C,this.intervalMillis=O}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,O){this.throttleMetadata[C]=O}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function pd(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function Ui(I){return kl.apply(this,arguments)}function kl(){return(kl=(0,P.Z)(function*(I){var C;const{appId:O,apiKey:F}=I,Y={method:"GET",headers:pd(F)},ne=Ji.replace("{app-id}",O),ge=yield fetch(ne,Y);if(200!==ge.status&&304!==ge.status){let Ve="";try{const Tt=yield ge.json();(null===(C=Tt.error)||void 0===C?void 0:C.message)&&(Ve=Tt.error.message)}catch(Tt){}throw et.create("config-fetch-failed",{httpStatus:ge.status,responseMessage:Ve})}return ge.json()})).apply(this,arguments)}function on(I){return ja.apply(this,arguments)}function ja(){return(ja=(0,P.Z)(function*(I,C=Pl,O){const{appId:F,apiKey:Y,measurementId:ne}=I.options;if(!F)throw et.create("no-app-id");if(!Y){if(ne)return{measurementId:ne,appId:F};throw et.create("no-api-key")}const ge=C.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ve=new md;return setTimeout((0,P.Z)(function*(){Ve.abort()}),void 0!==O?O:6e4),Di({appId:F,apiKey:Y,measurementId:ne},ge,Ve,C)})).apply(this,arguments)}function Di(I,C,O){return St.apply(this,arguments)}function St(){return(St=(0,P.Z)(function*(I,{throttleEndTimeMillis:C,backoffCount:O},F,Y=Pl){const{appId:ne,measurementId:ge}=I;try{yield Pu(F,C)}catch(Ve){if(ge)return Kn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ge} provided in the "measurementId" field in the local Firebase config. [${Ve.message}]`),{appId:ne,measurementId:ge};throw Ve}try{const Ve=yield Ui(I);return Y.deleteThrottleMetadata(ne),Ve}catch(Ve){if(!gd(Ve)){if(Y.deleteThrottleMetadata(ne),ge)return Kn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ge} provided in the "measurementId" field in the local Firebase config. [${Ve.message}]`),{appId:ne,measurementId:ge};throw Ve}const Tt=503===Number(Ve.customData.httpStatus)?(0,re.$s)(O,Y.intervalMillis,30):(0,re.$s)(O,Y.intervalMillis),dt={throttleEndTimeMillis:Date.now()+Tt,backoffCount:O+1};return Y.setThrottleMetadata(ne,dt),Kn.debug(`Calling attemptFetch again in ${Tt} millis`),Di(I,dt,F,Y)}})).apply(this,arguments)}function Pu(I,C){return new Promise((O,F)=>{const Y=Math.max(C-Date.now(),0),ne=setTimeout(O,Y);I.addEventListener(()=>{clearTimeout(ne),F(et.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}function gd(I){if(!(I instanceof re.ZR&&I.customData))return!1;const C=Number(I.customData.httpStatus);return 429===C||500===C||503===C||504===C}class md{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}function Fl(){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,P.Z)(function*(){if(!(0,re.hl)())return Kn.warn(et.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(I){return Kn.warn(et.create("indexeddb-unavailable",{errorInfo:I}).message),!1}return!0})).apply(this,arguments)}function zo(){return(zo=(0,P.Z)(function*(I,C,O,F,Y,ne,ge){var Ve;const Tt=on(I);Tt.then(Qn=>{O[Qn.measurementId]=Qn.appId,I.options.measurementId&&Qn.measurementId!==I.options.measurementId&&Kn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${Qn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Qn=>Kn.error(Qn)),C.push(Tt);const dt=Fl().then(Qn=>{if(Qn)return F.getId()}),[$t,wt]=yield Promise.all([Tt,dt]);fn()||eo(ne,$t.measurementId),Y("js",new Date);const Er=null!==(Ve=null==ge?void 0:ge.config)&&void 0!==Ve?Ve:{};return Er.origin="firebase",Er.update=!0,null!=wt&&(Er[cg]=wt),Y("config",$t.measurementId,Er),$t.measurementId})).apply(this,arguments)}class Ts{constructor(C){this.app=C}_delete(){return delete ur[this.app.options.appId],Promise.resolve()}}let ur={},ku=[];const Bi={};let Zo,no,Wo="dataLayer",Ko=!1;function $a(I,C,O){!function Qo(){const I=[];if((0,re.ru)()&&I.push("This is a browser extension environment."),(0,re.zI)()||I.push("Cookies are not available."),I.length>0){const C=I.map((F,Y)=>`(${Y+1}) ${F}`).join(" "),O=et.create("invalid-analytics-context",{errorInfo:C});Kn.warn(O.message)}}();const F=I.options.appId;if(!F)throw et.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw et.create("no-api-key");Kn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ur[F])throw et.create("already-exists",{id:F});if(!Ko){!function Ou(I){let C=[];Array.isArray(window[I])?C=window[I]:window[I]=C}(Wo);const{wrappedGtag:ne,gtagCore:ge}=function dg(I,C,O,F,Y){let ne=function(...ge){window[F].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(ne=window[Y]),window[Y]=function fd(I,C,O,F){function ne(){return(ne=(0,P.Z)(function*(ge,Ve,Tt){try{"event"===ge?yield Ru(I,C,O,Ve,Tt):"config"===ge?yield hd(I,C,O,F,Ve,Tt):I("set",Ve)}catch(dt){Kn.error(dt)}})).apply(this,arguments)}return function Y(ge,Ve,Tt){return ne.apply(this,arguments)}}(ne,I,C,O),{gtagCore:ne,wrappedGtag:window[Y]}}(ur,ku,Bi,Wo,"gtag");no=ne,Zo=ge,Ko=!0}return ur[F]=function qo(I,C,O,F,Y,ne,ge){return zo.apply(this,arguments)}(I,ku,Bi,C,Zo,Wo,O),new Ts(I)}function lr(){return(lr=(0,P.Z)(function*(I,C,O,F,Y){if(Y&&Y.global)I("event",O,F);else{const ne=yield C;I("event",O,Object.assign(Object.assign({},F),{send_to:ne}))}})).apply(this,arguments)}function Lu(){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,P.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch(I){return!1}})).apply(this,arguments)}const Gr="@firebase/analytics";!function Ms(){(0,ae._registerComponent)(new pe.wA(cd,(C,{options:O})=>$a(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,ae._registerComponent)(new pe.wA("analytics-internal",function I(C){try{const O=C.getProvider(cd).getImmediate();return{logEvent:(F,Y,ne)=>function Jo(I,C,O,F){I=(0,re.m9)(I),function As(I,C,O,F,Y){return lr.apply(this,arguments)}(no,ur[I.app.options.appId],C,O,F).catch(Y=>Kn.error(Y))}(O,F,Y,ne)}}catch(O){throw et.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,ae.registerVersion)(Gr,"0.7.9"),(0,ae.registerVersion)(Gr,"0.7.9","esm2017")}();var so=R(4408),vn=R(7565);const oo=new class Ll extends vn.v{}(class Vu extends so.o{constructor(C,O){super(C,O),this.scheduler=C,this.work=O}schedule(C,O=0){return O>0?super.schedule(C,O):(this.delay=O,this.state=C,this.scheduler.flush(this),this)}execute(C,O){return O>0||this.closed?super.execute(C,O):this._execute(C,O)}requestAsyncId(C,O,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(C,O,F):C.flush(this)}});var Vl=R(4986),si=R(8505),oi=R(9468),Xo=R(5363);const ao=new h.GfV("7.3.0"),uo="__angularfire_symbol__analyticsIsSupportedValue",ea="__angularfire_symbol__analyticsIsSupported",lo="__angularfire_symbol__remoteConfigIsSupportedValue",es="__angularfire_symbol__remoteConfigIsSupported",Ga="__angularfire_symbol__messagingIsSupportedValue",Pt="__angularfire_symbol__messagingIsSupported";function pg(I,C,O){if(C){if(1===C.length)return C[0];const ne=C.filter(ge=>ge.app===O);if(1===ne.length)return ne[0]}return O.container.getProvider(I).getImmediate({optional:!0})}globalThis[ea]||(globalThis[ea]=Lu().then(I=>globalThis[uo]=I).catch(()=>globalThis[uo]=!1)),globalThis[Pt]||(globalThis[Pt]=Ho().then(I=>globalThis[Ga]=I).catch(()=>globalThis[Ga]=!1)),globalThis[es]||(globalThis[es]=Iu().then(I=>globalThis[lo]=I).catch(()=>globalThis[lo]=!1));const _d=(I,C)=>{const O=C?[C]:(0,X.C6)(),F=[];return O.forEach(Y=>{Y.container.getProvider(I).instances.forEach(ge=>{F.includes(ge)||F.push(ge)})}),F};function Os(){}class Ii{constructor(C,O=oo){this.zone=C,this.delegate=O}now(){return this.delegate.now()}schedule(C,O,F){const Y=this.zone;return this.delegate.schedule(function(ge){Y.runGuarded(()=>{C.apply(this,[ge])})},O,F)}}class Bu{constructor(C){this.zone=C,this.task=null}call(C,O){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Os,{},Os,Os)),O.pipe((0,si.b)({next:F,complete:F,error:F})).subscribe(C).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let vd=(()=>{class I{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new Ii(Zone.current)),this.insideAngular=O.run(()=>new Ii(Zone.current,Vl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(O){return new(O||I)(h.LFG(h.R0b))},I.\u0275prov=h.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Hi(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function ta(I){return Hi(),function na(I){return function(O){return(O=O.lift(new Bu(I.ngZone))).pipe((0,oi.R)(I.outsideAngular),(0,Xo.Q)(I.insideAngular))}}(Hi())(I)}},2090:(Xe,we,R)=>{R.d(we,{BH:()=>qe,LL:()=>oe,ZR:()=>me,zI:()=>Z,US:()=>pe,tV:()=>ce,L:()=>se,$s:()=>jt,r3:()=>Dr,Sg:()=>Me,ne:()=>Si,vZ:()=>Yr,ZB:()=>B,pd:()=>ys,m9:()=>yr,z$:()=>Ne,jU:()=>Ce,ru:()=>ze,d:()=>Te,xb:()=>Vt,w1:()=>Ee,hl:()=>j,uI:()=>Ue,UG:()=>he,b$:()=>Ye,G6:()=>je,Mn:()=>De,xO:()=>Ir,zd:()=>Ti,eu:()=>ve});const ae=function(V){const G=[];let q=0;for(let Ie=0;Ie<V.length;Ie++){let H=V.charCodeAt(Ie);H<128?G[q++]=H:H<2048?(G[q++]=H>>6|192,G[q++]=63&H|128):55296==(64512&H)&&Ie+1<V.length&&56320==(64512&V.charCodeAt(Ie+1))?(H=65536+((1023&H)<<10)+(1023&V.charCodeAt(++Ie)),G[q++]=H>>18|240,G[q++]=H>>12&63|128,G[q++]=H>>6&63|128,G[q++]=63&H|128):(G[q++]=H>>12|224,G[q++]=H>>6&63|128,G[q++]=63&H|128)}return G},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(V,G){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ie=[];for(let H=0;H<V.length;H+=3){const J=V[H],Oe=H+1<V.length,Je=Oe?V[H+1]:0,ht=H+2<V.length,Ct=ht?V[H+2]:0;let $n=(15&Je)<<2|Ct>>6,Cr=63&Ct;ht||(Cr=64,Oe||($n=64)),Ie.push(q[J>>2],q[(3&J)<<4|Je>>4],q[$n],q[Cr])}return Ie.join("")},encodeString(V,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(V):this.encodeByteArray(ae(V),G)},decodeString(V,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(V):function(V){const G=[];let q=0,Ie=0;for(;q<V.length;){const H=V[q++];if(H<128)G[Ie++]=String.fromCharCode(H);else if(H>191&&H<224){const J=V[q++];G[Ie++]=String.fromCharCode((31&H)<<6|63&J)}else if(H>239&&H<365){const ht=((7&H)<<18|(63&V[q++])<<12|(63&V[q++])<<6|63&V[q++])-65536;G[Ie++]=String.fromCharCode(55296+(ht>>10)),G[Ie++]=String.fromCharCode(56320+(1023&ht))}else{const J=V[q++],Oe=V[q++];G[Ie++]=String.fromCharCode((15&H)<<12|(63&J)<<6|63&Oe)}}return G.join("")}(this.decodeStringToByteArray(V,G))},decodeStringToByteArray(V,G){this.init_();const q=G?this.charToByteMapWebSafe_:this.charToByteMap_,Ie=[];for(let H=0;H<V.length;){const J=q[V.charAt(H++)],Je=H<V.length?q[V.charAt(H)]:0;++H;const Ct=H<V.length?q[V.charAt(H)]:64;++H;const Et=H<V.length?q[V.charAt(H)]:64;if(++H,null==J||null==Je||null==Ct||null==Et)throw Error();Ie.push(J<<2|Je>>4),64!==Ct&&(Ie.push(Je<<4&240|Ct>>2),64!==Et&&Ie.push(Ct<<6&192|Et))}return Ie},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}},se=function(V){return function(V){const G=ae(V);return pe.encodeByteArray(G,!0)}(V).replace(/\./g,"")},ce=function(V){try{return pe.decodeString(V,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function B(V,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===V&&(V={});break;case Array:V=[];break;default:return G}for(const q in G)!G.hasOwnProperty(q)||!te(q)||(V[q]=B(V[q],G[q]));return V}function te(V){return"__proto__"!==V}class qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,q)=>{this.resolve=G,this.reject=q})}wrapCallback(G){return(q,Ie)=>{q?this.reject(q):this.resolve(Ie),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(q):G(q,Ie))}}}function Me(V,G){if(V.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ie=G||"demo-project",H=V.iat||0,J=V.sub||V.user_id;if(!J)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Oe=Object.assign({iss:`https://securetoken.google.com/${Ie}`,aud:Ie,iat:H,exp:H+3600,auth_time:H,sub:J,user_id:J,firebase:{sign_in_provider:"custom",identities:{}}},V);return[se(JSON.stringify({alg:"none",type:"JWT"})),se(JSON.stringify(Oe)),""].join(".")}function Ne(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ue(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function he(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(V){return!1}}function Ce(){return"object"==typeof self&&self.self===self}function ze(){const V="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof V&&void 0!==V.id}function Ye(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Te(){return Ne().indexOf("Electron/")>=0}function Ee(){const V=Ne();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function De(){return Ne().indexOf("MSAppHost/")>=0}function je(){return!he()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j(){return"object"==typeof indexedDB}function ve(){return new Promise((V,G)=>{try{let q=!0;const Ie="validate-browser-context-for-indexeddb-analytics-module",H=self.indexedDB.open(Ie);H.onsuccess=()=>{H.result.close(),q||self.indexedDB.deleteDatabase(Ie),V(!0)},H.onupgradeneeded=()=>{q=!1},H.onerror=()=>{var J;G((null===(J=H.error)||void 0===J?void 0:J.message)||"")}}catch(q){G(q)}})}function Z(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class me extends Error{constructor(G,q,Ie){super(q),this.code=G,this.customData=Ie,this.name="FirebaseError",Object.setPrototypeOf(this,me.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oe.prototype.create)}}class oe{constructor(G,q,Ie){this.service=G,this.serviceName=q,this.errors=Ie}create(G,...q){const Ie=q[0]||{},H=`${this.service}/${G}`,J=this.errors[G],Oe=J?function Re(V,G){return V.replace(lt,(q,Ie)=>{const H=G[Ie];return null!=H?String(H):`<${Ie}?>`})}(J,Ie):"Error";return new me(H,`${this.serviceName}: ${Oe} (${H}).`,Ie)}}const lt=/\{\$([^}]+)}/g;function Dr(V,G){return Object.prototype.hasOwnProperty.call(V,G)}function Vt(V){for(const G in V)if(Object.prototype.hasOwnProperty.call(V,G))return!1;return!0}function Yr(V,G){if(V===G)return!0;const q=Object.keys(V),Ie=Object.keys(G);for(const H of q){if(!Ie.includes(H))return!1;const J=V[H],Oe=G[H];if(pr(J)&&pr(Oe)){if(!Yr(J,Oe))return!1}else if(J!==Oe)return!1}for(const H of Ie)if(!q.includes(H))return!1;return!0}function pr(V){return null!==V&&"object"==typeof V}function Ir(V){const G=[];for(const[q,Ie]of Object.entries(V))Array.isArray(Ie)?Ie.forEach(H=>{G.push(encodeURIComponent(q)+"="+encodeURIComponent(H))}):G.push(encodeURIComponent(q)+"="+encodeURIComponent(Ie));return G.length?"&"+G.join("&"):""}function Ti(V){const G={};return V.replace(/^\?/,"").split("&").forEach(Ie=>{if(Ie){const[H,J]=Ie.split("=");G[decodeURIComponent(H)]=decodeURIComponent(J)}}),G}function ys(V){const G=V.indexOf("?");if(!G)return"";const q=V.indexOf("#",G);return V.substring(G,q>0?q:void 0)}function Si(V,G){const q=new yt(V,G);return q.subscribe.bind(q)}class yt{constructor(G,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{G(this)}).catch(Ie=>{this.error(Ie)})}next(G){this.forEachObserver(q=>{q.next(G)})}error(G){this.forEachObserver(q=>{q.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,q,Ie){let H;if(void 0===G&&void 0===q&&void 0===Ie)throw new Error("Missing Observer.");H=function In(V,G){if("object"!=typeof V||null===V)return!1;for(const q of G)if(q in V&&"function"==typeof V[q])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:q,complete:Ie},void 0===H.next&&(H.next=xn),void 0===H.error&&(H.error=xn),void 0===H.complete&&(H.complete=xn);const J=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?H.error(this.finalError):H.complete()}catch(Oe){}}),this.observers.push(H),J}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,G)}sendOne(G,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{q(this.observers[G])}catch(Ie){"undefined"!=typeof console&&console.error&&console.error(Ie)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xn(){}function jt(V,G=1e3,q=2){const Ie=G*Math.pow(q,V),H=Math.round(.5*Ie*(Math.random()-.5)*2);return Math.min(144e5,Ie+H)}function yr(V){return V&&V._delegate?V._delegate:V}},3796:(Xe,we,R)=>{var h=R(5e3);let X=null;function P(){return X}const ue=new h.OlP("DocumentToken");let se=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function ce(){return(0,h.LFG)(B)}()},providedIn:"platform"}),n})();const $=new h.OlP("Location Initialized");let B=(()=>{class n extends se{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,s){te()?this._history.pushState(t,r,s):this.location.hash=s}replaceState(t,r,s){te()?this._history.replaceState(t,r,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ue))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function qe(){return new B((0,h.LFG)(ue))}()},providedIn:"platform"}),n})();function te(){return!!window.history.pushState}function Me(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ne(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ue(n){return n&&"?"!==n[0]?"?"+n:n}let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function Ce(n){const e=(0,h.LFG)(ue).location;return new Ye((0,h.LFG)(se),e&&e.origin||"")}()},providedIn:"root"}),n})();const ze=new h.OlP("appBaseHref");let Ye=(()=>{class n extends he{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Me(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ue(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${r}${s}`:r}pushState(t,r,s,u){const c=this.prepareExternalUrl(s+Ue(u));this._platformLocation.pushState(t,r,c)}replaceState(t,r,s,u){const c=this.prepareExternalUrl(s+Ue(u));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,s;null===(s=(r=this._platformLocation).historyGo)||void 0===s||s.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(se),h.LFG(ze,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Te=(()=>{class n extends he{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Me(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,s,u){let c=this.prepareExternalUrl(s+Ue(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,s,u){let c=this.prepareExternalUrl(s+Ue(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,s;null===(s=(r=this._platformLocation).historyGo)||void 0===s||s.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(se),h.LFG(ze,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Ee=(()=>{class n{constructor(t,r){this._subject=new h.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const s=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ne(je(s)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ue(r))}normalize(t){return n.stripTrailingSlash(function $e(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,je(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",s=null){this._platformStrategy.pushState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ue(r)),s)}replaceState(t,r="",s=null){this._platformStrategy.replaceState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ue(r)),s)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,s;null===(s=(r=this._platformStrategy).historyGo)||void 0===s||s.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(s=>s(t,r))}subscribe(t,r,s){return this._subject.subscribe({next:t,error:r,complete:s})}}return n.normalizeQueryParams=Ue,n.joinWithSlash=Me,n.stripTrailingSlash=Ne,n.\u0275fac=function(t){return new(t||n)(h.LFG(he),h.LFG(se))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function De(){return new Ee((0,h.LFG)(he),(0,h.LFG)(se))}()},providedIn:"root"}),n})();function je(n){return n.replace(/\/index.html$/,"")}class Es{constructor(e,t,r,s){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Nn=(()=>{class n{constructor(t,r,s){this._viewContainer=t,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((s,u,c)=>{if(null==s.previousIndex)r.createEmbeddedView(this._template,new Es(s.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===u?void 0:u);else if(null!==u){const p=r.get(u);r.move(p,c),Zs(p,s)}});for(let s=0,u=r.length;s<u;s++){const p=r.get(s).context;p.index=s,p.count=u,p.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{Zs(r.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Zs(n,e){n.context.$implicit=e.item}let qn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new tn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){bu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){bu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class tn{constructor(){this.$implicit=null,this.ngIf=null}}function bu(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}class bs{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Xc{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const ig=new Xc,Ki=new bs;let Oo=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,h.QGY)(t))return ig;if((0,h.F4k)(t))return Ki;throw function _r(n,e){return new h.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.sBO,16))},n.\u0275pipe=h.Yjl({name:"async",type:n,pure:!1}),n})(),dn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function ko(n){return"server"===n}let bl=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new Fo((0,h.LFG)(ue),window)}),n})();class Fo{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Pi(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const u=s.shadowRoot;if(u){const c=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(c)return c}s=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],s-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Dl(this.window.history)||Dl(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Dl(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Qs extends class Aa extends class pe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function re(n){X||(X=n)}(new Qs)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Ma(){return Yt=Yt||document.querySelector("base"),Yt?Yt.getAttribute("href"):null}();return null==t?null:function Is(n){Cu=Cu||document.createElement("a"),Cu.setAttribute("href",n);const e=Cu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Yt=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Ca(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[s,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(s.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let Cu,Yt=null;const or=new h.OlP("TRANSITION_ID"),_n=[{provide:h.ip1,useFactory:function Il(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const r=P(),s=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<s.length;u++)r.remove(s[u])})}},deps:[or,ue,h.zs3],multi:!0}];class ki{static init(){(0,h.VLi)(new ki)}addToWindow(e){h.dqk.getAngularTestability=(r,s=!0)=>{const u=e.findTestabilityInTree(r,s);if(null==u)throw new Error("Could not find testability for element.");return u},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const s=h.dqk.getAllAngularTestabilities();let u=s.length,c=!1;const p=function(v){c=c||v,u--,0==u&&r(c)};s.forEach(function(v){v.whenStable(p)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const s=e.getTestability(t);return null!=s?s:r?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let ar=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Js=new h.OlP("EventManagerPlugins");let Yi=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(s=>s.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,s){return this._findPluginFor(r).addEventListener(t,r,s)}addGlobalEventListener(t,r,s){return this._findPluginFor(r).addGlobalEventListener(t,r,s)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const s=this._plugins;for(let u=0;u<s.length;u++){const c=s[u];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Js),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class xa{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const s=P().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,r)}}let wi=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),r.add(s))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Fi=(()=>{class n extends wi{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,s){t.forEach(u=>{const c=this._doc.createElement("style");c.textContent=u,s.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Lo),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,s)=>{this._addStylesToHost(t,s,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Lo))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ue))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Lo(n){P().remove(n)}const ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Vo=/%COMP%/g;function Se(n,e,t){for(let r=0;r<e.length;r++){let s=e[r];Array.isArray(s)?Se(n,s,t):(s=s.replace(Vo,n),t.push(s))}return t}function Ft(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let hn=(()=>{class n{constructor(t,r,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new Uo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case h.ifc.Emulated:{let s=this.rendererByCompId.get(r.id);return s||(s=new Ra(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,s)),s.applyToHost(t),s}case 1:case h.ifc.ShadowDom:return new Ml(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const s=Se(r.id,r.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Yi),h.LFG(Fi),h.LFG(h.AFp))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Uo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ft[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,s){if(s){t=s+":"+t;const u=ft[s];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const s=ft[r];s?e.removeAttributeNS(s,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,s){s&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,s&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ft(r)):this.eventManager.addEventListener(e,t,Ft(r))}}class Ra extends Uo{constructor(e,t,r,s){super(e),this.component=r;const u=Se(s+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function Tl(n){return"_ngcontent-%COMP%".replace(Vo,n)}(s+"-"+r.id),this.hostAttr=function Sl(n){return"_nghost-%COMP%".replace(Vo,n)}(s+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Ml extends Uo{constructor(e,t,r,s){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Se(s.id,s.styles,[]);for(let c=0;c<u.length;c++){const p=document.createElement("style");p.textContent=u[c],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ug=(()=>{class n extends xa{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,s){return t.addEventListener(r,s,!1),()=>this.removeEventListener(t,r,s)}removeEventListener(t,r,s){return t.removeEventListener(r,s)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ue))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Su=["alt","control","meta","shift"],Au={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Rn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Qi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ka=(()=>{class n extends xa{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,s){const u=n.parseEventName(r),c=n.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,u.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const u=n._normalizeKey(r.pop());let c="";if(Su.forEach(v=>{const D=r.indexOf(v);D>-1&&(r.splice(D,1),c+=v+".")}),c+=u,0!=r.length||0===u.length)return null;const p={};return p.domEventName=s,p.fullKey=c,p}static getEventFullKey(t){let r="",s=function Cs(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Rn.hasOwnProperty(e)&&(e=Rn[e]))}return Au[e]||e}(t);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),Su.forEach(u=>{u!=s&&Qi[u](t)&&(r+=u+".")}),r+=s,r}static eventCallback(t,r,s){return u=>{n.getEventFullKey(u)===t&&s.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ue))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const xu=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function bi(){Qs.makeCurrent(),ki.init()},multi:!0},{provide:ue,useFactory:function Mu(){return(0,h.RDi)(document),document},deps:[]}]),Fa=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function xl(){return new h.qLn},deps:[]},{provide:Js,useClass:ug,multi:!0,deps:[ue,h.R0b,h.Lbi]},{provide:Js,useClass:ka,multi:!0,deps:[ue]},{provide:hn,useClass:hn,deps:[Yi,Fi,h.AFp]},{provide:h.FYo,useExisting:hn},{provide:wi,useExisting:Fi},{provide:Fi,useClass:Fi,deps:[ue]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b]},{provide:Yi,useClass:Yi,deps:[Js,h.R0b]},{provide:class nn{},useClass:ar,deps:[]}];let Bo=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:or,useExisting:h.AFp},_n]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(n,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:Fa,imports:[dn,h.hGG]}),n})();"undefined"!=typeof window&&window;var fn=R(8996),Ba=R(7669);function et(...n){const e=(0,Ba.yG)(n);return(0,fn.D)(n,e)}var ri=R(7579);class Mr extends ri.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Un=R(8306);const{isArray:Pl}=Array,{getPrototypeOf:pd,prototype:Ui,keys:kl}=Object;function on(n){if(1===n.length){const e=n[0];if(Pl(e))return{args:e,keys:null};if(function ja(n){return n&&"object"==typeof n&&pd(n)===Ui}(e)){const t=kl(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Di=R(4671),St=R(4004);const{isArray:Pu}=Array;function md(n){return(0,St.U)(e=>function gd(n,e){return Pu(e)?n(...e):n(e)}(n,e))}function Fl(n,e){return n.reduce((t,r,s)=>(t[r]=e[s],t),{})}var Pn=R(5403),qo=R(9672);function ur(n,e,t){n?(0,qo.f)(t,n,e):e()}var ku=R(576);function Bi(n,e){const t=(0,ku.m)(n)?n:()=>n,r=s=>s.error(t());return new Un.y(e?s=>e.schedule(r,0,s):r)}const Ss=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Zo=R(8189);function Ko(...n){return function no(){return(0,Zo.J)(1)}()((0,fn.D)(n,(0,Ba.yG)(n)))}var Yo=R(8421);function Qo(n){return new Un.y(e=>{(0,Yo.Xf)(n()).subscribe(e)})}var $a=R(515),As=R(727),lr=R(4482);function ro(){return(0,lr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Pn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const s=n._connection,u=t;t=null,s&&(!u||s===u)&&s.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Fu extends Un.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,lr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new As.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Pn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=As.w0.EMPTY)}return e}refCount(){return ro()(this)}}function pn(n,e){return(0,lr.e)((t,r)=>{let s=null,u=0,c=!1;const p=()=>c&&!s&&r.complete();t.subscribe((0,Pn.x)(r,v=>{null==s||s.unsubscribe();let D=0;const A=u++;(0,Yo.Xf)(n(v,A)).subscribe(s=(0,Pn.x)(r,x=>r.next(e?e(v,x,A,D++):x),()=>{s=null,p()}))},()=>{c=!0,p()}))})}var io=R(5698);function ji(...n){const e=(0,Ba.yG)(n);return(0,lr.e)((t,r)=>{(e?Ko(n,t,e):Ko(n,t)).subscribe(r)})}function Xi(n,e,t,r,s){return(u,c)=>{let p=t,v=e,D=0;u.subscribe((0,Pn.x)(c,A=>{const x=D++;v=p?n(v,A,x):(p=!0,A),r&&c.next(v)},s&&(()=>{p&&c.next(v),c.complete()})))}}function $i(n,e){return(0,lr.e)(Xi(n,e,arguments.length>=2,!0))}function xr(n,e){return(0,lr.e)((t,r)=>{let s=0;t.subscribe((0,Pn.x)(r,u=>n.call(e,u,s++)&&r.next(u)))})}function ii(n){return(0,lr.e)((e,t)=>{let u,r=null,s=!1;r=e.subscribe((0,Pn.x)(t,void 0,void 0,c=>{u=(0,Yo.Xf)(n(c,ii(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):s=!0})),s&&(r.unsubscribe(),r=null,u.subscribe(t))})}var Tn=R(5577);function Lu(n,e){return(0,ku.m)(e)?(0,Tn.z)(n,e,1):(0,Tn.z)(n,1)}function Ha(n){return n<=0?()=>$a.E:(0,lr.e)((e,t)=>{let r=[];e.subscribe((0,Pn.x)(t,s=>{r.push(s),n<r.length&&r.shift()},()=>{for(const s of r)t.next(s);t.complete()},void 0,()=>{r=null}))})}function gn(n=hg){return(0,lr.e)((e,t)=>{let r=!1;e.subscribe((0,Pn.x)(t,s=>{r=!0,t.next(s)},()=>r?t.complete():t.error(n())))})}function hg(){return new Ss}function fg(n){return(0,lr.e)((e,t)=>{let r=!1;e.subscribe((0,Pn.x)(t,s=>{r=!0,t.next(s)},()=>{r||t.next(n),t.complete()}))})}function Jo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?xr((s,u)=>n(s,u,r)):Di.y,(0,io.q)(1),t?fg(e):gn(()=>new Ss))}var Gr=R(8505);class Ms{constructor(e,t){this.id=e,this.url=t}}class so extends Ms{constructor(e,t,r="imperative",s=null){super(e,t),this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vu extends Ms{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vn extends Ms{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ll extends Ms{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class oo extends Ms{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xy extends Ms{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vl extends Ms{constructor(e,t,r,s,u){super(e,t),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class si extends Ms{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oi extends Ms{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xo{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ao{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class uo{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ea{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lo{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class es{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ga{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Pt="primary";class Uu{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Yn(n){return new Uu(n)}const qa="ngNavigationCancelingError";function xs(n){const e=Error("NavigationCancelingError: "+n);return e[qa]=!0,e}function _d(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const s={};for(let u=0;u<r.length;u++){const c=r[u],p=n[u];if(c.startsWith(":"))s[c.substring(1)]=p;else if(c!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:s}}function Ii(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let s;for(let u=0;u<t.length;u++)if(s=t[u],!Bu(n[s],e[s]))return!1;return!0}function Bu(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((s,u)=>r[u]===s)}return n===e}function vd(n){return Array.prototype.concat.apply([],n)}function Hi(n){return n.length>0?n[n.length-1]:null}function an(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function cr(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,fn.D)(Promise.resolve(n)):et(n)}const ta={exact:function I(n,e,t){if(!dt(n.segments,e.segments)||!Y(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!I(n.children[r],e.children[r],t))return!1;return!0},subset:O},na={exact:function Ed(n,e){return Ii(n,e)},subset:function C(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Bu(n[t],e[t]))},ignored:()=>!0};function co(n,e,t){return ta[t.paths](n.root,e.root,t.matrixParams)&&na[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function O(n,e,t){return F(n,e,e.segments,t)}function F(n,e,t,r){if(n.segments.length>t.length){const s=n.segments.slice(0,t.length);return!(!dt(s,t)||e.hasChildren()||!Y(s,t,r))}if(n.segments.length===t.length){if(!dt(n.segments,t)||!Y(n.segments,t,r))return!1;for(const s in e.children)if(!n.children[s]||!O(n.children[s],e.children[s],r))return!1;return!0}{const s=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(dt(n.segments,s)&&Y(n.segments,s,r)&&n.children[Pt])&&F(n.children[Pt],e,u,r)}}function Y(n,e,t){return e.every((r,s)=>na[t](n[s].parameters,r.parameters))}class ne{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yn(this.queryParams)),this._queryParamMap}toString(){return Qn.serialize(this)}}class ge{constructor(e,t){this.segments=e,this.children=t,this.parent=null,an(t,(r,s)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ts(this)}}class Ve{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Yn(this.parameters)),this._parameterMap}toString(){return Hu(this)}}function dt(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class wt{}class Er{parse(e){const t=new Ry(e);return new ne(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${qr(e.root,!0)}`,r=function mg(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(s=>`${ui(t)}=${ui(s)}`).join("&"):`${ui(t)}=${ui(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function li(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Qn=new Er;function ts(n){return n.segments.map(e=>Hu(e)).join("/")}function qr(n,e){if(!n.hasChildren())return ts(n);if(e){const t=n.children[Pt]?qr(n.children[Pt],!1):"",r=[];return an(n.children,(s,u)=>{u!==Pt&&r.push(`${u}:${qr(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function $t(n,e){let t=[];return an(n.children,(r,s)=>{s===Pt&&(t=t.concat(e(r,s)))}),an(n.children,(r,s)=>{s!==Pt&&(t=t.concat(e(r,s)))}),t}(n,(r,s)=>s===Pt?[qr(n.children[Pt],!1)]:[`${s}:${qr(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Pt]?`${ts(n)}/${t[0]}`:`${ts(n)}/(${t.join("//")})`}}function ai(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ui(n){return ai(n).replace(/%3B/gi,";")}function ju(n){return ai(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $u(n){return decodeURIComponent(n)}function Bl(n){return $u(n.replace(/\+/g,"%20"))}function Hu(n){return`${ju(n.path)}${function gg(n){return Object.keys(n).map(e=>`;${ju(e)}=${ju(n[e])}`).join("")}(n.parameters)}`}const Jh=/^[^\/()?;=#]+/;function ho(n){const e=n.match(Jh);return e?e[0]:""}const jl=/^[^=?&#]+/,yg=/^[^&#]+/;class Ry{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Pt]=new ge(e,t)),r}parseSegment(){const e=ho(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Ve($u(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ho(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=ho(this.remaining);s&&(r=s,this.capture(r))}e[$u(t)]=$u(r)}parseQueryParam(e){const t=function Ny(n){const e=n.match(jl);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function _g(n){const e=n.match(yg);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const s=Bl(t),u=Bl(r);if(e.hasOwnProperty(s)){let c=e[s];Array.isArray(c)||(c=[c],e[s]=c),c.push(u)}else e[s]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ho(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Pt);const c=this.parseChildren();t[u]=1===Object.keys(c).length?c[Pt]:new ge([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class vg{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Xh(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Xh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Gu(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return Gu(e,this._root).map(t=>t.value)}}function Xh(n,e){if(n===e.value)return e;for(const t of e.children){const r=Xh(n,t);if(r)return r}return null}function Gu(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Gu(n,t);if(r.length)return r.unshift(e),r}return[]}class fo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function po(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class wd extends vg{constructor(e,t){super(e),this.snapshot=t,Dd(this,e)}toString(){return this.snapshot.toString()}}function za(n,e){const t=function Py(n,e){const c=new ra([],{},{},"",{},Pt,e,null,n.root,-1,{});return new ef("",new fo(c,[]))}(n,e),r=new Mr([new Ve("",{})]),s=new Mr({}),u=new Mr({}),c=new Mr({}),p=new Mr(""),v=new qu(r,s,c,p,u,Pt,e,t.root);return v.snapshot=t.root,new wd(new fo(v,[]),t)}class qu{constructor(e,t,r,s,u,c,p,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=c,this.component=p,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,St.U)(e=>Yn(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,St.U)(e=>Yn(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ky(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const s=t[r],u=t[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(u.component)break;r--}}return function bd(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ra{constructor(e,t,r,s,u,c,p,v,D,A,x){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=c,this.component=p,this.routeConfig=v,this._urlSegment=D,this._lastPathIndex=A,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Yn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ef extends vg{constructor(e,t){super(t),this.url=e,Dd(this,t)}toString(){return tf(this._root)}}function Dd(n,e){e.value._routerState=n,e.children.forEach(t=>Dd(n,t))}function tf(n){const e=n.children.length>0?` { ${n.children.map(tf).join(", ")} } `:"";return`${n.value}${e}`}function Id(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ii(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ii(e.params,t.params)||n.params.next(t.params),function Os(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ii(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ii(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function nf(n,e){const t=Ii(n.params,e.params)&&function Tt(n,e){return dt(n,e)&&n.every((t,r)=>Ii(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||nf(n.parent,e.parent))}function $l(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const s=function Fy(n,e,t){return e.children.map(r=>{for(const s of t.children)if(n.shouldReuseRoute(r.value,s.value.snapshot))return $l(n,r,s);return $l(n,r)})}(n,e,t);return new fo(r,s)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const c=u.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(p=>$l(n,p)),c}}const r=function Ly(n){return new qu(new Mr(n.url),new Mr(n.params),new Mr(n.queryParams),new Mr(n.fragment),new Mr(n.data),n.outlet,n.component,n)}(e.value),s=e.children.map(u=>$l(n,u));return new fo(r,s)}}function Ns(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Hl(n){return"object"==typeof n&&null!=n&&n.outlets}function Cd(n,e,t,r,s){let u={};if(r&&an(r,(p,v)=>{u[v]=Array.isArray(p)?p.map(D=>`${D}`):`${p}`}),n===e)return new ne(t,u,s);const c=Vy(n,e,t);return new ne(c,u,s)}function Vy(n,e,t){const r={};return an(n.children,(s,u)=>{r[u]=s===e?t:Vy(s,e,t)}),new ge(n.segments,r)}class wg{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ns(r[0]))throw new Error("Root segment cannot have matrix parameters");const s=r.find(Hl);if(s&&s!==Hi(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Td{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Cg(n,e,t){if(n||(n=new ge([],{})),0===n.segments.length&&n.hasChildren())return Sd(n,e,t);const r=function Y0(n,e,t){let r=0,s=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(r>=t.length)return u;const c=n.segments[s],p=t[r];if(Hl(p))break;const v=`${p}`,D=r<t.length-1?t[r+1]:null;if(s>0&&void 0===v)break;if(v&&D&&"object"==typeof D&&void 0===D.outlets){if(!ns(v,D,c))return u;r+=2}else{if(!ns(v,{},c))return u;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(n,e,t),s=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new ge(n.segments.slice(0,r.pathIndex),{});return u.children[Pt]=new ge(n.segments.slice(r.pathIndex),n.children),Sd(u,0,s)}return r.match&&0===s.length?new ge(n.segments,{}):r.match&&!n.hasChildren()?Tg(n,e,t):r.match?Sd(n,0,s):Tg(n,e,t)}function Sd(n,e,t){if(0===t.length)return new ge(n.segments,{});{const r=function Ig(n){return Hl(n[0])?n[0].outlets:{[Pt]:n}}(t),s={};return an(r,(u,c)=>{"string"==typeof u&&(u=[u]),null!==u&&(s[c]=Cg(n.children[c],e,u))}),an(n.children,(u,c)=>{void 0===r[c]&&(s[c]=u)}),new ge(n.segments,s)}}function Tg(n,e,t){const r=n.segments.slice(0,e);let s=0;for(;s<t.length;){const u=t[s];if(Hl(u)){const v=Rs(u.outlets);return new ge(r,v)}if(0===s&&Ns(t[0])){r.push(new Ve(n.segments[e].path,rf(t[0]))),s++;continue}const c=Hl(u)?u.outlets[Pt]:`${u}`,p=s<t.length-1?t[s+1]:null;c&&p&&Ns(p)?(r.push(new Ve(c,rf(p))),s+=2):(r.push(new Ve(c,{})),s++)}return new ge(r,{})}function Rs(n){const e={};return an(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Tg(new ge([],{}),0,t))}),e}function rf(n){const e={};return an(n,(t,r)=>e[r]=`${t}`),e}function ns(n,e,t){return n==t.path&&Ii(e,t.parameters)}class Sg{constructor(e,t,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Id(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const s=po(t);e.children.forEach(u=>{const c=u.value.outlet;this.deactivateRoutes(u,s[c],r),delete s[c]}),an(s,(u,c)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(s===u)if(s.component){const c=r.getContext(s.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=po(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],s);if(r&&r.outlet){const c=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=po(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],s);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const s=po(t);e.children.forEach(u=>{this.activateRoutes(u,s[u.value.outlet],r),this.forwardEvent(new es(u.value.snapshot))}),e.children.length&&this.forwardEvent(new ea(e.value.snapshot))}activateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(Id(s),s===u)if(s.component){const c=r.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(s.component){const c=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const p=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),c.children.onOutletReAttached(p.contexts),c.attachRef=p.componentRef,c.route=p.route.value,c.outlet&&c.outlet.attach(p.componentRef,p.route.value),Id(p.route.value),this.activateChildRoutes(e,null,c.children)}else{const p=function Ad(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(s.snapshot),v=p?p.module.componentFactoryResolver:null;c.attachRef=null,c.route=s,c.resolver=v,c.outlet&&c.outlet.activateWith(s,v),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class Md{constructor(e,t){this.routes=e,this.module=t}}function Za(n){return"function"==typeof n}function zu(n){return n instanceof ne}const xd=Symbol("INITIAL_VALUE");function Wu(){return pn(n=>function zo(...n){const e=(0,Ba.yG)(n),t=(0,Ba.jO)(n),{args:r,keys:s}=on(n);if(0===r.length)return(0,fn.D)([],e);const u=new Un.y(function Ts(n,e,t=Di.y){return r=>{ur(e,()=>{const{length:s}=n,u=new Array(s);let c=s,p=s;for(let v=0;v<s;v++)ur(e,()=>{const D=(0,fn.D)(n[v],e);let A=!1;D.subscribe((0,Pn.x)(r,x=>{u[v]=x,A||(A=!0,p--),p||r.next(t(u.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,s?c=>Fl(s,c):Di.y));return t?u.pipe(md(t)):u}(n.map(e=>e.pipe((0,io.q)(1),ji(xd)))).pipe($i((e,t)=>{let r=!1;return t.reduce((s,u,c)=>s!==xd?s:(u===xd&&(r=!0),r||!1!==u&&c!==t.length-1&&!zu(u)?s:u),e)},xd),xr(e=>e!==xd),(0,St.U)(e=>zu(e)?e:!0===e),(0,io.q)(1)))}class Uy{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Zu,this.attachRef=null}}class Zu{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Uy,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let ql=(()=>{class n{constructor(t,r,s,u,c){this.parentContexts=t,this.location=r,this.resolver=s,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.name=u||Pt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const c=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),p=this.parentContexts.getOrCreateContext(this.name).children,v=new By(t,p,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,v),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Zu),h.Y36(h.s_b),h.Y36(h._Vd),h.$8M("name"),h.Y36(h.sBO))},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class By{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===qu?this.route:e===Zu?this.childContexts:this.parent.get(e,t)}}let af=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},directives:[ql],encapsulation:2}),n})();function Ka(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];uf(r,lf(e,r))}}function uf(n,e){n.children&&Ka(n.children,e)}function lf(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function cf(n){const e=n.children&&n.children.map(cf),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Pt&&(t.component=af),t}function qt(n){return n.outlet||Pt}function Mg(n,e){const t=n.filter(r=>qt(r)===e);return t.push(...n.filter(r=>qt(r)!==e)),t}const xg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ku(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},xg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const u=(e.matcher||_d)(t,n,e);if(!u)return Object.assign({},xg);const c={};an(u.posParams,(v,D)=>{c[D]=v.path});const p=u.consumed.length>0?Object.assign(Object.assign({},c),u.consumed[u.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:u.consumed,remainingSegments:t.slice(u.consumed.length),parameters:p,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function Yu(n,e,t,r,s="corrected"){if(t.length>0&&function Hy(n,e,t){return t.some(r=>Ya(n,e,r)&&qt(r)!==Pt)}(n,t,r)){const c=new ge(e,function $y(n,e,t,r){const s={};s[Pt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&qt(u)!==Pt){const c=new ge([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,s[qt(u)]=c}return s}(n,e,r,new ge(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function Gy(n,e,t){return t.some(r=>Ya(n,e,r))}(n,t,r)){const c=new ge(n.segments,function jy(n,e,t,r,s,u){const c={};for(const p of r)if(Ya(n,t,p)&&!s[qt(p)]){const v=new ge([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===u?n.segments.length:e.length,c[qt(p)]=v}return Object.assign(Object.assign({},s),c)}(n,e,t,r,n.children,s));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const u=new ge(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function Ya(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function qy(n,e,t,r){return!!(qt(n)===r||r!==Pt&&Ya(e,t,n))&&("**"===n.path||Ku(e,n,t).matched)}function Og(n,e,t){return 0===e.length&&!n.children[t]}class sa{constructor(e){this.segmentGroup=e||null}}class Or{constructor(e){this.urlTree=e}}function Qa(n){return Bi(new sa(n))}function df(n){return Bi(new Or(n))}class Od{constructor(e,t,r,s,u){this.configLoader=t,this.urlSerializer=r,this.urlTree=s,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(h.h0i)}apply(){const e=Yu(this.urlTree.root,[],[],this.config).segmentGroup,t=new ge(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Pt).pipe((0,St.U)(u=>this.createUrlTree(zl(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ii(u=>{if(u instanceof Or)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof sa?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Pt).pipe((0,St.U)(s=>this.createUrlTree(zl(s),e.queryParams,e.fragment))).pipe(ii(s=>{throw s instanceof sa?this.noMatchError(s):s}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const s=e.segments.length>0?new ge([],{[Pt]:e}):e;return new ne(s,t,r)}expandSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,St.U)(u=>new ge([],u))):this.expandSegment(e,r,t,r.segments,s,!0)}expandChildren(e,t,r){const s=[];for(const u of Object.keys(r.children))"primary"===u?s.unshift(u):s.push(u);return(0,fn.D)(s).pipe(Lu(u=>{const c=r.children[u],p=Mg(t,u);return this.expandSegmentGroup(e,p,c,u).pipe((0,St.U)(v=>({segment:v,outlet:u})))}),$i((u,c)=>(u[c.outlet]=c.segment,u),{}),function My(n,e){const t=arguments.length>=2;return r=>r.pipe(n?xr((s,u)=>n(s,u,r)):Di.y,Ha(1),t?fg(e):gn(()=>new Ss))}())}expandSegment(e,t,r,s,u,c){return(0,fn.D)(r).pipe(Lu(p=>this.expandSegmentAgainstRoute(e,t,r,p,s,u,c).pipe(ii(D=>{if(D instanceof sa)return et(null);throw D}))),Jo(p=>!!p),ii((p,v)=>{if(p instanceof Ss||"EmptyError"===p.name)return Og(t,s,u)?et(new ge([],{})):Qa(t);throw p}))}expandSegmentAgainstRoute(e,t,r,s,u,c,p){return qy(s,t,u,c)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(e,t,s,u,c):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,c):Qa(t):Qa(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,c){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,s,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,s){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?df(u):this.lineralizeSegments(r,u).pipe((0,Tn.z)(c=>{const p=new ge(c,{});return this.expandSegment(e,p,t,c,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,c){const{matched:p,consumedSegments:v,remainingSegments:D,positionalParamSegments:A}=Ku(t,s,u);if(!p)return Qa(t);const x=this.applyRedirectCommands(v,s.redirectTo,A);return s.redirectTo.startsWith("/")?df(x):this.lineralizeSegments(s,x).pipe((0,Tn.z)(L=>this.expandSegment(e,t,r,L.concat(D),c,!1)))}matchSegmentAgainstRoute(e,t,r,s,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?et(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,St.U)(x=>(r._loadedConfig=x,new ge(s,{})))):et(new ge(s,{}));const{matched:c,consumedSegments:p,remainingSegments:v}=Ku(t,r,s);return c?this.getChildConfig(e,r,s).pipe((0,Tn.z)(A=>{const x=A.module,L=A.routes,{segmentGroup:z,slicedSegments:K}=Yu(t,p,v,L),ye=new ge(z.segments,z.children);if(0===K.length&&ye.hasChildren())return this.expandChildren(x,L,ye).pipe((0,St.U)(Dt=>new ge(p,Dt)));if(0===L.length&&0===K.length)return et(new ge(p,{}));const Pe=qt(r)===u;return this.expandSegment(x,ye,L,K,Pe?Pt:u,!0).pipe((0,St.U)(mt=>new ge(p.concat(mt.segments),mt.children)))})):Qa(t)}getChildConfig(e,t,r){return t.children?et(new Md(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?et(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Tn.z)(s=>s?this.configLoader.load(e.injector,t).pipe((0,St.U)(u=>(t._loadedConfig=u,u))):function dr(n){return Bi(xs(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):et(new Md([],e))}runCanLoadGuards(e,t,r){const s=t.canLoad;return s&&0!==s.length?et(s.map(c=>{const p=e.get(c);let v;if(function sf(n){return n&&Za(n.canLoad)}(p))v=p.canLoad(t,r);else{if(!Za(p))throw new Error("Invalid CanLoad guard");v=p(t,r)}return cr(v)})).pipe(Wu(),(0,Gr.b)(c=>{if(!zu(c))return;const p=xs(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw p.url=c,p}),(0,St.U)(c=>!0===c)):et(!0)}lineralizeSegments(e,t){let r=[],s=t.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return et(r);if(s.numberOfChildren>1||!s.children[Pt])return Bi(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));s=s.children[Pt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,s){const u=this.createSegmentGroup(e,t.root,r,s);return new ne(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return an(e,(s,u)=>{if("string"==typeof s&&s.startsWith(":")){const p=s.substring(1);r[u]=t[p]}else r[u]=s}),r}createSegmentGroup(e,t,r,s){const u=this.createSegments(e,t.segments,r,s);let c={};return an(t.children,(p,v)=>{c[v]=this.createSegmentGroup(e,p,r,s)}),new ge(u,c)}createSegments(e,t,r,s){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,s):this.findOrReturn(u,r))}findPosParam(e,t,r){const s=r[t.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return s}findOrReturn(e,t){let r=0;for(const s of t){if(s.path===e.path)return t.splice(r),s;r++}return e}}function zl(n){const e={};for(const r of Object.keys(n.children)){const u=zl(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function zy(n){if(1===n.numberOfChildren&&n.children[Pt]){const e=n.children[Pt];return new ge(n.segments.concat(e.segments),e.children)}return n}(new ge(n.segments,e))}class ci{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class go{constructor(e,t){this.component=e,this.route=t}}function Rg(n,e,t){const r=n._root;return Xa(r,e?e._root:null,t,[r.value])}function Qu(n,e,t){const r=function ff(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Xa(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=po(e);return n.children.forEach(c=>{(function kg(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,c=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(c&&u.routeConfig===c.routeConfig){const v=function Wy(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!dt(n.url,e.url);case"pathParamsOrQueryParamsChange":return!dt(n.url,e.url)||!Ii(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nf(n,e)||!Ii(n.queryParams,e.queryParams);default:return!nf(n,e)}}(c,u,u.routeConfig.runGuardsAndResolvers);v?s.canActivateChecks.push(new ci(r)):(u.data=c.data,u._resolvedData=c._resolvedData),Xa(n,e,u.component?p?p.children:null:t,r,s),v&&p&&p.outlet&&p.outlet.isActivated&&s.canDeactivateChecks.push(new go(p.outlet.component,c))}else c&&di(e,p,s),s.canActivateChecks.push(new ci(r)),Xa(n,null,u.component?p?p.children:null:t,r,s)})(c,u[c.value.outlet],t,r.concat([c.value]),s),delete u[c.value.outlet]}),an(u,(c,p)=>di(c,t.getContext(p),s)),s}function di(n,e,t){const r=po(n),s=n.value;an(r,(u,c)=>{di(u,s.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new go(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}class Vg{}function Ps(n){return new Un.y(e=>e.error(n))}class Ug{constructor(e,t,r,s,u,c){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=c}recognize(){const e=Yu(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Pt);if(null===t)return null;const r=new ra([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Pt,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new fo(r,t),u=new ef(this.url,s);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=ky(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const c=t.children[u],p=Mg(e,u),v=this.processSegmentGroup(p,c,u);if(null===v)return null;r.push(...v)}const s=jg(r);return function Bg(n){n.sort((e,t)=>e.value.outlet===Pt?-1:t.value.outlet===Pt?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}processSegment(e,t,r,s){for(const u of e){const c=this.processSegmentAgainstRoute(u,t,r,s);if(null!==c)return c}return Og(t,r,s)?[]:null}processSegmentAgainstRoute(e,t,r,s){if(e.redirectTo||!qy(e,t,r,s))return null;let u,c=[],p=[];if("**"===e.path){const z=r.length>0?Hi(r).parameters:{};u=new ra(r,z,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,y(e),qt(e),e.component,e,eu(t),rs(t)+r.length,f(e))}else{const z=Ku(t,e,r);if(!z.matched)return null;c=z.consumedSegments,p=z.remainingSegments,u=new ra(c,z.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,y(e),qt(e),e.component,e,eu(t),rs(t)+c.length,f(e))}const v=function Yy(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:D,slicedSegments:A}=Yu(t,c,p,v.filter(z=>void 0===z.redirectTo),this.relativeLinkResolution);if(0===A.length&&D.hasChildren()){const z=this.processChildren(v,D);return null===z?null:[new fo(u,z)]}if(0===v.length&&0===A.length)return[new fo(u,[])];const x=qt(e)===s,L=this.processSegment(v,D,A,x?Pt:s);return null===L?null:[new fo(u,L)]}}function mf(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function jg(n){const e=[],t=new Set;for(const r of n){if(!mf(r)){e.push(r);continue}const s=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==s?(s.children.push(...r.children),t.add(s)):e.push(r)}for(const r of t){const s=jg(r.children);e.push(new fo(r.value,s))}return e.filter(r=>!t.has(r))}function eu(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function rs(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function y(n){return n.data||{}}function f(n){return n.resolve||{}}function W(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Le(n){return pn(e=>{const t=n(e);return t?(0,fn.D)(t).pipe((0,St.U)(()=>e)):et(e)})}class ct extends class _t{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Sn=new h.OlP("ROUTES");class fi{constructor(e,t,r,s){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=s}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const s=this.loadModuleFactory(t.loadChildren).pipe((0,St.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const c=u.create(e);return new Md(vd(c.injector.get(Sn,void 0,h.XFs.Self|h.XFs.Optional)).map(cf),c)}),ii(u=>{throw t._loader$=void 0,u}));return t._loader$=new Fu(s,()=>new ri.x).pipe(ro()),t._loader$}loadModuleFactory(e){return cr(e()).pipe((0,Tn.z)(t=>t instanceof h.YKP?et(t):(0,fn.D)(this.compiler.compileModuleAsync(t))))}}class Qy{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function oa(n){throw n}function Rd(n,e,t){return e.parse("/")}function Pd(n,e){return et(null)}const yf={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Nr=(()=>{class n{constructor(t,r,s,u,c,p,v){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=s,this.location=u,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ri.x,this.errorHandler=oa,this.malformedUriErrorHandler=Rd,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Pd,afterPreactivation:Pd},this.urlHandlingStrategy=new Qy,this.routeReuseStrategy=new ct,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(h.h0i),this.console=c.get(h.c2e);const x=c.get(h.R0b);this.isNgZoneEnabled=x instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=function Oy(){return new ne(new ge([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new fi(c,p,L=>this.triggerEvent(new Xo(L)),L=>this.triggerEvent(new ao(L))),this.routerState=za(this.currentUrlTree,this.rootComponentType),this.transitions=new Mr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(xr(s=>0!==s.id),(0,St.U)(s=>Object.assign(Object.assign({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),pn(s=>{let u=!1,c=!1;return et(s).pipe((0,Gr.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.currentRawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),pn(p=>{const v=this.browserUrlTree.toString(),D=!this.navigated||p.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return vf(p.source)&&(this.browserUrlTree=p.extractedUrl),et(p).pipe(pn(x=>{const L=this.transitions.getValue();return r.next(new so(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),L!==this.transitions.getValue()?$a.E:Promise.resolve(x)}),function Ng(n,e,t,r){return pn(s=>function Ja(n,e,t,r,s){return new Od(n,e,t,r,s).apply()}(n,e,t,s.extractedUrl,r).pipe((0,St.U)(u=>Object.assign(Object.assign({},s),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Gr.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function m(n,e,t,r,s){return(0,Tn.z)(u=>function Wl(n,e,t,r,s="emptyOnly",u="legacy"){try{const c=new Ug(n,e,t,r,s,u).recognize();return null===c?Ps(new Vg):et(c)}catch(c){return Ps(c)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,s).pipe((0,St.U)(c=>Object.assign(Object.assign({},u),{targetSnapshot:c}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Gr.b)(x=>{if("eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const z=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(z,x)}this.browserUrlTree=x.urlAfterRedirects}const L=new oo(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);r.next(L)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:L,extractedUrl:z,source:K,restoredState:ye,extras:Pe}=p,pt=new so(L,this.serializeUrl(z),K,ye);r.next(pt);const mt=za(z,this.rootComponentType).snapshot;return et(Object.assign(Object.assign({},p),{targetSnapshot:mt,urlAfterRedirects:z,extras:Object.assign(Object.assign({},Pe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=p.rawUrl,p.resolve(null),$a.E}),Le(p=>{const{targetSnapshot:v,id:D,extractedUrl:A,rawUrl:x,extras:{skipLocationChange:L,replaceUrl:z}}=p;return this.hooks.beforePreactivation(v,{navigationId:D,appliedUrlTree:A,rawUrlTree:x,skipLocationChange:!!L,replaceUrl:!!z})}),(0,Gr.b)(p=>{const v=new xy(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(v)}),(0,St.U)(p=>Object.assign(Object.assign({},p),{guards:Rg(p.targetSnapshot,p.currentSnapshot,this.rootContexts)})),function Fg(n,e){return(0,Tn.z)(t=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:u,canDeactivateChecks:c}}=t;return 0===c.length&&0===u.length?et(Object.assign(Object.assign({},t),{guardsResult:!0})):function Zy(n,e,t,r){return(0,fn.D)(n).pipe((0,Tn.z)(s=>function gf(n,e,t,r,s){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?et(u.map(p=>{const v=Qu(p,e,s);let D;if(function Q0(n){return n&&Za(n.canDeactivate)}(v))D=cr(v.canDeactivate(n,e,t,r));else{if(!Za(v))throw new Error("Invalid CanDeactivate guard");D=cr(v(n,e,t,r))}return D.pipe(Jo())})).pipe(Wu()):et(!0)}(s.component,s.route,t,e,r)),Jo(s=>!0!==s,!0))}(c,r,s,n).pipe((0,Tn.z)(p=>p&&function Ag(n){return"boolean"==typeof n}(p)?function Nd(n,e,t,r){return(0,fn.D)(e).pipe(Lu(s=>Ko(function Lg(n,e){return null!==n&&e&&e(new uo(n)),et(!0)}(s.route.parent,r),function Ky(n,e){return null!==n&&e&&e(new lo(n)),et(!0)}(s.route,r),function pf(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(c=>function Pg(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Qo(()=>et(c.guards.map(v=>{const D=Qu(v,c.node,t);let A;if(function of(n){return n&&Za(n.canActivateChild)}(D))A=cr(D.canActivateChild(r,n));else{if(!Za(D))throw new Error("Invalid CanActivateChild guard");A=cr(D(r,n))}return A.pipe(Jo())})).pipe(Wu())));return et(u).pipe(Wu())}(n,s.path,t),function hi(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return et(!0);const s=r.map(u=>Qo(()=>{const c=Qu(u,e,t);let p;if(function Gl(n){return n&&Za(n.canActivate)}(c))p=cr(c.canActivate(e,n));else{if(!Za(c))throw new Error("Invalid CanActivate guard");p=cr(c(e,n))}return p.pipe(Jo())}));return et(s).pipe(Wu())}(n,s.route,t))),Jo(s=>!0!==s,!0))}(r,u,n,e):et(p)),(0,St.U)(p=>Object.assign(Object.assign({},t),{guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),(0,Gr.b)(p=>{if(zu(p.guardsResult)){const D=xs(`Redirecting to "${this.serializeUrl(p.guardsResult)}"`);throw D.url=p.guardsResult,D}const v=new Vl(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(v)}),xr(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,""),!1)),Le(p=>{if(p.guards.canActivateChecks.length)return et(p).pipe((0,Gr.b)(v=>{const D=new si(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(D)}),pn(v=>{let D=!1;return et(v).pipe(function E(n,e){return(0,Tn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=t;if(!s.length)return et(t);let u=0;return(0,fn.D)(s).pipe(Lu(c=>function S(n,e,t,r){return function N(n,e,t,r){const s=W(n);if(0===s.length)return et({});const u={};return(0,fn.D)(s).pipe((0,Tn.z)(c=>function fe(n,e,t,r){const s=Qu(n,e,r);return cr(s.resolve?s.resolve(e,t):s(e,t))}(n[c],e,t,r).pipe((0,Gr.b)(p=>{u[c]=p}))),Ha(1),(0,Tn.z)(()=>W(u).length===s.length?et(u):$a.E))}(n._resolve,n,e,r).pipe((0,St.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),ky(n,t).resolve),null)))}(c.route,r,n,e)),(0,Gr.b)(()=>u++),Ha(1),(0,Tn.z)(c=>u===s.length?et(t):$a.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Gr.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(v),this.cancelNavigationTransition(v,"At least one route resolver didn't emit any value."))}}))}),(0,Gr.b)(v=>{const D=new oi(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(D)}))}),Le(p=>{const{targetSnapshot:v,id:D,extractedUrl:A,rawUrl:x,extras:{skipLocationChange:L,replaceUrl:z}}=p;return this.hooks.afterPreactivation(v,{navigationId:D,appliedUrlTree:A,rawUrlTree:x,skipLocationChange:!!L,replaceUrl:!!z})}),(0,St.U)(p=>{const v=function Eg(n,e,t){const r=$l(n,e._root,t?t._root:void 0);return new wd(r,e)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return Object.assign(Object.assign({},p),{targetRouterState:v})}),(0,Gr.b)(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((n,e,t)=>(0,St.U)(r=>(new Sg(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),(0,Gr.b)({next(){u=!0},complete(){u=!0}}),function yd(n){return(0,lr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var p;u||c||this.cancelNavigationTransition(s,`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`),(null===(p=this.currentNavigation)||void 0===p?void 0:p.id)===s.id&&(this.currentNavigation=null)}),ii(p=>{if(c=!0,function pg(n){return n&&n[qa]}(p)){const v=zu(p.url);v||(this.navigated=!0,this.restoreHistory(s,!0));const D=new vn(s.id,this.serializeUrl(s.extractedUrl),p.message);r.next(D),v?setTimeout(()=>{const A=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),x={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||vf(s.source)};this.scheduleNavigation(A,"imperative",null,x,{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const v=new Ll(s.id,this.serializeUrl(s.extractedUrl),p);r.next(v);try{s.resolve(this.errorHandler(p))}catch(D){s.reject(D)}}return $a.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var s;const u={replaceUrl:!0},c=(null===(s=t.state)||void 0===s?void 0:s.navigationId)?t.state:null;if(c){const v=Object.assign({},c);delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(u.state=v)}const p=this.parseUrl(t.url);this.scheduleNavigation(p,r,c,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ka(t),this.config=t.map(cf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:s,queryParams:u,fragment:c,queryParamsHandling:p,preserveFragment:v}=r,D=s||this.routerState.root,A=v?this.currentUrlTree.fragment:c;let x=null;switch(p){case"merge":x=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=u||null}return null!==x&&(x=this.removeEmptyProps(x)),function ia(n,e,t,r,s){if(0===t.length)return Cd(e.root,e.root,e.root,r,s);const u=function K0(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new wg(!0,0,n);let e=0,t=!1;const r=n.reduce((s,u,c)=>{if("object"==typeof u&&null!=u){if(u.outlets){const p={};return an(u.outlets,(v,D)=>{p[D]="string"==typeof v?v.split("/"):v}),[...s,{outlets:p}]}if(u.segmentPath)return[...s,u.segmentPath]}return"string"!=typeof u?[...s,u]:0===c?(u.split("/").forEach((p,v)=>{0==v&&"."===p||(0==v&&""===p?t=!0:".."===p?e++:""!=p&&s.push(p))}),s):[...s,u]},[]);return new wg(t,e,r)}(t);if(u.toRoot())return Cd(e.root,e.root,new ge([],{}),r,s);const c=function bg(n,e,t){if(n.isAbsolute)return new Td(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new Td(u,u===e.root,0)}const r=Ns(n.commands[0])?0:1;return function Dg(n,e,t){let r=n,s=e,u=t;for(;u>s;){if(u-=s,r=r.parent,!r)throw new Error("Invalid number of '../'");s=r.segments.length}return new Td(r,!1,s-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,e,n),p=c.processChildren?Sd(c.segmentGroup,c.index,u.commands):Cg(c.segmentGroup,c.index,u.commands);return Cd(e.root,c.segmentGroup,p,r,s)}(D,this.currentUrlTree,t,x,null!=A?A:null)}navigateByUrl(t,r={skipLocationChange:!1}){const s=zu(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function _f(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return r}isActive(t,r){let s;if(s=!0===r?Object.assign({},yf):!1===r?Object.assign({},kd):r,zu(t))return co(this.currentUrlTree,t,s);const u=this.parseUrl(t);return co(this.currentUrlTree,u,s)}removeEmptyProps(t){return Object.keys(t).reduce((r,s)=>{const u=t[s];return null!=u&&(r[s]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Vu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,s,u,c){var p,v;if(this.disposed)return Promise.resolve(!1);let D,A,x;c?(D=c.resolve,A=c.reject,x=c.promise):x=new Promise((K,ye)=>{D=K,A=ye});const L=++this.navigationId;let z;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),z=s&&s.\u0275routerPageId?s.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(p=this.browserPageId)&&void 0!==p?p:0:(null!==(v=this.browserPageId)&&void 0!==v?v:0)+1):z=0,this.setTransition({id:L,targetPageId:z,source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:D,reject:A,promise:x,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),x.catch(K=>Promise.reject(K))}setBrowserUrl(t,r){const s=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl?this.location.replaceState(s,"",u):this.location.go(s,"",u)}restoreHistory(t,r=!1){var s,u;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)||0===c?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const s=new vn(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function vf(n){return"imperative"!==n}let aa=(()=>{class n{constructor(t,r,s,u,c){this.router=t,this.route=r,this.tabIndexAttribute=s,this.renderer=u,this.el=c,this.commands=null,this.onChanges=new ri.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,s=this.el.nativeElement;null!==t?r.setAttribute(s,"tabindex",t):r.removeAttribute(s,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Ju(this.skipLocationChange),replaceUrl:Ju(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ju(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Nr),h.Y36(qu),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&h.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[h.TTD]}),n})();function Ju(n){return""===n||!!n}class Xy{}class eE{preload(e,t){return et(null)}}let tE=(()=>{class n{constructor(t,r,s,u){this.router=t,this.injector=s,this.preloadingStrategy=u,this.loader=new fi(s,r,v=>t.triggerEvent(new Xo(v)),v=>t.triggerEvent(new ao(v)))}setUpPreloading(){this.subscription=this.router.events.pipe(xr(t=>t instanceof Vu),Lu(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(h.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const s=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const c=u._loadedConfig;s.push(this.processRoutes(c.module,c.routes))}else u.loadChildren&&!u.canLoad?s.push(this.preloadConfig(t,u)):u.children&&s.push(this.processRoutes(t,u.children));return(0,fn.D)(s).pipe((0,Zo.J)(),(0,St.U)(u=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?et(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Tn.z)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Nr),h.LFG(h.Sil),h.LFG(h.zs3),h.LFG(Xy))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),$g=(()=>{class n{constructor(t,r,s={}){this.router=t,this.viewportScroller=r,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof so?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Vu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ga&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Ga(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const is=new h.OlP("ROUTER_CONFIGURATION"),t_=new h.OlP("ROUTER_FORROOT_GUARD"),nE=[Ee,{provide:wt,useClass:Er},{provide:Nr,useFactory:function r_(n,e,t,r,s,u,c={},p,v){const D=new Nr(null,n,e,t,r,s,vd(u));return p&&(D.urlHandlingStrategy=p),v&&(D.routeReuseStrategy=v),function sE(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,D),c.enableTracing&&D.events.subscribe(A=>{var x,L;null===(x=console.group)||void 0===x||x.call(console,`Router Event: ${A.constructor.name}`),console.log(A.toString()),console.log(A),null===(L=console.groupEnd)||void 0===L||L.call(console)}),D},deps:[wt,Zu,Ee,h.zs3,h.Sil,Sn,is,[class Zl{},new h.FiY],[class Ze{},new h.FiY]]},Zu,{provide:qu,useFactory:function Hg(n){return n.routerState.root},deps:[Nr]},tE,eE,class e_{preload(e,t){return t().pipe(ii(()=>et(null)))}},{provide:is,useValue:{enableTracing:!1}}];function yI(){return new h.PXZ("Router",Nr)}let Jn=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[nE,n_(t),{provide:t_,useFactory:iE,deps:[[Nr,new h.FiY,new h.tp0]]},{provide:is,useValue:r||{}},{provide:he,useFactory:rE,deps:[se,[new h.tBr(ze),new h.FiY],is]},{provide:$g,useFactory:_I,deps:[Nr,bl,is]},{provide:Xy,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:eE},{provide:h.PXZ,multi:!0,useFactory:yI},[Fd,{provide:h.ip1,multi:!0,useFactory:oE,deps:[Fd]},{provide:s_,useFactory:i_,deps:[Fd]},{provide:h.tb,multi:!0,useExisting:s_}]]}}static forChild(t){return{ngModule:n,providers:[n_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(t_,8),h.LFG(Nr,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function _I(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new $g(n,e,t)}function rE(n,e,t={}){return t.useHash?new Te(n,e):new Ye(n,e)}function iE(n){return"guarded"}function n_(n){return[{provide:h.deG,multi:!0,useValue:n},{provide:Sn,multi:!0,useValue:n}]}let Fd=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ri.x}appInitializer(){return this.injector.get($,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const s=new Promise(p=>r=p),u=this.injector.get(Nr),c=this.injector.get(is);return"disabled"===c.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?et(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),s})}bootstrapListener(t){const r=this.injector.get(is),s=this.injector.get(tE),u=this.injector.get($g),c=this.injector.get(Nr),p=this.injector.get(h.z2F);t===p.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&c.initialNavigation(),s.setUpPreloading(),u.init(),c.resetRootComponentType(p.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function oE(n){return n.appInitializer.bind(n)}function i_(n){return n.bootstrapListener.bind(n)}const s_=new h.OlP("Router Initializer");let vI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[dn]]}),n})();var aE=R(4986),hr=R(5813);function a_(){return(0,lr.e)((n,e)=>{let t,r=!1;n.subscribe((0,Pn.x)(e,s=>{const u=t;t=s,r&&e.next([u,s]),r=!0}))})}function u_(n,e){return n===e}var nt,ss=R(2011),lE=(R(7092),R(3942)),be=R(5861),Xu=R(9681),qg=R(4859),el=R(1877),At=R(2090),EI="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ua={},l_=l_||{},Nt=EI||self;function zg(){}function Wg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ef(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var c_="closure_uid_"+(1e9*Math.random()>>>0),Rt=0;function cE(n,e,t){return n.call.apply(n.bind,arguments)}function dE(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function Rr(n,e,t){return(Rr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?cE:dE).apply(null,arguments)}function Yl(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function mn(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,s,u){for(var c=Array(arguments.length-2),p=2;p<arguments.length;p++)c[p-2]=arguments[p];return e.prototype[s].apply(r,c)}}function tu(){this.s=this.s,this.o=this.o}var d_={};tu.prototype.s=!1,tu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function wI(n){return Object.prototype.hasOwnProperty.call(n,c_)&&n[c_]||(n[c_]=++Rt)}(this);delete d_[n]}},tu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const la=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Zg=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,s="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in s&&e.call(t,s[u],u,n)};function Kg(n){return Array.prototype.concat.apply([],arguments)}function fE(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function wf(n){return/^[\s\xa0]*$/.test(n)}var zr,DI=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Pr(n,e){return-1!=n.indexOf(e)}function Ld(n,e){return n<e?-1:n>e?1:0}e:{var Yg=Nt.navigator;if(Yg){var Qg=Yg.userAgent;if(Qg){zr=Qg;break e}}zr=""}function pE(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function gE(n){const e={};for(const t in n)e[t]=n[t];return e}var mE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yE(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let u=0;u<mE.length;u++)t=mE[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function h_(n){return h_[" "](n),n}h_[" "]=zg;var p_,n,nA=Pr(zr,"Opera"),Vd=Pr(zr,"Trident")||Pr(zr,"MSIE"),II=Pr(zr,"Edge"),Jg=II||Vd,f_=Pr(zr,"Gecko")&&!(Pr(zr.toLowerCase(),"webkit")&&!Pr(zr,"Edge"))&&!(Pr(zr,"Trident")||Pr(zr,"MSIE"))&&!Pr(zr,"Edge"),CI=Pr(zr.toLowerCase(),"webkit")&&!Pr(zr,"Edge");function Xg(){var n=Nt.document;return n?n.documentMode:void 0}e:{var vE="",EE=(n=zr,f_?/rv:([^\);]+)(\)|;)/.exec(n):II?/Edge\/([\d\.]+)/.exec(n):Vd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):CI?/WebKit\/(\S+)/.exec(n):nA?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(EE&&(vE=EE?EE[1]:""),Vd){var wE=Xg();if(null!=wE&&wE>parseFloat(vE)){p_=String(wE);break e}}p_=vE}var rA={};var sA=Nt.document&&Vd&&(Xg()||parseInt(p_,10))||void 0,oA=function(){if(!Nt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Nt.addEventListener("test",zg,e),Nt.removeEventListener("test",zg,e)}catch(t){}return n}();function Bn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Ql(n,e){if(Bn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(f_){e:{try{h_(e.nodeName);var s=!0;break e}catch(u){}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:SI[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ql.Z.h.call(this)}}Bn.prototype.h=function(){this.defaultPrevented=!0},mn(Ql,Bn);var SI={2:"touch",3:"pen",4:"mouse"};Ql.prototype.h=function(){Ql.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ud="closure_listenable_"+(1e6*Math.random()|0),g_=0;function DE(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=s,this.key=++g_,this.ca=this.fa=!1}function Bd(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function em(n){this.src=n,this.g={},this.h=0}function ca(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],s=la(r,e);(u=0<=s)&&Array.prototype.splice.call(r,s,1),u&&(Bd(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function tm(n,e,t,r){for(var s=0;s<n.length;++s){var u=n[s];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return s}return-1}em.prototype.add=function(n,e,t,r,s){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var c=tm(n,e,r,s);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new DE(e,this.src,u,!!r,s)).fa=t,n.push(e)),e};var m_="closure_lm_"+(1e6*Math.random()|0),bf={};function IE(n,e,t,r,s){if(r&&r.once)return CE(n,e,t,r,s);if(Array.isArray(e)){for(var u=0;u<e.length;u++)IE(n,e[u],t,r,s);return null}return t=__(t),n&&n[Ud]?n.N(e,t,Ef(r)?!!r.capture:!!r,s):y_(n,e,t,!1,r,s)}function y_(n,e,t,r,s,u){if(!e)throw Error("Invalid event type");var c=Ef(s)?!!s.capture:!!s,p=Jl(n);if(p||(n[m_]=p=new em(n)),(t=p.add(e,t,r,c,u)).proxy)return t;if(r=function AI(){var e=$d;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)oA||(s=c),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(nm(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function CE(n,e,t,r,s){if(Array.isArray(e)){for(var u=0;u<e.length;u++)CE(n,e[u],t,r,s);return null}return t=__(t),n&&n[Ud]?n.O(e,t,Ef(r)?!!r.capture:!!r,s):y_(n,e,t,!0,r,s)}function jd(n,e,t,r,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)jd(n,e[u],t,r,s);else r=Ef(r)?!!r.capture:!!r,t=__(t),n&&n[Ud]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=tm(u=n.g[e],t,r,s))&&(Bd(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Jl(n))&&(e=n.g[e.toString()],n=-1,e&&(n=tm(e,t,r,s)),(t=-1<n?e[n]:null)&&tl(t))}function tl(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Ud])ca(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(nm(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Jl(e))?(ca(t,n),0==t.h&&(t.src=null,e[m_]=null)):Bd(n)}}}function nm(n){return n in bf?bf[n]:bf[n]="on"+n}function $d(n,e){if(n.ca)n=!0;else{e=new Ql(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&tl(n),n=t.call(r,e)}return n}function Jl(n){return(n=n[m_])instanceof em?n:null}var nl="__closure_events_fn_"+(1e9*Math.random()>>>0);function __(n){return"function"==typeof n?n:(n[nl]||(n[nl]=function(e){return n.handleEvent(e)}),n[nl])}function wr(){tu.call(this),this.i=new em(this),this.P=this,this.I=null}function kr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Bn(e,n);else if(e instanceof Bn)e.target=e.target||n;else{var s=e;yE(e=new Bn(r,n),s)}if(s=!0,t)for(var u=t.length-1;0<=u;u--){var c=e.g=t[u];s=Hd(c,r,!0,e)&&s}if(s=Hd(c=e.g=n,r,!0,e)&&s,s=Hd(c,r,!1,e)&&s,t)for(u=0;u<t.length;u++)s=Hd(c=e.g=t[u],r,!1,e)&&s}function Hd(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,u=0;u<e.length;++u){var c=e[u];if(c&&!c.ca&&c.capture==t){var p=c.listener,v=c.ia||c.src;c.fa&&ca(n.i,c),s=!1!==p.call(v,r)&&s}}return s&&!r.defaultPrevented}mn(wr,tu),wr.prototype[Ud]=!0,wr.prototype.removeEventListener=function(n,e,t,r){jd(this,n,e,t,r)},wr.prototype.M=function(){if(wr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Bd(t[r]);delete n.g[e],n.h--}}this.I=null},wr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},wr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Df=Nt.JSON.stringify;function TE(){var n=ME;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var sm,SE=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new AE,n=>n.reset());class AE{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function aA(n){Nt.setTimeout(()=>{throw n},0)}function im(n,e){sm||function MI(){var n=Nt.Promise.resolve(void 0);sm=function(){n.then(xI)}}(),om||(sm(),om=!0),ME.add(n,e)}var om=!1,ME=new class rm{constructor(){this.h=this.g=null}add(e,t){const r=SE.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function xI(){for(var n;n=TE();){try{n.h.call(n.g)}catch(t){aA(t)}var e=SE;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}om=!1}function pi(n,e){wr.call(this),this.h=n||1,this.g=e||Nt,this.j=Rr(this.kb,this),this.l=Date.now()}function v_(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function E_(n,e,t){if("function"==typeof n)t&&(n=Rr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Rr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Nt.setTimeout(n,e||0)}function OI(n){n.g=E_(()=>{n.g=null,n.i&&(n.i=!1,OI(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}mn(pi,wr),(nt=pi.prototype).da=!1,nt.S=null,nt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),kr(this,"tick"),this.da&&(v_(this),this.start()))}},nt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},nt.M=function(){pi.Z.M.call(this),v_(this),delete this.g};class uA extends tu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:OI(this)}M(){super.M(),this.g&&(Nt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gd(n){tu.call(this),this.h=n,this.g={}}mn(Gd,tu);var NI=[];function xE(n,e,t,r){Array.isArray(t)||(t&&(NI[0]=t.toString()),t=NI);for(var s=0;s<t.length;s++){var u=IE(e,t[s],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function am(n){pE(n.g,function(e,t){this.g.hasOwnProperty(t)&&tl(e)},n),n.g={}}function If(){this.g=!0}function qd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function kI(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var u=s[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var c=1;c<s.length;c++)s[c]=""}}}return Df(t)}catch(p){return e}}(n,t)+(r?" "+r:"")})}Gd.prototype.M=function(){Gd.Z.M.call(this),am(this)},Gd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},If.prototype.Aa=function(){this.g=!1},If.prototype.info=function(){};var rl={},NE=null;function um(){return NE=NE||new wr}function w_(n){Bn.call(this,rl.Ma,n)}function zd(n){const e=um();kr(e,new w_(e,n))}function RE(n,e){Bn.call(this,rl.STAT_EVENT,n),this.stat=e}function kn(n){const e=um();kr(e,new RE(e,n))}function lm(n,e){Bn.call(this,rl.Na,n),this.size=e}function Cf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Nt.setTimeout(function(){n()},e)}rl.Ma="serverreachability",mn(w_,Bn),rl.STAT_EVENT="statevent",mn(RE,Bn),rl.Na="timingevent",mn(lm,Bn);var cm={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},FI={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function dm(){}function kE(){}dm.prototype.h=null;var D_,Tf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Sf(){Bn.call(this,"d")}function b_(){Bn.call(this,"c")}function Xl(){}function ec(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Gd(this),this.P=I_,this.W=new pi(n=Jg?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new FE}function FE(){this.i=null,this.g="",this.h=!1}mn(Sf,Bn),mn(b_,Bn),mn(Xl,dm),Xl.prototype.g=function(){return new XMLHttpRequest},Xl.prototype.i=function(){return{}},D_=new Xl;var I_=45e3,Af={},Mf={};function C_(n,e,t){n.K=1,n.v=Qd(ru(e)),n.s=t,n.U=!0,LE(n,null)}function LE(n,e){n.F=Date.now(),Wd(n),n.A=ru(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),O_(t.h,"t",r),n.C=0,t=n.l.H,n.h=new FE,n.g=uc(n.l,t?e:null,!n.s),0<n.O&&(n.L=new uA(Rr(n.Ia,n,n.g),n.O)),xE(n.V,n.g,"readystatechange",n.gb),e=n.H?gE(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),zd(1),function RI(n,e,t,r,s,u){n.info(function(){if(n.g)if(u)for(var c="",p=u.split("&"),v=0;v<p.length;v++){var D=p[v].split("=");if(1<D.length){var A=D[0];D=D[1];var x=A.split("_");c=2<=x.length&&"type"==x[1]?c+(A+"=")+D+"&":c+(A+"=redacted&")}}else c=null;else c=u;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function hm(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function LI(n,e,t){let s,r=!0;for(;!n.I&&n.C<t.length;){if(s=VI(n,t),s==Mf){4==e&&(n.o=4,kn(14),r=!1),qd(n.j,n.m,null,"[Incomplete Response]");break}if(s==Af){n.o=4,kn(15),qd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}qd(n.j,n.m,s,null),mo(n,s)}hm(n)&&s!=Mf&&s!=Af&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,kn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),ol(e),e.L=!0,kn(11))):(qd(n.j,n.m,t,"[Invalid Chunked Response]"),il(n),Zd(n))}function VI(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Mf:(t=Number(e.substring(t,r)),isNaN(t)?Af:(r+=1)+t>e.length?Mf:(e=e.substr(r,t),n.C=r+t,e))}function Wd(n){n.Y=Date.now()+n.P,T_(n,n.P)}function T_(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Cf(Rr(n.eb,n),e)}function xf(n){n.B&&(Nt.clearTimeout(n.B),n.B=null)}function Zd(n){0==n.l.G||n.I||ic(n.l,n)}function il(n){xf(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,v_(n.W),am(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function mo(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||gm(t.i,n)))if(t.I=n.N,!n.J&&gm(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(D){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0])e:if(t.u)t.ta=s[1],0<t.ta-t.U&&37500>s[2]&&t.N&&0==t.A&&!t.v&&(t.v=Cf(Rr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;su(t),wm(t)}Vf(t),kn(18)}if(1>=qE(t.i)&&t.ka){try{t.ka()}catch(D){}t.ka=void 0}}else Ls(t,11)}else if((n.J||t.g==n)&&su(t),!wf(e))for(s=t.Ca.g.parse(e),e=0;e<s.length;e++){let D=s[e];if(t.U=D[0],D=D[1],2==t.G)if("c"==D[0]){t.J=D[1],t.la=D[2];const A=D[3];null!=A&&(t.ma=A,t.h.info("VER="+t.ma));const x=D[4];null!=x&&(t.za=x,t.h.info("SVER="+t.za));const L=D[5];null!=L&&"number"==typeof L&&0<L&&(t.K=r=1.5*L,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const z=n.g;if(z){const K=z.g?z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(K){var u=r.i;!u.g&&(Pr(K,"spdy")||Pr(K,"quic")||Pr(K,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(zE(u,u.h),u.h=null))}if(r.D){const ye=z.g?z.g.getResponseHeader("X-HTTP-Session-Id"):null;ye&&(r.sa=ye,Fn(r.F,r.D,ye))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((r=t).oa=ac(r,r.H?r.la:null,r.W),c.J){N_(r.i,c);var p=c,v=r.K;v&&p.setTimeout(v),p.B&&(xf(p),Wd(p)),r.g=c}else as(r);0<t.l.length&&os(t)}else"stop"!=D[0]&&"close"!=D[0]||Ls(t,7);else 3==t.G&&("stop"==D[0]||"close"==D[0]?"stop"==D[0]?Ls(t,7):nc(t):"noop"!=D[0]&&t.j&&t.j.wa(D),t.A=0)}zd(4)}catch(D){}}function S_(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Wg(n)||"string"==typeof n)Zg(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Wg(n)||"string"==typeof n){t=[];for(var r=n.length,s=0;s<r;s++)t.push(s)}else for(s in t=[],r=0,n)t[r++]=s;r=function fm(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Wg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length;for(var u=0;u<s;u++)e.call(void 0,r[u],t&&t[u],n)}}function Kd(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Kd)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function VE(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];nu(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var s={};for(t=e=0;e<n.g.length;)nu(s,r=n.g[e])||(n.g[t++]=r,s[r]=1),e++;n.g.length=t}}function nu(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(nt=ec.prototype).setTimeout=function(n){this.P=n},nt.gb=function(n){n=n.target;const e=this.L;e&&3==iu(n)?e.l():this.Ia(n)},nt.Ia=function(n){try{if(n==this.g)e:{const A=iu(this.g);var e=this.g.Da();const x=this.g.ba();if(!(3>A)&&(3!=A||Jg||this.g&&(this.h.h||this.g.ga()||ew(this.g)))){this.I||4!=A||7==e||zd(8==e||0>=x?3:2),xf(this);var t=this.g.ba();this.N=t;t:if(hm(this)){var r=ew(this.g);n="";var s=r.length,u=4==iu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){il(this),Zd(this);var c="";break t}this.h.i=new Nt.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==s-1});r.splice(0,s),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function PI(n,e,t,r,s,u,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+u+" "+c})}(this.j,this.u,this.A,this.m,this.X,A,t),this.i){if(this.$&&!this.J){t:{if(this.g){var p,v=this.g;if((p=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wf(p)){var D=p;break t}}D=null}if(!(t=D)){this.i=!1,this.o=3,kn(12),il(this),Zd(this);break e}qd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,mo(this,t)}this.U?(LI(this,A,c),Jg&&this.i&&3==A&&(xE(this.V,this.W,"tick",this.fb),this.W.start())):(qd(this.j,this.m,c,null),mo(this,c)),4==A&&il(this),this.i&&!this.I&&(4==A?ic(this.l,this):(this.i=!1,Wd(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,kn(12)):(this.o=0,kn(13)),il(this),Zd(this)}}}catch(A){}},nt.fb=function(){if(this.g){var n=iu(this.g),e=this.g.ga();this.C<e.length&&(xf(this),LI(this,n,e),this.i&&4!=n&&Wd(this))}},nt.cancel=function(){this.I=!0,il(this)},nt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function OE(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(zd(3),kn(17)),il(this),this.o=2,Zd(this)):T_(this,this.Y-n)},(nt=Kd.prototype).R=function(){VE(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},nt.T=function(){return VE(this),this.g.concat()},nt.get=function(n,e){return nu(this.h,n)?this.h[n]:e},nt.set=function(n,e){nu(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},nt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var s=t[r],u=this.get(s);n.call(e,u,s,this)}};var A_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function yo(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof yo){this.g=void 0!==e?e:n.g,Yd(this,n.j),this.s=n.s,Of(this,n.i),Nf(this,n.m),this.l=n.l,e=n.h;var t=new Rf;t.i=e.i,e.g&&(t.g=new Kd(e.g),t.h=e.h),x_(this,t),this.o=n.o}else n&&(t=String(n).match(A_))?(this.g=!!e,Yd(this,t[1]||"",!0),this.s=Jd(t[2]||""),Of(this,t[3]||"",!0),Nf(this,t[4]),this.l=Jd(t[5]||"",!0),x_(this,t[6]||"",!0),this.o=Jd(t[7]||"")):(this.g=!!e,this.h=new Rf(null,this.g))}function ru(n){return new yo(n)}function Yd(n,e,t){n.j=t?Jd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Of(n,e,t){n.i=t?Jd(e,!0):e}function Nf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function x_(n,e,t){e instanceof Rf?(n.h=e,function jE(n,e){e&&!n.j&&(sl(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(ks(this,r),O_(this,s,t))},n)),n.j=e}(n.h,n.g)):(t||(e=da(e,$I)),n.h=new Rf(e,n.g))}function Fn(n,e,t){n.h.set(e,t)}function Qd(n){return Fn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Jd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function da(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,UE),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function UE(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}yo.prototype.toString=function(){var n=[],e=this.j;e&&n.push(da(e,BE,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(da(e,BE,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(da(t,"/"==t.charAt(0)?Xd:jI,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",da(t,HI)),n.join("")};var BE=/[#\/\?@]/g,jI=/[#\?:]/g,Xd=/[#\?]/g,$I=/[#\?@]/g,HI=/#/g;function Rf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function sl(n){n.g||(n.g=new Kd,n.h=0,n.i&&function M_(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var u=n[t].substring(0,r);s=n[t].substring(r+1)}else u=n[t];e(u,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ks(n,e){sl(n),e=tc(n,e),nu(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,nu((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&VE(n)))}function pm(n,e){return sl(n),e=tc(n,e),nu(n.g.h,e)}function O_(n,e,t){ks(n,e),0<t.length&&(n.i=null,n.g.set(tc(n,e),fE(t)),n.h+=t.length)}function tc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function HE(n){this.l=n||GI,n=Nt.PerformanceNavigationTiming?0<(n=Nt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Nt.g&&Nt.g.Ea&&Nt.g.Ea()&&Nt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(nt=Rf.prototype).add=function(n,e){sl(this),this.i=null,n=tc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},nt.forEach=function(n,e){sl(this),this.g.forEach(function(t,r){Zg(t,function(s){n.call(e,s,r,this)},this)},this)},nt.T=function(){sl(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var s=n[r],u=0;u<s.length;u++)t.push(e[r]);return t},nt.R=function(n){sl(this);var e=[];if("string"==typeof n)pm(this,n)&&(e=Kg(e,this.g.get(tc(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Kg(e,n[t])}return e},nt.set=function(n,e){return sl(this),this.i=null,pm(this,n=tc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},nt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},nt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],s=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var c=s;""!==r[u]&&(c+="="+encodeURIComponent(String(r[u]))),n.push(c)}}return this.i=n.join("&")};var GI=10;function GE(n){return!!n.h||!!n.g&&n.g.size>=n.j}function qE(n){return n.h?1:n.g?n.g.size:0}function gm(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function zE(n,e){n.g?n.g.add(e):n.h=e}function N_(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function WE(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return fE(n.i)}function R_(){}function lA(){this.g=new R_}function cA(n,e,t){const r=t||"";try{S_(n,function(s,u){let c=s;Ef(s)&&(c=Df(s)),e.push(r+u+"="+encodeURIComponent(c))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function mm(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch(u){}}function eh(n){this.l=n.$b||null,this.j=n.ib||!1}function Pf(n,e){wr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=ZE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}HE.prototype.cancel=function(){if(this.i=WE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},R_.prototype.stringify=function(n){return Nt.JSON.stringify(n,void 0)},R_.prototype.parse=function(n){return Nt.JSON.parse(n,void 0)},mn(eh,dm),eh.prototype.g=function(){return new Pf(this.l,this.j)},eh.prototype.i=function(n){return function(){return n}}({}),mn(Pf,wr);var ZE=0;function Fs(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function ym(n){n.readyState=4,n.l=null,n.j=null,n.A=null,_m(n)}function _m(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(nt=Pf.prototype).open=function(n,e){if(this.readyState!=ZE)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,_m(this)},nt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Nt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},nt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ym(this)),this.readyState=ZE},nt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,_m(this)),this.g&&(this.readyState=3,_m(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Nt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fs(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},nt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ym(this):_m(this),3==this.readyState&&Fs(this)}},nt.Ua=function(n){this.g&&(this.response=this.responseText=n,ym(this))},nt.Ta=function(n){this.g&&(this.response=n,ym(this))},nt.ha=function(){this.g&&ym(this)},nt.setRequestHeader=function(n,e){this.v.append(n,e)},nt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},nt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Pf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var KE=Nt.JSON.parse;function Xn(n){wr.call(this),this.headers=new Kd,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=k_,this.K=this.L=!1}mn(Xn,wr);var k_="",qI=/^https?$/i,dA=["POST","PUT"];function F_(n){return"content-type"==n.toLowerCase()}function QE(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,vm(n),Em(n)}function vm(n){n.D||(n.D=!0,kr(n,"complete"),kr(n,"error"))}function JE(n){if(n.h&&void 0!==l_&&(!n.C[1]||4!=iu(n)||2!=n.ba()))if(n.v&&4==iu(n))E_(n.Fa,0,n);else if(kr(n,"readystatechange"),4==iu(n)){n.h=!1;try{const p=n.ba();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var s=String(n.H).match(A_)[1]||null;if(!s&&Nt.self&&Nt.self.location){var u=Nt.self.location.protocol;s=u.substr(0,u.length-1)}r=!qI.test(s?s.toLowerCase():"")}t=r}if(t)kr(n,"complete"),kr(n,"success");else{n.m=6;try{var c=2<iu(n)?n.g.statusText:""}catch(v){c=""}n.j=c+" ["+n.ba()+"]",vm(n)}}finally{Em(n)}}}function Em(n,e){if(n.g){XE(n);const t=n.g,r=n.C[0]?zg:null;n.g=null,n.C=null,e||kr(n,"ready");try{t.onreadystatechange=r}catch(s){}}}function XE(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Nt.clearTimeout(n.A),n.A=null)}function iu(n){return n.g?n.g.readyState:0}function ew(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case k_:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function th(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function zI(n){let e="";return pE(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Fn(n,e,t))}function ha(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function tw(n){this.za=0,this.l=[],this.h=new If,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ha("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ha("baseRetryDelayMs",5e3,n),this.$a=ha("retryDelaySeedMs",1e4,n),this.Ya=ha("forwardChannelMaxRetries",2,n),this.ra=ha("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new HE(n&&n.concurrentRequestLimit),this.Ca=new lA,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function nc(n){if(nw(n),3==n.G){var e=n.V++,t=ru(n.F);Fn(t,"SID",n.J),Fn(t,"RID",e),Fn(t,"TYPE","terminate"),_o(n,t),(e=new ec(n,n.h,e,void 0)).K=2,e.v=Qd(ru(t)),t=!1,Nt.navigator&&Nt.navigator.sendBeacon&&(t=Nt.navigator.sendBeacon(e.v.toString(),"")),!t&&Nt.Image&&((new Image).src=e.v,t=!0),t||(e.g=uc(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Wd(e)}oc(n)}function wm(n){n.g&&(ol(n),n.g.cancel(),n.g=null)}function nw(n){wm(n),n.u&&(Nt.clearTimeout(n.u),n.u=null),su(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Nt.clearTimeout(n.m),n.m=null)}function kf(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&os(n)}function os(n){GE(n.i)||n.m||(n.m=!0,im(n.Ha,n),n.C=0)}function Wr(n,e){var t;t=e?e.m:n.V++;const r=ru(n.F);Fn(r,"SID",n.J),Fn(r,"RID",t),Fn(r,"AID",n.U),_o(n,r),n.o&&n.s&&th(r,n.o,n.s),t=new ec(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Lf(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),zE(n.i,t),C_(t,r,e)}function _o(n,e){n.j&&S_({},function(t,r){Fn(e,r,t)})}function Lf(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Rr(n.j.Oa,n.j,n):null;e:{var s=n.l;let u=-1;for(;;){const c=["count="+t];-1==u?0<t?(u=s[0].h,c.push("ofs="+u)):u=0:c.push("ofs="+u);let p=!0;for(let v=0;v<t;v++){let D=s[v].h;const A=s[v].g;if(D-=u,0>D)u=Math.max(0,s[v].h-100),p=!1;else try{cA(A,c,"req"+D+"_")}catch(x){r&&r(A)}}if(p){r=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function as(n){n.g||n.u||(n.Y=1,im(n.Ga,n),n.A=0)}function Vf(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Cf(Rr(n.Ga,n),sc(n,n.A)),n.A++,0))}function ol(n){null!=n.B&&(Nt.clearTimeout(n.B),n.B=null)}function rc(n){n.g=new ec(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=ru(n.oa);Fn(e,"RID","rpc"),Fn(e,"SID",n.J),Fn(e,"CI",n.N?"0":"1"),Fn(e,"AID",n.U),_o(n,e),Fn(e,"TYPE","xmlhttp"),n.o&&n.s&&th(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Qd(ru(e)),t.s=null,t.U=!0,LE(t,n)}function su(n){null!=n.v&&(Nt.clearTimeout(n.v),n.v=null)}function ic(n,e){var t=null;if(n.g==e){su(n),ol(n),n.g=null;var r=2}else{if(!gm(n.i,e))return;t=e.D,N_(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var s=n.C;kr(r=um(),new lm(r,t,e,s)),os(n)}else as(n);else if(3==(s=e.o)||0==s&&0<n.I||!(1==r&&function Ff(n,e){return!(qE(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Cf(Rr(n.Ha,n,e),sc(n,n.C)),n.C++,0)))}(n,e)||2==r&&Vf(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),s){case 1:Ls(n,5);break;case 4:Ls(n,10);break;case 3:Ls(n,6);break;default:Ls(n,2)}}function sc(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Ls(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Rr(n.jb,n);t||(t=new yo("//www.google.com/images/cleardot.gif"),Nt.location&&"http"==Nt.location.protocol||Yd(t,"https"),Qd(t)),function P_(n,e){const t=new If;if(Nt.Image){const r=new Image;r.onload=Yl(mm,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Yl(mm,t,r,"TestLoadImage: error",!1,e),r.onabort=Yl(mm,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Yl(mm,t,r,"TestLoadImage: timeout",!1,e),Nt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else kn(2);n.G=0,n.j&&n.j.va(e),oc(n),nw(n)}function oc(n){n.G=0,n.I=-1,n.j&&((0!=WE(n.i).length||0!=n.l.length)&&(n.i.i.length=0,fE(n.l),n.l.length=0),n.j.ua())}function ac(n,e,t){let r=function UI(n){return n instanceof yo?ru(n):new yo(n,void 0)}(t);if(""!=r.i)e&&Of(r,e+"."+r.i),Nf(r,r.m);else{const s=Nt.location;r=function BI(n,e,t,r){var s=new yo(null,void 0);return n&&Yd(s,n),e&&Of(s,e),t&&Nf(s,t),r&&(s.l=r),s}(s.protocol,e?e+"."+s.hostname:s.hostname,+s.port,t)}return n.aa&&pE(n.aa,function(s,u){Fn(r,u,s)}),t=n.sa,(e=n.D)&&t&&Fn(r,e,t),Fn(r,"VER",n.ma),_o(n,r),r}function uc(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Xn(t&&n.Ba&&!n.qa?new eh({ib:!0}):n.qa)).L=n.H,e}function L_(){}function Uf(){if(Vd&&!(10<=Number(sA)))throw Error("Environmental error: no available transport.")}function Gi(n,e){wr.call(this),this.g=new tw(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!wf(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!wf(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new lc(this)}function V_(n){Sf.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function U_(){b_.call(this),this.status=1}function lc(n){this.g=n}(nt=Xn.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():D_.g(),this.C=function PE(n){return n.h||(n.h=n.i())}(this.u?this.u:D_),this.g.onreadystatechange=Rr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void QE(this,u)}n=t||"";const s=new Kd(this.headers);r&&S_(r,function(u,c){s.set(c,u)}),r=function hE(n){e:{var e=F_;const t=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<t;s++)if(s in r&&e.call(void 0,r[s],s,n)){e=s;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(s.T()),t=Nt.FormData&&n instanceof Nt.FormData,!(0<=la(dA,e))||r||t||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(u,c){this.g.setRequestHeader(c,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{XE(this),0<this.B&&((this.K=function YE(n){return Vd&&function iA(){return function _E(n){var e=rA;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=DI(String(p_)).split("."),t=DI("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var s=e[c]||"",u=t[c]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;n=Ld(0==s[1].length?0:parseInt(s[1],10),0==u[1].length?0:parseInt(u[1],10))||Ld(0==s[2].length,0==u[2].length)||Ld(s[2],u[2]),s=s[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Rr(this.pa,this)):this.A=E_(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){QE(this,u)}},nt.pa=function(){void 0!==l_&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,kr(this,"timeout"),this.abort(8))},nt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,kr(this,"complete"),kr(this,"abort"),Em(this))},nt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Em(this,!0)),Xn.Z.M.call(this)},nt.Fa=function(){this.s||(this.F||this.v||this.l?JE(this):this.cb())},nt.cb=function(){JE(this)},nt.ba=function(){try{return 2<iu(this)?this.g.status:-1}catch(n){return-1}},nt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},nt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),KE(e)}},nt.Da=function(){return this.m},nt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(nt=tw.prototype).ma=8,nt.G=1,nt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},nt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const s=new ec(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=gE(u),yE(u,this.P)):u=this.P),null===this.o&&(s.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Lf(this,s,e),Fn(t=ru(this.F),"RID",n),Fn(t,"CVER",22),this.D&&Fn(t,"X-HTTP-Session-Id",this.D),_o(this,t),this.o&&u&&th(t,this.o,u),zE(this.i,s),this.Ra&&Fn(t,"TYPE","init"),this.ja?(Fn(t,"$req",e),Fn(t,"SID","null"),s.$=!0,C_(s,t,null)):C_(s,t,e),this.G=2}}else 3==this.G&&(n?Wr(this,n):0==this.l.length||GE(this.i)||Wr(this))},nt.Ga=function(){if(this.u=null,rc(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Cf(Rr(this.bb,this),n)}},nt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,kn(10),wm(this),rc(this))},nt.ab=function(){null!=this.v&&(this.v=null,wm(this),Vf(this),kn(19))},nt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),kn(2)):(this.h.info("Failed to ping google.com"),kn(1))},(nt=L_.prototype).xa=function(){},nt.wa=function(){},nt.va=function(){},nt.ua=function(){},nt.Oa=function(){},Uf.prototype.g=function(n,e){return new Gi(n,e)},mn(Gi,wr),Gi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),im(Rr(n.hb,n,e))),kn(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=ac(n,null,n.W),os(n)},Gi.prototype.close=function(){nc(this.g)},Gi.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,kf(this.g,e)}else this.v?((e={}).__data__=Df(n),kf(this.g,e)):kf(this.g,n)},Gi.prototype.M=function(){this.g.j=null,delete this.j,nc(this.g),delete this.g,Gi.Z.M.call(this)},mn(V_,Sf),mn(U_,b_),mn(lc,L_),lc.prototype.xa=function(){kr(this.g,"a")},lc.prototype.wa=function(n){kr(this.g,new V_(n))},lc.prototype.va=function(n){kr(this.g,new U_(n))},lc.prototype.ua=function(){kr(this.g,"b")},Uf.prototype.createWebChannel=Uf.prototype.g,Gi.prototype.send=Gi.prototype.u,Gi.prototype.open=Gi.prototype.m,Gi.prototype.close=Gi.prototype.close,cm.NO_ERROR=0,cm.TIMEOUT=8,cm.HTTP_ERROR=6,FI.COMPLETE="complete",kE.EventType=Tf,Tf.OPEN="a",Tf.CLOSE="b",Tf.ERROR="c",Tf.MESSAGE="d",wr.prototype.listen=wr.prototype.N,Xn.prototype.listenOnce=Xn.prototype.O,Xn.prototype.getLastError=Xn.prototype.La,Xn.prototype.getLastErrorCode=Xn.prototype.Da,Xn.prototype.getStatus=Xn.prototype.ba,Xn.prototype.getResponseJson=Xn.prototype.Qa,Xn.prototype.getResponseText=Xn.prototype.ga,Xn.prototype.send=Xn.prototype.ea;var rw=ua.createWebChannelTransport=function(){return new Uf},iw=ua.getStatEventTarget=function(){return um()},bm=ua.ErrorCode=cm,WI=ua.EventType=FI,sw=ua.Event=rl,ow=ua.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ZI=ua.FetchXmlHttpFactory=eh,Bf=ua.WebChannel=kE,KI=ua.XhrIo=Xn;const aw="@firebase/firestore";class Fr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fr.UNAUTHENTICATED=new Fr(null),Fr.GOOGLE_CREDENTIALS=new Fr("google-credentials-uid"),Fr.FIRST_PARTY=new Fr("first-party-uid"),Fr.MOCK_USER=new Fr("mock-user");let nh="9.8.0";const ou=new el.Yd("@firebase/firestore");function B_(){return ou.logLevel}function Fe(n,...e){if(ou.logLevel<=el.in.DEBUG){const t=e.map(jf);ou.debug(`Firestore (${nh}): ${n}`,...t)}}function fr(n,...e){if(ou.logLevel<=el.in.ERROR){const t=e.map(jf);ou.error(`Firestore (${nh}): ${n}`,...t)}}function cc(n,...e){if(ou.logLevel<=el.in.WARN){const t=e.map(jf);ou.warn(`Firestore (${nh}): ${n}`,...t)}}function jf(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function rt(n="Unexpected state"){const e=`FIRESTORE (${nh}) INTERNAL ASSERTION FAILED: `+n;throw fr(e),new Error(e)}function xt(n,e){n||rt()}function Ke(n,e){return n}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends At.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class uw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rh{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Fr.UNAUTHENTICATED))}shutdown(){}}class QI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class lw{constructor(e){this.t=e,this.currentUser=Fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let s=this.i;const u=D=>this.i!==s?(s=this.i,t(D)):Promise.resolve();let c=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Zr,e.enqueueRetryable(()=>u(this.currentUser))};const p=()=>{const D=c;e.enqueueRetryable((0,be.Z)(function*(){yield D.promise,yield u(r.currentUser)}))},v=D=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(D=>v(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?v(D):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Zr)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt("string"==typeof r.accessToken),new uw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xt(null===e||"string"==typeof e),new Fr(e)}}class JI{constructor(e,t,r){this.type="FirstParty",this.user=Fr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const s=e.auth.getAuthHeaderValueForFirstParty([]);s&&this.headers.set("Authorization",s),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class cw{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new JI(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $f{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XI{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=u=>{null!=u.error&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.p;return this.p=u.token,Fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const s=u=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>s(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?s(u):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(xt("string"==typeof t.token),this.p=t.token,new $f(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class us{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function tC(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}us.A=-1;class dw{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=tC(40);for(let u=0;u<s.length;++u)r.length<20&&s[u]<t&&(r+=e.charAt(s[u]%e.length))}return r}}function Lt(n,e){return n<e?-1:n>e?1:0}function ih(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}function j_(n){return n+"\0"}class er{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return er.fromMillis(Date.now())}static fromDate(e){return er.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new er(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Lt(this.nanoseconds,e.nanoseconds):Lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bt(e)}static min(){return new bt(new er(0,0))}static max(){return new bt(new er(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function $_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function au(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function nC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class dc{constructor(e,t,r){void 0===t?t=0:t>e.length&&rt(),void 0===r?r=e.length-t:r>e.length-t&&rt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===dc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof dc?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const u=e.get(s),c=t.get(s);if(u<c)return-1;if(u>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Wt extends dc{construct(e,t,r){return new Wt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Wt(t)}static emptyPath(){return new Wt([])}}const fA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jn extends dc{construct(e,t,r){return new jn(e,t,r)}static isValidIdentifier(e){return fA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new jn(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const u=()=>{if(0===r.length)throw new xe(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;s<e.length;){const p=e[s];if("\\"===p){if(s+1===e.length)throw new xe(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[s+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new xe(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,s+=2}else"`"===p?(c=!c,s++):"."!==p||c?(r+=p,s++):(u(),s++)}if(u(),c)throw new xe(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jn(t)}static emptyPath(){return new jn([])}}class hc{constructor(e){this.fields=e,e.sort(jn.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ih(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class tr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new tr(t)}static fromUint8Array(e){const t=function(r){let s="";for(let u=0;u<r.length;++u)s+=String.fromCharCode(r[u]);return s}(e);return new tr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tr.EMPTY_BYTE_STRING=new tr("");const rC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vo(n){if(xt(!!n),"string"==typeof n){let e=0;const t=rC.exec(n);if(xt(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:An(n.seconds),nanos:An(n.nanos)}}function An(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function uu(n){return"string"==typeof n?tr.fromBase64String(n):tr.fromUint8Array(n)}function hw(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function fw(n){const e=n.mapValue.fields.__previous_value__;return hw(e)?fw(e):e}function fc(n){const e=vo(n.mapValue.fields.__local_write_time__.timestampValue);return new er(e.seconds,e.nanos)}class G_{constructor(e,t,r,s,u,c,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=p,this.useFetchStreams=v}}class fa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new fa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof fa&&e.projectId===this.projectId&&e.database===this.database}}function Hf(n){return null==n}function pc(n){return 0===n&&1/n==-1/0}function q_(n){return"number"==typeof n&&Number.isInteger(n)&&!pc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class He{constructor(e){this.path=e}static fromPath(e){return new He(Wt.fromString(e))}static fromName(e){return new He(Wt.fromString(e).popFirst(5))}static empty(){return new He(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Wt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Wt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new Wt(e.slice()))}}const pa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Gf={nullValue:"NULL_VALUE"};function gc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?hw(n)?4:K_(n)?9007199254740991:10:rt()}function Eo(n,e){if(n===e)return!0;const t=gc(n);if(t!==gc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return fc(n).isEqual(fc(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const u=vo(r.timestampValue),c=vo(s.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,uu(n.bytesValue).isEqual(uu(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return An(r.geoPointValue.latitude)===An(s.geoPointValue.latitude)&&An(r.geoPointValue.longitude)===An(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return An(r.integerValue)===An(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const u=An(r.doubleValue),c=An(s.doubleValue);return u===c?pc(u)===pc(c):isNaN(u)&&isNaN(c)}return!1}(n,e);case 9:return ih(n.arrayValue.values||[],e.arrayValue.values||[],Eo);case 10:return function(r,s){const u=r.mapValue.fields||{},c=s.mapValue.fields||{};if($_(u)!==$_(c))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(void 0===c[p]||!Eo(u[p],c[p])))return!1;return!0}(n,e);default:return rt()}var s}function sh(n,e){return void 0!==(n.values||[]).find(t=>Eo(t,e))}function ga(n,e){if(n===e)return 0;const t=gc(n),r=gc(e);if(t!==r)return Lt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Lt(n.booleanValue,e.booleanValue);case 2:return function(s,u){const c=An(s.integerValue||s.doubleValue),p=An(u.integerValue||u.doubleValue);return c<p?-1:c>p?1:c===p?0:isNaN(c)?isNaN(p)?0:-1:1}(n,e);case 3:return pw(n.timestampValue,e.timestampValue);case 4:return pw(fc(n),fc(e));case 5:return Lt(n.stringValue,e.stringValue);case 6:return function(s,u){const c=uu(s),p=uu(u);return c.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(s,u){const c=s.split("/"),p=u.split("/");for(let v=0;v<c.length&&v<p.length;v++){const D=Lt(c[v],p[v]);if(0!==D)return D}return Lt(c.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,u){const c=Lt(An(s.latitude),An(u.latitude));return 0!==c?c:Lt(An(s.longitude),An(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,u){const c=s.values||[],p=u.values||[];for(let v=0;v<c.length&&v<p.length;++v){const D=ga(c[v],p[v]);if(D)return D}return Lt(c.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,u){if(s===pa.mapValue&&u===pa.mapValue)return 0;if(s===pa.mapValue)return 1;if(u===pa.mapValue)return-1;const c=s.fields||{},p=Object.keys(c),v=u.fields||{},D=Object.keys(v);p.sort(),D.sort();for(let A=0;A<p.length&&A<D.length;++A){const x=Lt(p[A],D[A]);if(0!==x)return x;const L=ga(c[p[A]],v[D[A]]);if(0!==L)return L}return Lt(p.length,D.length)}(n.mapValue,e.mapValue);default:throw rt()}}function pw(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Lt(n,e);const t=vo(n),r=vo(e),s=Lt(t.seconds,r.seconds);return 0!==s?s:Lt(t.nanos,r.nanos)}function oh(n){return z_(n)}function z_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const s=vo(r);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?uu(n.bytesValue).toBase64():"referenceValue"in n?He.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let s="[",u=!0;for(const c of r.values||[])u?u=!1:s+=",",s+=z_(c);return s+"]"}(n.arrayValue):"mapValue"in n?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",c=!0;for(const p of s)c?c=!1:u+=",",u+=`${p}:${z_(r.fields[p])}`;return u+"}"}(n.mapValue):rt();var e}function mc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function qf(n){return!!n&&"integerValue"in n}function yc(n){return!!n&&"arrayValue"in n}function W_(n){return!!n&&"nullValue"in n}function Z_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function zf(n){return!!n&&"mapValue"in n}function ah(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return au(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ah(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ah(n.arrayValue.values[t]);return e}return Object.assign({},n)}function K_(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function gw(n){return"nullValue"in n?Gf:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?mc(fa.empty(),He.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:rt()}function mw(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?mc(fa.empty(),He.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?pa:rt()}function Y_(n,e){const t=ga(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function iC(n,e){const t=ga(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class gi{constructor(e){this.value=e}static empty(){return new gi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!zf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ah(t)}setAll(e){let t=jn.emptyPath(),r={},s=[];e.forEach((c,p)=>{if(!t.isImmediateParentOf(p)){const v=this.getFieldsMap(t);this.applyChanges(v,r,s),r={},s=[],t=p.popLast()}c?r[p.lastSegment()]=ah(c):s.push(p.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,s)}delete(e){const t=this.field(e.popLast());zf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Eo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];zf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){au(t,(s,u)=>e[s]=u);for(const s of r)delete e[s]}clone(){return new gi(ah(this.value))}}function yw(n){const e=[];return au(n.fields,(t,r)=>{const s=new jn([t]);if(zf(r)){const u=yw(r.mapValue).fields;if(0===u.length)e.push(s);else for(const c of u)e.push(s.child(c))}else e.push(s)}),new hc(e)}class En{constructor(e,t,r,s,u,c){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.data=u,this.documentState=c}static newInvalidDocument(e){return new En(e,0,bt.min(),bt.min(),gi.empty(),0)}static newFoundDocument(e,t,r){return new En(e,1,t,bt.min(),r,0)}static newNoDocument(e,t){return new En(e,2,t,bt.min(),gi.empty(),0)}static newUnknownDocument(e,t){return new En(e,3,t,bt.min(),gi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Dm{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function nr(n){return n.fields.find(e=>2===e.kind)}function al(n){return n.fields.filter(e=>2!==e.kind)}Dm.UNKNOWN_ID=-1;class Im{constructor(e,t){this.fieldPath=e,this.kind=t}}class Wf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Wf(0,Vs.min())}}function Q_(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=bt.fromTimestamp(1e9===r?new er(t+1,0):new er(t,r));return new Vs(s,He.empty(),e)}function sC(n){return new Vs(n.readTime,n.key,-1)}class Vs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Vs(bt.min(),He.empty(),-1)}static max(){return new Vs(bt.max(),He.empty(),-1)}}function J_(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=He.comparator(n.documentKey,e.documentKey),0!==t?t:Lt(n.largestBatchId,e.largestBatchId))}class wn{constructor(e,t){this.comparator=e,this.root=t||Kr.EMPTY}insert(e,t){return new wn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kr.BLACK,null,null))}remove(e){return new wn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cm(this.root,e,this.comparator,!0)}}class Cm{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&s&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kr{constructor(e,t,r,s,u){this.key=e,this.value=t,this.color=null!=r?r:Kr.RED,this.left=null!=s?s:Kr.EMPTY,this.right=null!=u?u:Kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,u){return new Kr(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=s?s:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const u=r(e,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===u?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Kr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return Kr.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}}Kr.EMPTY=null,Kr.RED=!0,Kr.BLACK=!1,Kr.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(n,e,t,r,s){return this}insert(n,e,t){return new Kr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class yn{constructor(e){this.comparator=e,this.data=new wn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _w(this.data.getIterator())}getIteratorFrom(e){return new _w(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof yn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(s,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new yn(this.comparator);return t.data=e,t}}class _w{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _c(n){return n.hasNext()?n.getNext():void 0}class pA{constructor(e,t=null,r=[],s=[],u=null,c=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=u,this.startAt=c,this.endAt=p,this.P=null}}function X_(n,e=null,t=[],r=[],s=null,u=null,c=null){return new pA(n,e,t,r,s,u,c)}function lu(n){const e=Ke(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(s=r).field.canonicalString()+s.op.toString()+oh(s.value);var s}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),Hf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>oh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>oh(r)).join(",")),e.P=t}return e.P}function Zf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<n.orderBy.length;s++)if(!ww(n.orderBy[s],e.orderBy[s]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let s=0;s<n.filters.length;s++)if((t=n.filters[s]).op!==(r=e.filters[s]).op||!t.field.isEqual(r.field)||!Eo(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Yf(n.startAt,e.startAt)&&Yf(n.endAt,e.endAt)}function Tm(n){return He.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function ls(n,e){return n.filters.filter(t=>t instanceof Lr&&t.field.isEqual(e))}function Us(n,e,t){let r=Gf,s=!0;for(const u of ls(n,e)){let c=Gf,p=!0;switch(u.op){case"<":case"<=":c=gw(u.value);break;case"==":case"in":case">=":c=u.value;break;case">":c=u.value,p=!1;break;case"!=":case"not-in":c=Gf}Y_({value:r,inclusive:s},{value:c,inclusive:p})<0&&(r=c,s=p)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const c=t.position[u];Y_({value:r,inclusive:s},{value:c,inclusive:t.inclusive})<0&&(r=c,s=t.inclusive);break}return{value:r,inclusive:s}}function Bs(n,e,t){let r=pa,s=!0;for(const u of ls(n,e)){let c=pa,p=!0;switch(u.op){case">=":case">":c=mw(u.value),p=!1;break;case"==":case"in":case"<=":c=u.value;break;case"<":c=u.value,p=!1;break;case"!=":case"not-in":c=pa}iC({value:r,inclusive:s},{value:c,inclusive:p})>0&&(r=c,s=p)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const c=t.position[u];iC({value:r,inclusive:s},{value:c,inclusive:t.inclusive})>0&&(r=c,s=t.inclusive);break}return{value:r,inclusive:s}}class Lr extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new vw(e,t,r):"array-contains"===t?new uC(e,r):"in"===t?new ev(e,r):"not-in"===t?new Kf(e,r):"array-contains-any"===t?new lC(e,r):new Lr(e,t,r)}static V(e,t,r){return"in"===t?new oC(e,r):new aC(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(ga(t,this.value)):null!==t&&gc(this.value)===gc(t)&&this.v(ga(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class vw extends Lr{constructor(e,t,r){super(e,t,r),this.key=He.fromName(r.referenceValue)}matches(e){const t=He.comparator(e.key,this.key);return this.v(t)}}class oC extends Lr{constructor(e,t){super(e,"in",t),this.keys=Ew(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class aC extends Lr{constructor(e,t){super(e,"not-in",t),this.keys=Ew(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ew(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>He.fromName(r.referenceValue))}class uC extends Lr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return yc(t)&&sh(t.arrayValue,this.value)}}class ev extends Lr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&sh(this.value.arrayValue,t)}}class Kf extends Lr{constructor(e,t){super(e,"not-in",t)}matches(e){if(sh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!sh(this.value.arrayValue,t)}}class lC extends Lr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!yc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>sh(this.value.arrayValue,r))}}class cu{constructor(e,t){this.position=e,this.inclusive=t}}class uh{constructor(e,t="asc"){this.field=e,this.dir=t}}function ww(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function tv(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const u=e[s],c=n.position[s];if(r=u.field.isKeyField()?He.comparator(He.fromName(c.referenceValue),t.key):ga(c,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function Yf(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Eo(n.position[t],e.position[t]))return!1;return!0}class du{constructor(e,t=null,r=[],s=[],u=null,c="F",p=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=u,this.limitType=c,this.startAt=p,this.endAt=v,this.D=null,this.C=null}}function nv(n,e,t,r,s,u,c,p){return new du(n,e,t,r,s,u,c,p)}function vc(n){return new du(n)}function lh(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Sm(n){for(const e of n.filters)if(e.S())return e.field;return null}function Am(n){return null!==n.collectionGroup}function Ec(n){const e=Ke(n);if(null===e.D){e.D=[];const t=Sm(e),r=lh(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new uh(t)),e.D.push(new uh(jn.keyField(),"asc"));else{let s=!1;for(const u of e.explicitOrderBy)e.D.push(u),u.field.isKeyField()&&(s=!0);if(!s){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new uh(jn.keyField(),u))}}}return e.D}function cs(n){const e=Ke(n);if(!e.C)if("F"===e.limitType)e.C=X_(e.path,e.collectionGroup,Ec(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Ec(e))t.push(new uh(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new cu(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new cu(e.startAt.position,e.startAt.inclusive):null;e.C=X_(e.path,e.collectionGroup,t,e.filters,e.limit,r,s)}return e.C}function iv(n,e,t){return new du(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ch(n,e){return Zf(cs(n),cs(e))&&n.limitType===e.limitType}function sv(n){return`${lu(cs(n))}|lt:${n.limitType}`}function Mm(n){return`Query(target=${function ma(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${oh(r.value)}`;var r}).join(", ")}]`),Hf(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>oh(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>oh(t)).join(",")),`Target(${e})`}(cs(n))}; limitType=${n.limitType})`}function ov(n,e){return e.isFoundDocument()&&function(t,r){const s=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):He.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(n,e)&&function(t,r){for(const s of t.explicitOrderBy)if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,e)&&function(t,r){for(const s of t.filters)if(!s.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(s,u,c){const p=tv(s,u,c);return s.inclusive?p<=0:p<0}(t.startAt,Ec(t),r)||t.endAt&&!function(s,u,c){const p=tv(s,u,c);return s.inclusive?p>=0:p>0}(t.endAt,Ec(t),r)));var t,r}function bw(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Dw(n){return(e,t)=>{let r=!1;for(const s of Ec(n)){const u=cC(s,e,t);if(0!==u)return u;r=r||s.field.isKeyField()}return 0}}function cC(n,e,t){const r=n.field.isKeyField()?He.comparator(e.key,t.key):function(s,u,c){const p=u.data.field(s),v=c.data.field(s);return null!==p&&null!==v?ga(p,v):rt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}function Iw(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pc(e)?"-0":e}}function Cw(n){return{integerValue:""+n}}function Tw(n,e){return q_(e)?Cw(e):Iw(n,e)}class xm{constructor(){this._=void 0}}function dC(n,e,t){return n instanceof dh?function(r,s){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&(u.fields.__previous_value__=s),{mapValue:u}}(t,e):n instanceof wc?Aw(n,e):n instanceof bc?Mw(n,e):function(r,s){const u=Sw(r,s),c=xw(u)+xw(r.k);return qf(u)&&qf(r.k)?Cw(c):Iw(r.M,c)}(n,e)}function hC(n,e,t){return n instanceof wc?Aw(n,e):n instanceof bc?Mw(n,e):t}function Sw(n,e){return n instanceof hh?qf(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class dh extends xm{}class wc extends xm{constructor(e){super(),this.elements=e}}function Aw(n,e){const t=av(e);for(const r of n.elements)t.some(s=>Eo(s,r))||t.push(r);return{arrayValue:{values:t}}}class bc extends xm{constructor(e){super(),this.elements=e}}function Mw(n,e){let t=av(e);for(const r of n.elements)t=t.filter(s=>!Eo(s,r));return{arrayValue:{values:t}}}class hh extends xm{constructor(e,t){super(),this.M=e,this.k=t}}function xw(n){return An(n.integerValue||n.doubleValue)}function av(n){return yc(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class fh{constructor(e,t){this.field=e,this.transform=t}}class Nw{constructor(e,t){this.version=e,this.transformResults=t}}class rr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new rr}static exists(e){return new rr(void 0,e)}static updateTime(e){return new rr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qf(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Jf{}function Rw(n,e,t){n instanceof Xf?function(r,s,u){const c=r.value.clone(),p=fC(r.fieldTransforms,s,u.transformResults);c.setAll(p),s.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Dc?function(r,s,u){if(!Qf(r.precondition,s))return void s.convertToUnknownDocument(u.version);const c=fC(r.fieldTransforms,s,u.transformResults),p=s.data;p.setAll(Ic(r)),p.setAll(c),s.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Om(n,e,t){var s;n instanceof Xf?function(r,s,u){if(!Qf(r.precondition,s))return;const c=r.value.clone(),p=Nm(r.fieldTransforms,u,s);c.setAll(p),s.convertToFoundDocument(ul(s),c).setHasLocalMutations()}(n,e,t):n instanceof Dc?function(r,s,u){if(!Qf(r.precondition,s))return;const c=Nm(r.fieldTransforms,u,s),p=s.data;p.setAll(Ic(r)),p.setAll(c),s.convertToFoundDocument(ul(s),p).setHasLocalMutations()}(n,e,t):Qf(n.precondition,s=e)&&s.convertToNoDocument(bt.min())}function Pw(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),u=Sw(r.transform,s||null);null!=u&&(null==t&&(t=gi.empty()),t.set(r.field,u))}return t||null}function uv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&ih(t,r,(s,u)=>function Ow(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof wc&&r instanceof wc||t instanceof bc&&r instanceof bc?ih(t.elements,r.elements,Eo):t instanceof hh&&r instanceof hh?Eo(t.k,r.k):t instanceof dh&&r instanceof dh);var t,r}(s,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function ul(n){return n.isFoundDocument()?n.version:bt.min()}class Xf extends Jf{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}}class Dc extends Jf{constructor(e,t,r,s,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=u,this.type=1}}function Ic(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function fC(n,e,t){const r=new Map;xt(n.length===t.length);for(let s=0;s<t.length;s++){const u=n[s],c=u.transform,p=e.data.field(u.field);r.set(u.field,hC(c,p,t[s]))}return r}function Nm(n,e,t){const r=new Map;for(const s of n){const u=s.transform,c=t.data.field(s.field);r.set(s.field,dC(u,c,e))}return r}class Rm extends Jf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Pm extends Jf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class kw{constructor(e){this.count=e}}var br,Be;function Fw(n){switch(n){default:return rt();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}function Lw(n){if(void 0===n)return fr("GRPC error has no .code"),le.UNKNOWN;switch(n){case br.OK:return le.OK;case br.CANCELLED:return le.CANCELLED;case br.UNKNOWN:return le.UNKNOWN;case br.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case br.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case br.INTERNAL:return le.INTERNAL;case br.UNAVAILABLE:return le.UNAVAILABLE;case br.UNAUTHENTICATED:return le.UNAUTHENTICATED;case br.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case br.NOT_FOUND:return le.NOT_FOUND;case br.ALREADY_EXISTS:return le.ALREADY_EXISTS;case br.PERMISSION_DENIED:return le.PERMISSION_DENIED;case br.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case br.ABORTED:return le.ABORTED;case br.OUT_OF_RANGE:return le.OUT_OF_RANGE;case br.UNIMPLEMENTED:return le.UNIMPLEMENTED;case br.DATA_LOSS:return le.DATA_LOSS;default:return rt()}}(Be=br||(br={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";class ll{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,u]of r)if(this.equalsFn(s,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return void(s[u]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){au(this.inner,(t,r)=>{for(const[s,u]of r)e(s,u)})}isEmpty(){return nC(this.inner)}size(){return this.innerSize}}const km=new wn(He.comparator);function js(){return km}const Fm=new wn(He.comparator);function ph(...n){let e=Fm;for(const t of n)e=e.insert(t.key,t);return e}function bn(){return new ll(n=>n.toString(),(n,e)=>n.isEqual(e))}const gA=new wn(He.comparator),Vw=new yn(He.comparator);function rn(...n){let e=Vw;for(const t of n)e=e.add(t);return e}const pC=new yn(Lt);function ep(){return pC}class gh{constructor(e,t,r,s,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,mh.createSynthesizedTargetChangeForCurrentChange(e,t)),new gh(bt.min(),r,ep(),js(),rn())}}class mh{constructor(e,t,r,s,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new mh(tr.EMPTY_BYTE_STRING,t,rn(),rn(),rn())}}class tp{constructor(e,t,r,s){this.O=e,this.removedTargetIds=t,this.key=r,this.F=s}}class Uw{constructor(e,t){this.targetId=e,this.$=t}}class Bw{constructor(e,t,r=tr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class jw{constructor(){this.B=0,this.L=Hw(),this.U=tr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=rn(),t=rn(),r=rn();return this.L.forEach((s,u)=>{switch(u){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:rt()}}),new mh(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=Hw()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class np{constructor(e){this.nt=e,this.st=new Map,this.it=js(),this.rt=$w(),this.ot=new yn(Lt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,s)=>{this.ft(s)&&t(s)})}_t(e){const t=e.targetId,r=e.$.count,s=this.wt(t);if(s){const u=s.target;if(Tm(u))if(0===r){const c=new He(u.path);this.ct(t,c,En.newNoDocument(c,bt.min()))}else xt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((u,c)=>{const p=this.wt(c);if(p){if(u.current&&Tm(p.target)){const v=new He(p.target.path);null!==this.it.get(v)||this.It(c,v)||this.ct(c,v,En.newNoDocument(v,e))}u.j&&(t.set(c,u.H()),u.J())}});let r=rn();this.rt.forEach((u,c)=>{let p=!0;c.forEachWhile(v=>{const D=this.wt(v);return!D||2===D.purpose||(p=!1,!1)}),p&&(r=r.add(u))}),this.it.forEach((u,c)=>c.setReadTime(e));const s=new gh(e,t,this.ot,this.it,r);return this.it=js(),this.rt=$w(),this.ot=new yn(Lt),s}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const s=this.lt(e);this.It(e,t)?s.Y(t,1):s.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new jw,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new yn(Lt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Fe("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new jw),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function $w(){return new wn(He.comparator)}function Hw(){return new wn(He.comparator)}const gC={asc:"ASCENDING",desc:"DESCENDING"},Lm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Gw{constructor(e,t){this.databaseId=e,this.N=t}}function yh(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lv(n,e){return n.N?e.toBase64():e.toUint8Array()}function mC(n,e){return yh(n,e.toTimestamp())}function zn(n){return xt(!!n),bt.fromTimestamp(function(e){const t=vo(e);return new er(t.seconds,t.nanos)}(n))}function Cc(n,e){return(t=n,new Wt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function qw(n){const e=Wt.fromString(n);return xt(Qw(e)),e}function rp(n,e){return Cc(n.databaseId,e.path)}function ya(n,e){const t=qw(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new He(zw(t))}function Vm(n,e){return Cc(n.databaseId,e)}function cv(n){const e=qw(n);return 4===e.length?Wt.emptyPath():zw(e)}function _h(n){return new Wt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function zw(n){return xt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function dv(n,e,t){return{name:rp(n,e),fields:t.value.mapValue.fields}}function Ww(n,e,t){const r=ya(n,e.name),s=zn(e.updateTime),u=new gi({mapValue:{fields:e.fields}}),c=En.newFoundDocument(r,s,u);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function Um(n,e){let t;if(e instanceof Xf)t={update:dv(n,e.key,e.value)};else if(e instanceof Rm)t={delete:rp(n,e.key)};else if(e instanceof Dc)t={update:dv(n,e.key,e.data),updateMask:Yw(e.fieldMask)};else{if(!(e instanceof Pm))return rt();t={verify:rp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,u){const c=u.transform;if(c instanceof dh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof wc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof bc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof hh)return{fieldPath:u.field.canonicalString(),increment:c.k};throw rt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:mC(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:rt()),t;var s}function Zw(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?rr.updateTime(zn(s.updateTime)):void 0!==s.exists?rr.exists(s.exists):rr.none():rr.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(u,c){let p=null;"setToServerValue"in c?(xt("REQUEST_TIME"===c.setToServerValue),p=new dh):"appendMissingElements"in c?p=new wc(c.appendMissingElements.values||[]):"removeAllFromArray"in c?p=new bc(c.removeAllFromArray.values||[]):"increment"in c?p=new hh(u,c.increment):rt();const v=jn.fromServerFormat(c.fieldPath);return new fh(v,p)}(n,s)):[];var s;if(e.update){const s=ya(n,e.update.name),u=new gi({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new hc((e.updateMask.fieldPaths||[]).map(D=>jn.fromServerFormat(D)));return new Dc(s,u,c,t,r)}return new Xf(s,u,t,r)}if(e.delete){const s=ya(n,e.delete);return new Rm(s,t)}if(e.verify){const s=ya(n,e.verify);return new Pm(s,t)}return rt()}function hv(n,e){return{documents:[Vm(n,e.path)]}}function ip(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Vm(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Vm(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(v){if(0===v.length)return;const D=v.map(A=>function(x){if("=="===x.op){if(Z_(x.value))return{unaryFilter:{field:vh(x.field),op:"IS_NAN"}};if(W_(x.value))return{unaryFilter:{field:vh(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(Z_(x.value))return{unaryFilter:{field:vh(x.field),op:"IS_NOT_NAN"}};if(W_(x.value))return{unaryFilter:{field:vh(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vh(x.field),op:vC(x.op),value:x.value}}}(A));return 1===D.length?D[0]:{compositeFilter:{op:"AND",filters:D}}}(e.filters);s&&(t.structuredQuery.where=s);const u=function(v){if(0!==v.length)return v.map(D=>{return{field:vh((A=D).field),direction:sp(A.dir)};var A})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=(D=e.limit,n.N||Hf(D)?D:{value:D});var D,p,v;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function Kw(n){let e=cv(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){xt(1===r);const A=t.from[0];A.allDescendants?s=A.collectionId:e=e.child(A.collectionId)}let u=[];t.where&&(u=fv(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(A=>{return new uh(Eh((x=A).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let p=null;t.limit&&(p=function(A){let x;return x="object"==typeof A?A.value:A,Hf(x)?null:x}(t.limit));let v=null;var A;t.startAt&&(v=new cu((A=t.startAt).values||[],!!A.before));let D=null;return t.endAt&&(D=function(A){return new cu(A.values||[],!A.before)}(t.endAt)),nv(e,s,c,u,p,"F",v,D)}function fv(n){return n?void 0!==n.unaryFilter?[wC(n)]:void 0!==n.fieldFilter?[EC(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>fv(e)).reduce((e,t)=>e.concat(t)):rt():[]}function sp(n){return gC[n]}function vC(n){return Lm[n]}function vh(n){return{fieldPath:n.canonicalString()}}function Eh(n){return jn.fromServerFormat(n.fieldPath)}function EC(n){return Lr.create(Eh(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(n.fieldFilter.op),n.fieldFilter.value)}function wC(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Eh(n.unaryFilter.field);return Lr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Eh(n.unaryFilter.field);return Lr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Eh(n.unaryFilter.field);return Lr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Eh(n.unaryFilter.field);return Lr.create(s,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}function Yw(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Qw(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ci(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Jw(e)),e=wh(n.get(t),e);return Jw(e)}function wh(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const u=n.charAt(s);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function Jw(n){return n+"\x01\x01"}function wo(n){const e=n.length;if(xt(e>=2),2===e)return xt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Wt.emptyPath();const t=e-2,r=[];let s="";for(let u=0;u<e;){const c=n.indexOf("\x01",u);switch((c<0||c>t)&&rt(),n.charAt(c+1)){case"\x01":const p=n.substring(u,c);let v;0===s.length?v=p:(s+=p,v=s,s=""),r.push(v);break;case"\x10":s+=n.substring(u,c),s+="\0";break;case"\x11":s+=n.substring(u,c+1);break;default:rt()}u=c+2}return new Wt(r)}const Xw=["userId","batchId"];function op(n,e){return[n,Ci(e)]}function eb(n,e,t){return[n,Ci(e),t]}const tb={},bC=["prefixPath","collectionGroup","readTime","documentId"],pv=["prefixPath","collectionGroup","documentId"],DC=["collectionGroup","readTime","prefixPath","documentId"],nb=["canonicalId","targetId"],rb=["targetId","path"],IC=["path","targetId"],CC=["collectionId","parent"],TC=["indexId","uid"],gv=["uid","sequenceNumber"],SC=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ib=["indexId","uid","orderedDocumentKey"],AC=["userId","collectionPath","documentId"],MC=["userId","collectionPath","largestBatchId"],xC=["userId","collectionGroup","largestBatchId"],sb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],OC=[...sb,"documentOverlays"],ob=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],NC=[...ob,"indexConfiguration","indexState","indexEntries"],ab="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new de((r,s)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,s)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof de?t:de.resolve(t)}catch(t){return de.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):de.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):de.reject(t)}static resolve(e){return new de((t,r)=>{t(e)})}static reject(e){return new de((t,r)=>{r(e)})}static waitFor(e){return new de((t,r)=>{let s=0,u=0,c=!1;e.forEach(p=>{++s,p.next(()=>{++u,c&&u===s&&t()},v=>r(v))}),c=!0,u===s&&t()})}static or(e){let t=de.resolve(!1);for(const r of e)t=t.next(s=>s?de.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,u)=>{r.push(t.call(this,s,u))}),this.waitFor(r)}}class Bm{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Zr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new ap(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const s=$m(r.target.error);this.At.reject(new ap(e,s))}}static open(e,t,r,s){try{return new Bm(t,e.transaction(s,r))}catch(u){throw new ap(t,u)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Fe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new RC(t)}}class bo{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===bo.Vt((0,At.z$)())&&fr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Fe("SimpleDb","Removing database:",e),hu(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,At.hl)())return!1;if(bo.St())return!0;const e=(0,At.z$)(),t=bo.Vt(e),r=0<t&&t<10,s=bo.Dt(e),u=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,be.Z)(function*(){return t.db||(Fe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,s)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=c=>{r(c.target.result)},u.onblocked=()=>{s(new ap(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=c=>{const p=c.target.error;s("VersionError"===p.name?new xe(le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new xe(le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new ap(e,p))},u.onupgradeneeded=c=>{Fe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.Pt.kt(c.target.result,u.transaction,c.oldVersion,t.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,s){var u=this;return(0,be.Z)(function*(){const c="readonly"===t;let p=0;for(;;){++p;try{u.db=yield u.Nt(e);const v=Bm.open(u.db,e,c?"readonly":"readwrite",r),D=s(v).next(A=>(v.bt(),A)).catch(A=>(v.abort(A),de.reject(A))).toPromise();return D.catch(()=>{}),yield v.Rt,D}catch(v){const D="FirebaseError"!==v.name&&p<3;if(Fe("SimpleDb","Transaction failed with error:",v.message,"Retrying:",D),u.close(),!D)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ub{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return hu(this.Ft.delete())}}class ap extends xe{constructor(e,t){super(le.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Tc(n){return"IndexedDbTransactionError"===n.name}class RC{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Fe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),hu(r)}add(e){return Fe("SimpleDb","ADD",this.store.name,e,e),hu(this.store.add(e))}get(e){return hu(this.store.get(e)).next(t=>(void 0===t&&(t=null),Fe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Fe("SimpleDb","DELETE",this.store.name,e),hu(this.store.delete(e))}count(){return Fe("SimpleDb","COUNT",this.store.name),hu(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const s=this.cursor(r),u=[];return this.Kt(s,(c,p)=>{u.push(p)}).next(()=>u)}{const s=this.store.getAll(r.range);return new de((u,c)=>{s.onerror=p=>{c(p.target.error)},s.onsuccess=p=>{u(p.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new de((s,u)=>{r.onerror=c=>{u(c.target.error)},r.onsuccess=c=>{s(c.target.result)}})}Qt(e,t){Fe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const s=this.cursor(r);return this.Kt(s,(u,c,p)=>p.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.Kt(s,t)}zt(e){const t=this.cursor({});return new de((r,s)=>{t.onerror=u=>{const c=$m(u.target.error);s(c)},t.onsuccess=u=>{const c=u.target.result;c?e(c.primaryKey,c.value).next(p=>{p?c.continue():r()}):r()}})}Kt(e,t){const r=[];return new de((s,u)=>{e.onerror=c=>{u(c.target.error)},e.onsuccess=c=>{const p=c.target.result;if(!p)return void s();const v=new ub(p),D=t(p.primaryKey,p.value,v);if(D instanceof de){const A=D.catch(x=>(v.done(),de.reject(x)));r.push(A)}v.isDone?s():null===v.Lt?p.continue():p.continue(v.Lt)}}).next(()=>de.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function hu(n){return new de((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const s=$m(r.target.error);t(s)}})}let jm=!1;function $m(n){const e=bo.Vt((0,At.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return jm||(jm=!0,setTimeout(()=>{throw r},0)),r}}return n}class Hm extends mv{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Vr(n,e){const t=Ke(n);return bo.xt(t.Ht,e)}class yv{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const u=this.mutations[s];u.key.isEqual(e.key)&&Rw(u,e,r[s])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Om(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Om(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),s=r;this.applyToLocalView(s),r.isValidDocument()||s.convertToNoDocument(bt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),rn())}isEqual(e){return this.batchId===e.batchId&&ih(this.mutations,e.mutations,(t,r)=>uv(t,r))&&ih(this.baseMutations,e.baseMutations,(t,r)=>uv(t,r))}}class up{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){xt(e.mutations.length===r.length);let s=gA;const u=e.mutations;for(let c=0;c<u.length;c++)s=s.insert(u[c].key,r[c].version);return new up(e,t,r,s)}}class _v{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class fu{constructor(e,t,r,s,u=bt.min(),c=bt.min(),p=tr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=p}withSequenceNumber(e){return new fu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new fu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new fu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class lb{constructor(e){this.Jt=e}}function db(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:lp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:rp(s=n.Jt,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:yh(s,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:bh(e.version)};else{if(!e.isUnknownDocument())return rt();r.unknownDocument={path:t.path.toArray(),version:bh(e.version)}}var s,u;return r}function lp(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function bh(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Sc(n){const e=new er(n.seconds,n.nanoseconds);return bt.fromTimestamp(e)}function pu(n,e){const t=(e.baseMutations||[]).map(u=>Zw(n.Jt,u));for(let u=0;u<e.mutations.length-1;++u){const c=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(c.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>Zw(n.Jt,u)),s=er.fromMillis(e.localWriteTimeMs);return new yv(e.batchId,s,t,r)}function cp(n){const e=Sc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Sc(n.lastLimboFreeSnapshotVersion):bt.min();let r;var s;return void 0!==n.query.documents?(xt(1===(s=n.query).documents.length),r=cs(vc(cv(s.documents[0])))):r=cs(Kw(n.query)),new fu(r,n.targetId,0,n.lastListenSequenceNumber,e,t,tr.fromBase64String(n.resumeToken))}function Ac(n,e){const t=bh(e.snapshotVersion),r=bh(e.lastLimboFreeSnapshotVersion);let s;s=Tm(e.target)?hv(n.Jt,e.target):ip(n.Jt,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:lu(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function Mc(n){const e=Kw({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?iv(e,e.limit,"L"):e}function vv(n,e){return new _v(e.largestBatchId,Zw(n.Jt,e.overlayMutation))}function PC(n,e){const t=e.path.lastSegment();return[n,Ci(e.path.popLast()),t]}class hb{getBundleMetadata(e,t){return fb(e).get(t).next(r=>{if(r)return{id:(s=r).bundleId,createTime:Sc(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return fb(e).put({bundleId:(r=t).id,createTime:bh(zn(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return pb(e).get(t).next(r=>{if(r)return{name:(s=r).name,query:Mc(s.bundledQuery),readTime:Sc(s.readTime)};var s})}saveNamedQuery(e,t){return pb(e).put({name:(r=t).name,readTime:bh(zn(r.readTime)),bundledQuery:r.bundledQuery});var r}}function fb(n){return Vr(n,"bundles")}function pb(n){return Vr(n,"namedQueries")}class Ev{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new Ev(e,t.uid||"")}getOverlay(e,t){return dp(e).get(PC(this.userId,t)).next(r=>r?vv(this.M,r):null)}saveOverlays(e,t,r){const s=[];return r.forEach((u,c)=>{const p=new _v(t,c);s.push(this.Xt(e,p))}),de.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach(c=>s.add(Ci(c.getCollectionPath())));const u=[];return s.forEach(c=>{const p=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);u.push(dp(e).Qt("collectionPathOverlayIndex",p))}),de.waitFor(u)}getOverlaysForCollection(e,t,r){const s=bn(),u=Ci(t),c=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return dp(e).qt("collectionPathOverlayIndex",c).next(p=>{for(const v of p){const D=vv(this.M,v);s.set(D.getKey(),D)}return s})}getOverlaysForCollectionGroup(e,t,r,s){const u=bn();let c;const p=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return dp(e).Wt({index:"collectionGroupOverlayIndex",range:p},(v,D,A)=>{const x=vv(this.M,D);u.size()<s||x.largestBatchId===c?(u.set(x.getKey(),x),c=x.largestBatchId):A.done()}).next(()=>u)}Xt(e,t){return dp(e).put(function(r,s,u){const[c,p,v]=PC(s,u.mutation.key);return{userId:s,collectionPath:p,documentId:v,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Um(r.Jt,u.mutation)}}(this.M,this.userId,t))}}function dp(n){return Vr(n,"documentOverlays")}class cl{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(An(e.integerValue));else if("doubleValue"in e){const r=An(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),pc(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(uu(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?K_(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):rt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const s of Object.keys(r))this.re(s,t),this.te(r[s],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const s of r)this.te(s,t)}ae(e,t){this.ne(t,37),He.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function gb(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Gm(n){const e=64-function(t){let r=0;for(let s=0;s<8;++s){const u=gb(255&t[s]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}cl.fe=new cl;class qm{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const s=t.codePointAt(0);this._e(240|s>>>18),this._e(128|63&s>>>12),this._e(128|63&s>>>6),this._e(128|63&s)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const s=t.codePointAt(0);this.ge(240|s>>>18),this.ge(128|63&s>>>12),this.ge(128|63&s>>>6),this.ge(128|63&s)}}this.ye()}Te(e){const t=this.Ee(e),r=Gm(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}Re(e){const t=this.Ee(e),r=Gm(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(s){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,s,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class hp{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class kC{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class Dh{constructor(){this.De=new qm,this.Ce=new hp(this.De),this.xe=new kC(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class dl{constructor(e,t,r,s){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=s}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new dl(this.indexId,this.documentKey,this.arrayValue,r)}}function xc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=mb(n.arrayValue,e.arrayValue),0!==t?t:(t=mb(n.directionalValue,e.directionalValue),0!==t?t:He.comparator(n.documentKey,e.documentKey)))}function mb(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class wv{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=nr(e);if(void 0!==t&&!this.Be(t))return!1;const r=al(e);let s=0,u=0;for(;s<r.length&&this.Be(r[s]);++s);if(s===r.length)return!0;if(void 0!==this.Fe){const c=r[s];if(!this.Le(this.Fe,c)||!this.Ue(this.Me[u++],c))return!1;++s}for(;s<r.length;++s){const c=r[s];if(u>=this.Me.length||!this.Ue(this.Me[u++],c))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class FC{constructor(){this.qe=new yb}addToCollectionParentIndex(e,t){return this.qe.add(t),de.resolve()}getCollectionParents(e,t){return de.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return de.resolve()}deleteFieldIndex(e,t){return de.resolve()}getDocumentsMatchingTarget(e,t){return de.resolve(null)}getIndexType(e,t){return de.resolve(0)}getFieldIndexes(e,t){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,t){return de.resolve(Vs.min())}updateCollectionGroup(e,t,r){return de.resolve()}updateIndexEntries(e,t){return de.resolve()}}class yb{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new yn(Wt.comparator),u=!s.has(r);return this.index[t]=s.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new yn(Wt.comparator)).toArray()}}const zm=new Uint8Array(0);class LC{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new yb,this.Ge=new ll(r=>lu(r),(r,s)=>Zf(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const u={collectionId:r,parent:Ci(s)};return Oc(e).put(u)}return de.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[j_(t),""],!1,!0);return Oc(e).qt(s).next(u=>{for(const c of u){if(c.collectionId!==t)break;r.push(wo(c.parent))}return r})}addFieldIndex(e,t){const r=gu(e),s={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var u;return delete s.indexId,r.add(s).next()}deleteFieldIndex(e,t){const r=gu(e),s=bv(e),u=Ih(e);return r.delete(t.indexId).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Ih(e);let s=!0;const u=new Map;return de.forEach(this.Qe(t),c=>this.je(e,c).next(p=>{s&&(s=!!p),u.set(c,p)})).next(()=>{if(s){let c=rn();const p=[];return de.forEach(u,(v,D)=>{var A;Fe("IndexedDbIndexManager",`Using index ${A=v,`id=${A.indexId}|cg=${A.collectionGroup}|f=${A.fields.map(Dt=>`${Dt.fieldPath}:${Dt.kind}`).join(",")}`} to execute ${lu(t)}`);const x=function(Dt,ut){const kt=nr(ut);if(void 0===kt)return null;for(const Ut of ls(Dt,kt.fieldPath))switch(Ut.op){case"array-contains-any":return Ut.value.arrayValue.values||[];case"array-contains":return[Ut.value]}return null}(D,v),L=function(Dt,ut){const kt=new Map;for(const Ut of al(ut))for(const sn of ls(Dt,Ut.fieldPath))switch(sn.op){case"==":case"in":kt.set(Ut.fieldPath.canonicalString(),sn.value);break;case"not-in":case"!=":return kt.set(Ut.fieldPath.canonicalString(),sn.value),Array.from(kt.values())}return null}(D,v),z=function(Dt,ut){const kt=[];let Ut=!0;for(const sn of al(ut)){const gs=0===sn.kind?Us(Dt,sn.fieldPath,Dt.startAt):Bs(Dt,sn.fieldPath,Dt.startAt);kt.push(gs.value),Ut&&(Ut=gs.inclusive)}return new cu(kt,Ut)}(D,v),K=function(Dt,ut){const kt=[];let Ut=!0;for(const sn of al(ut)){const gs=0===sn.kind?Bs(Dt,sn.fieldPath,Dt.endAt):Us(Dt,sn.fieldPath,Dt.endAt);kt.push(gs.value),Ut&&(Ut=gs.inclusive)}return new cu(kt,Ut)}(D,v),ye=this.We(v,D,z),Pe=this.We(v,D,K),pt=this.ze(v,D,L),mt=this.He(v.indexId,x,ye,z.inclusive,Pe,K.inclusive,pt);return de.forEach(mt,Dt=>r.Gt(Dt,t.limit).next(ut=>{ut.forEach(kt=>{const Ut=He.fromSegments(kt.documentKey);c.has(Ut)||(c=c.add(Ut),p.push(Ut))})}))}).next(()=>p)}return de.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,r,s,u,c,p){const v=(null!=t?t.length:1)*Math.max(r.length,u.length),D=v/(null!=t?t.length:1),A=[];for(let x=0;x<v;++x){const L=t?this.Je(t[x/D]):zm,z=this.Ye(e,L,r[x%D],s),K=this.Xe(e,L,u[x%D],c),ye=p.map(Pe=>this.Ye(e,L,Pe,!0));A.push(...this.createRange(z,K,ye))}return A}Ye(e,t,r,s){const u=new dl(e,He.empty(),t,r);return s?u:u.ke()}Xe(e,t,r,s){const u=new dl(e,He.empty(),t,r);return s?u.ke():u}je(e,t){const r=new wv(t),s=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next(u=>{let c=null;for(const p of u)r.$e(p)&&(!c||p.fields.length>c.fields.length)&&(c=p);return c})}getIndexType(e,t){let r=2;return de.forEach(this.Qe(t),s=>this.je(e,s).next(u=>{u?0!==r&&u.fields.length<function(c){let p=new yn(jn.comparator),v=!1;for(const D of c.filters){const A=D;A.field.isKeyField()||("array-contains"===A.op||"array-contains-any"===A.op?v=!0:p=p.add(A.field))}for(const D of c.orderBy)D.field.isKeyField()||(p=p.add(D.field));return p.size+(v?1:0)}(s)&&(r=1):r=0})).next(()=>r)}Ze(e,t){const r=new Dh;for(const s of al(e)){const u=t.data.field(s.fieldPath);if(null==u)return null;const c=r.Ne(s.kind);cl.fe.Zt(u,c)}return r.Se()}Je(e){const t=new Dh;return cl.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new Dh;return cl.fe.Zt(mc(this.databaseId,t),r.Ne(function(s){const u=al(s);return 0===u.length?0:u[u.length-1].kind}(e))),r.Se()}ze(e,t,r){if(null===r)return[];let s=[];s.push(new Dh);let u=0;for(const c of al(e)){const p=r[u++];for(const v of s)if(this.en(t,c.fieldPath)&&yc(p))s=this.nn(s,c,p);else{const D=v.Ne(c.kind);cl.fe.Zt(p,D)}}return this.sn(s)}We(e,t,r){return this.ze(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const s=[...e],u=[];for(const c of r.arrayValue.values||[])for(const p of s){const v=new Dh;v.seed(p.Se()),cl.fe.Zt(c,v.Ne(t.kind)),u.push(v)}return u}en(e,t){return!!e.filters.find(r=>r instanceof Lr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=gu(e),s=bv(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(u=>{const c=[];return de.forEach(u,p=>s.get([p.indexId,this.uid]).next(v=>{c.push(function(D,A){const x=A?new Wf(A.sequenceNumber,new Vs(Sc(A.readTime),new He(wo(A.documentKey)),A.largestBatchId)):Wf.empty(),L=D.fields.map(([z,K])=>new Im(jn.fromServerFormat(z),K));return new Dm(D.indexId,D.collectionGroup,L,x)}(p,v))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,s)=>{const u=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return 0!==u?u:Lt(r.collectionGroup,s.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const s=gu(e),u=bv(e);return this.rn(e).next(c=>s.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>de.forEach(p,v=>{return u.put({indexId:v.indexId,uid:this.user.uid||"",sequenceNumber:c,readTime:bh((L=r).readTime),documentKey:Ci(L.documentKey.path),largestBatchId:L.largestBatchId});var L})))}updateIndexEntries(e,t){const r=new Map;return de.forEach(t,(s,u)=>{const c=r.get(s.collectionGroup);return(c?de.resolve(c):this.getFieldIndexes(e,s.collectionGroup)).next(p=>(r.set(s.collectionGroup,p),de.forEach(p,v=>this.on(e,s,v).next(D=>{const A=this.un(u,v);return D.isEqual(A)?de.resolve():this.an(e,u,v,D,A)}))))})}cn(e,t,r,s){return Ih(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,s){return Ih(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const s=Ih(e);let u=new yn(xc);return s.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(c,p)=>{u=u.add(new dl(r.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>u)}un(e,t){let r=new yn(xc);const s=this.Ze(t,e);if(null==s)return r;const u=nr(t);if(null!=u){const c=e.data.field(u.fieldPath);if(yc(c))for(const p of c.arrayValue.values||[])r=r.add(new dl(t.indexId,e.key,this.Je(p),s))}else r=r.add(new dl(t.indexId,e.key,zm,s));return r}an(e,t,r,s,u){Fe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(p,v,D,A,x){const L=p.getIterator(),z=v.getIterator();let K=_c(L),ye=_c(z);for(;K||ye;){let Pe=!1,pt=!1;if(K&&ye){const mt=D(K,ye);mt<0?pt=!0:mt>0&&(Pe=!0)}else null!=K?pt=!0:Pe=!0;Pe?(A(ye),ye=_c(z)):pt?(x(K),K=_c(L)):(K=_c(L),ye=_c(z))}}(s,u,xc,p=>{c.push(this.cn(e,t,r,p))},p=>{c.push(this.hn(e,t,r,p))}),de.waitFor(c)}rn(e){let t=1;return bv(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,u)=>{u.done(),t=s.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,p)=>xc(c,p)).filter((c,p,v)=>!p||0!==xc(c,v[p-1]));const s=[];s.push(e);for(const c of r){const p=xc(c,e),v=xc(c,t);if(0===p)s[0]=e.ke();else if(p>0&&v<0)s.push(c),s.push(c.ke());else if(v>0)break}s.push(t);const u=[];for(let c=0;c<s.length;c+=2)u.push(IDBKeyRange.bound([s[c].indexId,this.uid,s[c].arrayValue,s[c].directionalValue,zm,[]],[s[c+1].indexId,this.uid,s[c+1].arrayValue,s[c+1].directionalValue,zm,[]]));return u}getMinOffset(e,t){let r;return de.forEach(this.Qe(t),s=>this.je(e,s).next(u=>{u?(!r||J_(u.indexState.offset,r)<0)&&(r=u.indexState.offset):r=Vs.min()})).next(()=>r)}}function Oc(n){return Vr(n,"collectionParents")}function Ih(n){return Vr(n,"indexEntries")}function gu(n){return Vr(n,"indexConfiguration")}function bv(n){return Vr(n,"indexState")}const Dv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class qi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new qi(e,qi.DEFAULT_COLLECTION_PERCENTILE,qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function VC(n,e,t){const r=n.store("mutations"),s=n.store("documentMutations"),u=[],c=IDBKeyRange.only(t.batchId);let p=0;const v=r.Wt({range:c},(A,x,L)=>(p++,L.delete()));u.push(v.next(()=>{xt(1===p)}));const D=[];for(const A of t.mutations){const x=eb(e,A.key.path,t.batchId);u.push(s.delete(x)),D.push(A.key)}return de.waitFor(u).next(()=>D)}function fp(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw rt();e=n.noDocument}return JSON.stringify(e).length}qi.DEFAULT_COLLECTION_PERCENTILE=10,qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qi.DEFAULT=new qi(41943040,qi.DEFAULT_COLLECTION_PERCENTILE,qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qi.DISABLED=new qi(-1,0,0);class _b{constructor(e,t,r,s){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=s,this.ln={}}static Yt(e,t,r,s){xt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new _b(u,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _a(e).Wt({index:"userMutationsIndex",range:r},(s,u,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,s){const u=Ch(e),c=_a(e);return c.add({}).next(p=>{xt("number"==typeof p);const v=new yv(p,t,r,s),D=function(L,z,K){const ye=K.baseMutations.map(pt=>Um(L.Jt,pt)),Pe=K.mutations.map(pt=>Um(L.Jt,pt));return{userId:z,batchId:K.batchId,localWriteTimeMs:K.localWriteTime.toMillis(),baseMutations:ye,mutations:Pe}}(this.M,this.userId,v),A=[];let x=new yn((L,z)=>Lt(L.canonicalString(),z.canonicalString()));for(const L of s){const z=eb(this.userId,L.key.path,p);x=x.add(L.key.path.popLast()),A.push(c.put(D)),A.push(u.put(z,tb))}return x.forEach(L=>{A.push(this.indexManager.addToCollectionParentIndex(e,L))}),e.addOnCommittedListener(()=>{this.ln[p]=v.keys()}),de.waitFor(A).next(()=>v)})}lookupMutationBatch(e,t){return _a(e).get(t).next(r=>r?(xt(r.userId===this.userId),pu(this.M,r)):null)}fn(e,t){return this.ln[t]?de.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const s=r.keys();return this.ln[t]=s,s}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return _a(e).Wt({index:"userMutationsIndex",range:s},(c,p,v)=>{p.userId===this.userId&&(xt(p.batchId>=r),u=pu(this.M,p)),v.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return _a(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(s,u,c)=>{r=u.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _a(e).qt("userMutationsIndex",t).next(r=>r.map(s=>pu(this.M,s)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=op(this.userId,t.path),s=IDBKeyRange.lowerBound(r),u=[];return Ch(e).Wt({range:s},(c,p,v)=>{const[D,A,x]=c,L=wo(A);if(D===this.userId&&t.path.isEqual(L))return _a(e).get(x).next(z=>{if(!z)throw rt();xt(z.userId===this.userId),u.push(pu(this.M,z))});v.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new yn(Lt);const s=[];return t.forEach(u=>{const c=op(this.userId,u.path),p=IDBKeyRange.lowerBound(c),v=Ch(e).Wt({range:p},(D,A,x)=>{const[L,z,K]=D,ye=wo(z);L===this.userId&&u.path.isEqual(ye)?r=r.add(K):x.done()});s.push(v)}),de.waitFor(s).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,u=op(this.userId,r),c=IDBKeyRange.lowerBound(u);let p=new yn(Lt);return Ch(e).Wt({range:c},(v,D,A)=>{const[x,L,z]=v,K=wo(L);x===this.userId&&r.isPrefixOf(K)?K.length===s&&(p=p.add(z)):A.done()}).next(()=>this.dn(e,p))}dn(e,t){const r=[],s=[];return t.forEach(u=>{s.push(_a(e).get(u).next(c=>{if(null===c)throw rt();xt(c.userId===this.userId),r.push(pu(this.M,c))}))}),de.waitFor(s).next(()=>r)}removeMutationBatch(e,t){return VC(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),de.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return de.resolve();const r=IDBKeyRange.lowerBound([this.userId]),s=[];return Ch(e).Wt({range:r},(u,c,p)=>{if(u[0]===this.userId){const v=wo(u[1]);s.push(v)}else p.done()}).next(()=>{xt(0===s.length)})})}containsKey(e,t){return Iv(e,this.userId,t)}wn(e){return vb(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Iv(n,e,t){const r=op(e,t.path),s=r[1],u=IDBKeyRange.lowerBound(r);let c=!1;return Ch(n).Wt({range:u,jt:!0},(p,v,D)=>{const[A,x,L]=p;A===e&&x===s&&(c=!0),D.done()}).next(()=>c)}function _a(n){return Vr(n,"mutations")}function Ch(n){return Vr(n,"documentMutations")}function vb(n){return Vr(n,"mutationQueues")}class Nc{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Nc(0)}static yn(){return new Nc(-1)}}class UC{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new Nc(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>bt.fromTimestamp(new er(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.In(e,s)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Th(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(xt(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let s=0;const u=[];return Th(e).Wt((c,p)=>{const v=cp(p);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(s++,u.push(this.removeTargetData(e,v)))}).next(()=>de.waitFor(u)).next(()=>s)}forEachTarget(e,t){return Th(e).Wt((r,s)=>{const u=cp(s);t(u)})}pn(e){return Eb(e).get("targetGlobalKey").next(t=>(xt(null!==t),t))}In(e,t){return Eb(e).put("targetGlobalKey",t)}Tn(e,t){return Th(e).put(Ac(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=lu(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Th(e).Wt({range:s,index:"queryTargetsIndex"},(c,p,v)=>{const D=cp(p);Zf(t,D.target)&&(u=D,v.done())}).next(()=>u)}addMatchingKeys(e,t,r){const s=[],u=hl(e);return t.forEach(c=>{const p=Ci(c.path);s.push(u.put({targetId:r,path:p})),s.push(this.referenceDelegate.addReference(e,r,c))}),de.waitFor(s)}removeMatchingKeys(e,t,r){const s=hl(e);return de.forEach(t,u=>{const c=Ci(u.path);return de.waitFor([s.delete([r,c]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=hl(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=hl(e);let u=rn();return s.Wt({range:r,jt:!0},(c,p,v)=>{const D=wo(c[1]),A=new He(D);u=u.add(A)}).next(()=>u)}containsKey(e,t){const r=Ci(t.path),s=IDBKeyRange.bound([r],[j_(r)],!1,!0);let u=0;return hl(e).Wt({index:"documentTargetsIndex",jt:!0,range:s},([c,p],v,D)=>{0!==c&&(u++,D.done())}).next(()=>u>0)}Et(e,t){return Th(e).get(t).next(r=>r?cp(r):null)}}function Th(n){return Vr(n,"targets")}function Eb(n){return Vr(n,"targetGlobal")}function hl(n){return Vr(n,"targetDocuments")}function Rc(n){return Cv.apply(this,arguments)}function Cv(){return Cv=(0,be.Z)(function*(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==ab)throw n;Fe("LocalStore","Unexpectedly lost primary lease")}),Cv.apply(this,arguments)}function wb([n,e],[t,r]){const s=Lt(n,t);return 0===s?Lt(e,r):s}class pp{constructor(e){this.An=e,this.buffer=new yn(wb),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();wb(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class bb{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;Fe("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,be.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(s){Tc(s)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Rc(s)}yield t.Sn(e)}))}}class Db{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return de.resolve(us.A);const r=new pp(t);return this.Dn.forEachTarget(e,s=>r.Pn(s.sequenceNumber)).next(()=>this.Dn.xn(e,s=>r.Pn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(Dv)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dv):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,s,u,c,p,v,D;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),s=this.params.maximumSequenceNumbersToCollect):s=x,c=Date.now(),this.nthSequenceNumber(e,s))).next(x=>(r=x,p=Date.now(),this.removeTargets(e,r,t))).next(x=>(u=x,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(D=Date.now(),B_()<=el.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-A}ms\n\tDetermined least recently used ${s} in `+(p-c)+`ms\n\tRemoved ${u} targets in `+(v-p)+`ms\n\tRemoved ${x} documents in `+(D-v)+`ms\nTotal Duration: ${D-A}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:u,documentsRemoved:x})))}}class Ib{constructor(e,t){this.db=e,this.garbageCollector=new Db(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,s)=>t(s))}addReference(e,t,r){return gp(e,r)}removeReference(e,t,r){return gp(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return gp(e,t)}On(e,t){return function(r,s){let u=!1;return vb(r).zt(c=>Iv(r,c,s).next(p=>(p&&(u=!0),de.resolve(!p)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let u=0;return this.Mn(e,(c,p)=>{if(p<=t){const v=this.On(e,c).next(D=>{if(!D)return u++,r.getEntry(e,c).next(()=>(r.removeEntry(c,bt.min()),hl(e).delete([0,Ci(c.path)])))});s.push(v)}}).next(()=>de.waitFor(s)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return gp(e,t)}Mn(e,t){const r=hl(e);let s,u=us.A;return r.Wt({index:"documentTargetsIndex"},([c,p],{path:v,sequenceNumber:D})=>{0===c?(u!==us.A&&t(new He(wo(s)),u),u=D,s=v):u=us.A}).next(()=>{u!==us.A&&t(new He(wo(s)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function gp(n,e){return hl(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ci(e.path),sequenceNumber:r}));var r}class Tv{constructor(){this.changes=new ll(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?de.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Cb{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Pc(e).put(r)}removeEntry(e,t,r){return Pc(e).delete(function(s,u){const c=s.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],lp(u),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=En.newInvalidDocument(t);return Pc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(mp(t))},(s,u)=>{r=this.$n(t,u)}).next(()=>r)}Bn(e,t){let r={size:0,document:En.newInvalidDocument(t)};return Pc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(mp(t))},(s,u)=>{r={document:this.$n(t,u),size:fp(u)}}).next(()=>r)}getEntries(e,t){let r=js();return this.Ln(e,t,(s,u)=>{const c=this.$n(s,u);r=r.insert(s,c)}).next(()=>r)}Un(e,t){let r=js(),s=new wn(He.comparator);return this.Ln(e,t,(u,c)=>{const p=this.$n(u,c);r=r.insert(u,p),s=s.insert(u,fp(c))}).next(()=>({documents:r,qn:s}))}Ln(e,t,r){if(t.isEmpty())return de.resolve();let s=new yn(Sb);t.forEach(v=>s=s.add(v));const u=IDBKeyRange.bound(mp(s.first()),mp(s.last())),c=s.getIterator();let p=c.getNext();return Pc(e).Wt({index:"documentKeyIndex",range:u},(v,D,A)=>{const x=He.fromSegments([...D.prefixPath,D.collectionGroup,D.documentId]);for(;p&&Sb(p,x)<0;)r(p,null),p=c.getNext();p&&p.isEqual(x)&&(r(p,D),p=c.hasNext()?c.getNext():null),p?A.Ut(mp(p)):A.done()}).next(()=>{for(;p;)r(p,null),p=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const s=[t.popLast().toArray(),t.lastSegment(),lp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Pc(e).qt(IDBKeyRange.bound(s,u,!0)).next(c=>{let p=js();for(const v of c){const D=this.$n(He.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);p=p.insert(D.key,D)}return p})}getAllFromCollectionGroup(e,t,r,s){let u=js();const c=Tb(t,r),p=Tb(t,Vs.max());return Pc(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,p,!0)},(v,D,A)=>{const x=this.$n(He.fromSegments(D.prefixPath.concat(D.collectionGroup,D.documentId)),D);u=u.insert(x.key,x),u.size===s&&A.done()}).next(()=>u)}newChangeBuffer(e){return new BC(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Sv(e).get("remoteDocumentGlobalKey").next(t=>(xt(!!t),t))}Fn(e,t){return Sv(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function cb(n,e){let t;if(e.document)t=Ww(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=He.fromSegments(e.noDocument.path),s=Sc(e.noDocument.readTime);t=En.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return rt();{const r=He.fromSegments(e.unknownDocument.path),s=Sc(e.unknownDocument.version);t=En.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime(function(r){const s=new er(r[0],r[1]);return bt.fromTimestamp(s)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(bt.min()))return r}return En.newInvalidDocument(e)}}class BC extends Tv{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new ll(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const t=[];let r=0,s=new yn((u,c)=>Lt(u.canonicalString(),c.canonicalString()));return this.changes.forEach((u,c)=>{const p=this.Gn.get(u);if(t.push(this.Kn.removeEntry(e,u,p.readTime)),c.isValidDocument()){const v=db(this.Kn.M,c);s=s.add(u.path.popLast()),r+=fp(v)-p.size,t.push(this.Kn.addEntry(e,u,v))}else if(r-=p.size,this.trackRemovals){const v=db(this.Kn.M,c.convertToNoDocument(bt.min()));t.push(this.Kn.addEntry(e,u,v))}}),s.forEach(u=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Kn.updateMetadata(e,r)),de.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:s})=>(s.forEach((u,c)=>{this.Gn.set(u,{size:c,readTime:r.get(u).readTime})}),r))}}function Sv(n){return Vr(n,"remoteDocumentGlobal")}function Pc(n){return Vr(n,"remoteDocumentsV14")}function mp(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Tb(n,e){const t=e.documentKey.path.toArray();return[n,lp(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Sb(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(s=Lt(t[u],r[u]),s)return s;return s=Lt(t.length,r.length),s||(s=Lt(t[t.length-2],r[r.length-2]),s||Lt(t[t.length-1],r[r.length-1]))}class yp{constructor(e){this.M=e}kt(e,t,r,s){const u=new Bm("createOrUpgrade",t);var p;r<1&&s>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Xw,{unique:!0}),p.createObjectStore("documentMutations"),Ab(e),function(p){p.createObjectStore("remoteDocuments")}(e));let c=de.resolve();return r<3&&s>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),Ab(e)),c=c.next(()=>function(p){const v=p.store("targetGlobal"),D={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:bt.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",D)}(u))),r<4&&s>=4&&(0!==r&&(c=c.next(()=>function(p,v){return v.store("mutations").qt().next(D=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Xw,{unique:!0});const A=v.store("mutations"),x=D.map(L=>A.put(L));return de.waitFor(x)})}(e,u))),c=c.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&s>=5&&(c=c.next(()=>this.Qn(u))),r<6&&s>=6&&(c=c.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.jn(u)))),r<7&&s>=7&&(c=c.next(()=>this.Wn(u))),r<8&&s>=8&&(c=c.next(()=>this.zn(e,u))),r<9&&s>=9&&(c=c.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&s>=10&&(c=c.next(()=>this.Hn(u))),r<11&&s>=11&&(c=c.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(c=c.next(()=>{!function(p){const v=p.createObjectStore("documentOverlays",{keyPath:AC});v.createIndex("collectionPathOverlayIndex",MC,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",xC,{unique:!1})}(e)})),r<13&&s>=13&&(c=c.next(()=>function(p){const v=p.createObjectStore("remoteDocumentsV14",{keyPath:bC});v.createIndex("documentKeyIndex",pv),v.createIndex("collectionGroupIndex",DC)}(e)).next(()=>this.Jn(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(c=c.next(()=>{!function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:TC}).createIndex("sequenceNumberIndex",gv,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:SC}).createIndex("documentKeyIndex",ib,{unique:!1})}(e)})),c}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,s)=>{t+=fp(s)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(s=>de.forEach(s,u=>{const c=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",c).next(p=>de.forEach(p,v=>{xt(v.userId===u.userId);const D=pu(this.M,v);return VC(e,u.userId,D).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const u=[];return r.Wt((c,p)=>{const v=new Wt(c),D=[0,Ci(v)];u.push(t.get(D).next(A=>A?de.resolve():t.put({targetId:0,path:Ci(v),sequenceNumber:s.highestListenSequenceNumber})))}).next(()=>de.waitFor(u))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:CC});const r=t.store("collectionParents"),s=new yb,u=c=>{if(s.add(c)){const p=c.lastSegment(),v=c.popLast();return r.put({collectionId:p,parent:Ci(v)})}};return t.store("remoteDocuments").Wt({jt:!0},(c,p)=>{const v=new Wt(c);return u(v.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([c,p,v],D)=>{const A=wo(p);return u(A.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,s)=>{const u=cp(s),c=Ac(this.M,u);return t.put(c)})}Jn(e,t){const r=t.store("remoteDocuments"),s=[];return r.Wt((u,c)=>{const p=t.store("remoteDocumentsV14"),v=(D=c,D.document?new He(Wt.fromString(D.document.name).popFirst(5)):D.noDocument?He.fromSegments(D.noDocument.path):D.unknownDocument?He.fromSegments(D.unknownDocument.path):rt()).path.toArray();var D;const A={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};s.push(p.put(A))}).next(()=>de.waitFor(s))}}function Ab(n){n.createObjectStore("targetDocuments",{keyPath:rb}).createIndex("documentTargetsIndex",IC,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",nb,{unique:!0}),n.createObjectStore("targetGlobal")}const _p="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class $s{constructor(e,t,r,s,u,c,p,v,D,A,x=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=u,this.window=c,this.document=p,this.Xn=D,this.Zn=A,this.ts=x,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=L=>Promise.resolve(),!$s.vt())throw new xe(le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ib(this,s),this.hs=t+"main",this.M=new lb(v),this.ls=new bo(this.hs,this.ts,new yp(this.M)),this.fs=new UC(this.referenceDelegate,this.M),this.ds=new Cb(this.M),this._s=new hb,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===A&&fr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xe(le.FAILED_PRECONDITION,_p);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new us(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,be.Z)(function*(s){if(t.started)return e(s)});return function(s){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,be.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,be.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Sh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if(Tc(e))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return vp(e).get("owner").next(t=>de.resolve(this.Ps(t)))}Vs(e){return Sh(e).delete(this.clientId)}vs(){var e=this;return(0,be.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const s=Vr(r,"clientMetadata");return s.qt().next(u=>{const c=e.Ds(u,18e5),p=u.filter(v=>-1===c.indexOf(v));return de.forEach(p,v=>s.delete(v.clientId)).next(()=>p)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?de.resolve(!0):vp(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new xe(le.FAILED_PRECONDITION,_p);return!1}}return!(!this.networkEnabled||!this.inForeground)||Sh(e).qt().next(r=>void 0===this.Ds(r,5e3).find(s=>{if(this.clientId!==s.clientId){const c=!this.inForeground&&s.inForeground,p=this.networkEnabled===s.networkEnabled;if(!this.networkEnabled&&s.networkEnabled||c&&p)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Fe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,be.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Hm(t,us.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>Sh(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return _b.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new LC(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return Ev.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){Fe("IndexedDbPersistence","Starting transaction:",e);const s="readonly"===t?"readonly":"readwrite",u=14===(c=this.ts)?NC:13===c?ob:12===c?OC:11===c?sb:void rt();var c;let p;return this.ls.runTransaction(e,s,u,v=>(p=new Hm(v,this.es?this.es.next():us.A),"readwrite-primary"===t?this.Es(p).next(D=>!!D||this.As(p)).next(D=>{if(!D)throw fr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new xe(le.FAILED_PRECONDITION,ab);return r(p)}).next(D=>this.bs(p).next(()=>D)):this.$s(p).next(()=>r(p)))).then(v=>(p.raiseOnCommittedEvent(),v))}$s(e){return vp(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.Ps(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new xe(le.FAILED_PRECONDITION,_p)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return vp(e).put("owner",t)}static vt(){return bo.vt()}Rs(e){const t=vp(e);return t.get("owner").next(r=>this.Ps(r)?(Fe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):de.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(fr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,At.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Fe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return fr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){fr("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function vp(n){return Vr(n,"owner")}function Sh(n){return Vr(n,"clientMetadata")}function kc(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class jC{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(s=>{for(const u of r)u.applyToLocalView(s);return s})}qs(e,t){e.forEach((r,s)=>{for(const u of t)u.applyToLocalView(s)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return He.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.js(e,t.path):Am(t)?this.Ws(e,t,r):this.zs(e,t,r);var s}js(e,t){return this.Ls(e,new He(t)).next(r=>{let s=ph();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}Ws(e,t,r){const s=t.collectionGroup;let u=ph();return this.indexManager.getCollectionParents(e,s).next(c=>de.forEach(c,p=>{const v=(D=t,A=p.child(s),new du(A,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,A;return this.zs(e,v,r).next(D=>{D.forEach((A,x)=>{u=u.insert(A,x)})})}).next(()=>u))}zs(e,t,r){let s;return this.ds.getAllFromCollection(e,t.path,r).next(u=>(s=u,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(u=>{for(const c of u)for(const p of c.mutations){const v=p.key;let D=s.get(v);null==D&&(D=En.newInvalidDocument(v),s=s.insert(v,D)),Om(p,D,c.localWriteTime),D.isFoundDocument()||(s=s.remove(v))}}).next(()=>(s.forEach((u,c)=>{ov(t,c)||(s=s.remove(u))}),s))}}class Av{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=s}static Ys(e,t){let r=rn(),s=rn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:s=s.add(u.doc.key)}return new Av(e,t.fromCache,r,s)}}class Mb{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,r,s){return this.ti(e,t).next(u=>u||this.ei(e,t,s,r)).next(u=>u||this.ni(e,t))}ti(e,t){return de.resolve(null)}ei(e,t,r,s){return function rv(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||s.isEqual(bt.min())?this.ni(e,t):this.Zs.Ks(e,r).next(u=>{const c=this.si(t,u);return this.ii(t,c,r,s)?this.ni(e,t):(B_()<=el.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Mm(t)),this.ri(e,c,t,Q_(s,-1)))})}si(e,t){let r=new yn(Dw(e));return t.forEach((s,u)=>{ov(e,u)&&(r=r.add(u))}),r}ii(e,t,r,s){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)}ni(e,t){return B_()<=el.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",Mm(t)),this.Zs.Qs(e,t,Vs.min())}ri(e,t,r,s){return this.Zs.Qs(e,r,s).next(u=>(t.forEach(c=>{u=u.insert(c.key,c)}),u))}}class Wm{constructor(e,t,r,s){this.persistence=e,this.oi=t,this.M=s,this.ui=new wn(Lt),this.ai=new ll(u=>lu(u),Zf),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(r)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new jC(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function Ep(n,e,t,r){return new Wm(n,e,t,r)}function xb(n,e){return Mv.apply(this,arguments)}function Mv(){return Mv=(0,be.Z)(function*(n,e){const t=Ke(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.Bs.getAllMutationBatches(r).next(u=>(s=u,t.li(e),t.Bs.getAllMutationBatches(r))).next(u=>{const c=[],p=[];let v=rn();for(const D of s){c.push(D.batchId);for(const A of D.mutations)v=v.add(A.key)}for(const D of u){p.push(D.batchId);for(const A of D.mutations)v=v.add(A.key)}return t.fi.Ks(r,v).next(D=>({di:D,removedBatchIds:c,addedBatchIds:p}))})})}),Mv.apply(this,arguments)}function Ob(n,e){const t=Ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),u=t.hi.newChangeBuffer({trackRemovals:!0});return function(c,p,v,D){const A=v.batch,x=A.keys();let L=de.resolve();return x.forEach(z=>{L=L.next(()=>D.getEntry(p,z)).next(K=>{const ye=v.docVersions.get(z);xt(null!==ye),K.version.compareTo(ye)<0&&(A.applyToRemoteDocument(K,v),K.isValidDocument()&&(K.setReadTime(v.commitVersion),D.addEntry(K)))})}),L.next(()=>c.Bs.removeMutationBatch(p,A))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.fi.Ks(r,s))})}function xv(n){const e=Ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function Ov(n,e){const t=Ke(n),r=e.snapshotVersion;let s=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const c=t.hi.newChangeBuffer({trackRemovals:!0});s=t.ui;const p=[];e.targetChanges.forEach((D,A)=>{const x=s.get(A);if(!x)return;p.push(t.fs.removeMatchingKeys(u,D.removedDocuments,A).next(()=>t.fs.addMatchingKeys(u,D.addedDocuments,A)));let L=x.withSequenceNumber(u.currentSequenceNumber);var z,K,ye;e.targetMismatches.has(A)?L=L.withResumeToken(tr.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):D.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(D.resumeToken,r)),s=s.insert(A,L),K=L,ye=D,(0===(z=x).resumeToken.approximateByteSize()||K.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=3e8||ye.addedDocuments.size+ye.modifiedDocuments.size+ye.removedDocuments.size>0)&&p.push(t.fs.updateTargetData(u,L))});let v=js();if(e.documentUpdates.forEach(D=>{e.resolvedLimboDocuments.has(D)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(u,D))}),p.push(Nv(u,c,e.documentUpdates).next(D=>{v=D})),!r.isEqual(bt.min())){const D=t.fs.getLastRemoteSnapshotVersion(u).next(A=>t.fs.setTargetsMetadata(u,u.currentSequenceNumber,r));p.push(D)}return de.waitFor(p).next(()=>c.apply(u)).next(()=>t.fi.Gs(u,v)).next(()=>v)}).then(u=>(t.ui=s,u))}function Nv(n,e,t){let r=rn();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let u=js();return t.forEach((c,p)=>{const v=s.get(c);p.isNoDocument()&&p.version.isEqual(bt.min())?(e.removeEntry(c,p.readTime),u=u.insert(c,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||0===p.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(p),u=u.insert(c,p)):Fe("LocalStore","Ignoring outdated watch update for ",c,". Current version:",v.version," Watch version:",p.version)}),u})}function $C(n,e){const t=Ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function Ah(n,e){const t=Ke(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.fs.getTargetData(r,e).next(u=>u?(s=u,de.resolve(s)):t.fs.allocateTargetId(r).next(c=>(s=new fu(e,c,0,r.currentSequenceNumber),t.fs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.ui.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.ui=t.ui.insert(r.targetId,r),t.ai.set(e,r.targetId)),r})}function wp(n,e,t){return bp.apply(this,arguments)}function bp(){return bp=(0,be.Z)(function*(n,e,t){const r=Ke(n),s=r.ui.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,c=>r.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!Tc(c))throw c;Fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.ui=r.ui.remove(e),r.ai.delete(s.target)}),bp.apply(this,arguments)}function Mh(n,e,t){const r=Ke(n);let s=bt.min(),u=rn();return r.persistence.runTransaction("Execute query","readonly",c=>function(p,v,D){const A=Ke(p),x=A.ai.get(D);return void 0!==x?de.resolve(A.ui.get(x)):A.fs.getTargetData(v,D)}(r,c,cs(e)).next(p=>{if(p)return s=p.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(c,p.targetId).next(v=>{u=v})}).next(()=>r.oi.Qs(c,e,t?s:bt.min(),t?u:rn())).next(p=>(Km(r,bw(e),p),{documents:p,_i:u})))}function Rv(n,e){const t=Ke(n),r=Ke(t.fs),s=t.ui.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",u=>r.Et(u,e).next(c=>c?c.target:null))}function Zm(n,e){const t=Ke(n),r=t.ci.get(e)||bt.min();return t.persistence.runTransaction("Get new document changes","readonly",s=>t.hi.getAllFromCollectionGroup(s,e,Q_(r,-1),Number.MAX_SAFE_INTEGER)).then(s=>(Km(t,e,s),s))}function Km(n,e,t){let r=bt.min();t.forEach((s,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.ci.set(e,r)}function Pv(){return Pv=(0,be.Z)(function*(n,e,t,r){const s=Ke(n);let u=rn(),c=js();for(const D of t){const A=e.wi(D.metadata.name);D.document&&(u=u.add(A));const x=e.mi(D);x.setReadTime(e.gi(D.metadata.readTime)),c=c.insert(A,x)}const p=s.hi.newChangeBuffer({trackRemovals:!0}),v=yield Ah(s,(D=r,cs(vc(Wt.fromString(`__bundle__/docs/${D}`)))));var D;return s.persistence.runTransaction("Apply bundle documents","readwrite",D=>Nv(D,p,c).next(A=>(p.apply(D),A)).next(A=>s.fs.removeMatchingKeysForTargetId(D,v.targetId).next(()=>s.fs.addMatchingKeys(D,u,v.targetId)).next(()=>s.fi.Gs(D,A)).next(()=>A)))}),Pv.apply(this,arguments)}function GC(n,e){return kv.apply(this,arguments)}function kv(){return kv=(0,be.Z)(function*(n,e,t=rn()){const r=yield Ah(n,cs(Mc(e.bundledQuery))),s=Ke(n);return s.persistence.runTransaction("Save named query","readwrite",u=>{const c=zn(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return s._s.saveNamedQuery(u,e);const p=r.withResumeToken(tr.EMPTY_BYTE_STRING,c);return s.ui=s.ui.insert(p.targetId,p),s.fs.updateTargetData(u,p).next(()=>s.fs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>s.fs.addMatchingKeys(u,t,r.targetId)).next(()=>s._s.saveNamedQuery(u,e))})}),kv.apply(this,arguments)}class Nb{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return de.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var r;return this.yi.set(t.id,{id:(r=t).id,version:r.version,createTime:zn(r.createTime)}),de.resolve()}getNamedQuery(e,t){return de.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(r=t).name,query:Mc(r.bundledQuery),readTime:zn(r.readTime)}),de.resolve();var r}}class Fv{constructor(){this.overlays=new wn(He.comparator),this.Ii=new Map}getOverlay(e,t){return de.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((s,u)=>{this.Xt(e,t,u)}),de.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Ii.get(r);return void 0!==s&&(s.forEach(u=>this.overlays=this.overlays.remove(u)),this.Ii.delete(r)),de.resolve()}getOverlaysForCollection(e,t,r){const s=bn(),u=t.length+1,c=new He(t.child("")),p=this.overlays.getIteratorFrom(c);for(;p.hasNext();){const v=p.getNext().value,D=v.getKey();if(!t.isPrefixOf(D.path))break;D.path.length===u&&v.largestBatchId>r&&s.set(v.getKey(),v)}return de.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let u=new wn((D,A)=>D-A);const c=this.overlays.getIterator();for(;c.hasNext();){const D=c.getNext().value;if(D.getKey().getCollectionGroup()===t&&D.largestBatchId>r){let A=u.get(D.largestBatchId);null===A&&(A=bn(),u=u.insert(D.largestBatchId,A)),A.set(D.getKey(),D)}}const p=bn(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((D,A)=>p.set(D,A)),!(p.size()>=s)););return de.resolve(p)}Xt(e,t,r){if(null===r)return;const s=this.overlays.get(r.key);if(null!==s){const c=this.Ii.get(s.largestBatchId).delete(r.key);this.Ii.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new _v(t,r));let u=this.Ii.get(t);void 0===u&&(u=rn(),this.Ii.set(t,u)),this.Ii.set(t,u.add(r.key))}}class Ym{constructor(){this.Ti=new yn(Ur.Ei),this.Ai=new yn(Ur.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const r=new Ur(e,t);this.Ti=this.Ti.add(r),this.Ai=this.Ai.add(r)}bi(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Pi(new Ur(e,t))}Vi(e,t){e.forEach(r=>this.removeReference(r,t))}vi(e){const t=new He(new Wt([])),r=new Ur(t,e),s=new Ur(t,e+1),u=[];return this.Ai.forEachInRange([r,s],c=>{this.Pi(c),u.push(c.key)}),u}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new He(new Wt([])),r=new Ur(t,e),s=new Ur(t,e+1);let u=rn();return this.Ai.forEachInRange([r,s],c=>{u=u.add(c.key)}),u}containsKey(e){const t=new Ur(e,0),r=this.Ti.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ur{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return He.comparator(e.key,t.key)||Lt(e.Ci,t.Ci)}static Ri(e,t){return Lt(e.Ci,t.Ci)||He.comparator(e.key,t.key)}}class Rb{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new yn(Ur.Ei)}checkEmpty(e){return de.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,s){const u=this.xi;this.xi++;const c=new yv(u,t,r,s);this.Bs.push(c);for(const p of s)this.Ni=this.Ni.add(new Ur(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return de.resolve(c)}lookupMutationBatch(e,t){return de.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.Mi(t+1),u=s<0?0:s;return de.resolve(this.Bs.length>u?this.Bs[u]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return de.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ur(t,0),s=new Ur(t,Number.POSITIVE_INFINITY),u=[];return this.Ni.forEachInRange([r,s],c=>{const p=this.ki(c.Ci);u.push(p)}),de.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new yn(Lt);return t.forEach(s=>{const u=new Ur(s,0),c=new Ur(s,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([u,c],p=>{r=r.add(p.Ci)})}),de.resolve(this.Oi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let u=r;He.isDocumentKey(u)||(u=u.child(""));const c=new Ur(new He(u),0);let p=new yn(Lt);return this.Ni.forEachWhile(v=>{const D=v.key.path;return!!r.isPrefixOf(D)&&(D.length===s&&(p=p.add(v.Ci)),!0)},c),de.resolve(this.Oi(p))}Oi(e){const t=[];return e.forEach(r=>{const s=this.ki(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){xt(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let r=this.Ni;return de.forEach(t.mutations,s=>{const u=new Ur(s.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Ni=r})}_n(e){}containsKey(e,t){const r=new Ur(t,0),s=this.Ni.firstAfterOrEqual(r);return de.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return de.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class Pb{constructor(e){this.$i=e,this.docs=new wn(He.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),u=s?s.size:0,c=this.$i(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return de.resolve(r?r.document.mutableCopy():En.newInvalidDocument(t))}getEntries(e,t){let r=js();return t.forEach(s=>{const u=this.docs.get(s);r=r.insert(s,u?u.document.mutableCopy():En.newInvalidDocument(s))}),de.resolve(r)}getAllFromCollection(e,t,r){let s=js();const u=new He(t.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:p,value:{document:v}}=c.getNext();if(!t.isPrefixOf(p.path))break;p.path.length>t.length+1||J_(sC(v),r)<=0||(s=s.insert(v.key,v.mutableCopy()))}return de.resolve(s)}getAllFromCollectionGroup(e,t,r,s){rt()}Bi(e,t){return de.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new qC(this)}getSize(e){return de.resolve(this.size)}}class qC extends Tv{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Kn.addEntry(e,s)):this.Kn.removeEntry(r)}),de.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class kb{constructor(e){this.persistence=e,this.Li=new ll(t=>lu(t),Zf),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.Ui=0,this.qi=new Ym,this.targetCount=0,this.Ki=Nc.gn()}forEachTarget(e,t){return this.Li.forEach((r,s)=>t(s)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ui&&(this.Ui=t),de.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new Nc(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,de.resolve()}updateTargetData(e,t){return this.Tn(t),de.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,t,r){let s=0;const u=[];return this.Li.forEach((c,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.Li.delete(c),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),s++)}),de.waitFor(u).next(()=>s)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,t){const r=this.Li.get(t)||null;return de.resolve(r)}addMatchingKeys(e,t,r){return this.qi.bi(t,r),de.resolve()}removeMatchingKeys(e,t,r){this.qi.Vi(t,r);const s=this.persistence.referenceDelegate,u=[];return s&&t.forEach(c=>{u.push(s.markPotentiallyOrphaned(e,c))}),de.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),de.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qi.Di(t);return de.resolve(r)}containsKey(e,t){return de.resolve(this.qi.containsKey(t))}}class Fb{constructor(e,t){this.Gi={},this.overlays={},this.es=new us(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new kb(this),this.indexManager=new FC,this.ds=new Pb(r=>this.referenceDelegate.Qi(r)),this.M=new lb(t),this._s=new Nb(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Fv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Gi[e.toKey()];return r||(r=new Rb(t,this.referenceDelegate),this.Gi[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){Fe("MemoryPersistence","Starting transaction:",e);const s=new zC(this.es.next());return this.referenceDelegate.ji(),r(s).next(u=>this.referenceDelegate.Wi(s).next(()=>u)).toPromise().then(u=>(s.raiseOnCommittedEvent(),u))}zi(e,t){return de.or(Object.values(this.Gi).map(r=>()=>r.containsKey(e,t)))}}class zC extends mv{constructor(e){super(),this.currentSequenceNumber=e}}class Qm{constructor(e){this.persistence=e,this.Hi=new Ym,this.Ji=null}static Yi(e){return new Qm(e)}get Xi(){if(this.Ji)return this.Ji;throw rt()}addReference(e,t,r){return this.Hi.addReference(r,t),this.Xi.delete(r.toString()),de.resolve()}removeReference(e,t,r){return this.Hi.removeReference(r,t),this.Xi.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),de.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(s=>this.Xi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(u=>this.Xi.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.Xi,r=>{const s=He.fromPath(r);return this.Zi(e,s).next(u=>{u||t.removeEntry(s,bt.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(r=>{r?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return de.or([()=>de.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function Lb(n,e){return`firestore_clients_${n}_${e}`}function mi(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function fl(n,e){return`firestore_targets_${n}_${e}`}class Jm{constructor(e,t,r,s){this.user=e,this.batchId=t,this.state=r,this.error=s}static tr(e,t,r){const s=JSON.parse(r);let u,c="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return c&&s.error&&(c="string"==typeof s.error.message&&"string"==typeof s.error.code,c&&(u=new xe(s.error.code,s.error.message))),c?new Jm(e,t,s.state,u):(fr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Dp{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static tr(e,t){const r=JSON.parse(t);let s,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(s=new xe(r.error.code,r.error.message))),u?new Dp(e,r.state,s):(fr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Lv{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const r=JSON.parse(t);let s="object"==typeof r&&r.activeTargetIds instanceof Array,u=ep();for(let c=0;s&&c<r.activeTargetIds.length;++c)s=q_(r.activeTargetIds[c]),u=u.add(r.activeTargetIds[c]);return s?new Lv(e,u):(fr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Fc{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Fc(t.clientId,t.onlineState):(fr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Vv{constructor(){this.activeTargetIds=ep()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ip{constructor(e,t,r,s,u){this.window=e,this.Yn=t,this.persistenceKey=r,this.ir=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new wn(Lt),this.started=!1,this.cr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.hr=Lb(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new Vv),this.dr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,be.Z)(function*(){const t=yield e.syncEngine.Fs();for(const s of t){if(s===e.ir)continue;const u=e.getItem(Lb(e.persistenceKey,s));if(u){const c=Lv.tr(s,u);c&&(e.ar=e.ar.insert(c.clientId,c))}}e.yr();const r=e.storage.getItem(e.mr);if(r){const s=e.pr(r);s&&e.Ir(s)}for(const s of e.cr)e.ur(s);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((r,s)=>{s.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,r){this.Er(e,t,r),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(fl(this.persistenceKey,e));if(r){const s=Dp.tr(e,r);s&&(t=s.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(fl(this.persistenceKey,e))}updateQueryState(e,t,r){this.br(e,t,r)}handleUserChange(e,t,r){t.forEach(s=>{this.Ar(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Fe("SharedClientState","READ",e,t),t}setItem(e,t){Fe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Fe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Fe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.hr)return void fr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,be.Z)(function*(){if(t.started){if(null!==r.key)if(t.dr.test(r.key)){if(null==r.newValue){const s=t.vr(r.key);return t.Sr(s,null)}{const s=t.Dr(r.key,r.newValue);if(s)return t.Sr(s.clientId,s)}}else if(t._r.test(r.key)){if(null!==r.newValue){const s=t.Cr(r.key,r.newValue);if(s)return t.Nr(s)}}else if(t.wr.test(r.key)){if(null!==r.newValue){const s=t.kr(r.key,r.newValue);if(s)return t.Mr(s)}}else if(r.key===t.mr){if(null!==r.newValue){const s=t.pr(r.newValue);if(s)return t.Ir(s)}}else if(r.key===t.lr){const s=function(u){let c=us.A;if(null!=u)try{const p=JSON.parse(u);xt("number"==typeof p),c=p}catch(p){fr("SharedClientState","Failed to read sequence number from WebStorage",p)}return c}(r.newValue);s!==us.A&&t.sequenceNumberHandler(s)}else if(r.key===t.gr){const s=t.Or(r.newValue);yield Promise.all(s.map(u=>t.syncEngine.Fr(u)))}}else t.cr.push(r)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,r){const s=new Jm(this.currentUser,e,t,r),u=mi(this.persistenceKey,this.currentUser,e);this.setItem(u,s.er())}Ar(e){const t=mi(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,r){const s=fl(this.persistenceKey,e),u=new Dp(e,t,r);this.setItem(s,u.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const r=this.vr(e);return Lv.tr(r,t)}Cr(e,t){const r=this._r.exec(e),s=Number(r[1]);return Jm.tr(new Fr(void 0!==r[2]?r[2]:null),s,t)}kr(e,t){const r=this.wr.exec(e),s=Number(r[1]);return Dp.tr(s,t)}pr(e){return Fc.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,be.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const r=t?this.ar.insert(e,t):this.ar.remove(e),s=this.Tr(this.ar),u=this.Tr(r),c=[],p=[];return u.forEach(v=>{s.has(v)||c.push(v)}),s.forEach(v=>{u.has(v)||p.push(v)}),this.syncEngine.Lr(c,p).then(()=>{this.ar=r})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=ep();return e.forEach((r,s)=>{t=t.unionWith(s.activeTargetIds)}),t}}class Vb{constructor(){this.Ur=new Vv,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new Vv,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ub{Kr(e){}shutdown(){}}class Bb{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const WC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Uv{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class jb extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,s,u){const c=this.ho(e,t);Fe("RestConnection","Sending: ",c,r);const p={};return this.lo(p,s,u),this.fo(e,c,p,r).then(v=>(Fe("RestConnection","Received: ",v),v),v=>{throw cc("RestConnection",`${e} failed with error: `,v,"url: ",c,"request:",r),v})}_o(e,t,r,s,u){return this.co(e,t,r,s,u)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+nh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,u)=>e[u]=s),r&&r.headers.forEach((s,u)=>e[u]=s)}ho(e,t){return`${this.uo}/v1/${t}:${WC[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,s){return new Promise((u,c)=>{const p=new KI;p.listenOnce(WI.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case bm.NO_ERROR:const D=p.getResponseJson();Fe("Connection","XHR received:",JSON.stringify(D)),u(D);break;case bm.TIMEOUT:Fe("Connection",'RPC "'+e+'" timed out'),c(new xe(le.DEADLINE_EXCEEDED,"Request time out"));break;case bm.HTTP_ERROR:const A=p.getStatus();if(Fe("Connection",'RPC "'+e+'" failed with status:',A,"response text:",p.getResponseText()),A>0){const x=p.getResponseJson().error;if(x&&x.status&&x.message){const L=function(z){const K=z.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(K)>=0?K:le.UNKNOWN}(x.status);c(new xe(L,x.message))}else c(new xe(le.UNKNOWN,"Server responded with status "+p.getStatus()))}else c(new xe(le.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Fe("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(s);p.send(t,"POST",v,r,15)})}wo(e,t,r){const s=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=rw(),c=iw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new ZI({})),this.lo(p.initMessageHeaders,t,r),(0,At.uI)()||(0,At.b$)()||(0,At.d)()||(0,At.w1)()||(0,At.Mn)()||(0,At.ru)()||(p.httpHeadersOverwriteParam="$httpHeaders");const v=s.join("");Fe("Connection","Creating WebChannel: "+v,p);const D=u.createWebChannel(v,p);let A=!1,x=!1;const L=new Uv({Jr:K=>{x?Fe("Connection","Not sending because WebChannel is closed:",K):(A||(Fe("Connection","Opening WebChannel transport."),D.open(),A=!0),Fe("Connection","WebChannel sending:",K),D.send(K))},Yr:()=>D.close()}),z=(K,ye,Pe)=>{K.listen(ye,pt=>{try{Pe(pt)}catch(mt){setTimeout(()=>{throw mt},0)}})};return z(D,Bf.EventType.OPEN,()=>{x||Fe("Connection","WebChannel transport opened.")}),z(D,Bf.EventType.CLOSE,()=>{x||(x=!0,Fe("Connection","WebChannel transport closed"),L.ro())}),z(D,Bf.EventType.ERROR,K=>{x||(x=!0,cc("Connection","WebChannel transport errored:",K),L.ro(new xe(le.UNAVAILABLE,"The operation could not be completed")))}),z(D,Bf.EventType.MESSAGE,K=>{var ye;if(!x){const Pe=K.data[0];xt(!!Pe);const pt=Pe,mt=pt.error||(null===(ye=pt[0])||void 0===ye?void 0:ye.error);if(mt){Fe("Connection","WebChannel received error:",mt);const Dt=mt.status;let ut=function(Ut){const sn=br[Ut];if(void 0!==sn)return Lw(sn)}(Dt),kt=mt.message;void 0===ut&&(ut=le.INTERNAL,kt="Unknown error status: "+Dt+" with message "+mt.message),x=!0,L.ro(new xe(ut,kt)),D.close()}else Fe("Connection","WebChannel received:",Pe),L.oo(Pe)}}),z(c,sw.STAT_EVENT,K=>{K.stat===ow.PROXY?Fe("Connection","Detected buffering proxy"):K.stat===ow.NOPROXY&&Fe("Connection","Detected no buffering proxy")}),setTimeout(()=>{L.io()},0),L}}function Bv(){return"undefined"!=typeof window?window:null}function Lc(){return"undefined"!=typeof document?document:null}function Vc(n){return new Gw(n,!0)}class $b{constructor(e,t,r=1e3,s=1.5,u=6e4){this.Yn=e,this.timerId=t,this.mo=r,this.yo=s,this.po=u,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),s=Math.max(0,t-r);s>0&&Fe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,s,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class jv{constructor(e,t,r,s,u,c,p,v){this.Yn=e,this.Vo=r,this.vo=s,this.So=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new $b(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,be.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,be.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,be.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(fr(t.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===le.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Do===t&&this.Qo(r,s)},r=>{e(()=>{const s=new xe(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(s)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(s=>{r(()=>this.jo(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Oo(){var e=this;this.state=5,this.No.Ro((0,be.Z)(function*(){e.state=0,e.start()}))}jo(e){return Fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZC extends jv{constructor(e,t,r,s,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,c),this.M=u}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function mA(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:rt(),s=e.targetChange.targetIds||[],u=function(v,D){return v.N?(xt(void 0===D||"string"==typeof D),tr.fromBase64String(D||"")):(xt(void 0===D||D instanceof Uint8Array),tr.fromUint8Array(D||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,p=c&&function(v){const D=void 0===v.code?le.UNKNOWN:Lw(v.code);return new xe(D,v.message||"")}(c);t=new Bw(r,s,u,p||null)}else if("documentChange"in e){const r=e.documentChange,s=ya(n,r.document.name),u=zn(r.document.updateTime),c=new gi({mapValue:{fields:r.document.fields}}),p=En.newFoundDocument(s,u,c);t=new tp(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const r=e.documentDelete,s=ya(n,r.document),u=r.readTime?zn(r.readTime):bt.min(),c=En.newNoDocument(s,u);t=new tp([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,s=ya(n,r.document);t=new tp([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return rt();{const r=e.filter,u=new kw(r.count||0);t=new Uw(r.targetId,u)}}var v;return t}(this.M,e),r=function(s){if(!("targetChange"in s))return bt.min();const u=s.targetChange;return u.targetIds&&u.targetIds.length?bt.min():u.readTime?zn(u.readTime):bt.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=_h(this.M),t.addTarget=function(s,u){let c;const p=u.target;return c=Tm(p)?{documents:hv(s,p)}:{query:ip(s,p)},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?c.resumeToken=lv(s,u.resumeToken):u.snapshotVersion.compareTo(bt.min())>0&&(c.readTime=yh(s,u.snapshotVersion.toTimestamp())),c}(this.M,e);const r=function _C(n,e){const t=function(r,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=_h(this.M),t.removeTarget=e,this.Lo(t)}}class Hb extends jv{constructor(e,t,r,s,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,c),this.M=u,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function yA(n,e){return n&&n.length>0?(xt(void 0!==e),n.map(t=>function(r,s){let u=zn(r.updateTime?r.updateTime:s);return u.isEqual(bt.min())&&(u=zn(s)),new Nw(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=zn(e.commitTime);return this.listener.tu(r,t)}return xt(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=_h(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Um(this.M,r))};this.Lo(t)}}class Xm extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.M=s,this.su=!1}iu(){if(this.su)throw new xe(le.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.So.co(e,t,r,s,u)).catch(s=>{throw"FirebaseError"===s.name?(s.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new xe(le.UNKNOWN,s.toString())})}_o(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.So._o(e,t,r,s,u)).catch(s=>{throw"FirebaseError"===s.name?(s.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new xe(le.UNKNOWN,s.toString())})}terminate(){this.su=!0}}class Gb{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(fr(t),this.uu=!1):Fe("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class KC{constructor(e,t,r,s,u){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=u,this.gu.Kr(p=>{r.enqueueAndForget((0,be.Z)(function*(){var v;pl(c)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,be.Z)(function*(D){const A=Ke(D);A.wu.add(4),yield Tp(A),A.yu.set("Unknown"),A.wu.delete(4),yield Uc(A)}),function(D){return v.apply(this,arguments)})(c))}))}),this.yu=new Gb(r,s)}}function Uc(n){return Cp.apply(this,arguments)}function Cp(){return Cp=(0,be.Z)(function*(n){if(pl(n))for(const e of n.mu)yield e(!0)}),Cp.apply(this,arguments)}function Tp(n){return $v.apply(this,arguments)}function $v(){return $v=(0,be.Z)(function*(n){for(const e of n.mu)yield e(!1)}),$v.apply(this,arguments)}function ey(n,e){const t=Ke(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),ry(t)?ny(t):jc(t).Mo()&&ty(t,e))}function xh(n,e){const t=Ke(n),r=jc(t);t._u.delete(e),r.Mo()&&qb(t,e),0===t._u.size&&(r.Mo()?r.$o():pl(t)&&t.yu.set("Unknown"))}function ty(n,e){n.pu.Z(e.targetId),jc(n).Ho(e)}function qb(n,e){n.pu.Z(e),jc(n).Jo(e)}function ny(n){n.pu=new np({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n._u.get(e)||null}),jc(n).start(),n.yu.au()}function ry(n){return pl(n)&&!jc(n).ko()&&n._u.size>0}function pl(n){return 0===Ke(n).wu.size}function zb(n){n.pu=void 0}function Wb(n){return Hv.apply(this,arguments)}function Hv(){return Hv=(0,be.Z)(function*(n){n._u.forEach((e,t)=>{ty(n,e)})}),Hv.apply(this,arguments)}function Zb(n,e){return iy.apply(this,arguments)}function iy(){return iy=(0,be.Z)(function*(n,e){zb(n),ry(n)?(n.yu.lu(e),ny(n)):n.yu.set("Unknown")}),iy.apply(this,arguments)}function Kb(n,e,t){return sy.apply(this,arguments)}function sy(){return sy=(0,be.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof Bw&&2===e.state&&e.cause)try{yield(r=(0,be.Z)(function*(s,u){const c=u.cause;for(const p of u.targetIds)s._u.has(p)&&(yield s.remoteSyncer.rejectListen(p,c),s._u.delete(p),s.pu.removeTarget(p))}),function(s,u){return r.apply(this,arguments)})(n,e)}catch(r){Fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield oy(n,r)}else if(e instanceof tp?n.pu.ut(e):e instanceof Uw?n.pu._t(e):n.pu.ht(e),!t.isEqual(bt.min()))try{const r=yield xv(n.localStore);t.compareTo(r)>=0&&(yield function(s,u){const c=s.pu.yt(u);return c.targetChanges.forEach((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const D=s._u.get(v);D&&s._u.set(v,D.withResumeToken(p.resumeToken,u))}}),c.targetMismatches.forEach(p=>{const v=s._u.get(p);if(!v)return;s._u.set(p,v.withResumeToken(tr.EMPTY_BYTE_STRING,v.snapshotVersion)),qb(s,p);const D=new fu(v.target,p,1,v.sequenceNumber);ty(s,D)}),s.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Fe("RemoteStore","Failed to raise snapshot:",r),yield oy(n,r)}var r}),sy.apply(this,arguments)}function oy(n,e,t){return Gv.apply(this,arguments)}function Gv(){return Gv=(0,be.Z)(function*(n,e,t){if(!Tc(e))throw e;n.wu.add(1),yield Tp(n),n.yu.set("Offline"),t||(t=()=>xv(n.localStore)),n.asyncQueue.enqueueRetryable((0,be.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield Uc(n)}))}),Gv.apply(this,arguments)}function YC(n,e){return e().catch(t=>oy(n,t,e))}function Bc(n){return Yb.apply(this,arguments)}function Yb(){return Yb=(0,be.Z)(function*(n){const e=Ke(n),t=mu(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;_A(e);)try{const s=yield $C(e.localStore,r);if(null===s){0===e.du.length&&t.$o();break}r=s.batchId,vA(e,s)}catch(s){yield oy(e,s)}QC(e)&&JC(e)}),Yb.apply(this,arguments)}function _A(n){return pl(n)&&n.du.length<10}function vA(n,e){n.du.push(e);const t=mu(n);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function QC(n){return pl(n)&&!mu(n).ko()&&n.du.length>0}function JC(n){mu(n).start()}function EA(n){return Qb.apply(this,arguments)}function Qb(){return Qb=(0,be.Z)(function*(n){mu(n).nu()}),Qb.apply(this,arguments)}function wA(n){return Oh.apply(this,arguments)}function Oh(){return Oh=(0,be.Z)(function*(n){const e=mu(n);for(const t of n.du)e.Zo(t.mutations)}),Oh.apply(this,arguments)}function bA(n,e,t){return ay.apply(this,arguments)}function ay(){return ay=(0,be.Z)(function*(n,e,t){const r=n.du.shift(),s=up.from(r,e,t);yield YC(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield Bc(n)}),ay.apply(this,arguments)}function qv(n,e){return uy.apply(this,arguments)}function uy(){return uy=(0,be.Z)(function*(n,e){var t;e&&mu(n).Xo&&(yield(t=(0,be.Z)(function*(r,s){if(Fw(u=s.code)&&u!==le.ABORTED){const c=r.du.shift();mu(r).Fo(),yield YC(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,s)),yield Bc(r)}var u}),function(r,s){return t.apply(this,arguments)})(n,e)),QC(n)&&JC(n)}),uy.apply(this,arguments)}function zv(n,e){return Jb.apply(this,arguments)}function Jb(){return Jb=(0,be.Z)(function*(n,e){const t=Ke(n);t.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const r=pl(t);t.wu.add(3),yield Tp(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield Uc(t)}),Jb.apply(this,arguments)}function Sp(n,e){return ly.apply(this,arguments)}function ly(){return ly=(0,be.Z)(function*(n,e){const t=Ke(n);e?(t.wu.delete(2),yield Uc(t)):e||(t.wu.add(2),yield Tp(t),t.yu.set("Unknown"))}),ly.apply(this,arguments)}function jc(n){return n.Iu||(n.Iu=function(e,t,r){const s=Ke(e);return s.iu(),new ZC(t,s.So,s.authCredentials,s.appCheckCredentials,s.M,r)}(n.datastore,n.asyncQueue,{Xr:Wb.bind(null,n),eo:Zb.bind(null,n),zo:Kb.bind(null,n)}),n.mu.push(function(){var e=(0,be.Z)(function*(t){t?(n.Iu.Fo(),ry(n)?ny(n):n.yu.set("Unknown")):(yield n.Iu.stop(),zb(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function mu(n){return n.Tu||(n.Tu=function(e,t,r){const s=Ke(e);return s.iu(),new Hb(t,s.So,s.authCredentials,s.appCheckCredentials,s.M,r)}(n.datastore,n.asyncQueue,{Xr:EA.bind(null,n),eo:qv.bind(null,n),eu:wA.bind(null,n),tu:bA.bind(null,n)}),n.mu.push(function(){var e=(0,be.Z)(function*(t){t?(n.Tu.Fo(),yield Bc(n)):(yield n.Tu.stop(),n.du.length>0&&(Fe("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class Xb{constructor(e,t,r,s,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=u,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,s,u){const c=Date.now()+r,p=new Xb(e,t,c,s,u);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xe(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $c(n,e){if(fr("AsyncQueue",`${e}: ${n}`),Tc(n))return new xe(le.UNAVAILABLE,`${e}: ${n}`);throw n}class Nh{constructor(e){this.comparator=e?(t,r)=>e(t,r)||He.comparator(t.key,r.key):(t,r)=>He.comparator(t.key,r.key),this.keyedMap=ph(),this.sortedSet=new wn(this.comparator)}static emptySet(e){return new Nh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Nh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(!s.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Nh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class cy{constructor(){this.Eu=new wn(He.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):rt():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Rh{constructor(e,t,r,s,u,c,p,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=p,this.excludesMetadataChanges=v}static fromInitialDocuments(e,t,r,s){const u=[];return t.forEach(c=>{u.push({type:0,doc:c})}),new Rh(e,t,Nh.emptySet(t),u,r,s,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class DA{constructor(){this.Ru=void 0,this.listeners=[]}}class IA{constructor(){this.queries=new ll(e=>sv(e),ch),this.onlineState="Unknown",this.bu=new Set}}function eD(n,e){return Wv.apply(this,arguments)}function Wv(){return Wv=(0,be.Z)(function*(n,e){const t=Ke(n),r=e.query;let s=!1,u=t.queries.get(r);if(u||(s=!0,u=new DA),s)try{u.Ru=yield t.onListen(r)}catch(c){const p=$c(c,`Initialization of query '${Mm(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,u),u.listeners.push(e),e.Pu(t.onlineState),u.Ru&&e.Vu(u.Ru)&&Ap(t)}),Wv.apply(this,arguments)}function Zv(n,e){return Kv.apply(this,arguments)}function Kv(){return Kv=(0,be.Z)(function*(n,e){const t=Ke(n),r=e.query;let s=!1;const u=t.queries.get(r);if(u){const c=u.listeners.indexOf(e);c>=0&&(u.listeners.splice(c,1),s=0===u.listeners.length)}if(s)return t.queries.delete(r),t.onUnlisten(r)}),Kv.apply(this,arguments)}function CA(n,e){const t=Ke(n);let r=!1;for(const s of e){const c=t.queries.get(s.query);if(c){for(const p of c.listeners)p.Vu(s)&&(r=!0);c.Ru=s}}r&&Ap(t)}function XC(n,e,t){const r=Ke(n),s=r.queries.get(e);if(s)for(const u of s.listeners)u.onError(t);r.queries.delete(e)}function Ap(n){n.bu.forEach(e=>{e.next()})}class Yv{constructor(e,t,r){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new Rh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Rh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class Do{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class tD{constructor(e){this.M=e}wi(e){return ya(this.M,e)}mi(e){return e.metadata.exists?Ww(this.M,e.document,!1):En.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return zn(e)}}class Qv{constructor(e,t,r){this.Ou=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=nD(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=Wt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new tD(this.M);for(const s of e)if(s.metadata.queries){const u=r.wi(s.metadata.name);for(const c of s.metadata.queries){const p=(t.get(c)||rn()).add(u);t.set(c,p)}}return t}complete(){var e=this;return(0,be.Z)(function*(){const t=yield function HC(n,e,t,r){return Pv.apply(this,arguments)}(e.localStore,new tD(e.M),e.documents,e.Ou.id),r=e.$u(e.documents);for(const s of e.queries)yield GC(e.localStore,s,r.get(s.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function nD(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class rD{constructor(e){this.key=e}}class dy{constructor(e){this.key=e}}class Jv{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=rn(),this.mutatedKeys=rn(),this.Gu=Dw(e),this.Qu=new Nh(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new cy,s=t?t.Qu:this.Qu;let u=t?t.mutatedKeys:this.mutatedKeys,c=s,p=!1;const v="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,D="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((A,x)=>{const L=s.get(A),z=ov(this.query,x)?x:null,K=!!L&&this.mutatedKeys.has(L.key),ye=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let Pe=!1;L&&z?L.data.isEqual(z.data)?K!==ye&&(r.track({type:3,doc:z}),Pe=!0):this.Hu(L,z)||(r.track({type:2,doc:z}),Pe=!0,(v&&this.Gu(z,v)>0||D&&this.Gu(z,D)<0)&&(p=!0)):!L&&z?(r.track({type:0,doc:z}),Pe=!0):L&&!z&&(r.track({type:1,doc:L}),Pe=!0,(v||D)&&(p=!0)),Pe&&(z?(c=c.add(z),u=ye?u.add(A):u.delete(A)):(c=c.delete(A),u=u.delete(A)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const A="F"===this.query.limitType?c.last():c.first();c=c.delete(A.key),u=u.delete(A.key),r.track({type:1,doc:A})}return{Qu:c,zu:r,ii:p,mutatedKeys:u}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const s=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const u=e.zu.Au();u.sort((D,A)=>function(x,L){const z=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return z(x)-z(L)}(D.type,A.type)||this.Gu(D.doc,A.doc)),this.Ju(r);const c=t?this.Yu():[],p=0===this.Ku.size&&this.current?1:0,v=p!==this.qu;return this.qu=p,0!==u.length||v?{snapshot:new Rh(this.query,e.Qu,s,u,e.mutatedKeys,0===p,v,!1),Xu:c}:{Xu:c}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new cy,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=rn(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new dy(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new rD(r))}),t}ta(e){this.Uu=e._i,this.Ku=rn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return Rh.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class iD{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class eT{constructor(e){this.key=e,this.na=!1}}class sD{constructor(e,t,r,s,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.sa={},this.ia=new ll(p=>sv(p),ch),this.ra=new Map,this.oa=new Set,this.ua=new wn(He.comparator),this.aa=new Map,this.ca=new Ym,this.ha={},this.la=new Map,this.fa=Nc.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function oD(n,e){return Xv.apply(this,arguments)}function Xv(){return Xv=(0,be.Z)(function*(n,e){const t=f0(n);let r,s;const u=t.ia.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),s=u.view.ea();else{const c=yield Ah(t.localStore,cs(e));t.isPrimaryClient&&ey(t.remoteStore,c);const p=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,s=yield e0(t,e,r,"current"===p)}return s}),Xv.apply(this,arguments)}function e0(n,e,t,r){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,be.Z)(function*(n,e,t,r){n._a=(A,x,L)=>{return(z=(0,be.Z)(function*(K,ye,Pe,pt){let mt=ye.view.Wu(Pe);mt.ii&&(mt=yield Mh(K.localStore,ye.query,!1).then(({documents:kt})=>ye.view.Wu(kt,mt)));const Dt=pt&&pt.targetChanges.get(ye.targetId),ut=ye.view.applyChanges(mt,K.isPrimaryClient,Dt);return py(K,ye.targetId,ut.Xu),ut.snapshot}),function(K,ye,Pe,pt){return z.apply(this,arguments)})(n,A,x,L);var z};const s=yield Mh(n.localStore,e,!0),u=new Jv(e,s._i),c=u.Wu(s.documents),p=mh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),v=u.applyChanges(c,n.isPrimaryClient,p);py(n,t,v.Xu);const D=new iD(e,t,u);return n.ia.set(e,D),n.ra.has(t)?n.ra.get(t).push(e):n.ra.set(t,[e]),v.snapshot}),Mp.apply(this,arguments)}function Io(n,e){return t0.apply(this,arguments)}function t0(){return t0=(0,be.Z)(function*(n,e){const t=Ke(n),r=t.ia.get(e),s=t.ra.get(r.targetId);if(s.length>1)return t.ra.set(r.targetId,s.filter(u=>!ch(u,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield wp(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),xh(t.remoteStore,r.targetId),Hc(t,r.targetId)}).catch(Rc))):(Hc(t,r.targetId),yield wp(t.localStore,r.targetId,!0))}),t0.apply(this,arguments)}function n0(){return n0=(0,be.Z)(function*(n,e,t){const r=Pp(n);try{const s=yield function(u,c){const p=Ke(u),v=er.now(),D=c.reduce((x,L)=>x.add(L.key),rn());let A;return p.persistence.runTransaction("Locally write mutations","readwrite",x=>p.fi.Ks(x,D).next(L=>{A=L;const z=[];for(const K of c){const ye=Pw(K,A.get(K.key));null!=ye&&z.push(new Dc(K.key,ye,yw(ye.value.mapValue),rr.exists(!0)))}return p.Bs.addMutationBatch(x,v,z,c)})).then(x=>(x.applyToLocalDocumentSet(A),{batchId:x.batchId,changes:A}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,c,p){let v=u.ha[u.currentUser.toKey()];v||(v=new wn(Lt)),v=v.insert(c,p),u.ha[u.currentUser.toKey()]=v}(r,s.batchId,t),yield yu(r,s.changes),yield Bc(r.remoteStore)}catch(s){const u=$c(s,"Failed to persist write");t.reject(u)}}),n0.apply(this,arguments)}function r0(n,e){return s0.apply(this,arguments)}function s0(){return s0=(0,be.Z)(function*(n,e){const t=Ke(n);try{const r=yield Ov(t.localStore,e);e.targetChanges.forEach((s,u)=>{const c=t.aa.get(u);c&&(xt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.na=!0:s.modifiedDocuments.size>0?xt(c.na):s.removedDocuments.size>0&&(xt(c.na),c.na=!1))}),yield yu(t,r,e)}catch(r){yield Rc(r)}}),s0.apply(this,arguments)}function aD(n,e,t){const r=Ke(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.ia.forEach((u,c)=>{const p=c.view.Pu(e);p.snapshot&&s.push(p.snapshot)}),function(u,c){const p=Ke(u);p.onlineState=c;let v=!1;p.queries.forEach((D,A)=>{for(const x of A.listeners)x.Pu(c)&&(v=!0)}),v&&Ap(p)}(r.eventManager,e),s.length&&r.sa.zo(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function uD(n,e,t){return o0.apply(this,arguments)}function o0(){return o0=(0,be.Z)(function*(n,e,t){const r=Ke(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.aa.get(e),u=s&&s.key;if(u){let c=new wn(He.comparator);c=c.insert(u,En.newNoDocument(u,bt.min()));const p=rn().add(u),v=new gh(bt.min(),new Map,new yn(Lt),c,p);yield r0(r,v),r.ua=r.ua.remove(u),r.aa.delete(e),u0(r)}else yield wp(r.localStore,e,!1).then(()=>Hc(r,e,t)).catch(Rc)}),o0.apply(this,arguments)}function SA(n,e){return hy.apply(this,arguments)}function hy(){return hy=(0,be.Z)(function*(n,e){const t=Ke(n),r=e.batch.batchId;try{const s=yield Ob(t.localStore,e);Op(t,r,null),xp(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield yu(t,s)}catch(s){yield Rc(s)}}),hy.apply(this,arguments)}function lD(n,e,t){return a0.apply(this,arguments)}function a0(){return a0=(0,be.Z)(function*(n,e,t){const r=Ke(n);try{const s=yield function(u,c){const p=Ke(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let D;return p.Bs.lookupMutationBatch(v,c).next(A=>(xt(null!==A),D=A.keys(),p.Bs.removeMutationBatch(v,A))).next(()=>p.Bs.performConsistencyCheck(v)).next(()=>p.fi.Ks(v,D))})}(r.localStore,e);Op(r,e,t),xp(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield yu(r,s)}catch(s){yield Rc(s)}}),a0.apply(this,arguments)}function fy(){return fy=(0,be.Z)(function*(n,e){const t=Ke(n);pl(t.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const c=Ke(u);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>c.Bs.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const s=t.la.get(r)||[];s.push(e),t.la.set(r,s)}catch(r){const s=$c(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}),fy.apply(this,arguments)}function xp(n,e){(n.la.get(e)||[]).forEach(t=>{t.resolve()}),n.la.delete(e)}function Op(n,e,t){const r=Ke(n);let s=r.ha[r.currentUser.toKey()];if(s){const u=s.get(e);u&&(t?u.reject(t):u.resolve(),s=s.remove(e)),r.ha[r.currentUser.toKey()]=s}}function Hc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ra.get(e))n.ia.delete(r),t&&n.sa.wa(r,t);n.ra.delete(e),n.isPrimaryClient&&n.ca.vi(e).forEach(r=>{n.ca.containsKey(r)||cD(n,r)})}function cD(n,e){n.oa.delete(e.path.canonicalString());const t=n.ua.get(e);null!==t&&(xh(n.remoteStore,t),n.ua=n.ua.remove(e),n.aa.delete(t),u0(n))}function py(n,e,t){for(const r of t)r instanceof rD?(n.ca.addReference(r.key,e),dD(n,r)):r instanceof dy?(Fe("SyncEngine","Document no longer in limbo: "+r.key),n.ca.removeReference(r.key,e),n.ca.containsKey(r.key)||cD(n,r.key)):rt()}function dD(n,e){const t=e.key,r=t.path.canonicalString();n.ua.get(t)||n.oa.has(r)||(Fe("SyncEngine","New document in limbo: "+t),n.oa.add(r),u0(n))}function u0(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const e=n.oa.values().next().value;n.oa.delete(e);const t=new He(Wt.fromString(e)),r=n.fa.next();n.aa.set(r,new eT(t)),n.ua=n.ua.insert(t,r),ey(n.remoteStore,new fu(cs(vc(t.path)),r,2,us.A))}}function yu(n,e,t){return hD.apply(this,arguments)}function hD(){return hD=(0,be.Z)(function*(n,e,t){const r=Ke(n),s=[],u=[],c=[];var p;r.ia.isEmpty()||(r.ia.forEach((p,v)=>{c.push(r._a(v,e,t).then(D=>{if(D){r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,D.fromCache?"not-current":"current"),s.push(D);const A=Av.Ys(v.targetId,D);u.push(A)}}))}),yield Promise.all(c),r.sa.zo(s),yield(p=(0,be.Z)(function*(v,D){const A=Ke(v);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>de.forEach(D,L=>de.forEach(L.Hs,z=>A.persistence.referenceDelegate.addReference(x,L.targetId,z)).next(()=>de.forEach(L.Js,z=>A.persistence.referenceDelegate.removeReference(x,L.targetId,z)))))}catch(x){if(!Tc(x))throw x;Fe("LocalStore","Failed to update sequence numbers: "+x)}for(const x of D){const L=x.targetId;if(!x.fromCache){const z=A.ui.get(L),ye=z.withLastLimboFreeSnapshotVersion(z.snapshotVersion);A.ui=A.ui.insert(L,ye)}}}),function(v,D){return p.apply(this,arguments)})(r.localStore,u))}),hD.apply(this,arguments)}function AA(n,e){return gy.apply(this,arguments)}function gy(){return gy=(0,be.Z)(function*(n,e){const t=Ke(n);if(!t.currentUser.isEqual(e)){Fe("SyncEngine","User change. New user:",e.toKey());const r=yield xb(t.localStore,e);t.currentUser=e,(s=t).la.forEach(c=>{c.forEach(p=>{p.reject(new xe(le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.la.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield yu(t,r.di)}var s}),gy.apply(this,arguments)}function nT(n,e){const t=Ke(n),r=t.aa.get(e);if(r&&r.na)return rn().add(r.key);{let s=rn();const u=t.ra.get(e);if(!u)return s;for(const c of u){const p=t.ia.get(c);s=s.unionWith(p.view.ju)}return s}}function rT(n,e){return l0.apply(this,arguments)}function l0(){return l0=(0,be.Z)(function*(n,e){const t=Ke(n),r=yield Mh(t.localStore,e.query,!0),s=e.view.ta(r);return t.isPrimaryClient&&py(t,e.targetId,s.Xu),s}),l0.apply(this,arguments)}function MA(n,e){return fD.apply(this,arguments)}function fD(){return fD=(0,be.Z)(function*(n,e){const t=Ke(n);return Zm(t.localStore,e).then(r=>yu(t,r))}),fD.apply(this,arguments)}function xA(n,e,t,r){return pD.apply(this,arguments)}function pD(){return pD=(0,be.Z)(function*(n,e,t,r){const s=Ke(n),u=yield function(c,p){const v=Ke(c),D=Ke(v.Bs);return v.persistence.runTransaction("Lookup mutation documents","readonly",A=>D.fn(A,p).next(x=>x?v.fi.Ks(A,x):de.resolve(null)))}(s.localStore,e);var p;null!==u?("pending"===t?yield Bc(s.remoteStore):"acknowledged"===t||"rejected"===t?(Op(s,e,r||null),xp(s,e),p=e,Ke(Ke(s.localStore).Bs)._n(p)):rt(),yield yu(s,u)):Fe("SyncEngine","Cannot apply mutation batch with id: "+e)}),pD.apply(this,arguments)}function c0(){return c0=(0,be.Z)(function*(n,e){const t=Ke(n);if(f0(t),Pp(t),!0===e&&!0!==t.da){const r=t.sharedClientState.getAllActiveQueryTargets(),s=yield Np(t,r.toArray());t.da=!0,yield Sp(t.remoteStore,!0);for(const u of s)ey(t.remoteStore,u)}else if(!1===e&&!1!==t.da){const r=[];let s=Promise.resolve();t.ra.forEach((u,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):s=s.then(()=>(Hc(t,c),wp(t.localStore,c,!0))),xh(t.remoteStore,c)}),yield s,yield Np(t,r),function(u){const c=Ke(u);c.aa.forEach((p,v)=>{xh(c.remoteStore,v)}),c.ca.Si(),c.aa=new Map,c.ua=new wn(He.comparator)}(t),t.da=!1,yield Sp(t.remoteStore,!1)}}),c0.apply(this,arguments)}function Np(n,e,t){return d0.apply(this,arguments)}function d0(){return d0=(0,be.Z)(function*(n,e,t){const r=Ke(n),s=[],u=[];for(const c of e){let p;const v=r.ra.get(c);if(v&&0!==v.length){p=yield Ah(r.localStore,cs(v[0]));for(const D of v){const A=r.ia.get(D),x=yield rT(r,A);x.snapshot&&u.push(x.snapshot)}}else{const D=yield Rv(r.localStore,c);p=yield Ah(r.localStore,D),yield e0(r,gD(D),c,!1)}s.push(p)}return r.sa.zo(u),s}),d0.apply(this,arguments)}function gD(n){return nv(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function mD(n){const e=Ke(n);return Ke(Ke(e.localStore).persistence).Fs()}function Gc(n,e,t,r){return my.apply(this,arguments)}function my(){return my=(0,be.Z)(function*(n,e,t,r){const s=Ke(n);if(s.da)return void Fe("SyncEngine","Ignoring unexpected query state notification.");const u=s.ra.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const c=yield Zm(s.localStore,bw(u[0])),p=gh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield yu(s,c,p);break}case"rejected":yield wp(s.localStore,e,!0),Hc(s,e,r);break;default:rt()}}),my.apply(this,arguments)}function h0(n,e,t){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,be.Z)(function*(n,e,t){const r=f0(n);if(r.da){for(const s of e){if(r.ra.has(s)){Fe("SyncEngine","Adding an already active target "+s);continue}const u=yield Rv(r.localStore,s),c=yield Ah(r.localStore,u);yield e0(r,gD(u),c.targetId,!1),ey(r.remoteStore,c)}for(const s of t)r.ra.has(s)&&(yield wp(r.localStore,s,!1).then(()=>{xh(r.remoteStore,s),Hc(r,s)}).catch(Rc))}}),Rp.apply(this,arguments)}function f0(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=r0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uD.bind(null,e),e.sa.zo=CA.bind(null,e.eventManager),e.sa.wa=XC.bind(null,e.eventManager),e}function Pp(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lD.bind(null,e),e}class kp{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,be.Z)(function*(){t.M=Vc(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return Ep(this.persistence,new Mb,e.initialUser,this.M)}ya(e){return new Fb(Qm.Yi,this.M)}ga(e){return new Vb}terminate(){var e=this;return(0,be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class iT extends kp{constructor(e,t,r){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,be.Z)(function*(){yield t().call(r,e),yield r.Ta.initialize(r,e),yield Pp(r.Ta.syncEngine),yield Bc(r.Ta.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Ia(e){return Ep(this.persistence,new Mb,e.initialUser,this.M)}pa(e){return new bb(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=kc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?qi.withCacheSize(this.cacheSizeBytes):qi.DEFAULT;return new $s(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Bv(),Lc(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new Vb}}class NA extends iT{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,be.Z)(function*(){yield t().call(r,e);const s=r.Ta.syncEngine;r.sharedClientState instanceof Ip&&(r.sharedClientState.syncEngine={$r:xA.bind(null,s),Br:Gc.bind(null,s),Lr:h0.bind(null,s),Fs:mD.bind(null,s),Fr:MA.bind(null,s)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var u=(0,be.Z)(function*(c){yield function OA(n,e){return c0.apply(this,arguments)}(r.Ta.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):c||r.gcScheduler.stop())});return function(c){return u.apply(this,arguments)}}())})()}ga(e){const t=Bv();if(!Ip.vt(t))throw new xe(le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=kc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ip(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class yD{initialize(e,t){var r=this;return(0,be.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>aD(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=AA.bind(null,r.syncEngine),yield Sp(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new IA}createDatastore(e){const t=Vc(e.databaseInfo.databaseId),r=new jb(e.databaseInfo);return new Xm(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,s=e.asyncQueue,u=p=>aD(this.syncEngine,p,0),c=Bb.vt()?new Bb:new Ub,new KC(t,r,s,u,c);var t,r,s,u,c}createSyncEngine(e,t){return function(r,s,u,c,p,v,D){const A=new sD(r,s,u,c,p,v);return D&&(A.da=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,be.Z)(function*(t){const r=Ke(t);Fe("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield Tp(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function sT(n,e=10240){let t=0;return{read:()=>(0,be.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Fp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class oT{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new Zr,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(r=>{r&&r.Mu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,be.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,be.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,be.Z)(function*(){const t=yield e.Va();if(null===t)return null;const r=e.ba.decode(t),s=Number(r);isNaN(s)&&e.va(`length string (${r}) is not valid number`);const u=yield e.Sa(s);return new Do(JSON.parse(u),t.length+s)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,be.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Sa(e){var t=this;return(0,be.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const r=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,be.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class aT{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,be.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new xe(le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(s=(0,be.Z)(function*(u,c){const p=Ke(u),v=_h(p.M)+"/documents",D={documents:c.map(z=>rp(p.M,z))},A=yield p._o("BatchGetDocuments",v,D),x=new Map;A.forEach(z=>{const K=function yC(n,e){return"found"in e?function(t,r){xt(!!r.found);const s=ya(t,r.found.name),u=zn(r.found.updateTime),c=new gi({mapValue:{fields:r.found.fields}});return En.newFoundDocument(s,u,c)}(n,e):"missing"in e?function(t,r){xt(!!r.missing),xt(!!r.readTime);const s=ya(t,r.missing),u=zn(r.readTime);return En.newNoDocument(s,u)}(n,e):rt()}(p.M,z);x.set(K.key.toString(),K)});const L=[];return c.forEach(z=>{const K=x.get(z.toString());xt(!!K),L.push(K)}),L}),function(u,c){return s.apply(this,arguments)})(t.datastore,e);var s;return r.forEach(s=>t.recordVersion(s)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Rm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,be.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,s)=>{const u=He.fromPath(s);e.mutations.push(new Pm(u,e.precondition(u)))}),yield(r=(0,be.Z)(function*(s,u){const c=Ke(s),p=_h(c.M)+"/documents",v={writes:u.map(D=>Um(c.M,D))};yield c.co("Commit",p,v)}),function(s,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw rt();t=bt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new xe(le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?rr.updateTime(t):rr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(bt.min()))throw new xe(le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rr.updateTime(t)}return rr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class uT{constructor(e,t,r,s,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=s,this.deferred=u,this.xa=r.maxAttempts,this.No=new $b(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,be.Z)(function*(){const t=new aT(e.datastore),r=e.ka(t);r&&r.then(s=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(s)}).catch(u=>{e.Ma(u)}))}).catch(s=>{e.Ma(s)})}))}ka(e){try{const t=this.updateFunction(e);return!Hf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Fw(t)}return!1}}class lT{constructor(e,t,r,s){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Fr.UNAUTHENTICATED,this.clientId=dw.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,be.Z)(function*(p){Fe("FirestoreClient","Received user=",p.uid),yield u.authCredentialListener(p),u.user=p});return function(p){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Fe("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xe(le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=$c(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function g0(n,e){return yy.apply(this,arguments)}function yy(){return yy=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,be.Z)(function*(u){r.isEqual(u)||(yield xb(e.localStore,u),r=u)});return function(u){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),yy.apply(this,arguments)}function m0(n,e){return y0.apply(this,arguments)}function y0(){return y0=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield _0(n);Fe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(s=>zv(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,u)=>zv(e.remoteStore,u)),n.onlineComponents=e}),y0.apply(this,arguments)}function _0(n){return _y.apply(this,arguments)}function _y(){return _y=(0,be.Z)(function*(n){return n.offlineComponents||(Fe("FirestoreClient","Using default OfflineComponentProvider"),yield g0(n,new kp)),n.offlineComponents}),_y.apply(this,arguments)}function Ph(n){return _D.apply(this,arguments)}function _D(){return _D=(0,be.Z)(function*(n){return n.onlineComponents||(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield m0(n,new yD)),n.onlineComponents}),_D.apply(this,arguments)}function v0(n){return _0(n).then(e=>e.persistence)}function Lp(n){return _0(n).then(e=>e.localStore)}function vD(n){return Ph(n).then(e=>e.remoteStore)}function E0(n){return Ph(n).then(e=>e.syncEngine)}function Vp(n){return ED.apply(this,arguments)}function ED(){return ED=(0,be.Z)(function*(n){const e=yield Ph(n),t=e.eventManager;return t.onListen=oD.bind(null,e.syncEngine),t.onUnlisten=Io.bind(null,e.syncEngine),t}),ED.apply(this,arguments)}function hT(n,e,t={}){const r=new Zr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(s,u,c,p,v){const D=new Fp({next:x=>{u.enqueueAndForget(()=>Zv(s,A));const L=x.docs.has(c);!L&&x.fromCache?v.reject(new xe(le.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&x.fromCache&&p&&"server"===p.source?v.reject(new xe(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(x)},error:x=>v.reject(x)}),A=new Yv(vc(c.path),D,{includeMetadataChanges:!0,ku:!0});return eD(s,A)}(yield Vp(n),n.asyncQueue,e,t,r)})),r.promise}function fT(n,e,t={}){const r=new Zr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(s,u,c,p,v){const D=new Fp({next:x=>{u.enqueueAndForget(()=>Zv(s,A)),x.fromCache&&"server"===p.source?v.reject(new xe(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(x)},error:x=>v.reject(x)}),A=new Yv(c,D,{includeMetadataChanges:!0,ku:!0});return eD(s,A)}(yield Vp(n),n.asyncQueue,e,t,r)})),r.promise}const gT=new Map;function wD(n,e,t){if(!t)throw new xe(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function mT(n,e,t,r){if(!0===e&&!0===r)throw new xe(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function i(n){if(!He.isDocumentKey(n))throw new xe(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function o(n){if(He.isDocumentKey(n))throw new xe(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function a(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":rt()}function l(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=a(n);throw new xe(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function d(n,e){if(e<=0)throw new xe(le.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class g{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new xe(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new xe(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,mT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g({}),this._settingsFrozen=!1,e instanceof fa?this._databaseId=e:(this._app=e,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new xe(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fa(s.options.projectId)}(e))}get app(){if(!this._app)throw new xe(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new xe(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new rh;switch(t.type){case"gapi":const r=t.client;return xt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new cw(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new xe(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=gT.get(e);t&&(Fe("ComponentProvider","Removing Datastore"),gT.delete(e),t.terminate())}(this),Promise.resolve()}}class b{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new M(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new b(this.firestore,e,this._key)}}class T{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new T(this.firestore,e,this._query)}}class M extends T{constructor(e,t,r){super(e,t,vc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new b(this.firestore,null,new He(e))}withConverter(e){return new M(this.firestore,e,this._path)}}function k(n,e,...t){if(n=(0,At.m9)(n),wD("collection","path",e),n instanceof _){const r=Wt.fromString(e,...t);return o(r),new M(n,null,r)}{if(!(n instanceof b||n instanceof M))throw new xe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Wt.fromString(e,...t));return o(r),new M(n.firestore,null,r)}}function Q(n,e,...t){if(n=(0,At.m9)(n),1===arguments.length&&(e=dw.R()),wD("doc","path",e),n instanceof _){const r=Wt.fromString(e,...t);return i(r),new b(n,null,new He(r))}{if(!(n instanceof b||n instanceof M))throw new xe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Wt.fromString(e,...t));return i(r),new b(n.firestore,n instanceof M?n.converter:null,new He(r))}}function _e(n,e){return n=(0,At.m9)(n),e=(0,At.m9)(e),(n instanceof b||n instanceof M)&&(e instanceof b||e instanceof M)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function ke(n,e){return n=(0,At.m9)(n),e=(0,At.m9)(e),n instanceof T&&e instanceof T&&n.firestore===e.firestore&&ch(n._query,e._query)&&n.converter===e.converter}class Ge{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new $b(this,"async_queue_retry"),this.Qa=()=>{const t=Lc();t&&Fe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=Lc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=Lc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new Zr;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,be.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!Tc(t))throw t;Fe("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(r=>{throw this.Ua=r,this.qa=!1,fr("INTERNAL UNHANDLED ERROR: ",function(u){let c=u.message||"";return u.stack&&(c=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),c}(r)),r}).then(r=>(this.qa=!1,r))));return this.Fa=t,t}enqueueAfterDelay(e,t,r){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const s=Xb.createAndSchedule(this,e,t,r,u=>this.Ha(u));return this.La.push(s),s}ja(){this.Ua&&rt()}verifyOperationInProgress(){}Ja(){var e=this;return(0,be.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function tt(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class Ae{constructor(){this._progressObserver={},this._taskCompletionResolver=new Zr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class st extends _{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new Ge,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||vy(this),this._firestoreClient.terminate()}}function Dn(n){return n._firestoreClient||vy(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function vy(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new G_(n._databaseId,u,n._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var u,p;n._firestoreClient=new lT(n._authCredentials,n._appCheckCredentials,n._queue,r)}function Ey(n,e,t){const r=new Zr;return n.asyncQueue.enqueue((0,be.Z)(function*(){try{yield g0(n,t),yield m0(n,e),r.resolve()}catch(s){if(!("FirebaseError"===(u=s).name?u.code===le.FAILED_PRECONDITION||u.code===le.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw s;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),r.reject(s)}var u})).then(()=>r.promise)}function VA(n){if(n._initialized||n._terminated)throw new xe(le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class qc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new xe(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gl(tr.fromBase64String(e))}catch(t){throw new xe(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new gl(tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Up{constructor(e){this._methodName=e}}class DD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Lt(this._lat,e._lat)||Lt(this._long,e._long)}}const N1=/^__.*__$/;class R1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Dc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xf(e,this.data,t,this.fieldTransforms)}}class UA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Dc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function BA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class ID{constructor(e,t,r,s,u,c){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=s,void 0===u&&this.tc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new ID(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.nc({path:r,ic:!1});return s.rc(e),s}oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.nc({path:r,ic:!1});return s.tc(),s}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return SD(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(BA(this.ec)&&N1.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class P1{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||Vc(e)}lc(e,t,r,s=!1){return new ID({ec:e,methodName:t,hc:r,path:jn.emptyPath(),ic:!1,cc:s},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Bp(n){const e=n._freezeSettings(),t=Vc(n._databaseId);return new P1(n._databaseId,!!e.ignoreUndefinedProperties,t)}function CD(n,e,t,r,s,u={}){const c=n.lc(u.merge||u.mergeFields?2:0,e,t,s);ET("Data must be an object, but it was:",c,r);const p=HA(r,c);let v,D;if(u.merge)v=new hc(c.fieldMask),D=c.fieldTransforms;else if(u.mergeFields){const A=[];for(const x of u.mergeFields){const L=wT(e,x,t);if(!c.contains(L))throw new xe(le.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);qA(A,L)||A.push(L)}v=new hc(A),D=c.fieldTransforms.filter(x=>v.covers(x.field))}else v=null,D=c.fieldTransforms;return new R1(new gi(p),v,D)}class S0 extends Up{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof S0}}function jA(n,e,t){return new ID({ec:3,hc:e.settings.hc,methodName:n._methodName,ic:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class yT extends Up{_toFieldTransform(e){return new fh(e.path,new dh)}isEqual(e){return e instanceof yT}}class k1 extends Up{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=jA(this,e,!0),r=this.fc.map(u=>jp(u,t)),s=new wc(r);return new fh(e.path,s)}isEqual(e){return this===e}}class F1 extends Up{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=jA(this,e,!0),r=this.fc.map(u=>jp(u,t)),s=new bc(r);return new fh(e.path,s)}isEqual(e){return this===e}}class L1 extends Up{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new hh(e.M,Tw(e.M,this.dc));return new fh(e.path,t)}isEqual(e){return this===e}}function _T(n,e,t,r){const s=n.lc(1,e,t);ET("Data must be an object, but it was:",s,r);const u=[],c=gi.empty();au(r,(v,D)=>{const A=TD(e,v,t);D=(0,At.m9)(D);const x=s.oc(A);if(D instanceof S0)u.push(A);else{const L=jp(D,x);null!=L&&(u.push(A),c.set(A,L))}});const p=new hc(u);return new UA(c,p,s.fieldTransforms)}function vT(n,e,t,r,s,u){const c=n.lc(1,e,t),p=[wT(e,r,t)],v=[s];if(u.length%2!=0)throw new xe(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<u.length;L+=2)p.push(wT(e,u[L])),v.push(u[L+1]);const D=[],A=gi.empty();for(let L=p.length-1;L>=0;--L)if(!qA(D,p[L])){const z=p[L];let K=v[L];K=(0,At.m9)(K);const ye=c.oc(z);if(K instanceof S0)D.push(z);else{const Pe=jp(K,ye);null!=Pe&&(D.push(z),A.set(z,Pe))}}const x=new hc(D);return new UA(A,x,c.fieldTransforms)}function $A(n,e,t,r=!1){return jp(t,n.lc(r?4:3,e))}function jp(n,e){if(GA(n=(0,At.m9)(n)))return ET("Unsupported field value:",e,n),HA(n,e);if(n instanceof Up)return function(t,r){if(!BA(r.ec))throw r.ac(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ac(`${t._methodName}() is not currently supported inside arrays`);const s=t._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,r){const s=[];let u=0;for(const c of t){let p=jp(c,r.uc(u));null==p&&(p={nullValue:"NULL_VALUE"}),s.push(p),u++}return{arrayValue:{values:s}}}(n,e)}return function(t,r){if(null===(t=(0,At.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Tw(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const s=er.fromDate(t);return{timestampValue:yh(r.M,s)}}if(t instanceof er){const s=new er(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:yh(r.M,s)}}if(t instanceof DD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof gl)return{bytesValue:lv(r.M,t._byteString)};if(t instanceof b){const s=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(s))throw r.ac(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Cc(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ac(`Unsupported field value: ${a(t)}`)}(n,e)}function HA(n,e){const t={};return nC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):au(n,(r,s)=>{const u=jp(s,e.sc(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function GA(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof er||n instanceof DD||n instanceof gl||n instanceof b||n instanceof Up)}function ET(n,e,t){if(!GA(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=a(t);throw e.ac("an object"===r?n+" a custom object":n+" "+r)}var r}function wT(n,e,t){if((e=(0,At.m9)(e))instanceof qc)return e._internalPath;if("string"==typeof e)return TD(n,e);throw SD("Field path arguments must be of type string or ",n,!1,void 0,t)}const V1=new RegExp("[~\\*/\\[\\]]");function TD(n,e,t){if(e.search(V1)>=0)throw SD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new qc(...e.split("."))._internalPath}catch(r){throw SD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function SD(n,e,t,r,s){const u=r&&!r.isEmpty(),c=void 0!==s;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(u||c)&&(v+=" (found",u&&(v+=` in field ${r}`),c&&(v+=` in document ${s}`),v+=")"),new xe(le.INVALID_ARGUMENT,p+n+v)}function qA(n,e){return n.some(t=>t.isEqual(e))}class A0{constructor(e,t,r,s,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new b(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new U1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(AD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class U1 extends A0{data(){return super.data()}}function AD(n,e){return"string"==typeof e?TD(n,e):e instanceof qc?e._internalPath:e._delegate._internalPath}class $p{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zc extends A0{constructor(e,t,r,s,u,c){super(e,t,r,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new M0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(AD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class M0 extends zc{data(e={}){return super.data(e)}}class kh{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new $p(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new M0(this._firestore,this._userDataWriter,r.key,r,new $p(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new M0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new $p(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>s||3!==c.type).map(c=>{const p=new M0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new $p(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,D=-1;return 0!==c.type&&(v=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),1!==c.type&&(u=u.add(c.doc),D=u.indexOf(c.doc.key)),{type:B1(c.type),doc:p,oldIndex:v,newIndex:D}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function B1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}function zA(n,e){return n instanceof zc&&e instanceof zc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof kh&&e instanceof kh&&n._firestore===e._firestore&&ke(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function WA(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new xe(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class x0{}function Fh(n,...e){for(const t of e)n=t._apply(n);return n}class j1 extends x0{constructor(e,t,r){super(),this._c=e,this.wc=t,this.mc=r,this.type="where"}_apply(e){const t=Bp(e.firestore),r=function(s,u,c,p,v,D,A){let x;if(v.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new xe(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on documentId().`);if("in"===D||"not-in"===D){XA(A,D);const z=[];for(const K of A)z.push(JA(p,s,K));x={arrayValue:{values:z}}}else x=JA(p,s,A)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||XA(A,D),x=$A(c,"where",A,"in"===D||"not-in"===D);const L=Lr.create(v,D,x);return function(z,K){if(K.S()){const Pe=Sm(z);if(null!==Pe&&!Pe.isEqual(K.field))throw new xe(le.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Pe.toString()}' and '${K.field.toString()}'`);const pt=lh(z);null!==pt&&eM(0,K.field,pt)}const ye=function(Pe,pt){for(const mt of Pe.filters)if(pt.indexOf(mt.op)>=0)return mt.op;return null}(z,function(Pe){switch(Pe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(K.op));if(null!==ye)throw new xe(le.INVALID_ARGUMENT,ye===K.op?`Invalid query. You cannot use more than one '${K.op.toString()}' filter.`:`Invalid query. You cannot use '${K.op.toString()}' filters with '${ye.toString()}' filters.`)}(s,L),L}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new T(e.firestore,e.converter,function(s,u){const c=s.filters.concat([u]);return new du(s.path,s.collectionGroup,s.explicitOrderBy.slice(),c,s.limit,s.limitType,s.startAt,s.endAt)}(e._query,r))}}class H1 extends x0{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(r,s,u){if(null!==r.startAt)throw new xe(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new xe(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new uh(s,u);return function(p,v){if(null===lh(p)){const D=Sm(p);null!==D&&eM(0,D,v.field)}}(r,c),c}(e._query,this._c,this.gc);return new T(e.firestore,e.converter,function(r,s){const u=r.explicitOrderBy.concat([s]);return new du(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class ZA extends x0{constructor(e,t,r){super(),this.type=e,this.yc=t,this.Ic=r}_apply(e){return new T(e.firestore,e.converter,iv(e._query,this.yc,this.Ic))}}class KA extends x0{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=QA(e,this.type,this.Tc,this.Ec);return new T(e.firestore,e.converter,(s=t,new du((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class YA extends x0{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=QA(e,this.type,this.Tc,this.Ec);return new T(e.firestore,e.converter,(s=t,new du((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function QA(n,e,t,r){if(t[0]=(0,At.m9)(t[0]),t[0]instanceof A0)return function(s,u,c,p,v){if(!p)throw new xe(le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const D=[];for(const A of Ec(s))if(A.field.isKeyField())D.push(mc(u,p.key));else{const x=p.data.field(A.field);if(hw(x))throw new xe(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const L=A.field.canonicalString();throw new xe(le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}D.push(x)}return new cu(D,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=Bp(n.firestore);return function(u,c,p,v,D,A){const x=u.explicitOrderBy;if(D.length>x.length)throw new xe(le.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let z=0;z<D.length;z++){const K=D[z];if(x[z].field.isKeyField()){if("string"!=typeof K)throw new xe(le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof K}`);if(!Am(u)&&-1!==K.indexOf("/"))throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${K}' contains a slash.`);const ye=u.path.child(Wt.fromString(K));if(!He.isDocumentKey(ye))throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${ye}' is not because it contains an odd number of segments.`);const Pe=new He(ye);L.push(mc(c,Pe))}else{const ye=$A(p,v,K);L.push(ye)}}return new cu(L,A)}(n._query,n.firestore._databaseId,s,e,t,r)}}function JA(n,e,t){if("string"==typeof(t=(0,At.m9)(t))){if(""===t)throw new xe(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Am(e)&&-1!==t.indexOf("/"))throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Wt.fromString(t));if(!He.isDocumentKey(r))throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return mc(n,new He(r))}if(t instanceof b)return mc(n,t._key);throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${a(t)}.`)}function XA(n,e){if(!Array.isArray(n)||0===n.length)throw new xe(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new xe(le.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function eM(n,e,t){if(!t.isEqual(e))throw new xe(le.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const Q1={maxAttempts:5};class bT{convertValue(e,t="none"){switch(gc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return An(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(uu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rt()}}convertObject(e,t){const r={};return au(e.fields,(s,u)=>{r[s]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new DD(An(e.latitude),An(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=fw(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(fc(e));default:return null}}convertTimestamp(e){const t=vo(e);return new er(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Wt.fromString(e);xt(Qw(r));const s=new fa(r.get(1),r.get(3)),u=new He(r.popFirst(5));return s.isEqual(t)||fr(`Document ${u} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function MD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class J1 extends bT{constructor(e){super(),this.firestore=e}convertBytes(e){return new gl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new b(this.firestore,null,t)}}class tM{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Bp(e)}set(e,t,r){this._verifyNotCommitted();const s=Lh(e,this._firestore),u=MD(s.converter,t,r),c=CD(this._dataReader,"WriteBatch.set",s._key,u,null!==s.converter,r);return this._mutations.push(c.toMutation(s._key,rr.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const u=Lh(e,this._firestore);let c;return c="string"==typeof(t=(0,At.m9)(t))||t instanceof qc?vT(this._dataReader,"WriteBatch.update",u._key,t,r,s):_T(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(c.toMutation(u._key,rr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Lh(e,this._firestore);return this._mutations=this._mutations.concat(new Rm(t._key,rr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Lh(n,e){if((n=(0,At.m9)(n)).firestore!==e)throw new xe(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Hp extends bT{constructor(e){super(),this.firestore=e}convertBytes(e){return new gl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new b(this.firestore,null,t)}}function nM(n,e,t){n=l(n,b);const r=l(n.firestore,st),s=MD(n.converter,e,t);return wy(r,[CD(Bp(r),"setDoc",n._key,s,null!==n.converter,t).toMutation(n._key,rr.none())])}function rM(n,e,t,...r){n=l(n,b);const s=l(n.firestore,st),u=Bp(s);let c;return c="string"==typeof(e=(0,At.m9)(e))||e instanceof qc?vT(u,"updateDoc",n._key,e,t,r):_T(u,"updateDoc",n._key,e),wy(s,[c.toMutation(n._key,rr.exists(!0))])}function iM(n,...e){var t,r,s;n=(0,At.m9)(n);let u={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||tt(e[c])||(u=e[c],c++);const p={includeMetadataChanges:u.includeMetadataChanges};if(tt(e[c])){const x=e[c];e[c]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[c+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[c+2]=null===(s=x.complete)||void 0===s?void 0:s.bind(x)}let v,D,A;if(n instanceof b)D=l(n.firestore,st),A=vc(n._key.path),v={next:x=>{e[c]&&e[c](DT(D,n,x))},error:e[c+1],complete:e[c+2]};else{const x=l(n,T);D=l(x.firestore,st),A=x._query;const L=new Hp(D);v={next:z=>{e[c]&&e[c](new kh(D,L,x,z))},error:e[c+1],complete:e[c+2]},WA(n._query)}return function(x,L,z,K){const ye=new Fp(K),Pe=new Yv(L,ye,z);return x.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return eD(yield Vp(x),Pe)})),()=>{ye.Aa(),x.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return Zv(yield Vp(x),Pe)}))}}(Dn(D),A,p,v)}function wy(n,e){return function(t,r){const s=new Zr;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function TA(n,e,t){return n0.apply(this,arguments)}(yield E0(t),r,s)})),s.promise}(Dn(n),e)}function DT(n,e,t){const r=t.docs.get(e._key),s=new Hp(n);return new zc(n,s,e._key,r,new $p(t.hasPendingWrites,t.fromCache),e.converter)}class uN extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Bp(e)}get(e){const t=Lh(e,this._firestore),r=new J1(this._firestore);return this._transaction.lookup([t._key]).then(s=>{if(!s||1!==s.length)return rt();const u=s[0];if(u.isFoundDocument())return new A0(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new A0(this._firestore,r,t._key,null,t.converter);throw rt()})}set(e,t,r){const s=Lh(e,this._firestore),u=MD(s.converter,t,r),c=CD(this._dataReader,"Transaction.set",s._key,u,null!==s.converter,r);return this._transaction.set(s._key,c),this}update(e,t,r,...s){const u=Lh(e,this._firestore);let c;return c="string"==typeof(t=(0,At.m9)(t))||t instanceof qc?vT(this._dataReader,"Transaction.update",u._key,t,r,s):_T(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,c),this}delete(e){const t=Lh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Lh(e,this._firestore),r=new Hp(this._firestore);return super.get(e).then(s=>new zc(this._firestore,r,t._key,s._document,new $p(!1,!1),t.converter))}}function IT(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new xe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function oM(){if("undefined"==typeof Uint8Array)throw new xe("unimplemented","Uint8Arrays are not available in this environment.")}function aM(){if(!function H_(){return"undefined"!=typeof atob}())throw new xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){nh=Xu.SDK_VERSION,(0,Xu._registerComponent)(new qg.wA("firestore",(t,{options:r})=>{const s=t.getProvider("app").getImmediate(),u=new st(s,new lw(t.getProvider("auth-internal")),new XI(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC")),(0,Xu.registerVersion)(aw,"3.4.9",n),(0,Xu.registerVersion)(aw,"3.4.9","esm2017")}();class O0{constructor(e){this._delegate=e}static fromBase64String(e){return aM(),new O0(gl.fromBase64String(e))}static fromUint8Array(e){return oM(),new O0(gl.fromUint8Array(e))}toBase64(){return aM(),this._delegate.toBase64()}toUint8Array(){return oM(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function CT(n){return function yN(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class _N{enableIndexedDbPersistence(e,t){return function w0(n,e){VA(n=l(n,st));const t=Dn(n),r=n._freezeSettings(),s=new yD;return Ey(t,s,new iT(s,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function b0(n){VA(n=l(n,st));const e=Dn(n),t=n._freezeSettings(),r=new yD;return Ey(e,r,new NA(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function D0(n){if(n._initialized&&!n._terminated)throw new xe(le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Zr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(t=(0,be.Z)(function*(r){if(!bo.vt())return Promise.resolve();const s=r+"main";yield bo.delete(s)}),function(r){return t.apply(this,arguments)})(kc(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class uM{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof fa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&cc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function w(n,e,t,r={}){var s;const u=(n=l(n,_))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&cc("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,p;if("string"==typeof r.mockUserToken)c=r.mockUserToken,p=Fr.MOCK_USER;else{c=(0,At.Sg)(r.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new xe(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Fr(v)}n._authCredentials=new QI(new uw(c,p))}}(this._delegate,e,t,r)}enableNetwork(){return function C0(n){return function RA(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield v0(n),t=yield vD(n);return e.setNetworkEnabled(!0),function(r){const s=Ke(r);return s.wu.delete(0),Uc(s)}(t)}))}(Dn(n=l(n,st)))}(this._delegate)}disableNetwork(){return function T0(n){return function cT(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield v0(n),t=yield vD(n);return e.setNetworkEnabled(!1),(r=(0,be.Z)(function*(s){const u=Ke(s);u.wu.add(0),yield Tp(u),u.yu.set("Offline")}),function(s){return r.apply(this,arguments)})(t);var r}))}(Dn(n=l(n,st)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,mT("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function I0(n){return function(e){const t=new Zr;return e.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function tT(n,e){return fy.apply(this,arguments)}(yield E0(e),t)})),t.promise}(Dn(n=l(n,st)))}(this._delegate)}onSnapshotsInSync(e){return function aN(n,e){return function kA(n,e){const t=new Fp(e);return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return r=yield Vp(n),s=t,Ke(r).bu.add(s),void s.next();var r,s})),()=>{t.Aa(),n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return r=yield Vp(n),s=t,void Ke(r).bu.delete(s);var r,s}))}}(Dn(n=l(n,st)),tt(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new by(this,k(this._delegate,e))}catch(t){throw ds(t,"collection()","Firestore.collection()")}}doc(e){try{return new va(this,Q(this._delegate,e))}catch(t){throw ds(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new hs(this,function U(n,e){if(n=l(n,_),wD("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xe(le.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new T(n,null,(t=e,new du(Wt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ds(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function lN(n,e,t){n=l(n,st);const r=Object.assign(Object.assign({},Q1),t);return function(s){if(s.maxAttempts<1)throw new xe(le.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function FA(n,e,t){const r=new Zr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const s=yield(u=n,Ph(u).then(c=>c.datastore));var u;new uT(n.asyncQueue,s,t,e,r).run()})),r.promise}(Dn(n),s=>e(new uN(n,s)),r)}(this._delegate,t=>e(new lM(this,t)))}batch(){return Dn(this._delegate),new cM(new tM(this._delegate,e=>wy(this._delegate,e)))}loadBundle(e){return function x1(n,e){const t=Dn(n=l(n,st)),r=new Ae;return function pT(n,e,t,r){const s=function(u,c){let p;return p="string"==typeof u?(new TextEncoder).encode(u):u,v=function(v,D){if(v instanceof Uint8Array)return sT(v,D);if(v instanceof ArrayBuffer)return sT(new Uint8Array(v),D);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new oT(v,c);var v}(t,Vc(e));n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function p0(n,e,t){const r=Ke(n);var s;(s=(0,be.Z)(function*(u,c,p){try{const v=yield c.getMetadata();if(yield function(L,z){const K=Ke(L),ye=zn(z.createTime);return K.persistence.runTransaction("hasNewerBundle","readonly",Pe=>K._s.getBundleMetadata(Pe,z.id)).then(Pe=>!!Pe&&Pe.createTime.compareTo(ye)>=0)}(u.localStore,v))return yield c.close(),p._completeWith({taskState:"Success",documentsLoaded:(L=v).totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}),Promise.resolve(new Set);p._updateProgress(nD(v));const D=new Qv(v,u.localStore,c.M);let A=yield c.ma();for(;A;){const L=yield D.Fu(A);L&&p._updateProgress(L),A=yield c.ma()}const x=yield D.complete();return yield yu(u,x.Lu,void 0),yield function(L,z){const K=Ke(L);return K.persistence.runTransaction("Save bundle","readwrite",ye=>K._s.saveBundleMetadata(ye,z))}(u.localStore,v),p._completeWith(x.progress),Promise.resolve(x.Bu)}catch(v){return cc("SyncEngine",`Loading bundle failed with ${v}`),p._failWith(v),Promise.resolve(new Set)}var L}),function(u,c,p){return s.apply(this,arguments)})(r,e,t).then(s=>{r.sharedClientState.notifyBundleLoaded(s)})}(yield E0(n),s,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function O1(n,e){return function LA(n,e){return n.asyncQueue.enqueue((0,be.Z)(function*(){return function(t,r){const s=Ke(t);return s.persistence.runTransaction("Get named query","readonly",u=>s._s.getNamedQuery(u,r))}(yield Lp(n),e)}))}(Dn(n=l(n,st)),e).then(t=>t?new T(n,null,t.query):null)}(this._delegate,e).then(t=>t?new hs(this,t):null)}}class xD extends bT{constructor(e){super(),this.firestore=e}convertBytes(e){return new O0(new gl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return va.forKey(t,this.firestore,null)}}class lM{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new xD(e)}get(e){const t=qp(e);return this._delegate.get(t).then(r=>new N0(this._firestore,new zc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const s=qp(e);return r?(IT("Transaction.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const u=qp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...s),this}delete(e){const t=qp(e);return this._delegate.delete(t),this}}class cM{constructor(e){this._delegate=e}set(e,t,r){const s=qp(e);return r?(IT("WriteBatch.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const u=qp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...s),this}delete(e){const t=qp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Gp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new M0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new R0(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Gp.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let u=s.get(t);return u||(u=new Gp(e,new xD(e),t),s.set(t,u)),u}}Gp.INSTANCES=new WeakMap;class va{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new xD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new va(t,new b(t._delegate,r,new He(e)))}static forKey(e,t,r){return new va(t,new b(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new by(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new by(this.firestore,k(this._delegate,e))}catch(t){throw ds(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,At.m9)(e))instanceof b&&_e(this._delegate,e)}set(e,t){t=IT("DocumentReference.set",t);try{return t?nM(this._delegate,e,t):nM(this._delegate,e)}catch(r){throw ds(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?rM(this._delegate,e):rM(this._delegate,e,t,...r)}catch(s){throw ds(s,"updateDoc()","DocumentReference.update()")}}delete(){return function sN(n){return wy(l(n.firestore,st),[new Rm(n._key,rr.none())])}(this._delegate)}onSnapshot(...e){const t=dM(e),r=hM(e,s=>new N0(this.firestore,new zc(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return iM(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function eN(n){n=l(n,b);const e=l(n.firestore,st),t=Dn(e),r=new Hp(e);return function dT(n,e){const t=new Zr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(r=(0,be.Z)(function*(s,u,c){try{const p=yield function(v,D){const A=Ke(v);return A.persistence.runTransaction("read document","readonly",x=>A.fi.Ls(x,D))}(s,u);p.isFoundDocument()?c.resolve(p):p.isNoDocument()?c.resolve(null):c.reject(new xe(le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const v=$c(p,`Failed to get document '${u} from cache`);c.reject(v)}}),function(s,u,c){return r.apply(this,arguments)})(yield Lp(n),e,t);var r})),t.promise}(t,n._key).then(s=>new zc(e,r,n._key,s,new $p(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function tN(n){n=l(n,b);const e=l(n.firestore,st);return hT(Dn(e),n._key,{source:"server"}).then(t=>DT(e,n,t))}(this._delegate):function X1(n){n=l(n,b);const e=l(n.firestore,st);return hT(Dn(e),n._key).then(t=>DT(e,n,t))}(this._delegate),t.then(r=>new N0(this.firestore,new zc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new va(this.firestore,this._delegate.withConverter(e?Gp.getInstance(this.firestore,e):null))}}function ds(n,e,t){return n.message=n.message.replace(e,t),n}function dM(n){for(const e of n)if("object"==typeof e&&!CT(e))return e;return{}}function hM(n,e){var t,r;let s;return s=CT(n[0])?n[0]:CT(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{s.next&&s.next(e(u))},error:null===(t=s.error)||void 0===t?void 0:t.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class N0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new va(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return zA(this._delegate,e._delegate)}}class R0 extends N0{data(e){const t=this._delegate.data(e);return function hA(n,e){n||rt()}(void 0!==t),t}}class hs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new xD(e)}where(e,t,r){try{return new hs(this.firestore,Fh(this._delegate,function $1(n,e,t){const r=e,s=AD("where",n);return new j1(s,r,t)}(e,t,r)))}catch(s){throw ds(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new hs(this.firestore,Fh(this._delegate,function G1(n,e="asc"){const t=e,r=AD("orderBy",n);return new H1(r,t)}(e,t)))}catch(r){throw ds(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new hs(this.firestore,Fh(this._delegate,function q1(n){return d("limit",n),new ZA("limit",n,"F")}(e)))}catch(t){throw ds(t,"limit()","Query.limit()")}}limitToLast(e){try{return new hs(this.firestore,Fh(this._delegate,function z1(n){return d("limitToLast",n),new ZA("limitToLast",n,"L")}(e)))}catch(t){throw ds(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new hs(this.firestore,Fh(this._delegate,function W1(...n){return new KA("startAt",n,!0)}(...e)))}catch(t){throw ds(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new hs(this.firestore,Fh(this._delegate,function Z1(...n){return new KA("startAfter",n,!1)}(...e)))}catch(t){throw ds(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new hs(this.firestore,Fh(this._delegate,function K1(...n){return new YA("endBefore",n,!1)}(...e)))}catch(t){throw ds(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new hs(this.firestore,Fh(this._delegate,function Y1(...n){return new YA("endAt",n,!0)}(...e)))}catch(t){throw ds(t,"endAt()","Query.endAt()")}}isEqual(e){return ke(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function rN(n){n=l(n,T);const e=l(n.firestore,st),t=Dn(e),r=new Hp(e);return function PA(n,e){const t=new Zr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(r=(0,be.Z)(function*(s,u,c){try{const p=yield Mh(s,u,!0),v=new Jv(u,p._i),D=v.Wu(p.documents),A=v.applyChanges(D,!1);c.resolve(A.snapshot)}catch(p){const v=$c(p,`Failed to execute query '${u} against cache`);c.reject(v)}}),function(s,u,c){return r.apply(this,arguments)})(yield Lp(n),e,t);var r})),t.promise}(t,n._query).then(s=>new kh(e,r,n,s))}(this._delegate):"server"===(null==e?void 0:e.source)?function iN(n){n=l(n,T);const e=l(n.firestore,st),t=Dn(e),r=new Hp(e);return fT(t,n._query,{source:"server"}).then(s=>new kh(e,r,n,s))}(this._delegate):function nN(n){n=l(n,T);const e=l(n.firestore,st),t=Dn(e),r=new Hp(e);return WA(n._query),fT(t,n._query).then(s=>new kh(e,r,n,s))}(this._delegate),t.then(r=>new TT(this.firestore,new kh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=dM(e),r=hM(e,s=>new TT(this.firestore,new kh(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return iM(this._delegate,t,r)}withConverter(e){return new hs(this.firestore,this._delegate.withConverter(e?Gp.getInstance(this.firestore,e):null))}}class EN{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new R0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class TT{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new hs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new R0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new EN(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new R0(this._firestore,r))})}isEqual(e){return zA(this._delegate,e._delegate)}}class by extends hs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new va(this.firestore,e):null}doc(e){try{return new va(this.firestore,void 0===e?Q(this._delegate):Q(this._delegate,e))}catch(t){throw ds(t,"doc()","CollectionReference.doc()")}}add(e){return function oN(n,e){const t=l(n.firestore,st),r=Q(n),s=MD(n.converter,e);return wy(t,[CD(Bp(n.firestore),"addDoc",r._key,s,null!==n.converter,{}).toMutation(r._key,rr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new va(this.firestore,t))}isEqual(e){return _e(this._delegate,e._delegate)}withConverter(e){return new by(this.firestore,this._delegate.withConverter(e?Gp.getInstance(this.firestore,e):null))}}function qp(n){return l(n,b)}class ST{constructor(...e){this._delegate=new qc(...e)}static documentId(){return new ST(jn.keyField().canonicalString())}isEqual(e){return(e=(0,At.m9)(e))instanceof qc&&this._delegate._internalPath.isEqual(e._internalPath)}}class zp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function dN(){return new yT("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new zp(e)}static delete(){const e=function cN(){return new S0("deleteField")}();return e._methodName="FieldValue.delete",new zp(e)}static arrayUnion(...e){const t=function hN(...n){return new k1("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new zp(t)}static arrayRemove(...e){const t=function fN(...n){return new F1("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new zp(t)}static increment(e){const t=function pN(n){return new L1("increment",n)}(e);return t._methodName="FieldValue.increment",new zp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const wN={Firestore:uM,GeoPoint:DD,Timestamp:er,Blob:O0,Transaction:lM,WriteBatch:cM,DocumentReference:va,DocumentSnapshot:N0,Query:hs,QueryDocumentSnapshot:R0,QuerySnapshot:TT,CollectionReference:by,FieldPath:ST,FieldValue:zp,setLogLevel:function vN(n){!function YI(n){ou.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function DN(n){(function bN(n,e){n.INTERNAL.registerComponent(new qg.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),s=t.getProvider("firestore").getImmediate();return e(r,s)},"PUBLIC").setServiceProps(Object.assign({},wN)))})(n,(e,t)=>new uM(e,t,new _N)),n.registerVersion("@firebase/firestore-compat","0.1.18")}(lE.Z);var IN=R(6451),OD=R(5363),CN=R(6063);class TN extends ri.x{constructor(e=1/0,t=1/0,r=CN.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:u,_windowTime:c}=this;t||(r.push(e),!s&&r.push(u.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:s}=this,u=s.slice();for(let c=0;c<u.length&&!e.closed;c+=r?1:2)e.next(u[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:s}=this,u=(s?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!s){const c=t.now();let p=0;for(let v=1;v<r.length&&r[v]<=c;v+=2)p=v;p&&r.splice(0,p+1)}}}var SN=R(3099);function fM(n,e,t){let r,s=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:s=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,SN.B)({connector:()=>new TN(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function pM(n,e){return(0,ku.m)(e)?pn(()=>n,e):pn(()=>n)}var AT=R(9468),MT=R(5867);const gM=new Map,NN={activated:!1,tokenObservers:[]},RN={initialized:!1,enabled:!1};function yi(n){return gM.get(n)||NN}function _u(n,e){gM.set(n,e)}function ND(){return RN}class VN{constructor(e,t,r,s,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=s,s>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,be.Z)(function*(){t.stop();try{t.pending=new At.BH,yield function UN(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new At.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const fs=new At.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function yM(n){if(!yi(n).activated)throw fs.create("use-before-activation",{appName:n.name})}function RT(n,e){return PT.apply(this,arguments)}function PT(){return PT=(0,be.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){const x=yield s.getHeartbeatsHeader();x&&(r["X-Firebase-Client"]=x)}const u={method:"POST",body:JSON.stringify(e),headers:r};let c,p;try{c=yield fetch(n,u)}catch(x){throw fs.create("fetch-network-error",{originalErrorMessage:x.message})}if(200!==c.status)throw fs.create("fetch-status-error",{httpStatus:c.status});try{p=yield c.json()}catch(x){throw fs.create("fetch-parse-error",{originalErrorMessage:x.message})}const v=p.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw fs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const D=1e3*Number(v[1]),A=Date.now();return{token:p.token,expireTimeMillis:A+D,issuedAtTimeMillis:A}}),PT.apply(this,arguments)}function GN(n,e){const{projectId:t,appId:r,apiKey:s}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${s}`,body:{debug_token:e}}}const k0="firebase-app-check-store";let kD=null;function vM(){return kD||(kD=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var s;e(fs.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(k0,{keyPath:"compositeKey"})}}catch(t){e(fs.create("storage-open",{originalErrorMessage:t.message}))}}),kD)}function kT(){return kT=(0,be.Z)(function*(n,e){const r=(yield vM()).transaction(k0,"readwrite"),u=r.objectStore(k0).put({compositeKey:n,value:e});return new Promise((c,p)=>{u.onsuccess=v=>{c()},r.onerror=v=>{var D;p(fs.create("storage-set",{originalErrorMessage:null===(D=v.target.error)||void 0===D?void 0:D.message}))}})}),kT.apply(this,arguments)}const F0=new el.Yd("@firebase/app-check");function DM(n,e){return(0,At.hl)()?function ZN(n,e){return function EM(n,e){return kT.apply(this,arguments)}(function bM(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{F0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function IM(){return ND().enabled}function CM(){return UT.apply(this,arguments)}function UT(){return UT=(0,be.Z)(function*(){const n=ND();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),UT.apply(this,arguments)}const eR={error:"UNKNOWN_ERROR"};function tR(n){return At.US.encodeString(JSON.stringify(n),!1)}function FD(n){return BT.apply(this,arguments)}function BT(){return BT=(0,be.Z)(function*(n,e=!1){const t=n.app;yM(t);const r=yi(t);let u,s=r.token;if(!s){const v=yield r.cachedTokenPromise;v&&LD(v)&&(s=v)}if(!e&&s&&LD(s))return{token:s.token};let p,c=!1;if(IM()){r.exchangeTokenPromise||(r.exchangeTokenPromise=RT(GN(t,yield CM()),n.heartbeatServiceProvider).then(D=>(r.exchangeTokenPromise=void 0,D)),c=!0);const v=yield r.exchangeTokenPromise;return yield DM(t,v),_u(t,Object.assign(Object.assign({},r),{token:v})),{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(v=>(r.exchangeTokenPromise=void 0,v)),c=!0),s=yield r.exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?F0.warn(v.message):F0.error(v),u=v}return s?(p={token:s.token},_u(t,Object.assign(Object.assign({},r),{token:s})),yield DM(t,s)):p=rR(u),c&&SM(t,p),p}),BT.apply(this,arguments)}function $T(n,e){const t=yi(n),r=t.tokenObservers.filter(s=>s.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),_u(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function TM(n){const{app:e}=n,t=yi(e);let r=t.tokenRefresher;r||(r=function nR(n){const{app:e}=n;return new VN((0,be.Z)(function*(){let r;if(r=yi(e).token?yield FD(n,!0):yield FD(n),r.error)throw r.error}),()=>!0,()=>{const t=yi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),_u(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function SM(n,e){const t=yi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(s){}}function LD(n){return n.expireTimeMillis-Date.now()>0}function rR(n){return{token:tR(eR),error:n}}class iR{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=yi(this.app);for(const t of e)$T(this.app,t.next);return Promise.resolve()}}const kM="app-check-internal";!function _R(){(0,Xu._registerComponent)(new qg.wA("app-check",n=>function sR(n,e){return new iR(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(kM).initialize()})),(0,Xu._registerComponent)(new qg.wA(kM,n=>function oR(n){return{getToken:e=>FD(n,e),addTokenListener:e=>function jT(n,e,t,r){const{app:s}=n,u=yi(s),c={next:t,error:r,type:e};if(_u(s,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,c]})),u.token&&LD(u.token)){const p=u.token;Promise.resolve().then(()=>{t({token:p.token}),TM(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>TM(n))}(n,"INTERNAL",e),removeTokenListener:e=>$T(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Xu.registerVersion)("@firebase/app-check","0.5.8")}();class zT{constructor(){return(0,hr.vb)("app-check")}}"undefined"!=typeof window&&window;var DR=R(127);const LM=new h.OlP("angularfire2.auth.use-emulator"),VM=new h.OlP("angularfire2.auth.settings"),UM=new h.OlP("angularfire2.auth.tenant-id"),BM=new h.OlP("angularfire2.auth.langugage-code"),jM=new h.OlP("angularfire2.auth.use-device-language"),$M=new h.OlP("angularfire.auth.persistence"),HM=(n,e,t,r,s,u,c,p)=>(0,ss.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=s,u&&v.useDeviceLanguage(),c)for(const[D,A]of Object.entries(c))v.settings[D]=A;return p&&v.setPersistence(p),v},[t,r,s,u,c,p]);let GM=(()=>{class n{constructor(t,r,s,u,c,p,v,D,A,x,L,z){const K=new ri.x,ye=et(void 0).pipe((0,OD.Q)(c.outsideAngular),pn(()=>u.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,7092)))),(0,St.U)(()=>(0,ss.on)(t,u,r)),(0,St.U)(Pe=>HM(Pe,u,p,D,A,x,v,L)),fM({bufferSize:1,refCount:!1}));if(ko(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=et(null);else{ye.pipe(Jo()).subscribe();const pt=ye.pipe(pn(ut=>ut.getRedirectResult().then(kt=>kt,()=>null)),hr.iC,fM({bufferSize:1,refCount:!1})),mt=ye.pipe(pn(ut=>new Un.y(kt=>({unsubscribe:u.runOutsideAngular(()=>ut.onAuthStateChanged(Ut=>kt.next(Ut),Ut=>kt.error(Ut),()=>kt.complete()))})))),Dt=ye.pipe(pn(ut=>new Un.y(kt=>({unsubscribe:u.runOutsideAngular(()=>ut.onIdTokenChanged(Ut=>kt.next(Ut),Ut=>kt.error(Ut),()=>kt.complete()))}))));this.authState=pt.pipe(pM(mt),(0,AT.R)(c.outsideAngular),(0,OD.Q)(c.insideAngular)),this.user=pt.pipe(pM(Dt),(0,AT.R)(c.outsideAngular),(0,OD.Q)(c.insideAngular)),this.idToken=this.user.pipe(pn(ut=>ut?(0,fn.D)(ut.getIdToken()):et(null))),this.idTokenResult=this.user.pipe(pn(ut=>ut?(0,fn.D)(ut.getIdTokenResult()):et(null))),this.credential=(0,IN.T)(pt,K,this.authState.pipe(xr(ut=>!ut))).pipe((0,St.U)(ut=>(null==ut?void 0:ut.user)?ut:null),(0,AT.R)(c.outsideAngular),(0,OD.Q)(c.insideAngular))}return(0,ss.pX)(this,ye,u,{spy:{apply:(Pe,pt,mt)=>{(Pe.startsWith("signIn")||Pe.startsWith("createUser"))&&mt.then(Dt=>K.next(Dt))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ss.Dh),h.LFG(ss.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(hr.HU),h.LFG(LM,8),h.LFG(VM,8),h.LFG(UM,8),h.LFG(BM,8),h.LFG(jM,8),h.LFG($M,8),h.LFG(zT,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function qM(n,e){return function CR(n,e=aE.z){return new Un.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function ZT(n,e){return qM(n,e).pipe((0,St.U)(t=>({payload:t,type:"query"})))}function UD(n,e){return ZT(n,e).pipe(ji(void 0),a_(),(0,St.U)(([t,r])=>{const s=r.payload.docChanges(),u=s.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,p)=>{const v=s.find(A=>A.doc.ref.isEqual(c.ref)),D=null==t?void 0:t.payload.docs.find(A=>A.ref.isEqual(c.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(c.metadata)||!v&&D&&JSON.stringify(D.metadata)===JSON.stringify(c.metadata)||u.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:c}})}),u}))}function zM(n,e,t){return UD(n,t).pipe($i((r,s)=>function SR(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function AR(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return KT(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return KT(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return KT(n,e.oldIndex,1)}return n}(n,r))}),n}(r,s.map(u=>u.payload),e),[]),function uE(n,e=Di.y){return n=null!=n?n:u_,(0,lr.e)((t,r)=>{let s,u=!0;t.subscribe((0,Pn.x)(r,c=>{const p=e(c);(u||!n(s,p))&&(u=!1,s=p,r.next(c))}))})}(),(0,St.U)(r=>r.map(s=>({type:s.type,payload:s}))))}function KT(n,e,t,...r){const s=n.slice();return s.splice(e,t,...r),s}function WM(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class ZM{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=UD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,St.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)))),t.pipe(ji(void 0),a_(),xr(([r,s])=>s.length>0||!r),(0,St.U)(([r,s])=>s),hr.iC)}auditTrail(e){return this.stateChanges(e).pipe($i((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=WM(e);return zM(this.query,t,this.afs.schedulers.outsideAngular).pipe(hr.iC)}valueChanges(e={}){return ZT(this.query,this.afs.schedulers.outsideAngular).pipe((0,St.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),hr.iC)}get(e){return(0,fn.D)(this.query.get(e)).pipe(hr.iC)}add(e){return this.ref.add(e)}doc(e){return new KM(this.ref.doc(e),this.afs)}}class KM{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:s,query:u}=JM(r,t);return new ZM(s,u,this.afs)}snapshotChanges(){return function TR(n,e){return qM(n,e).pipe(ji(void 0),a_(),(0,St.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(hr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,St.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,fn.D)(this.ref.get(e)).pipe(hr.iC)}}class MR{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?UD(this.query,this.afs.schedulers.outsideAngular).pipe((0,St.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),xr(t=>t.length>0),hr.iC):UD(this.query,this.afs.schedulers.outsideAngular).pipe(hr.iC)}auditTrail(e){return this.stateChanges(e).pipe($i((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=WM(e);return zM(this.query,t,this.afs.schedulers.outsideAngular).pipe(hr.iC)}valueChanges(e={}){return ZT(this.query,this.afs.schedulers.outsideAngular).pipe((0,St.U)(r=>r.payload.docs.map(s=>e.idField?Object.assign({[e.idField]:s.id},s.data()):s.data())),hr.iC)}get(e){return(0,fn.D)(this.query.get(e)).pipe(hr.iC)}}const YM=new h.OlP("angularfire2.enableFirestorePersistence"),QM=new h.OlP("angularfire2.firestore.persistenceSettings"),xR=new h.OlP("angularfire2.firestore.settings"),OR=new h.OlP("angularfire2.firestore.use-emulator");function JM(n,e=(t=>t)){return{query:e(n),ref:n}}let Vh=(()=>{class n{constructor(t,r,s,u,c,p,v,D,A,x,L,z,K,ye,Pe,pt,mt){this.schedulers=v;const Dt=(0,ss.on)(t,p,r),ut=A;x&&HM(Dt,p,L,K,ye,Pe,z,pt),[this.firestore,this.persistenceEnabled$]=(0,ss.cc)(`${Dt.name}.firestore`,"AngularFirestore",Dt.name,()=>{const kt=p.runOutsideAngular(()=>Dt.firestore());if(u&&kt.settings(u),ut&&kt.useEmulator(...ut),s&&!ko(c)){const Ut=()=>{try{return(0,fn.D)(kt.enablePersistence(D||void 0).then(()=>!0,()=>!1))}catch(sn){return"undefined"!=typeof console&&console.warn(sn),et(!1)}};return[kt,p.runOutsideAngular(Ut)]}return[kt,et(!1)]},[u,ut,s])}collection(t,r){let s;s="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:c}=JM(s,r),p=this.schedulers.ngZone.run(()=>u);return new ZM(p,c,this)}collectionGroup(t,r){const s=r||(c=>c),u=this.firestore.collectionGroup(t);return new MR(s(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const s=this.schedulers.ngZone.run(()=>r);return new KM(s,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ss.Dh),h.LFG(ss.xv,8),h.LFG(YM,8),h.LFG(xR,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(hr.HU),h.LFG(QM,8),h.LFG(OR,8),h.LFG(GM,8),h.LFG(LM,8),h.LFG(VM,8),h.LFG(UM,8),h.LFG(BM,8),h.LFG(jM,8),h.LFG($M,8),h.LFG(zT,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Wp=(()=>{class n{constructor(){DR.Z.registerVersion("angularfire",hr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:YM,useValue:!0},{provide:QM,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[Vh]}),n})(),XM=(()=>{class n{constructor(t){this._client=t}getAll(){return this._client.collection("heroes").valueChanges({idField:"id"})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Vh))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const ex=new h.OlP("GETS_ALL_HERO_DTO");let tx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[XM,{provide:ex,useExisting:XM}],imports:[[Wp]]}),n})(),NR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[dn,Jn]]}),n})(),YT=(()=>{class n{constructor(t){this._client=t}getAll(){return this._client.collection("products").valueChanges({idField:"id"})}getOne(t){return this._client.doc("products/"+t).valueChanges({idField:"id"}).pipe(pn(r=>r?et(r):Bi(new Error("Item does not exist in firebase"))))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Vh))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const nx=new h.OlP("GETS_ALL_PRODUCT_DTO"),rx=new h.OlP("GETS_ONE_PRODUCT_DTO");let QT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[YT,{provide:nx,useExisting:YT},{provide:rx,useExisting:YT}],imports:[[Wp]]}),n})(),RR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[dn]]}),n})(),JT=(()=>{class n{constructor(){this._subject=new Mr({})}select(){return this._subject.asObservable().pipe(xr(t=>t!=={}))}setState(t){return et(this._subject.next(t)).pipe((0,St.U)(()=>{}))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const ix=new h.OlP("SELECTS_PRODUCT_CONTEXT_STORAGE"),sx=new h.OlP("SETS_STATE_PRODUCT_CONTEXT_STORAGE");let XT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[JT,{provide:ix,useExisting:JT},{provide:sx,useExisting:JT}],imports:[[]]}),n})(),ox=(()=>{class n{constructor(t){this._setsStateProductContextStorage=t}resolve(t,r){return this._setsStateProductContextStorage.setState({productId:t.params.productId}).pipe((0,St.U)(s=>!0))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(sx))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),PR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[ox],imports:[[]]}),n})(),kR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[dn]]}),n})(),FR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[dn,Jn]]}),n})(),eS=(()=>{class n{constructor(t){this._client=t}getAll(){return this._client.collection("Topsellers").valueChanges({idField:"id"})}getOne(t){return this._client.doc("Topsellers/"+t).valueChanges({idField:"id"}).pipe(pn(r=>r?et(r):Bi(new Error("Item does not exist in firebase"))))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Vh))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const ax=new h.OlP("GETS_ALL_TOPSELLERS_DTO"),tS=new h.OlP("GETS_ONE_TOPSELLERS_DTO");let ux=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[eS,{provide:ax,useExisting:eS},{provide:tS,useExisting:eS}],imports:[[Wp]]}),n})(),LR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[dn]]}),n})(),VR=(()=>{class n{constructor(t){this._getsAllHeroDto=t,this.image$=this._getsAllHeroDto.getAll()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ex))},n.\u0275cmp=h.Xpm({type:n,selectors:[["lib-hero"]],decls:19,vars:0,consts:[[1,"center","container-fluid","scbackground"],[1,"container"],[1,"row"],[1,"col"],[1,"col","herotext"],[1,"fw-bold"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1),h._UZ(2,"br")(3,"br")(4,"br")(5,"br")(6,"br")(7,"br")(8,"br")(9,"br"),h.TgZ(10,"div",2),h._UZ(11,"div",3)(12,"div",3),h.TgZ(13,"div",4)(14,"h1")(15,"span",5),h._uU(16," STYLIST PICKS UP "),h._UZ(17,"br"),h._uU(18," THE HEAT"),h.qZA()()()()()())},encapsulation:2,changeDetection:0}),n})();function UR(n,e){if(1&n&&(h.TgZ(0,"div",6)(1,"div",7),h._UZ(2,"img",8),h.TgZ(3,"div",9)(4,"h5",10),h._uU(5),h.qZA(),h.TgZ(6,"p",11),h._uU(7),h.qZA(),h.TgZ(8,"button",12),h.O4$(),h.TgZ(9,"svg",13),h._UZ(10,"path",14),h.qZA(),h._uU(11," KUP "),h.qZA()()()()),2&n){const t=e.$implicit;h.xp6(2),h.s9C("src",t.imageUrl,h.LSH),h.Q6J("routerLink","details/"+t.id),h.xp6(3),h.Oqu(t.name),h.xp6(2),h.hij("",t.price," z\u0142"),h.xp6(1),h.Q6J("routerLink","./confirmation")}}let BR=(()=>{class n{constructor(t){this._getsAllProductDto=t,this.products$=this._getsAllProductDto.getAll()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(nx))},n.\u0275cmp=h.Xpm({type:n,selectors:[["lib-product-list"]],decls:12,vars:3,consts:[[1,"border","bg-light","w-100"],[1,"col","herotext"],[1,"fw-bold"],[1,"container"],[1,"row"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card","background","text-white",2,"width","15rem"],[1,"card-img-top","background","productimgs",3,"routerLink","src"],[1,"card-body"],[1,"card-title","navtext","fw-bold"],[1,"card-text","navtext"],["type","button",1,"background","navtext",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","width","40","height","40","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-bag-heart","text-white"],["fill-rule","evenodd","d","M10.5 3.5a2.5 2.5 0 0 0-5 0V4h5v-.5Zm1 0V4H15v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4h3.5v-.5a3.5 3.5 0 1 1 7 0ZM14 14V5H2v9a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1ZM8 7.993c1.664-1.711 5.825 1.283 0 5.132-5.825-3.85-1.664-6.843 0-5.132Z"]],template:function(t,r){1&t&&(h._UZ(0,"p",0),h.TgZ(1,"div",1)(2,"h1")(3,"span",2),h._uU(4," DISCOVER OUR PRODUCTS"),h.qZA()(),h.TgZ(5,"h4"),h._uU(6,"THE LATEST FASHION ONLY"),h.qZA()(),h._UZ(7,"p",0),h.TgZ(8,"div",3)(9,"div",4),h.YNc(10,UR,12,5,"div",5),h.ALo(11,"async"),h.qZA()()),2&t&&(h.xp6(10),h.Q6J("ngForOf",h.lcZ(11,1,r.products$)))},directives:[Nn,aa],pipes:[Oo],encapsulation:2,changeDetection:0}),n})();const nS=new h.OlP("SETS_STATE_TOPSELLERS_CONTEXT");function jR(n,e){if(1&n&&(h.TgZ(0,"div",6)(1,"div",7),h._UZ(2,"img",8),h.TgZ(3,"div",9)(4,"h5",10),h._uU(5),h.qZA(),h.TgZ(6,"p",11),h._uU(7),h.qZA(),h.TgZ(8,"button",12),h.O4$(),h.TgZ(9,"svg",13),h._UZ(10,"path",14),h.qZA(),h._uU(11," KUP "),h.qZA()()()()),2&n){const t=e.$implicit;h.xp6(2),h.s9C("src",t.imageUrl,h.LSH),h.Q6J("routerLink","topdetalis/"+t.id),h.xp6(3),h.Oqu(t.name),h.xp6(2),h.hij("",t.price," z\u0142"),h.xp6(1),h.Q6J("routerLink","./confirmation")}}let $R=(()=>{class n{constructor(t,r,s){this._getsAllTopsellersDto=t,this._getsOneTopsellersDto=r,this._setsStateTopsellersContext=s,this.topsellers$=this._getsAllTopsellersDto.getAll()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ax),h.Y36(tS),h.Y36(nS))},n.\u0275cmp=h.Xpm({type:n,selectors:[["lib-topsellers"]],decls:10,vars:3,consts:[[1,"border","bg-light","w-100"],[1,"col","herotext"],[1,"fw-bold"],[1,"container"],[1,"row"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card","background","text-white",2,"width","15rem"],[1,"card-img-top","background","productimgs",3,"routerLink","src"],[1,"card-body"],[1,"card-title","navtext","fw-bold"],[1,"card-text","navtext"],["type","button",1,"background","navtext",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","width","40","height","40","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-bag-heart","text-white"],["fill-rule","evenodd","d","M10.5 3.5a2.5 2.5 0 0 0-5 0V4h5v-.5Zm1 0V4H15v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4h3.5v-.5a3.5 3.5 0 1 1 7 0ZM14 14V5H2v9a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1ZM8 7.993c1.664-1.711 5.825 1.283 0 5.132-5.825-3.85-1.664-6.843 0-5.132Z"]],template:function(t,r){1&t&&(h._UZ(0,"p",0),h.TgZ(1,"div",1)(2,"h1")(3,"span",2),h._uU(4," DON'T MISS OUR TOPSELLERS"),h.qZA()()(),h._UZ(5,"p",0),h.TgZ(6,"div",3)(7,"div",4),h.YNc(8,jR,12,5,"div",5),h.ALo(9,"async"),h.qZA()()),2&t&&(h.xp6(8),h.Q6J("ngForOf",h.lcZ(9,1,r.topsellers$)))},directives:[Nn,aa],pipes:[Oo],encapsulation:2,changeDetection:0}),n})(),HR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-home-page"]],decls:5,vars:0,template:function(t,r){1&t&&h._UZ(0,"lib-hero")(1,"br")(2,"lib-product-list")(3,"br")(4,"lib-topsellers")},directives:[VR,BR,$R],encapsulation:2,changeDetection:0}),n})(),lx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[dn,vI,Jn.forChild([{path:"",component:HR}]),NR,QT,tx,QT,FR,ux]]}),n})(),cx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[dn]]}),n})(),dx=(()=>{class n{constructor(t){this._client=t}getAll(){return this._client.collection("team").valueChanges({idField:"id"})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Vh))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const hx=new h.OlP("GETS_ALL_OURTEAM_DTO");let GR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[dx,{provide:hx,useExisting:dx}],imports:[[Wp]]}),n})(),L0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[dn,Jn]]}),n})(),fx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[dn]]}),n})(),px=(()=>{class n{constructor(t){this._client=t}getAll(){return this._client.collection("testimonials").valueChanges({idField:"id"})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Vh))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const gx=new h.OlP("GETS_ALL_OPINIONS_DTO");let qR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[px,{provide:gx,useExisting:px}],imports:[[Wp]]}),n})();function zR(n,e){if(1&n&&(h.TgZ(0,"div",6)(1,"div",7),h._UZ(2,"img",8),h.TgZ(3,"div",9)(4,"h3",10),h._uU(5),h._UZ(6,"br"),h.qZA(),h.TgZ(7,"h4",10),h._uU(8),h._UZ(9,"br"),h.qZA()()()()),2&n){const t=e.$implicit;h.xp6(2),h.Q6J("src",t.imageUrl,h.LSH),h.xp6(3),h.Oqu(t.name),h.xp6(3),h.Oqu(t.description)}}let WR=(()=>{class n{constructor(t){this._getsAllOurteamDto=t,this.team$=this._getsAllOurteamDto.getAll()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(hx))},n.\u0275cmp=h.Xpm({type:n,selectors:[["lib-ourteam"]],decls:11,vars:3,consts:[[1,"border","bg-light","w-100"],[1,"col","herotext"],[1,"fw-bold"],[1,"center","container-fluid","background"],[1,"row"],["class","col-md",4,"ngFor","ngForOf"],[1,"col-md"],[1,"card","background",2,"width","42rem"],[1,"photo",3,"src"],[1,"card-body","background","containertext"],[1,"card-title","fw-bold"]],template:function(t,r){1&t&&(h._UZ(0,"p",0),h.TgZ(1,"div",1)(2,"h1")(3,"span",2),h._uU(4," FOUNDERS"),h.qZA()(),h._UZ(5,"p",0)(6,"br"),h.qZA(),h.TgZ(7,"div",3)(8,"div",4),h.YNc(9,zR,10,3,"div",5),h.ALo(10,"async"),h.qZA()()),2&t&&(h.xp6(9),h.Q6J("ngForOf",h.lcZ(10,1,r.team$)))},directives:[Nn],pipes:[Oo],encapsulation:2,changeDetection:0}),n})();function ZR(n,e){if(1&n&&(h.TgZ(0,"div",4)(1,"div",5)(2,"div",6),h._UZ(3,"img",7),h.qZA(),h.TgZ(4,"div",8)(5,"h3",9),h._uU(6),h._UZ(7,"br"),h.qZA(),h.TgZ(8,"h5",10)(9,"em"),h._uU(10),h.qZA()()()()()),2&n){const t=e.$implicit;h.xp6(3),h.Q6J("src",t.imageUrl,h.LSH),h.xp6(3),h.Oqu(t.name),h.xp6(4),h.Oqu(t.text)}}let KR=(()=>{class n{constructor(t){this._getsAllOpinionsDto=t,this.opinion$=this._getsAllOpinionsDto.getAll()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(gx))},n.\u0275cmp=h.Xpm({type:n,selectors:[["lib-opinions"]],decls:9,vars:3,consts:[[1,"border","bg-light","w-100"],[1,"col","herotext"],[1,"fw-bold"],["class","container",4,"ngFor","ngForOf"],[1,"container"],[1,"row"],[1,"col"],[1,"testimg",3,"src"],[1,"col","text-white"],[1,"card-title","fw-bold"],[1,""]],template:function(t,r){1&t&&(h._UZ(0,"p",0),h.TgZ(1,"div",1)(2,"h1")(3,"span",2),h._uU(4," EVERY OPINION IS REALLY IMPORTANT TO US"),h.qZA()()(),h._UZ(5,"p",0)(6,"br"),h.YNc(7,ZR,11,3,"div",3),h.ALo(8,"async")),2&t&&(h.xp6(7),h.Q6J("ngForOf",h.lcZ(8,1,r.opinion$)))},directives:[Nn],pipes:[Oo],encapsulation:2,changeDetection:0}),n})(),BD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["lib-goback"]],decls:5,vars:1,consts:[[1,"border","bg-light","w-100"],[1,"d-flex"],["type","button",1,"background","navtext",3,"routerLink"]],template:function(t,r){1&t&&(h._UZ(0,"p",0),h.TgZ(1,"div",1)(2,"button",2),h._uU(3," HOME "),h.qZA()(),h._UZ(4,"p",0)),2&t&&(h.xp6(2),h.Q6J("routerLink","/"))},directives:[aa],encapsulation:2,changeDetection:0}),n})(),YR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-aboutus-page"]],decls:5,vars:0,template:function(t,r){1&t&&h._UZ(0,"lib-ourteam")(1,"br")(2,"lib-opinions")(3,"br")(4,"lib-goback")},directives:[WR,KR,BD],encapsulation:2,changeDetection:0}),n})(),QR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[dn,cx,L0,fx,Jn.forChild([{path:"",component:YR}]),GR,qR,L0,cx,fx]]}),n})(),mx=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),Zp=(()=>{class n extends mx{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const ml=new h.OlP("NgValueAccessor"),eP={provide:ml,useExisting:(0,h.Gpc)(()=>V0),multi:!0},nP=new h.OlP("CompositionEventMode");let V0=(()=>{class n extends mx{constructor(t,r,s){super(t,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function tP(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(nP,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[h._Bn([eP]),h.qOj]}),n})();function Uh(n){return null==n||0===n.length}function _x(n){return null!=n&&"number"==typeof n.length}const zi=new h.OlP("NgValidators"),Bh=new h.OlP("NgAsyncValidators"),rP=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Gs{static min(e){return function vx(n){return e=>{if(Uh(e.value)||Uh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Ex(n){return e=>{if(Uh(e.value)||Uh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function wx(n){return Uh(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function bx(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Dx(n){return Uh(n.value)||rP.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Ix(n){return e=>Uh(e.value)||!_x(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Cx(n){return e=>_x(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Tx(n){if(!n)return jD;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Uh(r.value))return null;const s=r.value;return e.test(s)?null:{pattern:{requiredPattern:t,actualValue:s}}}}(e)}static nullValidator(e){return null}static compose(e){return Nx(e)}static composeAsync(e){return Rx(e)}}function jD(n){return null}function Sx(n){return null!=n}function Ax(n){const e=(0,h.QGY)(n)?(0,fn.D)(n):n;return(0,h.CqO)(e),e}function Mx(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function xx(n,e){return e.map(t=>t(n))}function Ox(n){return n.map(e=>function iP(n){return!n.validate}(e)?e:t=>e.validate(t))}function Nx(n){if(!n)return null;const e=n.filter(Sx);return 0==e.length?null:function(t){return Mx(xx(t,e))}}function rS(n){return null!=n?Nx(Ox(n)):null}function Rx(n){if(!n)return null;const e=n.filter(Sx);return 0==e.length?null:function(t){return function JR(...n){const e=(0,Ba.jO)(n),{args:t,keys:r}=on(n),s=new Un.y(u=>{const{length:c}=t;if(!c)return void u.complete();const p=new Array(c);let v=c,D=c;for(let A=0;A<c;A++){let x=!1;(0,Yo.Xf)(t[A]).subscribe((0,Pn.x)(u,L=>{x||(x=!0,D--),p[A]=L},()=>v--,void 0,()=>{(!v||!x)&&(D||u.next(r?Fl(r,p):p),u.complete())}))}});return e?s.pipe(md(e)):s}(xx(t,e).map(Ax)).pipe((0,St.U)(Mx))}}function iS(n){return null!=n?Rx(Ox(n)):null}function Px(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function kx(n){return n._rawValidators}function Fx(n){return n._rawAsyncValidators}function sS(n){return n?Array.isArray(n)?n:[n]:[]}function $D(n,e){return Array.isArray(n)?n.includes(e):n===e}function Lx(n,e){const t=sS(e);return sS(n).forEach(s=>{$D(t,s)||t.push(s)}),t}function Vx(n,e){return sS(e).filter(t=>!$D(n,t))}class Ux{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=rS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=iS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class jh extends Ux{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ps extends Ux{get formDirective(){return null}get path(){return null}}class Bx{constructor(e){this._cd=e}is(e){var t,r,s;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(s=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===s?void 0:s[e])}}let oS=(()=>{class n extends Bx{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(jh,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[h.qOj]}),n})(),aS=(()=>{class n extends Bx{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ps,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[h.qOj]}),n})();function U0(n,e){cS(n,e),e.valueAccessor.writeValue(n.value),function hP(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&$x(n,e)})}(n,e),function pP(n,e){const t=(r,s)=>{e.valueAccessor.writeValue(r),s&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function fP(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&$x(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function dP(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function qD(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),WD(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function zD(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function cS(n,e){const t=kx(n);null!==e.validator?n.setValidators(Px(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Fx(n);null!==e.asyncValidator?n.setAsyncValidators(Px(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const s=()=>n.updateValueAndValidity();zD(e._rawValidators,s),zD(e._rawAsyncValidators,s)}function WD(n,e){let t=!1;if(null!==n){if(null!==e.validator){const s=kx(n);if(Array.isArray(s)&&s.length>0){const u=s.filter(c=>c!==e.validator);u.length!==s.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const s=Fx(n);if(Array.isArray(s)&&s.length>0){const u=s.filter(c=>c!==e.asyncValidator);u.length!==s.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return zD(e._rawValidators,r),zD(e._rawAsyncValidators,r),t}function $x(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function fS(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const B0="VALID",ZD="INVALID",Dy="PENDING",j0="DISABLED";function gS(n){return(KD(n)?n.validators:n)||null}function zx(n){return Array.isArray(n)?rS(n):n||null}function mS(n,e){return(KD(e)?e.asyncValidators:n)||null}function Wx(n){return Array.isArray(n)?iS(n):n||null}function KD(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Zx=n=>n instanceof Co,yS=n=>n instanceof $0;function Kx(n){return Zx(n)?n.value:n.getRawValue()}function Yx(n,e){const t=yS(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new h.vHH(1e3,"");if(!r[e])throw new h.vHH(1001,"")}function Qx(n,e){yS(n),n._forEachChild((r,s)=>{if(void 0===e[s])throw new h.vHH(1002,"")})}class _S{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=zx(this._rawValidators),this._composedAsyncValidatorFn=Wx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===B0}get invalid(){return this.status===ZD}get pending(){return this.status==Dy}get disabled(){return this.status===j0}get enabled(){return this.status!==j0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=zx(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Wx(e)}addValidators(e){this.setValidators(Lx(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Lx(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Vx(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Vx(e,this._rawAsyncValidators))}hasValidator(e){return $D(this._rawValidators,e)}hasAsyncValidator(e){return $D(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Dy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=j0,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=B0,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===B0||this.status===Dy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?j0:B0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Dy,this._hasOwnPendingAsyncValidator=!0;const t=Ax(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function _P(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(s=>{r=yS(r)?r.controls.hasOwnProperty(s)?r.controls[s]:null:(n=>n instanceof EP)(r)&&r.at(s)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?j0:this.errors?ZD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Dy)?Dy:this._anyControlsHaveStatus(ZD)?ZD:B0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){KD(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Co extends _S{constructor(e=null,t,r){super(gS(t),mS(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),KD(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){fS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){fS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class $0 extends _S{constructor(e,t,r){super(gS(t),mS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Qx(this,e),Object.keys(e).forEach(r=>{Yx(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=Kx(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((s,u)=>{r=t(r,s,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class EP extends _S{constructor(e,t,r){super(gS(t),mS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Qx(this,e),e.forEach((r,s)=>{Yx(this,s),this.at(s).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,s)=>{this.at(s)&&this.at(s).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Kx(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let ES=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),rO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const wS=new h.OlP("NgModelWithFormControlWarning"),MP={provide:ps,useExisting:(0,h.Gpc)(()=>G0)};let G0=(()=>{class n extends ps{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(WD(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return U0(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){qD(t.control||null,t,!1),fS(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function qx(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,s=this.form.get(t.path);r!==s&&(qD(r||null,t),Zx(s)&&(U0(s,t),t.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function Hx(n,e){cS(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function gP(n,e){return WD(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){cS(this.form,this),this._oldForm&&WD(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(zi,10),h.Y36(Bh,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&h.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([MP]),h.qOj,h.TTD]}),n})();const NP={provide:jh,useExisting:(0,h.Gpc)(()=>YD)};let YD=(()=>{class n extends jh{constructor(t,r,s,u,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=function hS(n,e){if(!e)return null;let t,r,s;return Array.isArray(e),e.forEach(u=>{u.constructor===V0?t=u:function yP(n){return Object.getPrototypeOf(n.constructor)===Zp}(u)?r=u:s=u}),s||r||t||null}(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function dS(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function GD(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(h.Y36(ps,13),h.Y36(zi,10),h.Y36(Bh,10),h.Y36(ml,10),h.Y36(wS,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([NP]),h.qOj,h.TTD]}),n})(),ZP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[rO]]}),n})(),vO=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:wS,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ZP]}),n})(),EO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[dn,vO,Jn]]}),n})(),wO=(()=>{class n{constructor(t){this._client=t}add(t){return(0,fn.D)(this._client.collection("messages").add(t)).pipe((0,St.U)(()=>{}))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Vh))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const bO=new h.OlP("ADDS_MESSAGES_DTO");let DO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[wO,{provide:bO,useExisting:wO}],imports:[[Wp]]}),n})(),KP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[dn,Jn]]}),n})();function YP(n,e){1&n&&(h.TgZ(0,"div",11),h._uU(1," Please provide your name "),h.qZA())}function QP(n,e){1&n&&(h.TgZ(0,"div",11),h._uU(1," Please provide an email address "),h.qZA())}function JP(n,e){1&n&&(h.TgZ(0,"div",11),h._uU(1," Provided email is not a valid email "),h.qZA())}function XP(n,e){1&n&&(h.TgZ(0,"div",11),h._uU(1," Please provide your message "),h.qZA())}let ek=(()=>{class n{constructor(t,r){this._addsMessagesDto=t,this.router=r,this.contact=new $0({name:new Co("",[Gs.required,Gs.minLength(3)]),email:new Co("",[Gs.required,Gs.email]),text:new Co("",[Gs.required,Gs.minLength(1)])})}onMessageSubmited(t){var r,s,u;t.invalid||(this._addsMessagesDto.add({name:null===(r=t.get("name"))||void 0===r?void 0:r.value,email:null===(s=t.get("email"))||void 0===s?void 0:s.value,text:null===(u=t.get("text"))||void 0===u?void 0:u.value}),this.contact.reset(),this.router.navigate(["//messagesent"]))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(bO),h.Y36(Nr))},n.\u0275cmp=h.Xpm({type:n,selectors:[["lib-contactus"]],decls:28,vars:5,consts:[[1,"border","bg-light","w-100"],[1,"col","herotext"],[1,"fw-bold"],[1,"container-fluid"],[1,"col-5"],[3,"formGroup","ngSubmit"],["type","text","formControlName","name","placeholder","Name",2,"width","500px"],["class","alert alert-danger fw-bold",4,"ngIf"],["type","text","formControlName","email","placeholder","Email",2,"width","500px"],["type","text","formControlName","text","placeholder","Text",1,"p-5",2,"width","500px"],["type","submit","value","SEND MESSAGE",1,"background","navtext"],[1,"alert","alert-danger","fw-bold"]],template:function(t,r){if(1&t&&(h._UZ(0,"p",0),h.TgZ(1,"div",1)(2,"h1")(3,"span",2),h._uU(4,"DROP US A LINE"),h.qZA()(),h._UZ(5,"p",0)(6,"br"),h.TgZ(7,"div",3)(8,"div",4)(9,"form",5),h.NdJ("ngSubmit",function(){return r.onMessageSubmited(r.contact)}),h._UZ(10,"input",6)(11,"br"),h.YNc(12,YP,2,0,"div",7),h._UZ(13,"br")(14,"input",8)(15,"br"),h.YNc(16,QP,2,0,"div",7),h.YNc(17,JP,2,0,"div",7),h._UZ(18,"br")(19,"input",9)(20,"br"),h.YNc(21,XP,2,0,"div",7),h._UZ(22,"br")(23,"p",0)(24,"input",10)(25,"p",0)(26,"br")(27,"br"),h.qZA()()()()),2&t){let s,u,c,p;h.xp6(9),h.Q6J("formGroup",r.contact),h.xp6(3),h.Q6J("ngIf",(null==(s=r.contact.get("name"))?null:s.touched)&&(null==(s=r.contact.get("name"))?null:s.hasError("required"))),h.xp6(4),h.Q6J("ngIf",(null==(u=r.contact.get("email"))?null:u.touched)&&(null==(u=r.contact.get("email"))?null:u.hasError("required"))),h.xp6(1),h.Q6J("ngIf",null==(c=r.contact.get("email"))?null:c.hasError("email")),h.xp6(4),h.Q6J("ngIf",(null==(p=r.contact.get("text"))?null:p.touched)&&(null==(p=r.contact.get("text"))?null:p.hasError("required")))}},directives:[ES,aS,G0,V0,oS,YD,qn],encapsulation:2,changeDetection:0}),n})(),tk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-contactus-page"]],decls:3,vars:0,template:function(t,r){1&t&&h._UZ(0,"lib-contactus")(1,"br")(2,"lib-goback")},directives:[ek,BD],encapsulation:2,changeDetection:0}),n})(),nk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[dn,EO,ss.hO,DO,EO,Jn.forChild([{path:"",component:tk}]),L0]]}),n})();function rk(n,e){if(1&n&&(h.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),h._uU(6),h.qZA(),h.TgZ(7,"h6",6),h._uU(8),h.qZA(),h.TgZ(9,"h6",6),h._uU(10),h.qZA(),h._UZ(11,"img",7),h.TgZ(12,"a",8),h._uU(13,"Dodaj do koszyka"),h.qZA()()()()()()),2&n){const t=e.ngIf;h.xp6(6),h.Oqu(t.name),h.xp6(2),h.Oqu(t.description),h.xp6(2),h.hij("",t.price," z\u0142"),h.xp6(1),h.Q6J("src",t.imageUrl,h.LSH)}}let ik=(()=>{class n{constructor(t,r){this._getsOneProductDto=t,this._selectsProductContextStorage=r,this.productDetail$=this._selectsProductContextStorage.select().pipe(pn(s=>this._getsOneProductDto.getOne(s.productId)))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(rx),h.Y36(ix))},n.\u0275cmp=h.Xpm({type:n,selectors:[["lib-product-detail"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"row","justify-content-center"],[1,"col-4"],[1,"card",2,"width","18rem"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle","mb-2","text-muted"],["width","100","height","200",3,"src"],["href","#",1,"card-link"]],template:function(t,r){1&t&&(h.YNc(0,rk,14,4,"div",0),h.ALo(1,"async")),2&t&&h.Q6J("ngIf",h.lcZ(1,1,r.productDetail$))},directives:[qn],pipes:[Oo],encapsulation:2,changeDetection:0}),n})(),sk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-productdetail-page"]],decls:5,vars:0,template:function(t,r){1&t&&(h.TgZ(0,"h1"),h._uU(1,"ProductdetailPage"),h.qZA(),h._UZ(2,"lib-product-detail")(3,"lib-goback"),h._uU(4,">\n"))},directives:[ik,BD],encapsulation:2,changeDetection:0}),n})(),ok=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[dn,RR,QT,XT,PR,Jn.forChild([{path:"",component:sk,resolve:[ox]}]),L0]]}),n})(),ak=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-confirmation-page"]],decls:3,vars:0,template:function(t,r){1&t&&(h._uU(0,"CONFIRMATION PAGE"),h._UZ(1,"br")(2,"lib-goback"))},directives:[BD],encapsulation:2,changeDetection:0}),n})(),uk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[dn,Jn.forChild([{path:"",component:ak}]),L0]]}),n})(),lk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["lib-cart"]],decls:6,vars:0,consts:[[1,"border","bg-light","w-100"],[1,"col","herotext"],[1,"fw-bold"]],template:function(t,r){1&t&&(h._UZ(0,"p",0),h.TgZ(1,"div",1)(2,"h1")(3,"span",2),h._uU(4," YOUR SHOPPING CART"),h.qZA()()(),h._UZ(5,"p",0))},encapsulation:2,changeDetection:0}),n})(),ck=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-cart-page"]],decls:2,vars:0,template:function(t,r){1&t&&(h._UZ(0,"lib-cart"),h._uU(1,">\n"))},directives:[lk],encapsulation:2,changeDetection:0}),n})(),dk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[dn,Jn.forChild([{path:"",component:ck}]),kR]]}),n})();const IO=new h.OlP("SELECTS_TOPSELLERS_CONTEXT");function hk(n,e){if(1&n&&(h.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),h._uU(6),h.qZA(),h.TgZ(7,"h6",6),h._uU(8),h.qZA(),h.TgZ(9,"h6",6),h._uU(10),h.qZA(),h._UZ(11,"img",7),h.TgZ(12,"a",8),h._uU(13,"Dodaj do koszyka"),h.qZA()()()()()()),2&n){const t=e.ngIf;h.xp6(6),h.Oqu(t.name),h.xp6(2),h.Oqu(t.description),h.xp6(2),h.hij("",t.price," z\u0142"),h.xp6(1),h.Q6J("src",t.imageUrl,h.LSH)}}let fk=(()=>{class n{constructor(t,r){this._getsOneTopsellersDto=t,this._selectsTopsellersContext=r,this.topsellersDetalis$=this._selectsTopsellersContext.select().pipe(pn(s=>this._getsOneTopsellersDto.getOne(s.TopsellersId)))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(tS),h.Y36(IO))},n.\u0275cmp=h.Xpm({type:n,selectors:[["lib-topsellers-detalis"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"row","justify-content-center"],[1,"col-4"],[1,"card",2,"width","18rem"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle","mb-2","text-muted"],["width","100","height","200",3,"src"],["href","#",1,"card-link"]],template:function(t,r){1&t&&(h.YNc(0,hk,14,4,"div",0),h.ALo(1,"async")),2&t&&h.Q6J("ngIf",h.lcZ(1,1,r.topsellersDetalis$))},directives:[qn],pipes:[Oo],encapsulation:2,changeDetection:0}),n})(),pk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-topsellersdetalis-page"]],decls:4,vars:0,template:function(t,r){1&t&&(h.TgZ(0,"h1"),h._uU(1,"TopsellersdetalisPage"),h.qZA(),h._UZ(2,"lib-topsellers-detalis"),h._uU(3,">"))},directives:[fk],encapsulation:2,changeDetection:0}),n})(),CO=(()=>{class n{constructor(t){this._setsStateTopsellersContext=t}resolve(t,r){return this._setsStateTopsellersContext.setState({TopsellersId:t.params.topsellersId}).pipe((0,St.U)(s=>!0))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(nS))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),gk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[CO],imports:[[]]}),n})(),mk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[dn,ux,XT,gk,LR,Jn.forChild([{path:"",component:pk,resolve:[CO]}])]]}),n})(),TO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[dn,vO]]}),n})(),SO=(()=>{class n{constructor(t){this._client=t}add(t){return(0,fn.D)(this._client.collection("orders").add(t)).pipe((0,St.U)(()=>{}))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Vh))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const AO=new h.OlP("ADDS_ORDER_DTO");let yk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[SO,{provide:AO,useExisting:SO}],imports:[[Wp]]}),n})(),_k=(()=>{class n{constructor(t,r){this._addsOrderDto=t,this.router=r,this.count=Date.now(),this.details=new $0({name:new Co("",[Gs.required]),address:new Co("",[Gs.required]),town:new Co("",[Gs.required]),code:new Co("",[Gs.required]),country:new Co("",[Gs.required]),phone:new Co("",[Gs.required]),email:new Co("",[Gs.required]),delivery:new Co("",[Gs.required])})}onOrderSubmited(t){var r,s,u,c,p,v,D,A;t.invalid||(this._addsOrderDto.add({name:null===(r=null==t?void 0:t.get("name"))||void 0===r?void 0:r.value,address:null===(s=null==t?void 0:t.get("address"))||void 0===s?void 0:s.value,town:null===(u=null==t?void 0:t.get("town"))||void 0===u?void 0:u.value,code:null===(c=null==t?void 0:t.get("code"))||void 0===c?void 0:c.value,country:null===(p=null==t?void 0:t.get("country"))||void 0===p?void 0:p.value,phone:null===(v=null==t?void 0:t.get("phone"))||void 0===v?void 0:v.value,email:null===(D=null==t?void 0:t.get("email"))||void 0===D?void 0:D.value,delivery:null===(A=null==t?void 0:t.get("delivery"))||void 0===A?void 0:A.value,count:Date.now()}),this.details.reset(),this.router.navigate(["/billing"]))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(AO),h.Y36(Nr))},n.\u0275cmp=h.Xpm({type:n,selectors:[["lib-billing-detail"]],decls:45,vars:1,consts:[[1,"border","bg-light","w-100"],[1,"col","herotext"],[1,"fw-bold"],[1,"container-fluid"],[1,"col-1"],[3,"formGroup","ngSubmit"],["type","text","formControlName","name","placeholder","Name"],["type","text","formControlName","address","placeholder","Address"],["type","text","formControlName","town","placeholder","Town"],["type","text","formControlName","code","placeholder","Code"],["type","text","formControlName","country","placeholder","Country"],["type","text","formControlName","phone","placeholder","Phone"],["type","text","formControlName","email","placeholder","Email"],["type","text","formControlName","delivery","placeholder","Delivery"],[1,"text-white","fw-bold"],["type","submit","value","Confirm and order!"]],template:function(t,r){1&t&&(h._UZ(0,"p",0),h.TgZ(1,"div",1)(2,"h1")(3,"span",2),h._uU(4," YOUR ORDER "),h.qZA()(),h._UZ(5,"p",0)(6,"br"),h.qZA(),h._UZ(7,"p",0),h.TgZ(8,"div",1)(9,"h1")(10,"span",2),h._uU(11," BILLING DETAILS "),h.qZA()(),h._UZ(12,"p",0)(13,"br"),h.qZA(),h.TgZ(14,"div",3)(15,"div",4)(16,"form",5),h.NdJ("ngSubmit",function(){return r.onOrderSubmited(r.details)}),h._UZ(17,"input",6)(18,"br")(19,"br")(20,"input",7)(21,"br")(22,"br")(23,"input",8)(24,"br")(25,"br")(26,"input",9)(27,"br")(28,"br")(29,"input",10)(30,"br")(31,"br")(32,"input",11)(33,"br")(34,"br")(35,"input",12)(36,"br")(37,"br")(38,"input",13)(39,"br"),h.TgZ(40,"p",14),h._uU(41,"*DPD DELIVERY OR PICKUP IN PERSON ONLY"),h.qZA(),h._UZ(42,"br")(43,"br")(44,"input",15),h.qZA()()()),2&t&&(h.xp6(16),h.Q6J("formGroup",r.details))},directives:[ES,aS,G0,V0,oS,YD],encapsulation:2,changeDetection:0}),n})(),vk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-billing-detail-page"]],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"lib-billing-detail")},directives:[_k],encapsulation:2,changeDetection:0}),n})(),Ek=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[dn,TO,Jn.forChild([{path:"",component:vk}]),TO,yk]]}),n})(),wk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["lib-send-confirmation"]],decls:34,vars:1,consts:[[1,"border","bg-light","w-100"],[1,"row","no-gutters"],[1,"col-12","col-sm-6","col-md-8"],[1,"col","herotext"],[1,"fw-bold"],["type","button",1,"background","navtext",3,"routerLink"],[1,"col-6","col-md-4","navtext","navpaddingsright"]],template:function(t,r){1&t&&(h._UZ(0,"br")(1,"br")(2,"p",0),h.TgZ(3,"div",1)(4,"div",2)(5,"div",3)(6,"h1")(7,"span",4),h._uU(8," MESSAGE SENT!"),h._UZ(9,"br"),h._uU(10," We'll contact you soon."),h.qZA()(),h._UZ(11,"br")(12,"p",0),h.TgZ(13,"button",5)(14,"b"),h._uU(15,"GO BACK"),h.qZA(),h._UZ(16,"p",0),h.qZA()()(),h.TgZ(17,"div",6)(18,"b"),h._uU(19,"VISIT US!"),h.qZA(),h._UZ(20,"br"),h._uU(21,"02-897 Warszawa"),h._UZ(22,"br"),h._uU(23,"ul. Prosta 20"),h._UZ(24,"br"),h._uU(25," Phone: 879 392 817 "),h._UZ(26,"br")(27,"br"),h.TgZ(28,"b"),h._uU(29,"GET IN TOUCH"),h.qZA(),h._UZ(30,"br"),h._uU(31," You can get in touch with us us on this provided email:"),h._UZ(32,"br"),h._uU(33," info@info.com "),h.qZA()()),2&t&&(h.xp6(13),h.Q6J("routerLink","/"))},directives:[aa],encapsulation:2,changeDetection:0}),n})(),bk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-send-confirmation-page"]],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"lib-send-confirmation")},directives:[wk],encapsulation:2,changeDetection:0}),n})(),Dk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[dn,Jn.forChild([{path:"",component:bk}]),KP]]}),n})();const Ik=[{path:"home",loadChildren:()=>lx},{path:"aboutus",loadChildren:()=>QR},{path:"contactus",loadChildren:()=>nk},{path:"details/:productId",loadChildren:()=>ok},{path:"confirmation",loadChildren:()=>uk},{path:"",loadChildren:()=>lx},{path:"shoppingcart",loadChildren:()=>dk},{path:"topdetalis/:topsellersId",loadChildren:()=>mk},{path:"billing",loadChildren:()=>Ek},{path:"messagesent",loadChildren:()=>Dk}];let Ck=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Jn.forRoot(Ik)],Jn]}),n})(),Tk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["lib-button"]],decls:12,vars:4,consts:[[1,"border","bg-light","w-100"],[1,"container-fluid"],["type","button",1,"background","navtext","navpaddingsright",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","width","40","height","40","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-bag-heart","text-white"],["fill-rule","evenodd","d","M10.5 3.5a2.5 2.5 0 0 0-5 0V4h5v-.5Zm1 0V4H15v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4h3.5v-.5a3.5 3.5 0 1 1 7 0ZM14 14V5H2v9a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1ZM8 7.993c1.664-1.711 5.825 1.283 0 5.132-5.825-3.85-1.664-6.843 0-5.132Z"]],template:function(t,r){1&t&&(h._UZ(0,"p",0),h.TgZ(1,"div",1)(2,"button",2),h._uU(3," ABOUT "),h.qZA(),h.TgZ(4,"button",2),h._uU(5," CONTACT "),h.qZA(),h.TgZ(6,"button",2),h._uU(7," HOME "),h.qZA(),h.TgZ(8,"button",2),h.O4$(),h.TgZ(9,"svg",3),h._UZ(10,"path",4),h.qZA()()(),h.kcU(),h._UZ(11,"p",0)),2&t&&(h.xp6(2),h.Q6J("routerLink","./aboutus"),h.xp6(2),h.Q6J("routerLink","./contactus"),h.xp6(2),h.Q6J("routerLink","/"),h.xp6(2),h.Q6J("routerLink","./shoppingcart"))},directives:[aa],encapsulation:2,changeDetection:0}),n})(),Sk=(()=>{class n{constructor(){this.title="HACKATON"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"container-fluid","text-white","header","background"],[1,"display-6","fw-bold","mainheading"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"p",1),h._uU(2," E-COMMERCE by \u017byrafy "),h._UZ(3,"br")(4,"br")(5,"lib-button"),h.qZA()(),h._UZ(6,"router-outlet"))},directives:[Tk,ql],styles:[""]}),n})();const MO_firebase={projectId:"hakaton-2939c",appId:"1:328501125806:web:f4fdbfdcfbd55095c0433f",storageBucket:"hakaton-2939c.appspot.com",locationId:"europe-west",apiKey:"AIzaSyBBe-onwqZKv-FSmDwnyRRflXyYmm_SleI",authDomain:"hakaton-2939c.firebaseapp.com",messagingSenderId:"328501125806"};class SS{constructor(e){return e}}const xO="firestore",AS=new h.OlP("angularfire2.firestore-instances"),Ok={provide:class Ak{constructor(){return(0,hr.vb)(xO)}},deps:[[new h.FiY,AS]]},Nk={provide:SS,useFactory:function Mk(n,e){const t=(0,hr.JM)(xO,n,e);return t&&new SS(t)},deps:[[new h.FiY,AS],class P0{constructor(e){return e}}]};let OO=(()=>{class n{constructor(){(0,MT.KN)("angularfire",hr.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[Nk,Ok]}),n})();class NO{}const Wc="*";function RO(n,e=null){return{type:2,steps:n,options:e}}function PO(n){return{type:6,styles:n,offset:null}}function kO(n){Promise.resolve(null).then(n)}class q0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){kO(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class FO{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,s=0;const u=this.players.length;0==u?kO(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==u&&this._onFinish()}),c.onDestroy(()=>{++r==u&&this._onDestroy()}),c.onStart(()=>{++s==u&&this._onStart()})}),this.totalTime=this.players.reduce((c,p)=>Math.max(c,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const s=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(s)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const Zt=!1;function LO(n){return new h.vHH(3e3,Zt)}function fF(){return"undefined"!=typeof window&&void 0!==window.document}function xS(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function $h(n){switch(n.length){case 0:return new q0;case 1:return n[0];default:return new FO(n)}}function VO(n,e,t,r,s={},u={}){const c=[],p=[];let v=-1,D=null;if(r.forEach(A=>{const x=A.offset,L=x==v,z=L&&D||{};Object.keys(A).forEach(K=>{let ye=K,Pe=A[K];if("offset"!==K)switch(ye=e.normalizePropertyName(ye,c),Pe){case"!":Pe=s[K];break;case Wc:Pe=u[K];break;default:Pe=e.normalizeStyleValue(K,ye,Pe,c)}z[ye]=Pe}),L||p.push(z),D=z,v=x}),c.length)throw function nF(n){return new h.vHH(3502,Zt)}();return p}function OS(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&NS(t,"start",n)));break;case"done":n.onDone(()=>r(t&&NS(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&NS(t,"destroy",n)))}}function NS(n,e,t){const r=t.totalTime,u=RS(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),c=n._data;return null!=c&&(u._data=c),u}function RS(n,e,t,r,s="",u=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:s,totalTime:u,disabled:!!c}}function To(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function UO(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let PS=(n,e)=>!1,BO=(n,e,t)=>[],jO=null;function kS(n){const e=n.parentNode||n.host;return e===jO?null:e}(xS()||"undefined"!=typeof Element)&&(fF()?(jO=(()=>document.documentElement)(),PS=(n,e)=>{for(;e;){if(e===n)return!0;e=kS(e)}return!1}):PS=(n,e)=>n.contains(e),BO=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Yp=null,$O=!1;function HO(n){Yp||(Yp=function gF(){return"undefined"!=typeof document?document.body:null}()||{},$O=!!Yp.style&&"WebkitAppearance"in Yp.style);let e=!0;return Yp.style&&!function pF(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Yp.style,!e&&$O&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Yp.style)),e}const GO=PS,qO=BO;let zO=(()=>{class n{validateStyleProperty(t){return HO(t)}matchesElement(t,r){return!1}containsElement(t,r){return GO(t,r)}getParentElement(t){return kS(t)}query(t,r,s){return qO(t,r,s)}computeStyle(t,r,s){return s||""}animate(t,r,s,u,c,p=[],v){return new q0(s,u)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),FS=(()=>{class n{}return n.NOOP=new zO,n})();const LS="ng-enter",JD="ng-leave",XD="ng-trigger",eI=".ng-trigger",ZO="ng-animating",VS=".ng-animating";function Qp(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:US(parseFloat(e[1]),e[2])}function US(n,e){return"s"===e?1e3*n:n}function tI(n,e,t){return n.hasOwnProperty("duration")?n:function _F(n,e,t){let s,u=0,c="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return e.push(LO()),{duration:0,delay:0,easing:""};s=US(parseFloat(p[1]),p[2]);const v=p[3];null!=v&&(u=US(parseFloat(v),p[4]));const D=p[5];D&&(c=D)}else s=n;if(!t){let p=!1,v=e.length;s<0&&(e.push(function Pk(){return new h.vHH(3100,Zt)}()),p=!0),u<0&&(e.push(function kk(){return new h.vHH(3101,Zt)}()),p=!0),p&&e.splice(v,0,LO())}return{duration:s,delay:u,easing:c}}(n,e,t)}function Iy(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Hh(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Iy(n,t);return t}function YO(n,e,t){return t?e+":"+t+";":""}function QO(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=YO(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=YO(0,wF(t),n.style[t]));n.setAttribute("style",e)}function yl(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const s=jS(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[s]),n.style[s]=e[r]}),xS()&&QO(n))}function Jp(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=jS(t);n.style[r]=""}),xS()&&QO(n))}function z0(n){return Array.isArray(n)?1==n.length?n[0]:RO(n):n}const BS=new RegExp("{{\\s*(.+?)\\s*}}","g");function JO(n){let e=[];if("string"==typeof n){let t;for(;t=BS.exec(n);)e.push(t[1]);BS.lastIndex=0}return e}function nI(n,e,t){const r=n.toString(),s=r.replace(BS,(u,c)=>{let p=e[c];return e.hasOwnProperty(c)||(t.push(function Lk(n){return new h.vHH(3003,Zt)}()),p=""),p.toString()});return s==r?n:s}function rI(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const EF=/-+([a-z0-9])/g;function jS(n){return n.replace(EF,(...e)=>e[1].toUpperCase())}function wF(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function So(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Vk(n){return new h.vHH(3004,Zt)}()}}function XO(n,e){return window.getComputedStyle(n)[e]}function SF(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function AF(n,e,t){if(":"==n[0]){const v=function MF(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Jk(n){return new h.vHH(3016,Zt)}()),"* => *"}}(n,t);if("function"==typeof v)return void e.push(v);n=v}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Qk(n){return new h.vHH(3015,Zt)}()),e;const s=r[1],u=r[2],c=r[3];e.push(e1(s,c));"<"==u[0]&&!("*"==s&&"*"==c)&&e.push(e1(c,s))}(r,t,e)):t.push(n),t}const aI=new Set(["true","1"]),uI=new Set(["false","0"]);function e1(n,e){const t=aI.has(n)||uI.has(n),r=aI.has(e)||uI.has(e);return(s,u)=>{let c="*"==n||n==s,p="*"==e||e==u;return!c&&t&&"boolean"==typeof s&&(c=s?aI.has(n):uI.has(n)),!p&&r&&"boolean"==typeof u&&(p=u?aI.has(e):uI.has(e)),c&&p}}const xF=new RegExp("s*:selfs*,?","g");function $S(n,e,t,r){return new OF(n).build(e,t,r)}class OF{constructor(e){this._driver=e}build(e,t,r){const s=new PF(t);this._resetContextStyleTimingState(s);const u=So(this,z0(e),s);return s.unsupportedCSSPropertiesFound.size&&s.unsupportedCSSPropertiesFound.keys(),u}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,s=t.depCount=0;const u=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function Bk(){return new h.vHH(3006,Zt)}()),e.definitions.forEach(p=>{if(this._resetContextStyleTimingState(t),0==p.type){const v=p,D=v.name;D.toString().split(/\s*,\s*/).forEach(A=>{v.name=A,u.push(this.visitState(v,t))}),v.name=D}else if(1==p.type){const v=this.visitTransition(p,t);r+=v.queryCount,s+=v.depCount,c.push(v)}else t.errors.push(function jk(){return new h.vHH(3007,Zt)}())}),{type:7,name:e.name,states:u,transitions:c,queryCount:r,depCount:s,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),s=e.options&&e.options.params||null;if(r.containsDynamicStyles){const u=new Set,c=s||{};r.styles.forEach(p=>{if(lI(p)){const v=p;Object.keys(v).forEach(D=>{JO(v[D]).forEach(A=>{c.hasOwnProperty(A)||u.add(A)})})}}),u.size&&(rI(u.values()),t.errors.push(function $k(n,e){return new h.vHH(3008,Zt)}()))}return{type:0,name:e.name,style:r,options:s?{params:s}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=So(this,z0(e.animation),t);return{type:1,matchers:SF(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Xp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>So(this,r,t)),options:Xp(e.options)}}visitGroup(e,t){const r=t.currentTime;let s=0;const u=e.steps.map(c=>{t.currentTime=r;const p=So(this,c,t);return s=Math.max(s,t.currentTime),p});return t.currentTime=s,{type:3,steps:u,options:Xp(e.options)}}visitAnimate(e,t){const r=function FF(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return HS(tI(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=HS(0,0,"");return u.dynamic=!0,u.strValue=r,u}return t=t||tI(r,e),HS(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let s,u=e.styles?e.styles:PO({});if(5==u.type)s=this.visitKeyframes(u,t);else{let c=e.styles,p=!1;if(!c){p=!0;const D={};r.easing&&(D.easing=r.easing),c=PO(D)}t.currentTime+=r.duration+r.delay;const v=this.visitStyle(c,t);v.isEmptyStep=p,s=v}return t.currentAnimateTimings=null,{type:4,timings:r,style:s,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(c=>{"string"==typeof c?c==Wc?r.push(c):t.errors.push(function Hk(n){return new h.vHH(3002,Zt)}()):r.push(c)}):r.push(e.styles);let s=!1,u=null;return r.forEach(c=>{if(lI(c)){const p=c,v=p.easing;if(v&&(u=v,delete p.easing),!s)for(let D in p)if(p[D].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:r,easing:u,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let s=t.currentTime,u=t.currentTime;r&&u>0&&(u-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(p=>{if(!this._driver.validateStyleProperty(p))return delete c[p],void t.unsupportedCSSPropertiesFound.add(p);const v=t.collectedStyles[t.currentQuerySelector],D=v[p];let A=!0;D&&(u!=s&&u>=D.startTime&&s<=D.endTime&&(t.errors.push(function Gk(n,e,t,r,s){return new h.vHH(3010,Zt)}()),A=!1),u=D.startTime),A&&(v[p]={startTime:u,endTime:s}),t.options&&function vF(n,e,t){const r=e.params||{},s=JO(n);s.length&&s.forEach(u=>{r.hasOwnProperty(u)||t.push(function Fk(n){return new h.vHH(3001,Zt)}())})}(c[p],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function qk(){return new h.vHH(3011,Zt)}()),r;let u=0;const c=[];let p=!1,v=!1,D=0;const A=e.steps.map(pt=>{const mt=this._makeStyleAst(pt,t);let Dt=null!=mt.offset?mt.offset:function kF(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(lI(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(lI(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(mt.styles),ut=0;return null!=Dt&&(u++,ut=mt.offset=Dt),v=v||ut<0||ut>1,p=p||ut<D,D=ut,c.push(ut),mt});v&&t.errors.push(function zk(){return new h.vHH(3012,Zt)}()),p&&t.errors.push(function Wk(){return new h.vHH(3200,Zt)}());const x=e.steps.length;let L=0;u>0&&u<x?t.errors.push(function Zk(){return new h.vHH(3202,Zt)}()):0==u&&(L=1/(x-1));const z=x-1,K=t.currentTime,ye=t.currentAnimateTimings,Pe=ye.duration;return A.forEach((pt,mt)=>{const Dt=L>0?mt==z?1:L*mt:c[mt],ut=Dt*Pe;t.currentTime=K+ye.delay+ut,ye.duration=ut,this._validateStyleAst(pt,t),pt.offset=Dt,r.styles.push(pt)}),r}visitReference(e,t){return{type:8,animation:So(this,z0(e.animation),t),options:Xp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Xp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Xp(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,s=e.options||{};t.queryCount++,t.currentQuery=e;const[u,c]=function NF(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(xF,"")),n=n.replace(/@\*/g,eI).replace(/@\w+/g,t=>eI+"-"+t.substr(1)).replace(/:animating/g,VS),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+u:u,To(t.collectedStyles,t.currentQuerySelector,{});const p=So(this,z0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:u,limit:s.limit||0,optional:!!s.optional,includeSelf:c,animation:p,originalSelector:e.selector,options:Xp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Kk(){return new h.vHH(3013,Zt)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:tI(e.timings,t.errors,!0);return{type:12,animation:So(this,z0(e.animation),t),timings:r,options:null}}}class PF{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function lI(n){return!Array.isArray(n)&&"object"==typeof n}function Xp(n){return n?(n=Iy(n)).params&&(n.params=function RF(n){return n?Iy(n):null}(n.params)):n={},n}function HS(n,e,t){return{duration:n,delay:e,easing:t}}function GS(n,e,t,r,s,u,c=null,p=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:s,delay:u,totalTime:s+u,easing:c,subTimeline:p}}class cI{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const UF=new RegExp(":enter","g"),jF=new RegExp(":leave","g");function qS(n,e,t,r,s,u={},c={},p,v,D=[]){return(new $F).buildKeyframes(n,e,t,r,s,u,c,p,v,D)}class $F{buildKeyframes(e,t,r,s,u,c,p,v,D,A=[]){D=D||new cI;const x=new zS(e,t,D,s,u,A,[]);x.options=v,x.currentTimeline.setStyles([c],null,x.errors,v),So(this,r,x);const L=x.timelines.filter(z=>z.containsAnimation());if(Object.keys(p).length){let z;for(let K=L.length-1;K>=0;K--){const ye=L[K];if(ye.element===t){z=ye;break}}z&&!z.allowOnlyTimelineStyles()&&z.setStyles([p],null,x.errors,v)}return L.length?L.map(z=>z.buildKeyframes()):[GS(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const s=t.createSubContext(e.options),u=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,s,s.options);u!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let u=t.currentTimeline.currentTime;const c=null!=r.duration?Qp(r.duration):null,p=null!=r.delay?Qp(r.delay):null;return 0!==c&&e.forEach(v=>{const D=t.appendInstructionToTimeline(v,c,p);u=Math.max(u,D.duration+D.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),So(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let s=t;const u=e.options;if(u&&(u.params||u.delay)&&(s=t.createSubContext(u),s.transformIntoNewTimeline(),null!=u.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=dI);const c=Qp(u.delay);s.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>So(this,c,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>r&&s.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let s=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?Qp(e.options.delay):0;e.steps.forEach(c=>{const p=t.createSubContext(e.options);u&&p.delayNextStep(u),So(this,c,p),s=Math.max(s,p.currentTimeline.currentTime),r.push(p.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(s),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return tI(t.params?nI(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),s=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),s.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(r.duration),this.visitStyle(u,t),s.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,s=t.currentAnimateTimings;!s&&r.getCurrentStyleProperties().length&&r.forwardFrame();const u=s&&s.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(u):r.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,s=t.currentTimeline.duration,u=r.duration,p=t.createSubContext().currentTimeline;p.easing=r.easing,e.styles.forEach(v=>{p.forwardTime((v.offset||0)*u),p.setStyles(v.styles,v.easing,t.errors,t.options),p.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(p),t.transformIntoNewTimeline(s+u),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,s=e.options||{},u=s.delay?Qp(s.delay):0;u&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=dI);let c=r;const p=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!s.optional,t.errors);t.currentQueryTotal=p.length;let v=null;p.forEach((D,A)=>{t.currentQueryIndex=A;const x=t.createSubContext(e.options,D);u&&x.delayNextStep(u),D===t.element&&(v=x.currentTimeline),So(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),v&&(t.currentTimeline.mergeTimelineCollectedStyles(v),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,s=t.currentTimeline,u=e.timings,c=Math.abs(u.duration),p=c*(t.currentQueryTotal-1);let v=c*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":v=p-v;break;case"full":v=r.currentStaggerTime}const A=t.currentTimeline;v&&A.delayNextStep(v);const x=A.currentTime;So(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=s.currentTime-x+(s.startTime-r.currentTimeline.startTime)}}const dI={};class zS{constructor(e,t,r,s,u,c,p,v){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=s,this._leaveClassName=u,this.errors=c,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=dI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new hI(this._driver,t,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let s=this.options;null!=r.duration&&(s.duration=Qp(r.duration)),null!=r.delay&&(s.delay=Qp(r.delay));const u=r.params;if(u){let c=s.params;c||(c=this.options.params={}),Object.keys(u).forEach(p=>{(!t||!c.hasOwnProperty(p))&&(c[p]=nI(u[p],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(s=>{r[s]=t[s]})}}return e}createSubContext(e=null,t,r){const s=t||this.element,u=new zS(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=dI,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const s={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},u=new HF(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,s,e.stretchStartingKeyframe);return this.timelines.push(u),s}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,s,u,c){let p=[];if(s&&p.push(this.element),e.length>0){e=(e=e.replace(UF,"."+this._enterClassName)).replace(jF,"."+this._leaveClassName);let D=this._driver.query(this.element,e,1!=r);0!==r&&(D=r<0?D.slice(D.length+r,D.length):D.slice(0,r)),p.push(...D)}return!u&&0==p.length&&c.push(function Yk(n){return new h.vHH(3014,Zt)}()),p}}class hI{constructor(e,t,r,s){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new hI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Wc,this._currentKeyframe[t]=Wc}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,s){t&&(this._previousKeyframe.easing=t);const u=s&&s.params||{},c=function GF(n,e){const t={};let r;return n.forEach(s=>{"*"===s?(r=r||Object.keys(e),r.forEach(u=>{t[u]=Wc})):Hh(s,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(c).forEach(p=>{const v=nI(c[p],u,r);this._pendingStyles[p]=v,this._localTimelineStyles.hasOwnProperty(p)||(this._backFill[p]=this._globalTimelineStyles.hasOwnProperty(p)?this._globalTimelineStyles[p]:Wc),this._updateStyle(p,v)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],s=e._styleSummary[t];(!r||s.time>r.time)&&this._updateStyle(t,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((p,v)=>{const D=Hh(p,!0);Object.keys(D).forEach(A=>{const x=D[A];"!"==x?e.add(A):x==Wc&&t.add(A)}),r||(D.offset=v/this.duration),s.push(D)});const u=e.size?rI(e.values()):[],c=t.size?rI(t.values()):[];if(r){const p=s[0],v=Iy(p);p.offset=0,v.offset=1,s=[p,v]}return GS(this.element,s,u,c,this.duration,this.startTime,this.easing,!1)}}class HF extends hI{constructor(e,t,r,s,u,c,p=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=s,this.postStyleProps=u,this._stretchStartingKeyframe=p,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:s}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],c=r+t,p=t/c,v=Hh(e[0],!1);v.offset=0,u.push(v);const D=Hh(e[0],!1);D.offset=r1(p),u.push(D);const A=e.length-1;for(let x=1;x<=A;x++){let L=Hh(e[x],!1);L.offset=r1((t+L.offset*r)/c),u.push(L)}r=c,t=0,s="",e=u}return GS(this.element,e,this.preStyleProps,this.postStyleProps,r,t,s,!0)}}function r1(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class WS{}class qF extends WS{normalizePropertyName(e,t){return jS(e)}normalizeStyleValue(e,t,r,s){let u="";const c=r.toString().trim();if(zF[t]&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const p=r.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&s.push(function Uk(n,e){return new h.vHH(3005,Zt)}())}return c+u}}const zF=(()=>function WF(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function i1(n,e,t,r,s,u,c,p,v,D,A,x,L){return{type:0,element:n,triggerName:e,isRemovalTransition:s,fromState:t,fromStyles:u,toState:r,toStyles:c,timelines:p,queriedElements:v,preStyleProps:D,postStyleProps:A,totalTime:x,errors:L}}const ZS={};class s1{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,s){return function ZF(n,e,t,r,s){return n.some(u=>u(e,t,r,s))}(this.ast.matchers,e,t,r,s)}buildStyles(e,t,r){const s=this._stateStyles["*"],u=this._stateStyles[e],c=s?s.buildStyles(t,r):{};return u?u.buildStyles(t,r):c}build(e,t,r,s,u,c,p,v,D,A){const x=[],L=this.ast.options&&this.ast.options.params||ZS,K=this.buildStyles(r,p&&p.params||ZS,x),ye=v&&v.params||ZS,Pe=this.buildStyles(s,ye,x),pt=new Set,mt=new Map,Dt=new Map,ut="void"===s,kt={params:Object.assign(Object.assign({},L),ye)},Ut=A?[]:qS(e,t,this.ast.animation,u,c,K,Pe,kt,D,x);let sn=0;if(Ut.forEach(Zc=>{sn=Math.max(Zc.duration+Zc.delay,sn)}),x.length)return i1(t,this._triggerName,r,s,ut,K,Pe,[],[],mt,Dt,sn,x);Ut.forEach(Zc=>{const Kc=Zc.element,w1=To(mt,Kc,{});Zc.preStyleProps.forEach(eg=>w1[eg]=!0);const Z0=To(Dt,Kc,{});Zc.postStyleProps.forEach(eg=>Z0[eg]=!0),Kc!==t&&pt.add(Kc)});const gs=rI(pt.values());return i1(t,this._triggerName,r,s,ut,K,Pe,Ut,gs,mt,Dt,sn)}}class KF{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},s=Iy(this.defaultParams);return Object.keys(e).forEach(u=>{const c=e[u];null!=c&&(s[u]=c)}),this.styles.styles.forEach(u=>{if("string"!=typeof u){const c=u;Object.keys(c).forEach(p=>{let v=c[p];v.length>1&&(v=nI(v,s,t));const D=this.normalizer.normalizePropertyName(p,t);v=this.normalizer.normalizeStyleValue(p,D,v,t),r[D]=v})}}),r}}class QF{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(s=>{this.states[s.name]=new KF(s.style,s.options&&s.options.params||{},r)}),o1(this.states,"true","1"),o1(this.states,"false","0"),t.transitions.forEach(s=>{this.transitionFactories.push(new s1(e,s,this.states))}),this.fallbackTransition=function JF(n,e,t){return new s1(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,p)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,s){return this.transitionFactories.find(c=>c.match(e,t,r,s))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function o1(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const XF=new cI;class eL{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],u=$S(this._driver,t,r,[]);if(r.length)throw function rF(n){return new h.vHH(3503,Zt)}();this._animations[e]=u}_buildPlayer(e,t,r){const s=e.element,u=VO(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(s,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const s=[],u=this._animations[e];let c;const p=new Map;if(u?(c=qS(this._driver,t,u,LS,JD,{},{},r,XF,s),c.forEach(A=>{const x=To(p,A.element,{});A.postStyleProps.forEach(L=>x[L]=null)})):(s.push(function iF(){return new h.vHH(3300,Zt)}()),c=[]),s.length)throw function sF(n){return new h.vHH(3504,Zt)}();p.forEach((A,x)=>{Object.keys(A).forEach(L=>{A[L]=this._driver.computeStyle(x,L,Wc)})});const D=$h(c.map(A=>{const x=p.get(A.element);return this._buildPlayer(A,{},x)}));return this._playersById[e]=D,D.onDestroy(()=>this.destroy(e)),this.players.push(D),D}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function oF(n){return new h.vHH(3301,Zt)}();return t}listen(e,t,r,s){const u=RS(t,"","","");return OS(this._getPlayer(e),r,u,s),()=>{}}command(e,t,r,s){if("register"==r)return void this.register(e,s[0]);if("create"==r)return void this.create(e,t,s[0]||{});const u=this._getPlayer(e);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(e)}}}const a1="ng-animate-queued",KS="ng-animate-disabled",sL=[],u1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},oL={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ea="__ng_removed";class YS{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function cL(n){return null!=n?n:null}(r?e.value:e),r){const u=Iy(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(s=>{null==r[s]&&(r[s]=t[s])})}}}const W0="void",QS=new YS(W0);class aL{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,wa(t,this._hostClassName)}listen(e,t,r,s){if(!this._triggers.hasOwnProperty(t))throw function aF(n,e){return new h.vHH(3302,Zt)}();if(null==r||0==r.length)throw function uF(n){return new h.vHH(3303,Zt)}();if(!function dL(n){return"start"==n||"done"==n}(r))throw function lF(n,e){return new h.vHH(3400,Zt)}();const u=To(this._elementListeners,e,[]),c={name:t,phase:r,callback:s};u.push(c);const p=To(this._engine.statesByElement,e,{});return p.hasOwnProperty(t)||(wa(e,XD),wa(e,XD+"-"+t),p[t]=QS),()=>{this._engine.afterFlush(()=>{const v=u.indexOf(c);v>=0&&u.splice(v,1),this._triggers[t]||delete p[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function cF(n){return new h.vHH(3401,Zt)}();return t}trigger(e,t,r,s=!0){const u=this._getTrigger(t),c=new JS(this.id,t,e);let p=this._engine.statesByElement.get(e);p||(wa(e,XD),wa(e,XD+"-"+t),this._engine.statesByElement.set(e,p={}));let v=p[t];const D=new YS(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&v&&D.absorbOptions(v.options),p[t]=D,v||(v=QS),D.value!==W0&&v.value===D.value){if(!function pL(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let s=0;s<t.length;s++){const u=t[s];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(v.params,D.params)){const ye=[],Pe=u.matchStyles(v.value,v.params,ye),pt=u.matchStyles(D.value,D.params,ye);ye.length?this._engine.reportError(ye):this._engine.afterFlush(()=>{Jp(e,Pe),yl(e,pt)})}return}const L=To(this._engine.playersByElement,e,[]);L.forEach(ye=>{ye.namespaceId==this.id&&ye.triggerName==t&&ye.queued&&ye.destroy()});let z=u.matchTransition(v.value,D.value,e,D.params),K=!1;if(!z){if(!s)return;z=u.fallbackTransition,K=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:z,fromState:v,toState:D,player:c,isFallbackTransition:K}),K||(wa(e,a1),c.onStart(()=>{Cy(e,a1)})),c.onDone(()=>{let ye=this.players.indexOf(c);ye>=0&&this.players.splice(ye,1);const Pe=this._engine.playersByElement.get(e);if(Pe){let pt=Pe.indexOf(c);pt>=0&&Pe.splice(pt,1)}}),this.players.push(c),L.push(c),c}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(s=>s.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,eI,!0);r.forEach(s=>{if(s[Ea])return;const u=this._engine.fetchNamespacesByElement(s);u.size?u.forEach(c=>c.triggerLeaveAnimation(s,t,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(e,t,r,s){const u=this._engine.statesByElement.get(e),c=new Map;if(u){const p=[];if(Object.keys(u).forEach(v=>{if(c.set(v,u[v].value),this._triggers[v]){const D=this.trigger(e,v,W0,s);D&&p.push(D)}}),p.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&$h(p).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const s=new Set;t.forEach(u=>{const c=u.name;if(s.has(c))return;s.add(c);const v=this._triggers[c].fallbackTransition,D=r[c]||QS,A=new YS(W0),x=new JS(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:v,fromState:D,toState:A,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let s=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(e):[];if(u&&u.length)s=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(e),s)r.markElementAsRemoved(this.id,e,!1,t);else{const u=e[Ea];(!u||u===u1)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){wa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const s=r.player;if(s.destroyed)return;const u=r.element,c=this._elementListeners.get(u);c&&c.forEach(p=>{if(p.name==r.triggerName){const v=RS(u,r.triggerName,r.fromState.value,r.toState.value);v._data=e,OS(r.player,p.phase,v,p.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):t.push(r)}),this._queue=[],t.sort((r,s)=>{const u=r.transition.ast.depCount,c=s.transition.ast.depCount;return 0==u||0==c?u-c:this._engine.driver.containsElement(r.element,s.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class uL{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,u)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new aL(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,s=this.namespacesByHostElement,u=r.length-1;if(u>=0){let c=!1;if(void 0!==this.driver.getParentElement){let p=this.driver.getParentElement(t);for(;p;){const v=s.get(p);if(v){const D=r.indexOf(v);r.splice(D+1,0,e),c=!0;break}p=this.driver.getParentElement(p)}}else for(let p=u;p>=0;p--)if(this.driver.containsElement(r[p].hostElement,t)){r.splice(p+1,0,e),c=!0;break}c||r.unshift(e)}else r.push(e);return s.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let s=this._namespaceLookup[e];s&&s.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const s=this._namespaceList.indexOf(r);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const s=Object.keys(r);for(let u=0;u<s.length;u++){const c=r[s[u]].namespaceId;if(c){const p=this._fetchNamespace(c);p&&t.add(p)}}}return t}trigger(e,t,r,s){if(fI(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,r,s),!0}return!1}insertNode(e,t,r,s){if(!fI(t))return;const u=t[Ea];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}s&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),wa(e,KS)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Cy(e,KS))}removeNode(e,t,r,s){if(fI(t)){const u=e?this._fetchNamespace(e):null;if(u?u.removeNode(t,s):this.markElementAsRemoved(e,t,!1,s),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,s)}}else this._onRemovalComplete(t,s)}markElementAsRemoved(e,t,r,s,u){this.collectedLeaveElements.push(t),t[Ea]={namespaceId:e,setForRemoval:s,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:u}}listen(e,t,r,s,u){return fI(t)?this._fetchNamespace(e).listen(t,r,s,u):()=>{}}_buildInstruction(e,t,r,s,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,s,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,eI,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,VS,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return $h(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[Ea];if(r&&r.setForRemoval){if(e[Ea]=u1,r.namespaceId){this.destroyInnerAnimations(e);const s=this._fetchNamespace(r.namespaceId);s&&s.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(KS))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,s)=>this._balanceNamespaceList(r,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)wa(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let s=0;s<r.length;s++)r[s]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?$h(t).onDone(()=>{r.forEach(s=>s())}):r.forEach(s=>s())}}reportError(e){throw function dF(n){return new h.vHH(3402,Zt)}()}_flushAnimations(e,t){const r=new cI,s=[],u=new Map,c=[],p=new Map,v=new Map,D=new Map,A=new Set;this.disabledNodes.forEach(ot=>{A.add(ot);const It=this.driver.query(ot,".ng-animate-queued",!0);for(let Ot=0;Ot<It.length;Ot++)A.add(It[Ot])});const x=this.bodyNode,L=Array.from(this.statesByElement.keys()),z=d1(L,this.collectedEnterElements),K=new Map;let ye=0;z.forEach((ot,It)=>{const Ot=LS+ye++;K.set(It,Ot),ot.forEach(Xt=>wa(Xt,Ot))});const Pe=[],pt=new Set,mt=new Set;for(let ot=0;ot<this.collectedLeaveElements.length;ot++){const It=this.collectedLeaveElements[ot],Ot=It[Ea];Ot&&Ot.setForRemoval&&(Pe.push(It),pt.add(It),Ot.hasAnimation?this.driver.query(It,".ng-star-inserted",!0).forEach(Xt=>pt.add(Xt)):mt.add(It))}const Dt=new Map,ut=d1(L,Array.from(pt));ut.forEach((ot,It)=>{const Ot=JD+ye++;Dt.set(It,Ot),ot.forEach(Xt=>wa(Xt,Ot))}),e.push(()=>{z.forEach((ot,It)=>{const Ot=K.get(It);ot.forEach(Xt=>Cy(Xt,Ot))}),ut.forEach((ot,It)=>{const Ot=Dt.get(It);ot.forEach(Xt=>Cy(Xt,Ot))}),Pe.forEach(ot=>{this.processLeaveNode(ot)})});const kt=[],Ut=[];for(let ot=this._namespaceList.length-1;ot>=0;ot--)this._namespaceList[ot].drainQueuedTransitions(t).forEach(Ot=>{const Xt=Ot.player,_i=Ot.element;if(kt.push(Xt),this.collectedEnterElements.length){const ms=_i[Ea];if(ms&&ms.setForMove){if(ms.previousTriggersValues&&ms.previousTriggersValues.has(Ot.triggerName)){const tg=ms.previousTriggersValues.get(Ot.triggerName),qh=this.statesByElement.get(Ot.element);qh&&qh[Ot.triggerName]&&(qh[Ot.triggerName].value=tg)}return void Xt.destroy()}}const _l=!x||!this.driver.containsElement(x,_i),Ao=Dt.get(_i),Gh=K.get(_i),ir=this._buildInstruction(Ot,r,Gh,Ao,_l);if(ir.errors&&ir.errors.length)return void Ut.push(ir);if(_l)return Xt.onStart(()=>Jp(_i,ir.fromStyles)),Xt.onDestroy(()=>yl(_i,ir.toStyles)),void s.push(Xt);if(Ot.isFallbackTransition)return Xt.onStart(()=>Jp(_i,ir.fromStyles)),Xt.onDestroy(()=>yl(_i,ir.toStyles)),void s.push(Xt);const I1=[];ir.timelines.forEach(ms=>{ms.stretchStartingKeyframe=!0,this.disabledNodes.has(ms.element)||I1.push(ms)}),ir.timelines=I1,r.append(_i,ir.timelines),c.push({instruction:ir,player:Xt,element:_i}),ir.queriedElements.forEach(ms=>To(p,ms,[]).push(Xt)),ir.preStyleProps.forEach((ms,tg)=>{const qh=Object.keys(ms);if(qh.length){let ng=v.get(tg);ng||v.set(tg,ng=new Set),qh.forEach(tA=>ng.add(tA))}}),ir.postStyleProps.forEach((ms,tg)=>{const qh=Object.keys(ms);let ng=D.get(tg);ng||D.set(tg,ng=new Set),qh.forEach(tA=>ng.add(tA))})});if(Ut.length){const ot=[];Ut.forEach(It=>{ot.push(function hF(n,e){return new h.vHH(3505,Zt)}())}),kt.forEach(It=>It.destroy()),this.reportError(ot)}const sn=new Map,gs=new Map;c.forEach(ot=>{const It=ot.element;r.has(It)&&(gs.set(It,It),this._beforeAnimationBuild(ot.player.namespaceId,ot.instruction,sn))}),s.forEach(ot=>{const It=ot.element;this._getPreviousPlayers(It,!1,ot.namespaceId,ot.triggerName,null).forEach(Xt=>{To(sn,It,[]).push(Xt),Xt.destroy()})});const Zc=Pe.filter(ot=>f1(ot,v,D)),Kc=new Map;c1(Kc,this.driver,mt,D,Wc).forEach(ot=>{f1(ot,v,D)&&Zc.push(ot)});const Z0=new Map;z.forEach((ot,It)=>{c1(Z0,this.driver,new Set(ot),v,"!")}),Zc.forEach(ot=>{const It=Kc.get(ot),Ot=Z0.get(ot);Kc.set(ot,Object.assign(Object.assign({},It),Ot))});const eg=[],b1=[],D1={};c.forEach(ot=>{const{element:It,player:Ot,instruction:Xt}=ot;if(r.has(It)){if(A.has(It))return Ot.onDestroy(()=>yl(It,Xt.toStyles)),Ot.disabled=!0,Ot.overrideTotalTime(Xt.totalTime),void s.push(Ot);let _i=D1;if(gs.size>1){let Ao=It;const Gh=[];for(;Ao=Ao.parentNode;){const ir=gs.get(Ao);if(ir){_i=ir;break}Gh.push(Ao)}Gh.forEach(ir=>gs.set(ir,_i))}const _l=this._buildAnimation(Ot.namespaceId,Xt,sn,u,Z0,Kc);if(Ot.setRealPlayer(_l),_i===D1)eg.push(Ot);else{const Ao=this.playersByElement.get(_i);Ao&&Ao.length&&(Ot.parentPlayer=$h(Ao)),s.push(Ot)}}else Jp(It,Xt.fromStyles),Ot.onDestroy(()=>yl(It,Xt.toStyles)),b1.push(Ot),A.has(It)&&s.push(Ot)}),b1.forEach(ot=>{const It=u.get(ot.element);if(It&&It.length){const Ot=$h(It);ot.setRealPlayer(Ot)}}),s.forEach(ot=>{ot.parentPlayer?ot.syncPlayerEvents(ot.parentPlayer):ot.destroy()});for(let ot=0;ot<Pe.length;ot++){const It=Pe[ot],Ot=It[Ea];if(Cy(It,JD),Ot&&Ot.hasAnimation)continue;let Xt=[];if(p.size){let _l=p.get(It);_l&&_l.length&&Xt.push(..._l);let Ao=this.driver.query(It,VS,!0);for(let Gh=0;Gh<Ao.length;Gh++){let ir=p.get(Ao[Gh]);ir&&ir.length&&Xt.push(...ir)}}const _i=Xt.filter(_l=>!_l.destroyed);_i.length?hL(this,It,_i):this.processLeaveNode(It)}return Pe.length=0,eg.forEach(ot=>{this.players.push(ot),ot.onDone(()=>{ot.destroy();const It=this.players.indexOf(ot);this.players.splice(It,1)}),ot.play()}),eg}elementContainsData(e,t){let r=!1;const s=t[Ea];return s&&s.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,s,u){let c=[];if(t){const p=this.playersByQueriedElement.get(e);p&&(c=p)}else{const p=this.playersByElement.get(e);if(p){const v=!u||u==W0;p.forEach(D=>{D.queued||!v&&D.triggerName!=s||c.push(D)})}}return(r||s)&&(c=c.filter(p=>!(r&&r!=p.namespaceId||s&&s!=p.triggerName))),c}_beforeAnimationBuild(e,t,r){const u=t.element,c=t.isRemovalTransition?void 0:e,p=t.isRemovalTransition?void 0:t.triggerName;for(const v of t.timelines){const D=v.element,A=D!==u,x=To(r,D,[]);this._getPreviousPlayers(D,A,c,p,t.toState).forEach(z=>{const K=z.getRealPlayer();K.beforeDestroy&&K.beforeDestroy(),z.destroy(),x.push(z)})}Jp(u,t.fromStyles)}_buildAnimation(e,t,r,s,u,c){const p=t.triggerName,v=t.element,D=[],A=new Set,x=new Set,L=t.timelines.map(K=>{const ye=K.element;A.add(ye);const Pe=ye[Ea];if(Pe&&Pe.removedBeforeQueried)return new q0(K.duration,K.delay);const pt=ye!==v,mt=function fL(n){const e=[];return h1(n,e),e}((r.get(ye)||sL).map(sn=>sn.getRealPlayer())).filter(sn=>!!sn.element&&sn.element===ye),Dt=u.get(ye),ut=c.get(ye),kt=VO(0,this._normalizer,0,K.keyframes,Dt,ut),Ut=this._buildPlayer(K,kt,mt);if(K.subTimeline&&s&&x.add(ye),pt){const sn=new JS(e,p,ye);sn.setRealPlayer(Ut),D.push(sn)}return Ut});D.forEach(K=>{To(this.playersByQueriedElement,K.element,[]).push(K),K.onDone(()=>function lL(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const s=r.indexOf(t);r.splice(s,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const s=r.indexOf(t);r.splice(s,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,K.element,K))}),A.forEach(K=>wa(K,ZO));const z=$h(L);return z.onDestroy(()=>{A.forEach(K=>Cy(K,ZO)),yl(v,t.toStyles)}),x.forEach(K=>{To(s,K,[]).push(z)}),z}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new q0(e.duration,e.delay)}}class JS{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new q0,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>OS(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){To(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function fI(n){return n&&1===n.nodeType}function l1(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function c1(n,e,t,r,s){const u=[];t.forEach(v=>u.push(l1(v)));const c=[];r.forEach((v,D)=>{const A={};v.forEach(x=>{const L=A[x]=e.computeStyle(D,x,s);(!L||0==L.length)&&(D[Ea]=oL,c.push(D))}),n.set(D,A)});let p=0;return t.forEach(v=>l1(v,u[p++])),c}function d1(n,e){const t=new Map;if(n.forEach(p=>t.set(p,[])),0==e.length)return t;const s=new Set(e),u=new Map;function c(p){if(!p)return 1;let v=u.get(p);if(v)return v;const D=p.parentNode;return v=t.has(D)?D:s.has(D)?1:c(D),u.set(p,v),v}return e.forEach(p=>{const v=c(p);1!==v&&t.get(v).push(p)}),t}function wa(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Cy(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function hL(n,e,t){$h(t).onDone(()=>n.processLeaveNode(e))}function h1(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof FO?h1(r.players,e):e.push(r)}}function f1(n,e,t){const r=t.get(n);if(!r)return!1;let s=e.get(n);return s?r.forEach(u=>s.add(u)):e.set(n,r),t.delete(n),!0}class pI{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(s,u)=>{},this._transitionEngine=new uL(e,t,r),this._timelineEngine=new eL(e,t,r),this._transitionEngine.onRemovalComplete=(s,u)=>this.onRemovalComplete(s,u)}registerTrigger(e,t,r,s,u){const c=e+"-"+s;let p=this._triggerCache[c];if(!p){const v=[],A=$S(this._driver,u,v,[]);if(v.length)throw function tF(n,e){return new h.vHH(3404,Zt)}();p=function YF(n,e,t){return new QF(n,e,t)}(s,A,this._normalizer),this._triggerCache[c]=p}this._transitionEngine.registerTrigger(t,s,p)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,s){this._transitionEngine.insertNode(e,t,r,s)}onRemove(e,t,r,s){this._transitionEngine.removeNode(e,t,s||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,s){if("@"==r.charAt(0)){const[u,c]=UO(r);this._timelineEngine.command(u,t,c,s)}else this._transitionEngine.trigger(e,t,r,s)}listen(e,t,r,s,u){if("@"==r.charAt(0)){const[c,p]=UO(r);return this._timelineEngine.listen(c,t,p,u)}return this._transitionEngine.listen(e,t,r,s,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let mL=(()=>{class n{constructor(t,r,s){this._element=t,this._startStyles=r,this._endStyles=s,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u={}),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&yl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(yl(this._element,this._initialStyles),this._endStyles&&(yl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Jp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Jp(this._element,this._endStyles),this._endStyles=null),yl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function XS(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const s=t[r];yL(s)&&(e=e||{},e[s]=n[s])}return e}function yL(n){return"display"===n||"position"===n}class p1{constructor(e,t,r,s){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:XO(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class _L{validateStyleProperty(e){return HO(e)}matchesElement(e,t){return!1}containsElement(e,t){return GO(e,t)}getParentElement(e){return kS(e)}query(e,t,r){return qO(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,s,u,c=[]){const v={duration:r,delay:s,fill:0==s?"both":"forwards"};u&&(v.easing=u);const D={},A=c.filter(L=>L instanceof p1);(function bF(n,e){return 0===n||0===e})(r,s)&&A.forEach(L=>{let z=L.currentSnapshot;Object.keys(z).forEach(K=>D[K]=z[K])}),t=function DF(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let u=e[0],c=[];if(r.forEach(p=>{u.hasOwnProperty(p)||c.push(p),u[p]=t[p]}),c.length)for(var s=1;s<e.length;s++){let p=e[s];c.forEach(function(v){p[v]=XO(n,v)})}}return e}(e,t=t.map(L=>Hh(L,!1)),D);const x=function gL(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=XS(e[0]),e.length>1&&(r=XS(e[e.length-1]))):e&&(t=XS(e)),t||r?new mL(n,t,r):null}(e,t);return new p1(e,t,v,x)}}let vL=(()=>{class n extends NO{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(t)?RO(t):t;return g1(this._renderer,null,r,"register",[s]),new EL(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(ue))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class EL extends class Rk{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new wL(this._id,e,t||{},this._renderer)}}class wL{constructor(e,t,r,s){this.id=e,this.element=t,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return g1(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function g1(n,e,t,r,s){return n.setProperty(e,`@@${t}:${r}`,s)}const m1="@.disabled";let bL=(()=>{class n{constructor(t,r,s){this.delegate=t,this.engine=r,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(u,c)=>{const p=null==c?void 0:c.parentNode(u);p&&c.removeChild(p,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let A=this._rendererCache.get(u);return A||(A=new y1("",u,this.engine),this._rendererCache.set(u,A)),A}const c=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);const v=A=>{Array.isArray(A)?A.forEach(v):this.engine.registerTrigger(c,p,t,A.name,A)};return r.data.animation.forEach(v),new DL(this,p,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,s){t>=0&&t<this._microtaskId?this._zone.run(()=>r(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[c,p]=u;c(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(pI),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class y1{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,s=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,s)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,s){this.delegate.setAttribute(e,t,r,s)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,s){this.delegate.setStyle(e,t,r,s)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==m1?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class DL extends y1{constructor(e,t,r,s){super(t,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==m1?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const s=function IL(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.substr(1),c="";return"@"!=u.charAt(0)&&([u,c]=function CL(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(u)),this.engine.listen(this.namespaceId,s,u,c,p=>{this.factory.scheduleListenerCallback(p._data||-1,r,p)})}return this.delegate.listen(e,t,r)}}let TL=(()=>{class n extends pI{constructor(t,r,s){super(t.body,r,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ue),h.LFG(FS),h.LFG(WS))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const _1=new h.OlP("AnimationModuleType"),v1=[{provide:NO,useClass:vL},{provide:WS,useFactory:function SL(){return new qF}},{provide:pI,useClass:TL},{provide:h.FYo,useFactory:function AL(n,e,t){return new bL(n,e,t)},deps:[hn,pI,h.R0b]}],E1=[{provide:FS,useFactory:()=>new _L},{provide:_1,useValue:"BrowserAnimations"},...v1],ML=[{provide:FS,useClass:zO},{provide:_1,useValue:"NoopAnimations"},...v1];let xL=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?ML:E1}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:E1,imports:[Bo]}),n})(),OL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[],imports:[[dn,Jn]]}),n})(),eA=(()=>{class n{constructor(){this._subject=new Mr({})}setState(t){return et(this._subject.next(t)).pipe((0,St.U)(()=>{}))}select(){return this._subject.asObservable().pipe(xr(t=>t!=={}))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),NL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[eA,{provide:nS,useExisting:eA},{provide:IO,useExisting:eA}],imports:[[]]}),n})(),RL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[Sk]}),n.\u0275inj=h.cJS({providers:[],imports:[[Bo,Jn,DO,Ck,OL,OO,tx,ss.hO.initializeApp(MO_firebase),xL,XT,NL]]}),n})();(0,h.G48)(),xu().bootstrapModule(RL).catch(n=>console.error(n))},5867:(Xe,we,R)=>{R.d(we,{Mq:()=>h.getApp,C6:()=>h.getApps,KN:()=>h.registerVersion});var h=R(9681);(0,h.registerVersion)("firebase","9.8.1","app")},127:(Xe,we,R)=>{R.d(we,{Z:()=>h.Z});var h=R(3942);h.Z.registerVersion("firebase","9.8.1","app-compat")},7092:(Xe,we,R)=>{R.r(we);var h=R(5861),X=R(3942),P=R(2090),ae=R(9681),re=R(655),pe=R(1877),ue=R(4859);const Ne=function qe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ue=function Me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},he=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ze=new pe.Yd("@firebase/auth");function Ye(y,...f){ze.logLevel<=pe.in.ERROR&&ze.error(`Auth (${ae.SDK_VERSION}): ${y}`,...f)}function Te(y,...f){throw je(y,...f)}function Ee(y,...f){return je(y,...f)}function De(y,f,m){const E=Object.assign(Object.assign({},Ue()),{[f]:m});return new P.LL("auth","Firebase",E).create(f,{appName:y.name})}function $e(y,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Te(y,"argument-error"),De(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function je(y,...f){if("string"!=typeof y){const m=f[0],E=[...f.slice(1)];return E[0]&&(E[0].appName=y.name),y._errorFactory.create(m,...E)}return he.create(y,...f)}function j(y,f,...m){if(!y)throw je(f,...m)}function ve(y){const f="INTERNAL ASSERTION FAILED: "+y;throw Ye(f),new Error(f)}function Z(y,f){y||ve(f)}const ie=new Map;function ee(y){Z(y instanceof Function,"Expected a class definition");let f=ie.get(y);return f?(Z(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,ie.set(y,f),f)}function Re(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function lt(){return"http:"===Ht()||"https:"===Ht()}function Ht(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Qt{constructor(f,m){this.shortDelay=f,this.longDelay=m,Z(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function Bt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(lt()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mn(y,f){Z(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class en{static initialize(f,m,E){this.fetchImpl=f,m&&(this.headersImpl=m),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ve("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ve("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ve("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Kt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Dr=new Qt(3e4,6e4);function zt(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function Vt(y,f,m,E){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,h.Z)(function*(y,f,m,E,S={}){return Yr(y,S,(0,h.Z)(function*(){let N={},W={};E&&("GET"===f?W=E:N={body:JSON.stringify(E)});const fe=(0,P.xO)(Object.assign({key:y.config.apiKey},W)).slice(1),Le=yield y._getAdditionalHeaders();return Le["Content-Type"]="application/json",y.languageCode&&(Le["X-Firebase-Locale"]=y.languageCode),en.fetch()(ys(y,y.config.apiHost,m,fe),Object.assign({method:f,headers:Le,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function Yr(y,f,m){return pr.apply(this,arguments)}function pr(){return(pr=(0,h.Z)(function*(y,f,m){y._canInitEmulator=!1;const E=Object.assign(Object.assign({},Kt),f);try{const S=new Qr(y),N=yield Promise.race([m(),S.promise]);S.clearNetworkTimeout();const W=yield N.json();if("needConfirmation"in W)throw Si(y,"account-exists-with-different-credential",W);if(N.ok&&!("errorMessage"in W))return W;{const fe=N.ok?W.errorMessage:W.error.message,[Le,Ze]=fe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Le)throw Si(y,"credential-already-in-use",W);if("EMAIL_EXISTS"===Le)throw Si(y,"email-already-in-use",W);const _t=E[Le]||Le.toLowerCase().replace(/[_\s]+/g,"-");if(Ze)throw De(y,_t,Ze);Te(y,_t)}}catch(S){if(S instanceof P.ZR)throw S;Te(y,"network-request-failed")}})).apply(this,arguments)}function Ir(y,f,m,E){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,h.Z)(function*(y,f,m,E,S={}){const N=yield Vt(y,f,m,E,S);return"mfaPendingCredential"in N&&Te(y,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function ys(y,f,m,E){const S=`${f}${m}?${E}`;return y.config.emulator?Mn(y.config,S):`${y.config.apiScheme}://${S}`}class Qr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,E)=>{this.timer=setTimeout(()=>E(Ee(this.auth,"network-request-failed")),Dr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Si(y,f,m){const E={appName:y.name};m.email&&(E.email=m.email),m.phoneNumber&&(E.phoneNumber=m.phoneNumber);const S=Ee(y,f,E);return S.customData._tokenResponse=m,S}function Jr(){return(Jr=(0,h.Z)(function*(y,f){return Vt(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function In(y,f){return xn.apply(this,arguments)}function xn(){return(xn=(0,h.Z)(function*(y,f){return Vt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function qs(y,f){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,h.Z)(function*(y,f){return Vt(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Wn(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function Mo(){return(Mo=(0,h.Z)(function*(y,f=!1){const m=(0,P.m9)(y),E=yield m.getIdToken(f),S=it(E);j(S&&S.exp&&S.auth_time&&S.iat,m.auth,"internal-error");const N="object"==typeof S.firebase?S.firebase:void 0,W=null==N?void 0:N.sign_in_provider;return{claims:S,token:E,authTime:Wn(Gt(S.auth_time)),issuedAtTime:Wn(Gt(S.iat)),expirationTime:Wn(Gt(S.exp)),signInProvider:W||null,signInSecondFactor:(null==N?void 0:N.sign_in_second_factor)||null}})).apply(this,arguments)}function Gt(y){return 1e3*Number(y)}function it(y){const[f,m,E]=y.split(".");if(void 0===f||void 0===m||void 0===E)return Ye("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,P.tV)(m);return S?JSON.parse(S):(Ye("Failed to decode base64 JWT payload"),null)}catch(S){return Ye("Caught error parsing JWT payload as JSON",S),null}}function gr(y,f){return ei.apply(this,arguments)}function ei(){return(ei=(0,h.Z)(function*(y,f,m=!1){if(m)return f;try{return yield f}catch(E){throw E instanceof P.ZR&&jt(E)&&y.auth.currentUser===y&&(yield y.auth.signOut()),E}})).apply(this,arguments)}function jt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class zs{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const S=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const E=this.getInterval(f);this.timerId=setTimeout((0,h.Z)(function*(){yield m.iteration()}),E)}iteration(){var f=this;return(0,h.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&f.schedule(!0))}f.schedule()})()}}class mr{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wn(this.lastLoginAt),this.creationTime=Wn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function yr(y){return V.apply(this,arguments)}function V(){return(V=(0,h.Z)(function*(y){var f;const m=y.auth,E=yield y.getIdToken(),S=yield gr(y,qs(m,{idToken:E}));j(null==S?void 0:S.users.length,m,"internal-error");const N=S.users[0];y._notifyReloadListener(N);const W=(null===(f=N.providerUserInfo)||void 0===f?void 0:f.length)?H(N.providerUserInfo):[],fe=Ie(y.providerData,W),_t=!!y.isAnonymous&&!(y.email&&N.passwordHash||(null==fe?void 0:fe.length)),ct={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:fe,metadata:new mr(N.createdAt,N.lastLoginAt),isAnonymous:_t};Object.assign(y,ct)})).apply(this,arguments)}function q(){return(q=(0,h.Z)(function*(y){const f=(0,P.m9)(y);yield yr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Ie(y,f){return[...y.filter(E=>!f.some(S=>S.providerId===E.providerId)),...f]}function H(y){return y.map(f=>{var{providerId:m}=f,E=(0,re._T)(f,["providerId"]);return{providerId:m,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Oe(){return(Oe=(0,h.Z)(function*(y,f){const m=yield Yr(y,{},(0,h.Z)(function*(){const E=(0,P.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:S,apiKey:N}=y.config,W=ys(y,S,"/v1/token",`key=${N}`),fe=yield y._getAdditionalHeaders();return fe["Content-Type"]="application/x-www-form-urlencoded",en.fetch()(W,{method:"POST",headers:fe,body:E})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Je{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){j(f.idToken,"internal-error"),j(void 0!==f.idToken,"internal-error"),j(void 0!==f.refreshToken,"internal-error");const m="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function vt(y){const f=it(y);return j(f,"internal-error"),j(void 0!==f.exp,"internal-error"),j(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var E=this;return(0,h.Z)(function*(){return j(!E.accessToken||E.refreshToken,f,"user-token-expired"),m||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(f,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var E=this;return(0,h.Z)(function*(){const{accessToken:S,refreshToken:N,expiresIn:W}=yield function J(y,f){return Oe.apply(this,arguments)}(f,m);E.updateTokensAndExpiration(S,N,Number(W))})()}updateTokensAndExpiration(f,m,E){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(f,m){const{refreshToken:E,accessToken:S,expirationTime:N}=m,W=new Je;return E&&(j("string"==typeof E,"internal-error",{appName:f}),W.refreshToken=E),S&&(j("string"==typeof S,"internal-error",{appName:f}),W.accessToken=S),N&&(j("number"==typeof N,"internal-error",{appName:f}),W.expirationTime=N),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Je,this.toJSON())}_performRefresh(){return ve("not implemented")}}function ht(y,f){j("string"==typeof y||void 0===y,"internal-error",{appName:f})}class Ct{constructor(f){var{uid:m,auth:E,stsTokenManager:S}=f,N=(0,re._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=E,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new mr(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,h.Z)(function*(){const E=yield gr(m,m.stsTokenManager.getToken(m.auth,f));return j(E,m.auth,"internal-error"),m.accessToken!==E&&(m.accessToken=E,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),E})()}getIdTokenResult(f){return function vi(y){return Mo.apply(this,arguments)}(this,f)}reload(){return function G(y){return q.apply(this,arguments)}(this)}_assign(f){this!==f&&(j(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new Ct(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var E=this;return(0,h.Z)(function*(){let S=!1;f.idToken&&f.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(f),S=!0),m&&(yield yr(E)),yield E.auth._persistUserIfCurrent(E),S&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var f=this;return(0,h.Z)(function*(){const m=yield f.getIdToken();return yield gr(f,function yt(y,f){return Jr.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var E,S,N,W,fe,Le,Ze,_t;const ct=null!==(E=m.displayName)&&void 0!==E?E:void 0,Sn=null!==(S=m.email)&&void 0!==S?S:void 0,fi=null!==(N=m.phoneNumber)&&void 0!==N?N:void 0,Zl=null!==(W=m.photoURL)&&void 0!==W?W:void 0,Qy=null!==(fe=m.tenantId)&&void 0!==fe?fe:void 0,oa=null!==(Le=m._redirectEventId)&&void 0!==Le?Le:void 0,Rd=null!==(Ze=m.createdAt)&&void 0!==Ze?Ze:void 0,Pd=null!==(_t=m.lastLoginAt)&&void 0!==_t?_t:void 0,{uid:yf,emailVerified:kd,isAnonymous:Nr,providerData:_f,stsTokenManager:vf}=m;j(yf&&vf,f,"internal-error");const aa=Je.fromJSON(this.name,vf);j("string"==typeof yf,f,"internal-error"),ht(ct,f.name),ht(Sn,f.name),j("boolean"==typeof kd,f,"internal-error"),j("boolean"==typeof Nr,f,"internal-error"),ht(fi,f.name),ht(Zl,f.name),ht(Qy,f.name),ht(oa,f.name),ht(Rd,f.name),ht(Pd,f.name);const Kl=new Ct({uid:yf,auth:f,email:Sn,emailVerified:kd,displayName:ct,isAnonymous:Nr,photoURL:Zl,phoneNumber:fi,tenantId:Qy,stsTokenManager:aa,createdAt:Rd,lastLoginAt:Pd});return _f&&Array.isArray(_f)&&(Kl.providerData=_f.map(Ju=>Object.assign({},Ju))),oa&&(Kl._redirectEventId=oa),Kl}static _fromIdTokenResponse(f,m,E=!1){return(0,h.Z)(function*(){const S=new Je;S.updateFromServerResponse(m);const N=new Ct({uid:m.localId,auth:f,stsTokenManager:S,isAnonymous:E});return yield yr(N),N})()}}const Et=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(m,E){var S=this;return(0,h.Z)(function*(){S.storage[m]=E})()}_get(m){var E=this;return(0,h.Z)(function*(){const S=E.storage[m];return void 0===S?null:S})()}_remove(m){var E=this;return(0,h.Z)(function*(){delete E.storage[m]})()}_addListener(m,E){}_removeListener(m,E){}}return y.type="NONE",y})();function $n(y,f,m){return`firebase:${y}:${f}:${m}`}class Cr{constructor(f,m,E){this.persistence=f,this.auth=m,this.userKey=E;const{config:S,name:N}=this.auth;this.fullUserKey=$n(this.userKey,S.apiKey,N),this.fullPersistenceKey=$n("persistence",S.apiKey,N),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,h.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?Ct._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,h.Z)(function*(){if(m.persistence===f)return;const E=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,E?m.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,E="authUser"){return(0,h.Z)(function*(){if(!m.length)return new Cr(ee(Et),f,E);const S=(yield Promise.all(m.map(function(){var Ze=(0,h.Z)(function*(_t){if(yield _t._isAvailable())return _t});return function(_t){return Ze.apply(this,arguments)}}()))).filter(Ze=>Ze);let N=S[0]||ee(Et);const W=$n(E,f.config.apiKey,f.name);let fe=null;for(const Ze of m)try{const _t=yield Ze._get(W);if(_t){const ct=Ct._fromJSON(f,_t);Ze!==N&&(fe=ct),N=Ze;break}}catch(_t){}const Le=S.filter(Ze=>Ze._shouldAllowMigration);return N._shouldAllowMigration&&Le.length?(N=Le[0],fe&&(yield N._set(W,fe.toJSON())),yield Promise.all(m.map(function(){var Ze=(0,h.Z)(function*(_t){if(_t!==N)try{yield _t._remove(W)}catch(ct){}});return function(_t){return Ze.apply(this,arguments)}}())),new Cr(N,f,E)):new Cr(N,f,E)})()}}function vu(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Hn(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(ba(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Zi(f))return"Blackberry";if(Gn(f))return"Webos";if(Eu(f))return"Safari";if((f.includes("chrome/")||Da(f))&&!f.includes("edge/"))return"Chrome";if(Tr(f))return"Android";{const E=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function ba(y=(0,P.z$)()){return/firefox\//i.test(y)}function Eu(y=(0,P.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Da(y=(0,P.z$)()){return/crios\//i.test(y)}function Hn(y=(0,P.z$)()){return/iemobile/i.test(y)}function Tr(y=(0,P.z$)()){return/android/i.test(y)}function Zi(y=(0,P.z$)()){return/blackberry/i.test(y)}function Gn(y=(0,P.z$)()){return/webos/i.test(y)}function Br(y=(0,P.z$)()){return/iphone|ipad|ipod/i.test(y)}function _s(y=(0,P.z$)()){return Br(y)||Tr(y)||Gn(y)||Zi(y)||/windows phone/i.test(y)||Hn(y)}function xo(y,f=[]){let m;switch(y){case"Browser":m=vu((0,P.z$)());break;case"Worker":m=`${vu((0,P.z$)())}-${y}`;break;default:m=y}const E=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${ae.SDK_VERSION}/${E}`}class jr{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const E=N=>new Promise((W,fe)=>{try{W(f(N))}catch(Le){fe(Le)}});E.onAbort=m,this.queue.push(E);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,h.Z)(function*(){if(m.auth.currentUser===f)return;const E=[];try{for(const S of m.queue)yield S(f),S.onAbort&&E.push(S.onAbort)}catch(S){E.reverse();for(const N of E)try{N()}catch(W){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:S.message})}})()}}class We{constructor(f,m,E){this.app=f,this.heartbeatServiceProvider=m,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jt(this),this.idTokenSubscription=new Jt(this),this.beforeStateQueue=new jr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=he,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(f,m){var E=this;return m&&(this._popupRedirectResolver=ee(m)),this._initializationPromise=this.queue((0,h.Z)(function*(){var S,N;if(!E._deleted&&(E.persistenceManager=yield Cr.create(E,f),!E._deleted)){if(null===(S=E._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch(W){}yield E.initializeCurrentUser(m),E.lastNotifiedUid=(null===(N=E.currentUser)||void 0===N?void 0:N.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,h.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,h.Z)(function*(){var E;const S=yield m.assertedPersistence.getCurrentUser();let N=S,W=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const fe=null===(E=m.redirectUser)||void 0===E?void 0:E._redirectEventId,Le=null==N?void 0:N._redirectEventId,Ze=yield m.tryRedirectSignIn(f);(!fe||fe===Le)&&(null==Ze?void 0:Ze.user)&&(N=Ze.user,W=!0)}if(!N)return m.directlySetCurrentUser(null);if(!N._redirectEventId){if(W)try{yield m.beforeStateQueue.runMiddleware(N)}catch(fe){N=S,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(fe))}return N?m.reloadAndSetCurrentUserOrClear(N):m.directlySetCurrentUser(null)}return j(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===N._redirectEventId?m.directlySetCurrentUser(N):m.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(f){var m=this;return(0,h.Z)(function*(){let E=null;try{E=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch(S){yield m._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,h.Z)(function*(){try{yield yr(f)}catch(E){if("auth/network-request-failed"!==E.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Qe(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,h.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,h.Z)(function*(){const E=f?(0,P.m9)(f):null;return E&&j(E.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(E&&E._clone(m))})()}_updateCurrentUser(f,m=!1){var E=this;return(0,h.Z)(function*(){if(!E._deleted)return f&&j(E.tenantId===f.tenantId,E,"tenant-id-mismatch"),m||(yield E.beforeStateQueue.runMiddleware(f)),E.queue((0,h.Z)(function*(){yield E.directlySetCurrentUser(f),E.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,h.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,h.Z)(function*(){yield m.assertedPersistence.setPersistence(ee(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new P.LL("auth","Firebase",f())}onAuthStateChanged(f,m,E){return this.registerStateListener(this.authStateSubscription,f,m,E)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,E){return this.registerStateListener(this.idTokenSubscription,f,m,E)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var E=this;return(0,h.Z)(function*(){const S=yield E.getOrInitRedirectPersistenceManager(m);return null===f?S.removeCurrentUser():S.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,h.Z)(function*(){if(!m.redirectPersistenceManager){const E=f&&ee(f)||m._popupRedirectResolver;j(E,m,"argument-error"),m.redirectPersistenceManager=yield Cr.create(m,[ee(E._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,h.Z)(function*(){var E,S;return m._isInitialized&&(yield m.queue((0,h.Z)(function*(){}))),(null===(E=m._currentUser)||void 0===E?void 0:E._redirectEventId)===f?m._currentUser:(null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,h.Z)(function*(){if(f===m.currentUser)return m.queue((0,h.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,E,S){if(this._deleted)return()=>{};const N="function"==typeof m?m:m.next.bind(m),W=this._isInitialized?Promise.resolve():this._initializationPromise;return j(W,this,"internal-error"),W.then(()=>N(this.currentUser)),"function"==typeof m?f.addObserver(m,E,S):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,h.Z)(function*(){m.currentUser&&m.currentUser!==f&&(m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh()),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=xo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,h.Z)(function*(){var m;const E={"X-Client-Version":f.clientVersion};f.app.options.appId&&(E["X-Firebase-gmpid"]=f.app.options.appId);const S=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return S&&(E["X-Firebase-Client"]=S),E})()}}function at(y){return(0,P.m9)(y)}class Jt{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,P.ne)(m=>this.observer=m)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ai(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function Mi(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class Ei{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return ve("not implemented")}_getIdTokenResponse(f){return ve("not implemented")}_linkToIdToken(f,m){return ve("not implemented")}_getReauthenticationResolver(f){return ve("not implemented")}}function On(y,f){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,h.Z)(function*(y,f){return Vt(y,"POST","/v1/accounts:resetPassword",zt(y,f))})).apply(this,arguments)}function Ca(y,f){return vs.apply(this,arguments)}function vs(){return(vs=(0,h.Z)(function*(y,f){return Vt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function wu(y,f){return Es.apply(this,arguments)}function Es(){return(Es=(0,h.Z)(function*(y,f){return Vt(y,"POST","/v1/accounts:update",zt(y,f))})).apply(this,arguments)}function Zs(){return(Zs=(0,h.Z)(function*(y,f){return Ir(y,"POST","/v1/accounts:signInWithPassword",zt(y,f))})).apply(this,arguments)}function ws(y,f){return qn.apply(this,arguments)}function qn(){return(qn=(0,h.Z)(function*(y,f){return Vt(y,"POST","/v1/accounts:sendOobCode",zt(y,f))})).apply(this,arguments)}function tn(y,f){return bu.apply(this,arguments)}function bu(){return(bu=(0,h.Z)(function*(y,f){return ws(y,f)})).apply(this,arguments)}function Ta(y,f){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,h.Z)(function*(y,f){return ws(y,f)})).apply(this,arguments)}function xi(y,f){return Du.apply(this,arguments)}function Du(){return(Du=(0,h.Z)(function*(y,f){return ws(y,f)})).apply(this,arguments)}function Qc(y,f){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,h.Z)(function*(y,f){return ws(y,f)})).apply(this,arguments)}function vl(){return(vl=(0,h.Z)(function*(y,f){return Ir(y,"POST","/v1/accounts:signInWithEmailLink",zt(y,f))})).apply(this,arguments)}function Jc(){return(Jc=(0,h.Z)(function*(y,f){return Ir(y,"POST","/v1/accounts:signInWithEmailLink",zt(y,f))})).apply(this,arguments)}class _r extends Ei{constructor(f,m,E,S=null){super("password",E),this._email=f,this._password=m,this._tenantId=S}static _fromEmailAndPassword(f,m){return new _r(f,m,"password")}static _fromEmailAndCode(f,m,E=null){return new _r(f,m,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,h.Z)(function*(){switch(m.signInMethod){case"password":return function Nn(y,f){return Zs.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Ni(y,f){return vl.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Te(f,"internal-error")}})()}_linkToIdToken(f,m){var E=this;return(0,h.Z)(function*(){switch(E.signInMethod){case"password":return Ca(f,{idToken:m,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function rg(y,f){return Jc.apply(this,arguments)}(f,{idToken:m,email:E._email,oobCode:E._password});default:Te(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function bs(y,f){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,h.Z)(function*(y,f){return Ir(y,"POST","/v1/accounts:signInWithIdp",zt(y,f))})).apply(this,arguments)}class Ki extends Ei{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new Ki(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Te("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:S}=m,N=(0,re._T)(m,["providerId","signInMethod"]);if(!E||!S)return null;const W=new Ki(E,S);return W.idToken=N.idToken||void 0,W.accessToken=N.accessToken||void 0,W.secret=N.secret,W.nonce=N.nonce,W.pendingToken=N.pendingToken||null,W}_getIdTokenResponse(f){return bs(f,this.buildRequest())}_linkToIdToken(f,m){const E=this.buildRequest();return E.idToken=m,bs(f,E)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,bs(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,P.xO)(m)}return f}}function Oo(y,f){return ed.apply(this,arguments)}function ed(){return(ed=(0,h.Z)(function*(y,f){return Vt(y,"POST","/v1/accounts:sendVerificationCode",zt(y,f))})).apply(this,arguments)}function Ds(){return(Ds=(0,h.Z)(function*(y,f){return Ir(y,"POST","/v1/accounts:signInWithPhoneNumber",zt(y,f))})).apply(this,arguments)}function td(){return(td=(0,h.Z)(function*(y,f){const m=yield Ir(y,"POST","/v1/accounts:signInWithPhoneNumber",zt(y,f));if(m.temporaryProof)throw Si(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const og={USER_NOT_FOUND:"user-not-found"};function nd(){return(nd=(0,h.Z)(function*(y,f){return Ir(y,"POST","/v1/accounts:signInWithPhoneNumber",zt(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),og)})).apply(this,arguments)}class No extends Ei{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new No({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new No({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function El(y,f){return Ds.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function sg(y,f){return td.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function ag(y,f){return nd.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:E,verificationCode:S}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:E,code:S}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:E,phoneNumber:S,temporaryProof:N}=f;return E||m||S||N?new No({verificationId:m,verificationCode:E,phoneNumber:S,temporaryProof:N}):null}}class Iu{constructor(f){var m,E,S,N,W,fe;const Le=(0,P.zd)((0,P.pd)(f)),Ze=null!==(m=Le.apiKey)&&void 0!==m?m:null,_t=null!==(E=Le.oobCode)&&void 0!==E?E:null,ct=function zh(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Le.mode)&&void 0!==S?S:null);j(Ze&&_t&&ct,"argument-error"),this.apiKey=Ze,this.operation=ct,this.code=_t,this.continueUrl=null!==(N=Le.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(W=Le.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(fe=Le.tenantId)&&void 0!==fe?fe:null}static parseLink(f){const m=function Sa(y){const f=(0,P.zd)((0,P.pd)(y)).link,m=f?(0,P.zd)((0,P.pd)(f)).deep_link_id:null,E=(0,P.zd)((0,P.pd)(y)).deep_link_id;return(E?(0,P.zd)((0,P.pd)(E)).link:null)||E||m||f||y}(f);try{return new Iu(m)}catch(E){return null}}}let id=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,E){return _r._fromEmailAndPassword(m,E)}static credentialWithLink(m,E){const S=Iu.parseLink(E);return j(S,"argument-error"),_r._fromEmailAndCode(m,S.code,S.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class vr{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Ks extends vr{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Ri extends Ks{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return j("providerId"in m&&"signInMethod"in m,"argument-error"),Ki._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return j(f.idToken||f.accessToken,"argument-error"),Ki._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Ri.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Ri.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:E,oauthTokenSecret:S,pendingToken:N,nonce:W,providerId:fe}=f;if(!E&&!S&&!m&&!N||!fe)return null;try{return new Ri(fe)._credential({idToken:m,accessToken:E,nonce:W,pendingToken:N})}catch(Le){return null}}}let Ro=(()=>{class y extends Ks{constructor(){super("facebook.com")}static credential(m){return Ki._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(E){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),sd=(()=>{class y extends Ks{constructor(){super("google.com"),this.addScope("profile")}static credential(m,E){return Ki._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:E})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:E,oauthAccessToken:S}=m;if(!E&&!S)return null;try{return y.credential(E,S)}catch(N){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Wh=(()=>{class y extends Ks{constructor(){super("github.com")}static credential(m){return Ki._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(E){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Ys extends Ei{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return bs(f,this.buildRequest())}_linkToIdToken(f,m){const E=this.buildRequest();return E.idToken=m,bs(f,E)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,bs(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:S,pendingToken:N}=m;return E&&S&&N&&E===S?new Ys(E,N):null}static _create(f,m){return new Ys(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Sr extends vr{constructor(f){j(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Sr.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Sr.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=Ys.fromJSON(f);return j(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:E}=f;if(!m||!E)return null;try{return Ys._create(E,m)}catch(S){return null}}}let od=(()=>{class y extends Ks{constructor(){super("twitter.com")}static credential(m,E){return Ki._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:E})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:E,oauthTokenSecret:S}=m;if(!E||!S)return null;try{return y.credential(E,S)}catch(N){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Ar(y,f){return ko.apply(this,arguments)}function ko(){return(ko=(0,h.Z)(function*(y,f){return Ir(y,"POST","/v1/accounts:signUp",zt(y,f))})).apply(this,arguments)}class ti{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,E,S=!1){return(0,h.Z)(function*(){const N=yield Ct._fromIdTokenResponse(f,E,S),W=wl(E);return new ti({user:N,providerId:W,_tokenResponse:E,operationType:m})})()}static _forOperation(f,m,E){return(0,h.Z)(function*(){yield f._updateTokensIfNecessary(E,!0);const S=wl(E);return new ti({user:f,providerId:S,_tokenResponse:E,operationType:m})})()}}function wl(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function bl(){return(bl=(0,h.Z)(function*(y){var f;const m=at(y);if(yield m._initializationPromise,null===(f=m.currentUser)||void 0===f?void 0:f.isAnonymous)return new ti({user:m.currentUser,providerId:null,operationType:"signIn"});const E=yield Ar(m,{returnSecureToken:!0}),S=yield ti._fromIdTokenResponse(m,"signIn",E,!0);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class Fo extends P.ZR{constructor(f,m,E,S){var N;super(m.code,m.message),this.operationType=E,this.user=S,Object.setPrototypeOf(this,Fo.prototype),this.customData={appName:f.name,tenantId:null!==(N=f.tenantId)&&void 0!==N?N:void 0,_serverResponse:m.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(f,m,E,S){return new Fo(f,m,E,S)}}function Dl(y,f,m,E){return("reauthenticate"===f?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?Fo._fromErrorAndOperation(y,N,f,E):N})}function Pi(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function nn(){return(nn=(0,h.Z)(function*(y,f){const m=(0,P.m9)(y);yield Yt(!0,m,f);const{providerUserInfo:E}=yield In(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),S=Pi(E||[]);return m.providerData=m.providerData.filter(N=>S.has(N.providerId)),S.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Aa(y,f){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,h.Z)(function*(y,f,m=!1){const E=yield gr(y,f._linkToIdToken(y.auth,yield y.getIdToken()),m);return ti._forOperation(y,"link",E)})).apply(this,arguments)}function Yt(y,f,m){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,h.Z)(function*(y,f,m){yield yr(f);const S=!1===y?"provider-already-linked":"no-such-provider";j(Pi(f.providerData).has(m)===y,f.auth,S)})).apply(this,arguments)}function Cu(y,f){return Is.apply(this,arguments)}function Is(){return(Is=(0,h.Z)(function*(y,f,m=!1){const{auth:E}=y,S="reauthenticate";try{const N=yield gr(y,Dl(E,S,f,y),m);j(N.idToken,E,"internal-error");const W=it(N.idToken);j(W,E,"internal-error");const{sub:fe}=W;return j(y.uid===fe,E,"user-mismatch"),ti._forOperation(y,S,N)}catch(N){throw"auth/user-not-found"===(null==N?void 0:N.code)&&Te(E,"user-mismatch"),N}})).apply(this,arguments)}function or(y,f){return Il.apply(this,arguments)}function Il(){return(Il=(0,h.Z)(function*(y,f,m=!1){const E="signIn",S=yield Dl(y,E,f),N=yield ti._fromIdTokenResponse(y,E,S);return m||(yield y._updateCurrentUser(N.user)),N})).apply(this,arguments)}function _n(y,f){return ki.apply(this,arguments)}function ki(){return(ki=(0,h.Z)(function*(y,f){return or(at(y),f)})).apply(this,arguments)}function ar(y,f){return Js.apply(this,arguments)}function Js(){return(Js=(0,h.Z)(function*(y,f){const m=(0,P.m9)(y);return yield Yt(!1,m,f.providerId),Aa(m,f)})).apply(this,arguments)}function Yi(y,f){return xa.apply(this,arguments)}function xa(){return(xa=(0,h.Z)(function*(y,f){return Cu((0,P.m9)(y),f)})).apply(this,arguments)}function wi(y,f){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,h.Z)(function*(y,f){return Ir(y,"POST","/v1/accounts:signInWithCustomToken",zt(y,f))})).apply(this,arguments)}function ft(){return(ft=(0,h.Z)(function*(y,f){const m=at(y),E=yield wi(m,{token:f,returnSecureToken:!0}),S=yield ti._fromIdTokenResponse(m,"signIn",E);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class Vo{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?Tu._fromServerResponse(f,m):Te(f,"internal-error")}}class Tu extends Vo{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new Tu(m)}}function Oa(y,f,m){var E;j((null===(E=m.url)||void 0===E?void 0:E.length)>0,y,"invalid-continue-uri"),j(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(j(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(j(m.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function Na(){return(Na=(0,h.Z)(function*(y,f,m){const E=(0,P.m9)(y),S={requestType:"PASSWORD_RESET",email:f};m&&Oa(E,S,m),yield Ta(E,S)})).apply(this,arguments)}function Sl(){return(Sl=(0,h.Z)(function*(y,f,m){yield On((0,P.m9)(y),{oobCode:f,newPassword:m})})).apply(this,arguments)}function Ft(){return(Ft=(0,h.Z)(function*(y,f){yield wu((0,P.m9)(y),{oobCode:f})})).apply(this,arguments)}function Al(y,f){return hn.apply(this,arguments)}function hn(){return(hn=(0,h.Z)(function*(y,f){const m=(0,P.m9)(y),E=yield On(m,{oobCode:f}),S=E.requestType;switch(j(S,m,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":j(E.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":j(E.mfaInfo,m,"internal-error");default:j(E.email,m,"internal-error")}let N=null;return E.mfaInfo&&(N=Vo._fromServerResponse(at(m),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:N},operation:S}})).apply(this,arguments)}function Xs(){return(Xs=(0,h.Z)(function*(y,f){const{data:m}=yield Al((0,P.m9)(y),f);return m.email})).apply(this,arguments)}function Ra(){return(Ra=(0,h.Z)(function*(y,f,m){const E=at(y),S=yield Ar(E,{returnSecureToken:!0,email:f,password:m}),N=yield ti._fromIdTokenResponse(E,"signIn",S);return yield E._updateCurrentUser(N.user),N})).apply(this,arguments)}function Su(){return(Su=(0,h.Z)(function*(y,f,m){const E=(0,P.m9)(y),S={requestType:"EMAIL_SIGNIN",email:f};j(m.handleCodeInApp,E,"argument-error"),m&&Oa(E,S,m),yield xi(E,S)})).apply(this,arguments)}function Rn(){return(Rn=(0,h.Z)(function*(y,f,m){const E=(0,P.m9)(y),S=id.credentialWithLink(f,m||Re());return j(S._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),_n(E,S)})).apply(this,arguments)}function Qi(y,f){return ka.apply(this,arguments)}function ka(){return(ka=(0,h.Z)(function*(y,f){return Vt(y,"POST","/v1/accounts:createAuthUri",zt(y,f))})).apply(this,arguments)}function bi(){return(bi=(0,h.Z)(function*(y,f){const E={identifier:f,continueUri:lt()?Re():"http://localhost"},{signinMethods:S}=yield Qi((0,P.m9)(y),E);return S||[]})).apply(this,arguments)}function Mu(){return(Mu=(0,h.Z)(function*(y,f){const m=(0,P.m9)(y),S={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&Oa(m.auth,S,f);const{email:N}=yield tn(m.auth,S);N!==y.email&&(yield y.reload())})).apply(this,arguments)}function xu(){return(xu=(0,h.Z)(function*(y,f,m){const E=(0,P.m9)(y),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};m&&Oa(E.auth,N,m);const{email:W}=yield Qc(E.auth,N);W!==y.email&&(yield y.reload())})).apply(this,arguments)}function Fa(y,f){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,h.Z)(function*(y,f){return Vt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function La(){return(La=(0,h.Z)(function*(y,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const E=(0,P.m9)(y),N={idToken:yield E.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},W=yield gr(E,Fa(E.auth,N));E.displayName=W.displayName||null,E.photoURL=W.photoUrl||null;const fe=E.providerData.find(({providerId:Le})=>"password"===Le);fe&&(fe.displayName=E.displayName,fe.photoURL=E.photoURL),yield E._updateTokensIfNecessary(W)})).apply(this,arguments)}function jo(y,f,m){return Va.apply(this,arguments)}function Va(){return(Va=(0,h.Z)(function*(y,f,m){const{auth:E}=y,N={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(N.email=f),m&&(N.password=m);const W=yield gr(y,Ca(E,N));yield y._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class $o{constructor(f,m,E={}){this.isNewUser=f,this.providerId=m,this.profile=E}}class ld extends $o{constructor(f,m,E,S){super(f,m,E),this.username=S}}class Ho extends $o{constructor(f,m){super(f,"facebook.com",m)}}class Li extends ld{constructor(f,m){super(f,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Kh extends $o{constructor(f,m){super(f,"google.com",m)}}class Zn extends ld{constructor(f,m,E){super(f,"twitter.com",m,E)}}function Vi(y){const{user:f,_tokenResponse:m}=y;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function ud(y){var f,m;if(!y)return null;const{providerId:E}=y,S=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},N=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!E&&(null==y?void 0:y.idToken)){const W=null===(m=null===(f=it(y.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(W)return new $o(N,"anonymous"!==W&&"custom"!==W?W:null)}if(!E)return null;switch(E){case"facebook.com":return new Ho(N,S);case"github.com":return new Li(N,S);case"google.com":return new Kh(N,S);case"twitter.com":return new Zn(N,S,y.screenName||null);case"custom":case"anonymous":return new $o(N,null);default:return new $o(N,E,S)}}(m)}class Ji{constructor(f,m){this.type=f,this.credential=m}static _fromIdtoken(f){return new Ji("enroll",f)}static _fromMfaPendingCredential(f){return new Ji("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,E;if(null==f?void 0:f.multiFactorSession){if(null===(m=f.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Ji._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(E=f.multiFactorSession)||void 0===E?void 0:E.idToken)return Ji._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Go{constructor(f,m,E){this.session=f,this.hints=m,this.signInResolver=E}static _fromError(f,m){const E=at(f),S=m.customData._serverResponse,N=(S.mfaInfo||[]).map(fe=>Vo._fromServerResponse(E,fe));j(S.mfaPendingCredential,E,"internal-error");const W=Ji._fromMfaPendingCredential(S.mfaPendingCredential);return new Go(W,N,function(){var fe=(0,h.Z)(function*(Le){const Ze=yield Le._process(E,W);delete S.mfaInfo,delete S.mfaPendingCredential;const _t=Object.assign(Object.assign({},S),{idToken:Ze.idToken,refreshToken:Ze.refreshToken});switch(m.operationType){case"signIn":const ct=yield ti._fromIdTokenResponse(E,m.operationType,_t);return yield E._updateCurrentUser(ct.user),ct;case"reauthenticate":return j(m.user,E,"internal-error"),ti._forOperation(m.user,m.operationType,_t);default:Te(E,"internal-error")}});return function(Le){return fe.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,h.Z)(function*(){return m.signInResolver(f)})()}}function Qh(y,f){return Vt(y,"POST","/v2/accounts/mfaEnrollment:start",zt(y,f))}class hd{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(E=>Vo._fromServerResponse(f.auth,E)))})}static _fromUser(f){return new hd(f)}getSession(){var f=this;return(0,h.Z)(function*(){return Ji._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,m){var E=this;return(0,h.Z)(function*(){const S=f,N=yield E.getSession(),W=yield gr(E.user,S._process(E.user.auth,N,m));return yield E.user._updateTokensIfNecessary(W),E.user.reload()})()}unenroll(f){var m=this;return(0,h.Z)(function*(){const E="string"==typeof f?f:f.uid,S=yield m.user.getIdToken(),N=yield gr(m.user,function Ou(y,f){return Vt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",zt(y,f))}(m.user.auth,{idToken:S,mfaEnrollmentId:E}));m.enrolledFactors=m.enrolledFactors.filter(({uid:W})=>W!==E),yield m.user._updateTokensIfNecessary(N);try{yield m.user.reload()}catch(W){if("auth/user-token-expired"!==W.code)throw W}})()}}const Nu=new WeakMap,to="__sak";class fd{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(to,"1"),this.storage.removeItem(to),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const ri=(()=>{class y extends fd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,E)=>this.onStorageEvent(m,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function dg(){const y=(0,P.z$)();return Eu(y)||Br(y)}()&&function sr(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=_s(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const E of Object.keys(this.listeners)){const S=this.storage.getItem(E),N=this.localCache[E];S!==N&&m(E,N,S)}}onStorageEvent(m,E=!1){if(!m.key)return void this.forAllChangedKeys((fe,Le,Ze)=>{this.notifyListeners(fe,Ze)});const S=m.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const fe=this.storage.getItem(S);if(m.newValue!==fe)null!==m.newValue?this.storage.setItem(S,m.newValue):this.storage.removeItem(S);else if(this.localCache[S]===m.newValue&&!E)return}const N=()=>{const fe=this.storage.getItem(S);!E&&this.localCache[S]===fe||this.notifyListeners(S,fe)},W=this.storage.getItem(S);!function Ia(){return(0,P.w1)()&&10===document.documentMode}()||W===m.newValue||m.newValue===m.oldValue?N():setTimeout(N,10)}notifyListeners(m,E){this.localCache[m]=E;const S=this.listeners[m];if(S)for(const N of Array.from(S))N(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,E,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:E,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,E){var S=()=>super._set,N=this;return(0,h.Z)(function*(){yield S().call(N,m,E),N.localCache[m]=JSON.stringify(E)})()}_get(m){var E=()=>super._get,S=this;return(0,h.Z)(function*(){const N=yield E().call(S,m);return S.localCache[m]=JSON.stringify(N),N})()}_remove(m){var E=()=>super._remove,S=this;return(0,h.Z)(function*(){yield E().call(S,m),delete S.localCache[m]})()}}return y.type="LOCAL",y})(),Un=(()=>{class y extends fd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,E){}_removeListener(m,E){}}return y.type="SESSION",y})();let pd=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const E=this.receivers.find(N=>N.isListeningto(m));if(E)return E;const S=new y(m);return this.receivers.push(S),S}isListeningto(m){return this.eventTarget===m}handleEvent(m){var E=this;return(0,h.Z)(function*(){const S=m,{eventId:N,eventType:W,data:fe}=S.data,Le=E.handlersMap[W];if(!(null==Le?void 0:Le.size))return;S.ports[0].postMessage({status:"ack",eventId:N,eventType:W});const Ze=Array.from(Le).map(function(){var ct=(0,h.Z)(function*(Sn){return Sn(S.origin,fe)});return function(Sn){return ct.apply(this,arguments)}}()),_t=yield function Pl(y){return Promise.all(y.map(function(){var f=(0,h.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(E){return{fulfilled:!1,reason:E}}});return function(m){return f.apply(this,arguments)}}()))}(Ze);S.ports[0].postMessage({status:"done",eventId:N,eventType:W,response:_t})})()}_subscribe(m,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(E)}_unsubscribe(m,E){this.handlersMap[m]&&E&&this.handlersMap[m].delete(E),(!E||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Ui(y="",f=10){let m="";for(let E=0;E<f;E++)m+=Math.floor(10*Math.random());return y+m}class kl{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,E=50){var S=this;return(0,h.Z)(function*(){const N="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let W,fe;return new Promise((Le,Ze)=>{const _t=Ui("",20);N.port1.start();const ct=setTimeout(()=>{Ze(new Error("unsupported_event"))},E);fe={messageChannel:N,onMessage(Sn){const fi=Sn;if(fi.data.eventId===_t)switch(fi.data.status){case"ack":clearTimeout(ct),W=setTimeout(()=>{Ze(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),Le(fi.data.response);break;default:clearTimeout(ct),clearTimeout(W),Ze(new Error("invalid_response"))}}},S.handlers.add(fe),N.port1.addEventListener("message",fe.onMessage),S.target.postMessage({eventType:f,eventId:_t,data:m},[N.port2])}).finally(()=>{fe&&S.removeMessageHandler(fe)})})()}}function on(){return window}function Di(){return void 0!==on().WorkerGlobalScope&&"function"==typeof on().importScripts}function Pu(){return(Pu=(0,h.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Fl="firebaseLocalStorageDb",qo="firebaseLocalStorage",zo="fbase_key";class Ts{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function ur(y,f){return y.transaction([qo],f?"readwrite":"readonly").objectStore(qo)}function Bi(){const y=indexedDB.open(Fl,1);return new Promise((f,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const E=y.result;try{E.createObjectStore(qo,{keyPath:zo})}catch(S){m(S)}}),y.addEventListener("success",(0,h.Z)(function*(){const E=y.result;E.objectStoreNames.contains(qo)?f(E):(E.close(),yield function ku(){const y=indexedDB.deleteDatabase(Fl);return new Ts(y).toPromise()}(),f(yield Bi()))}))})}function Wo(y,f,m){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,h.Z)(function*(y,f,m){const E=ur(y,!0).put({[zo]:f,value:m});return new Ts(E).toPromise()})).apply(this,arguments)}function no(){return(no=(0,h.Z)(function*(y,f){const m=ur(y,!1).get(f),E=yield new Ts(m).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Ko(y,f){const m=ur(y,!0).delete(f);return new Ts(m).toPromise()}const As=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,h.Z)(function*(){return m.db||(m.db=yield Bi()),m.db})()}_withRetries(m){var E=this;return(0,h.Z)(function*(){let S=0;for(;;)try{const N=yield E._openDb();return yield m(N)}catch(N){if(S++>3)throw N;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,h.Z)(function*(){return Di()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,h.Z)(function*(){m.receiver=pd._getInstance(function md(){return Di()?self:null}()),m.receiver._subscribe("keyChanged",function(){var E=(0,h.Z)(function*(S,N){return{keyProcessed:(yield m._poll()).includes(N.key)}});return function(S,N){return E.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var E=(0,h.Z)(function*(S,N){return["keyChanged"]});return function(S,N){return E.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,h.Z)(function*(){var E,S;if(m.activeServiceWorker=yield function St(){return Pu.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new kl(m.activeServiceWorker);const N=yield m.sender._send("ping",{},800);!N||(null===(E=N[0])||void 0===E?void 0:E.fulfilled)&&(null===(S=N[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var E=this;return(0,h.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function gd(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:m},E.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Bi();return yield Wo(m,to,"1"),yield Ko(m,to),!0}catch(m){}return!1})()}_withPendingWrite(m){var E=this;return(0,h.Z)(function*(){E.pendingWrites++;try{yield m()}finally{E.pendingWrites--}})()}_set(m,E){var S=this;return(0,h.Z)(function*(){return S._withPendingWrite((0,h.Z)(function*(){return yield S._withRetries(N=>Wo(N,m,E)),S.localCache[m]=E,S.notifyServiceWorker(m)}))})()}_get(m){var E=this;return(0,h.Z)(function*(){const S=yield E._withRetries(N=>function Zo(y,f){return no.apply(this,arguments)}(N,m));return E.localCache[m]=S,S})()}_remove(m){var E=this;return(0,h.Z)(function*(){return E._withPendingWrite((0,h.Z)(function*(){return yield E._withRetries(S=>Ko(S,m)),delete E.localCache[m],E.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,h.Z)(function*(){const E=yield m._withRetries(W=>{const fe=ur(W,!1).getAll();return new Ts(fe).toPromise()});if(!E)return[];if(0!==m.pendingWrites)return[];const S=[],N=new Set;for(const{fbase_key:W,value:fe}of E)N.add(W),JSON.stringify(m.localCache[W])!==JSON.stringify(fe)&&(m.notifyListeners(W,fe),S.push(W));for(const W of Object.keys(m.localCache))m.localCache[W]&&!N.has(W)&&(m.notifyListeners(W,null),S.push(W));return S})()}notifyListeners(m,E){this.localCache[m]=E;const S=this.listeners[m];if(S)for(const N of Array.from(S))N(E)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function lr(y,f){return Vt(y,"POST","/v2/accounts/mfaSignIn:start",zt(y,f))}function pn(){return(pn=(0,h.Z)(function*(y){return(yield Vt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ji(y){return new Promise((f,m)=>{const E=document.createElement("script");E.setAttribute("src",y),E.onload=f,E.onerror=S=>{const N=Ee("internal-error");N.customData=S,m(N)},E.type="text/javascript",E.charset="UTF-8",function io(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(E)})}function Xi(y){return`__${y}${Math.floor(1e6*Math.random())}`}const ii=1e12;class Tn{constructor(f){this.auth=f,this.counter=ii,this._widgets=new Map}render(f,m){const E=this.counter;return this._widgets.set(E,new Lu(f,this.auth.name,m||{})),this.counter++,E}reset(f){var m;const E=f||ii;null===(m=this._widgets.get(E))||void 0===m||m.delete(),this._widgets.delete(E)}getResponse(f){var m;return(null===(m=this._widgets.get(f||ii))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,h.Z)(function*(){var E;return null===(E=m._widgets.get(f||ii))||void 0===E||E.execute(),""})()}}class Lu{constructor(f,m,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof f?document.getElementById(f):f;j(S,"argument-error",{appName:m}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ha(y){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<y;E++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const gn=Xi("rcb"),hg=new Qt(3e4,6e4);class My{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!on().grecaptcha}load(f,m=""){return j(function Jo(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(on().grecaptcha):new Promise((E,S)=>{const N=on().setTimeout(()=>{S(Ee(f,"network-request-failed"))},hg.get());on()[gn]=()=>{on().clearTimeout(N),delete on()[gn];const fe=on().grecaptcha;if(!fe)return void S(Ee(f,"internal-error"));const Le=fe.render;fe.render=(Ze,_t)=>{const ct=Le(Ze,_t);return this.counter++,ct},this.hostLanguage=m,E(fe)},ji(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:gn,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(N),S(Ee(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!on().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Gr{load(f){return(0,h.Z)(function*(){return new Tn(f)})()}clearedOneInstance(){}}const yd="recaptcha",Ms={theme:"light",type:"image"};class so{constructor(f,m=Object.assign({},Ms),E){this.parameters=m,this.type=yd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=at(E),this.isInvisible="invisible"===this.parameters.size,j("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof f?document.getElementById(f):f;j(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Gr:new My,this.validateStartingState()}verify(){var f=this;return(0,h.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),E=f.getAssertedRecaptcha();return E.getResponse(m)||new Promise(N=>{const W=fe=>{!fe||(f.tokenChangeListeners.delete(W),N(fe))};f.tokenChangeListeners.add(W),f.isInvisible&&E.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){j(!this.parameters.sitekey,this.auth,"argument-error"),j(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),j("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(E=>E(m)),"function"==typeof f)f(m);else if("string"==typeof f){const E=on()[f];"function"==typeof E&&E(m)}}}assertNotDestroyed(){j(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,h.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const E=document.createElement("div");m.appendChild(E),m=E}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,h.Z)(function*(){j(lt()&&!Di(),f.auth,"internal-error"),yield function Vu(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function Fu(y){return pn.apply(this,arguments)}(f.auth);j(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return j(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class vn{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=No._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function oo(){return(oo=(0,h.Z)(function*(y,f,m){const E=at(y),S=yield Xo(E,f,(0,P.m9)(m));return new vn(S,N=>_n(E,N))})).apply(this,arguments)}function Vl(){return(Vl=(0,h.Z)(function*(y,f,m){const E=(0,P.m9)(y);yield Yt(!1,E,"phone");const S=yield Xo(E.auth,f,(0,P.m9)(m));return new vn(S,N=>ar(E,N))})).apply(this,arguments)}function oi(){return(oi=(0,h.Z)(function*(y,f,m){const E=(0,P.m9)(y),S=yield Xo(E.auth,f,(0,P.m9)(m));return new vn(S,N=>Yi(E,N))})).apply(this,arguments)}function Xo(y,f,m){return ao.apply(this,arguments)}function ao(){return(ao=(0,h.Z)(function*(y,f,m){var E;const S=yield m.verify();try{let N;if(j("string"==typeof S,y,"argument-error"),j(m.type===yd,y,"argument-error"),N="string"==typeof f?{phoneNumber:f}:f,"session"in N){const W=N.session;if("phoneNumber"in N)return j("enroll"===W.type,y,"internal-error"),(yield Qh(y,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{j("signin"===W.type,y,"internal-error");const fe=(null===(E=N.multiFactorHint)||void 0===E?void 0:E.uid)||N.multiFactorUid;return j(fe,y,"missing-multi-factor-info"),(yield lr(y,{mfaPendingCredential:W.credential,mfaEnrollmentId:fe,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield Oo(y,{phoneNumber:N.phoneNumber,recaptchaToken:S});return W}}finally{m._reset()}})).apply(this,arguments)}function ea(){return(ea=(0,h.Z)(function*(y,f){yield Aa((0,P.m9)(y),f)})).apply(this,arguments)}let lo=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=at(m)}verifyPhoneNumber(m,E){return Xo(this.auth,m,(0,P.m9)(E))}static credential(m,E){return No._fromVerification(m,E)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:E,temporaryProof:S}=m;return E&&S?No._fromTokenResponse(E,S):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function es(y,f){return f?ee(f):(j(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ga extends Ei{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return bs(f,this._buildIdpRequest())}_linkToIdToken(f,m){return bs(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return bs(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function Pt(y){return or(y.auth,new Ga(y),y.bypassAuthState)}function Uu(y){const{auth:f,user:m}=y;return j(m,f,"internal-error"),Cu(m,new Ga(y),y.bypassAuthState)}function Yn(y){return qa.apply(this,arguments)}function qa(){return(qa=(0,h.Z)(function*(y){const{auth:f,user:m}=y;return j(m,f,"internal-error"),Aa(m,new Ga(y),y.bypassAuthState)})).apply(this,arguments)}class xs{constructor(f,m,E,S,N=!1){this.auth=f,this.resolver=E,this.user=S,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,h.Z)(function*(E,S){f.pendingPromise={resolve:E,reject:S};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(N){f.reject(N)}});return function(E,S){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,h.Z)(function*(){const{urlResponse:E,sessionId:S,postBody:N,tenantId:W,error:fe,type:Le}=f;if(fe)return void m.reject(fe);const Ze={auth:m.auth,requestUri:E,sessionId:S,tenantId:W||void 0,postBody:N||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Le)(Ze))}catch(_t){m.reject(_t)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Pt;case"linkViaPopup":case"linkViaRedirect":return Yn;case"reauthViaPopup":case"reauthViaRedirect":return Uu;default:Te(this.auth,"internal-error")}}resolve(f){Z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pg=new Qt(2e3,1e4);function Os(){return(Os=(0,h.Z)(function*(y,f,m){const E=at(y);$e(y,f,vr);const S=es(E,m);return new Ul(E,"signInViaPopup",f,S).executeNotNull()})).apply(this,arguments)}function Bu(){return(Bu=(0,h.Z)(function*(y,f,m){const E=(0,P.m9)(y);$e(E.auth,f,vr);const S=es(E.auth,m);return new Ul(E.auth,"reauthViaPopup",f,S,E).executeNotNull()})).apply(this,arguments)}function Hi(){return(Hi=(0,h.Z)(function*(y,f,m){const E=(0,P.m9)(y);$e(E.auth,f,vr);const S=es(E.auth,m);return new Ul(E.auth,"linkViaPopup",f,S,E).executeNotNull()})).apply(this,arguments)}let Ul=(()=>{class y extends xs{constructor(m,E,S,N,W){super(m,E,N,W),this.provider=S,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,h.Z)(function*(){const E=yield m.execute();return j(E,m.auth,"internal-error"),E})()}onExecution(){var m=this;return(0,h.Z)(function*(){Z(1===m.filter.length,"Popup operations only handle one event");const E=Ui();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],E),m.authWindow.associatedEvent=E,m.resolver._originValidation(m.auth).catch(S=>{m.reject(S)}),m.resolver._isIframeWebStorageSupported(m.auth,S=>{S||m.reject(Ee(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var E,S;this.pollId=(null===(S=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ee(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,pg.get())};m()}}return y.currentPopupAction=null,y})();const cr=new Map;class Oy extends xs{constructor(f,m,E=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,E),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,h.Z)(function*(){let E=cr.get(m.auth._key());if(!E){try{const N=(yield function ta(y,f){return na.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;E=()=>Promise.resolve(N)}catch(S){E=()=>Promise.reject(S)}cr.set(m.auth._key(),E)}return m.bypassAuthState||cr.set(m.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,E=this;return(0,h.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(E,f);if("unknown"!==f.type){if(f.eventId){const S=yield E.auth._redirectUserForId(f.eventId);if(S)return E.user=S,m().call(E,f);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function na(){return(na=(0,h.Z)(function*(y,f){const m=F(f),E=O(y);if(!(yield E._isAvailable()))return!1;const S="true"===(yield E._get(m));return yield E._remove(m),S})).apply(this,arguments)}function co(y,f){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,h.Z)(function*(y,f){return O(y)._set(F(f),"true")})).apply(this,arguments)}function C(y,f){cr.set(y._key(),f)}function O(y){return ee(y._redirectPersistence)}function F(y){return $n("pendingRedirect",y.config.apiKey,y.name)}function ge(){return(ge=(0,h.Z)(function*(y,f,m){const E=at(y);$e(y,f,vr);const S=es(E,m);return yield co(S,E),S._openRedirect(E,f,"signInViaRedirect")})).apply(this,arguments)}function dt(){return(dt=(0,h.Z)(function*(y,f,m){const E=(0,P.m9)(y);$e(E.auth,f,vr);const S=es(E.auth,m);yield co(S,E.auth);const N=yield ui(E);return S._openRedirect(E.auth,f,"reauthViaRedirect",N)})).apply(this,arguments)}function Er(){return(Er=(0,h.Z)(function*(y,f,m){const E=(0,P.m9)(y);$e(E.auth,f,vr);const S=es(E.auth,m);yield Yt(!1,E,f.providerId),yield co(S,E.auth);const N=yield ui(E);return S._openRedirect(E.auth,f,"linkViaRedirect",N)})).apply(this,arguments)}function ts(){return(ts=(0,h.Z)(function*(y,f){return yield at(y)._initializationPromise,qr(y,f,!1)})).apply(this,arguments)}function qr(y,f){return ai.apply(this,arguments)}function ai(){return(ai=(0,h.Z)(function*(y,f,m=!1){const E=at(y),S=es(E,f),W=yield new Oy(E,S,m).execute();return W&&!m&&(delete W.user._redirectEventId,yield E._persistUserIfCurrent(W.user),yield E._setRedirectUser(null,f)),W})).apply(this,arguments)}function ui(y){return li.apply(this,arguments)}function li(){return(li=(0,h.Z)(function*(y){const f=Ui(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class $u{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(f,E)&&(m=!0,this.sendToConsumer(f,E),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function gg(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hu(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var E;if(f.error&&!Hu(f)){const S=(null===(E=f.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";m.onError(Ee(this.auth,S))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const E=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&E}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bl(f))}saveEventToCache(f){this.cachedEventUids.add(Bl(f)),this.lastProcessedEventTime=Date.now()}}function Bl(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function Hu({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===(null==f?void 0:f.code)}function mg(y){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,h.Z)(function*(y,f={}){return Vt(y,"GET","/v1/projects",f)})).apply(this,arguments)}const ho=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jl=/^https?/;function yg(){return(yg=(0,h.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield mg(y);for(const m of f)try{if(_g(m))return}catch(E){}Te(y,"unauthorized-domain")})).apply(this,arguments)}function _g(y){const f=Re(),{protocol:m,hostname:E}=new URL(f);if(y.startsWith("chrome-extension://")){const W=new URL(y);return""===W.hostname&&""===E?"chrome-extension:"===m&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&W.hostname===E}if(!jl.test(m))return!1;if(ho.test(y))return E===y;const S=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(E)}const Ry=new Qt(3e4,6e4);function vg(){const y=on().___jsl;if(null==y?void 0:y.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let Gu=null;function fo(y){return Gu=Gu||function Xh(y){return new Promise((f,m)=>{var E,S,N;function W(){vg(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{vg(),m(Ee(y,"network-request-failed"))},timeout:Ry.get()})}if(null===(S=null===(E=on().gapi)||void 0===E?void 0:E.iframes)||void 0===S?void 0:S.Iframe)f(gapi.iframes.getContext());else{if(!(null===(N=on().gapi)||void 0===N?void 0:N.load)){const fe=Xi("iframefcb");return on()[fe]=()=>{gapi.load?W():m(Ee(y,"network-request-failed"))},ji(`https://apis.google.com/js/api.js?onload=${fe}`).catch(Le=>m(Le))}W()}}).catch(f=>{throw Gu=null,f})}(y),Gu}const po=new Qt(5e3,15e3),Py={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ky(y){const f=y.config;j(f.authDomain,y,"auth-domain-config-required");const m=f.emulator?Mn(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,E={apiKey:f.apiKey,appName:y.name,v:ae.SDK_VERSION},S=qu.get(y.config.apiHost);S&&(E.eid=S);const N=y._getFrameworks();return N.length&&(E.fw=N.join(",")),`${m}?${(0,P.xO)(E).slice(1)}`}function ra(){return ra=(0,h.Z)(function*(y){const f=yield fo(y),m=on().gapi;return j(m,y,"internal-error"),f.open({where:document.body,url:ky(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Py,dontclear:!0},E=>new Promise(function(){var S=(0,h.Z)(function*(N,W){yield E.restyle({setHideOnLeave:!1});const fe=Ee(y,"network-request-failed"),Le=on().setTimeout(()=>{W(fe)},po.get());function Ze(){on().clearTimeout(Le),N(E)}E.ping(Ze).then(Ze,()=>{W(fe)})});return function(N,W){return S.apply(this,arguments)}}()))}),ra.apply(this,arguments)}const ef={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Eg{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function Ns(y,f,m,E,S,N){j(y.config.authDomain,y,"auth-domain-config-required"),j(y.config.apiKey,y,"invalid-api-key");const W={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:E,v:ae.SDK_VERSION,eventId:S};if(f instanceof vr){f.setDefaultLanguage(y.languageCode),W.providerId=f.providerId||"",(0,P.xb)(f.getCustomParameters())||(W.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Le,Ze]of Object.entries(N||{}))W[Le]=Ze}if(f instanceof Ks){const Le=f.getScopes().filter(Ze=>""!==Ze);Le.length>0&&(W.scopes=Le.join(","))}y.tenantId&&(W.tid=y.tenantId);const fe=W;for(const Le of Object.keys(fe))void 0===fe[Le]&&delete fe[Le];return`${function Hl({config:y}){return y.emulator?Mn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,P.xO)(fe).slice(1)}`}const Cd="webStorageSupport";class Td extends class K0{constructor(f){this.factorId=f}_process(f,m,E){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,E);case"signin":return this._finalizeSignIn(f,m.credential);default:return ve("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Td(f)}_finalizeEnroll(f,m,E){return function eo(y,f){return Vt(y,"POST","/v2/accounts/mfaEnrollment:finalize",zt(y,f))}(f,{idToken:m,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function ro(y,f){return Vt(y,"POST","/v2/accounts/mfaSignIn:finalize",zt(y,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let bg=(()=>{class y{constructor(){}static assertion(m){return Td._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var Dg="@firebase/auth";class Cg{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,h.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(E=>{var S;f((null===(S=E)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Rs(){return window}function Wa(){return(Wa=(0,h.Z)(function*(y,f,m){var E;const{BuildInfo:S}=Rs();Z(f.sessionId,"AuthEvent did not contain a session ID");const N=yield sf(f.sessionId),W={};return Br()?W.ibi=S.packageName:Tr()?W.apn=S.packageName:Te(y,"operation-not-supported-in-this-environment"),S.displayName&&(W.appDisplayName=S.displayName),W.sessionId=N,Ns(y,m,f.type,void 0,null!==(E=f.eventId)&&void 0!==E?E:void 0,W)})).apply(this,arguments)}function Ad(){return(Ad=(0,h.Z)(function*(y){const{BuildInfo:f}=Rs(),m={};Br()?m.iosBundleId=f.packageName:Tr()?m.androidPackageName=f.packageName:Te(y,"operation-not-supported-in-this-environment"),yield mg(y,m)})).apply(this,arguments)}function Ag(){return(Ag=(0,h.Z)(function*(y,f,m){const{cordova:E}=Rs();let S=()=>{};try{yield new Promise((N,W)=>{let fe=null;function Le(){var ct;N();const Sn=null===(ct=E.plugins.browsertab)||void 0===ct?void 0:ct.close;"function"==typeof Sn&&Sn(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function Ze(){fe||(fe=window.setTimeout(()=>{W(Ee(y,"redirect-cancelled-by-user"))},2e3))}function _t(){"visible"===(null==document?void 0:document.visibilityState)&&Ze()}f.addPassiveListener(Le),document.addEventListener("resume",Ze,!1),Tr()&&document.addEventListener("visibilitychange",_t,!1),S=()=>{f.removePassiveListener(Le),document.removeEventListener("resume",Ze,!1),document.removeEventListener("visibilitychange",_t,!1),fe&&window.clearTimeout(fe)}})}finally{S()}})).apply(this,arguments)}function sf(y){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,h.Z)(function*(y){const f=of(y),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function of(y){if(Z(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),m=new Uint8Array(f);for(let E=0;E<y.length;E++)m[E]=y.charCodeAt(E);return m}!function Y0(y){(0,ae._registerComponent)(new ue.wA("auth",(f,{options:m})=>{const E=f.getProvider("app").getImmediate(),S=f.getProvider("heartbeat"),{apiKey:N,authDomain:W}=E.options;return((fe,Le)=>{j(N&&!N.includes(":"),"invalid-api-key",{appName:fe.name}),j(!(null==W?void 0:W.includes(":")),"argument-error",{appName:fe.name});const Ze={apiKey:N,authDomain:W,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xo(y)},_t=new We(fe,Le,Ze);return function oe(y,f){const m=(null==f?void 0:f.persistence)||[],E=(Array.isArray(m)?m:[m]).map(ee);(null==f?void 0:f.errorMap)&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(E,null==f?void 0:f.popupRedirectResolver)}(_t,m),_t})(E,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,E)=>{f.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new ue.wA("auth-internal",f=>{const m=at(f.getProvider("auth").getImmediate());return new Cg(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(Dg,"0.20.1",function Sd(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ae.registerVersion)(Dg,"0.20.1","esm2017")}("Browser");class xd extends $u{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,h.Z)(function*(){yield f.initPromise})()}}function Zu(y){return ql.apply(this,arguments)}function ql(){return(ql=(0,h.Z)(function*(y){const f=yield Ka()._get(uf(y));return f&&(yield Ka()._remove(uf(y))),f})).apply(this,arguments)}function af(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const E=Math.floor(Math.random()*f.length);y.push(f.charAt(E))}return y.join("")}function Ka(){return ee(ri)}function uf(y){return $n("authEvent",y.config.apiKey,y.name)}function qt(y){if(!(null==y?void 0:y.includes("?")))return{};const[f,...m]=y.split("?");return(0,P.zd)(m.join("?"))}function Yu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ee("no-auth-event")}}function Ya(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Og(y=(0,P.z$)()){return!("file:"!==Ya()&&"ionic:"!==Ya()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function hf(){try{const y=self.localStorage,f=Ui();if(y)return y.setItem(f,"1"),y.removeItem(f),!function df(y=(0,P.z$)()){return function Or(){return(0,P.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Qa(y=(0,P.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,P.hl)()}catch(y){return dr()&&(0,P.hl)()}return!1}function dr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ja(){return(function qy(){return"http:"===Ya()||"https:"===Ya()}()||(0,P.ru)()||Og())&&!function sa(){return(0,P.b$)()||(0,P.UG)()}()&&hf()&&!dr()}function Od(){return Og()&&"undefined"!=typeof document}function zl(){return(zl=(0,h.Z)(function*(){return!!Od()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const ci={LOCAL:"local",NONE:"none",SESSION:"session"},go=j,Rg="persistence";function Qu(y){return ff.apply(this,arguments)}function ff(){return(ff=(0,h.Z)(function*(y){yield y._initializationPromise;const f=kg(),m=$n(Rg,y.config.apiKey,y.name);f&&f.setItem(m,y._getPersistence())})).apply(this,arguments)}function kg(){var y;try{return(null===(y=function Ng(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(f){return null}}const Wy=j;class di{constructor(){this.browserResolver=ee(class Vy{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Un,this._completeRedirectFn=qr,this._overrideRedirectResult=C}_openPopup(f,m,E,S){var N=this;return(0,h.Z)(function*(){var W;Z(null===(W=N.eventManagers[f._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const fe=Ns(f,m,E,Re(),S);return function $l(y,f,m,E=500,S=600){const N=Math.max((window.screen.availHeight-S)/2,0).toString(),W=Math.max((window.screen.availWidth-E)/2,0).toString();let fe="";const Le=Object.assign(Object.assign({},ef),{width:E.toString(),height:S.toString(),top:N,left:W}),Ze=(0,P.z$)().toLowerCase();m&&(fe=Da(Ze)?"_blank":m),ba(Ze)&&(f=f||"http://localhost",Le.scrollbars="yes");const _t=Object.entries(Le).reduce((Sn,[fi,Zl])=>`${Sn}${fi}=${Zl},`,"");if(function Ws(y=(0,P.z$)()){var f;return Br(y)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(Ze)&&"_self"!==fe)return function Fy(y,f){const m=document.createElement("a");m.href=y,m.target=f;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(E)}(f||"",fe),new Eg(null);const ct=window.open(f||"",fe,_t);j(ct,y,"popup-blocked");try{ct.focus()}catch(Sn){}return new Eg(ct)}(f,fe,Ui())})()}_openRedirect(f,m,E,S){var N=this;return(0,h.Z)(function*(){return yield N._originValidation(f),function ja(y){on().location.href=y}(Ns(f,m,E,Re(),S)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:S,promise:N}=this.eventManagers[m];return S?Promise.resolve(S):(Z(N,"If manager is not set, promise should be"),N)}const E=this.initAndGetManager(f);return this.eventManagers[m]={promise:E},E.catch(()=>{delete this.eventManagers[m]}),E}initAndGetManager(f){var m=this;return(0,h.Z)(function*(){const E=yield function bd(y){return ra.apply(this,arguments)}(f),S=new $u(f);return E.register("authEvent",N=>(j(null==N?void 0:N.authEvent,f,"invalid-auth-event"),{status:S.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:S},m.iframes[f._key()]=E,S})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(Cd,{type:Cd},S=>{var N;const W=null===(N=null==S?void 0:S[0])||void 0===N?void 0:N[Cd];void 0!==W&&m(!!W),Te(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Ny(y){return yg.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return _s()||Eu()||Br()}}),this.cordovaResolver=ee(class xg{constructor(){this._redirectPersistence=Un,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=qr,this._overrideRedirectResult=C}_initialize(f){var m=this;return(0,h.Z)(function*(){const E=f._key();let S=m.eventManagers.get(E);return S||(S=new xd(f),m.eventManagers.set(E,S),m.attachCallbackListeners(f,S)),S})()}_openPopup(f){Te(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,E,S){var N=this;return(0,h.Z)(function*(){!function zu(y){var f,m,E,S,N,W,fe,Le,Ze,_t;const ct=Rs();j("function"==typeof(null===(f=null==ct?void 0:ct.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),j(void 0!==(null===(m=null==ct?void 0:ct.BuildInfo)||void 0===m?void 0:m.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),j("function"==typeof(null===(N=null===(S=null===(E=null==ct?void 0:ct.cordova)||void 0===E?void 0:E.plugins)||void 0===S?void 0:S.browsertab)||void 0===N?void 0:N.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j("function"==typeof(null===(Le=null===(fe=null===(W=null==ct?void 0:ct.cordova)||void 0===W?void 0:W.plugins)||void 0===fe?void 0:fe.browsertab)||void 0===Le?void 0:Le.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j("function"==typeof(null===(_t=null===(Ze=null==ct?void 0:ct.cordova)||void 0===Ze?void 0:Ze.InAppBrowser)||void 0===_t?void 0:_t.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const W=yield N._initialize(f);yield W.initialized(),W.resetRedirect(),function I(){cr.clear()}(),yield N._originValidation(f);const fe=function Wu(y,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:af(),postBody:null,tenantId:y.tenantId,error:Ee(y,"no-auth-event")}}(f,E,S);yield function Uy(y,f){return Ka()._set(uf(y),f)}(f,fe);const Le=yield function ns(y,f,m){return Wa.apply(this,arguments)}(f,fe,m),Ze=yield function Md(y){const{cordova:f}=Rs();return new Promise(m=>{f.plugins.browsertab.isAvailable(E=>{let S=null;E?f.plugins.browsertab.openUrl(y):S=f.InAppBrowser.open(y,function Yc(y=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(S)})})}(Le);return function Za(y,f,m){return Ag.apply(this,arguments)}(f,W,Ze)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Sg(y){return Ad.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:E,handleOpenURL:S,BuildInfo:N}=Rs(),W=setTimeout((0,h.Z)(function*(){yield Zu(f),m.onEvent(Yu())}),500),fe=function(){var _t=(0,h.Z)(function*(ct){clearTimeout(W);const Sn=yield Zu(f);let fi=null;Sn&&(null==ct?void 0:ct.url)&&(fi=function By(y,f){var m,E;const S=function cf(y){const f=qt(y),m=f.link?decodeURIComponent(f.link):void 0,E=qt(m).link,S=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return qt(S).link||S||E||m||y}(f);if(S.includes("/__/auth/callback")){const N=qt(S),W=N.firebaseError?function lf(y){try{return JSON.parse(y)}catch(f){return null}}(decodeURIComponent(N.firebaseError)):null,fe=null===(E=null===(m=null==W?void 0:W.code)||void 0===m?void 0:m.split("auth/"))||void 0===E?void 0:E[1],Le=fe?Ee(fe):null;return Le?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:S,postBody:null}}return null}(Sn,ct.url)),m.onEvent(fi||Yu())});return function(Sn){return _t.apply(this,arguments)}}();void 0!==E&&"function"==typeof E.subscribe&&E.subscribe(null,fe);const Le=S,Ze=`${N.packageName.toLowerCase()}://`;Rs().handleOpenURL=function(){var _t=(0,h.Z)(function*(ct){if(ct.toLowerCase().startsWith(Ze)&&fe({url:ct}),"function"==typeof Le)try{Le(ct)}catch(Sn){console.error(Sn)}});return function(ct){return _t.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Un,this._completeRedirectFn=qr,this._overrideRedirectResult=C}_initialize(f){var m=this;return(0,h.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,E,S){var N=this;return(0,h.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(f,m,E,S)})()}_openRedirect(f,m,E,S){var N=this;return(0,h.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(f,m,E,S)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Od()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Wy(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,h.Z)(function*(){if(f.underlyingResolver)return;const m=yield function zy(){return zl.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function Fg(y){return y.unwrap()}function Nd(y){return Lg(y)}function Lg(y){const{_tokenResponse:f}=y instanceof P.ZR?y.customData:y;if(!f)return null;if(!(y instanceof P.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return lo.credentialFromResult(y);const m=f.providerId;if(!m||"password"===m)return null;let E;switch(m){case"google.com":E=sd;break;case"facebook.com":E=Ro;break;case"github.com":E=Wh;break;case"twitter.com":E=od;break;default:const{oauthIdToken:S,oauthAccessToken:N,oauthTokenSecret:W,pendingToken:fe,nonce:Le}=f;return N||W||S||fe?fe?m.startsWith("saml.")?Ys._create(m,fe):Ki._fromParams({providerId:m,signInMethod:m,pendingToken:fe,idToken:S,accessToken:N}):new Ri(m).credential({idToken:S,accessToken:N,rawNonce:Le}):null}return y instanceof P.ZR?E.credentialFromError(y):E.credentialFromResult(y)}function hi(y,f){return f.catch(m=>{throw m instanceof P.ZR&&function Ky(y,f){var m;const E=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new Vg(y,function Kn(y,f){var m;const E=(0,P.m9)(y),S=f;return j(f.customData.operationType,E,"argument-error"),j(null===(m=S.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,E,"argument-error"),Go._fromError(E,S)}(y,f));else if(E){const S=Lg(f),N=f;S&&(N.credential=S,N.tenantId=E.tenantId||void 0,N.email=E.email||void 0,N.phoneNumber=E.phoneNumber||void 0)}}(y,m),m}).then(m=>{const S=m.user;return{operationType:m.operationType,credential:Nd(m),additionalUserInfo:Vi(m),user:Ps.getOrCreate(S)}})}function pf(y,f){return gf.apply(this,arguments)}function gf(){return(gf=(0,h.Z)(function*(y,f){const m=yield f;return{verificationId:m.verificationId,confirm:E=>hi(y,m.confirm(E))}})).apply(this,arguments)}class Vg{constructor(f,m){this.resolver=m,this.auth=function Zy(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return hi(Fg(this.auth),this.resolver.resolveSignIn(f))}}class Ps{constructor(f){this._delegate=f,this.multiFactor=function Ru(y){const f=(0,P.m9)(y);return Nu.has(f)||Nu.set(f,hd._fromUser(f)),Nu.get(f)}(f)}static getOrCreate(f){return Ps.USER_MAP.has(f)||Ps.USER_MAP.set(f,new Ps(f)),Ps.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,h.Z)(function*(){return hi(m.auth,ar(m._delegate,f))})()}linkWithPhoneNumber(f,m){var E=this;return(0,h.Z)(function*(){return pf(E.auth,function xy(y,f,m){return Vl.apply(this,arguments)}(E._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,h.Z)(function*(){return hi(m.auth,function vd(y,f,m){return Hi.apply(this,arguments)}(m._delegate,f,di))})()}linkWithRedirect(f){var m=this;return(0,h.Z)(function*(){return yield Qu(at(m.auth)),function $t(y,f,m){return function wt(y,f,m){return Er.apply(this,arguments)}(y,f,m)}(m._delegate,f,di)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,h.Z)(function*(){return hi(m.auth,Yi(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return pf(this.auth,function si(y,f,m){return oi.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return hi(this.auth,function Ii(y,f,m){return Bu.apply(this,arguments)}(this._delegate,f,di))}reauthenticateWithRedirect(f){var m=this;return(0,h.Z)(function*(){return yield Qu(at(m.auth)),function Ve(y,f,m){return function Tt(y,f,m){return dt.apply(this,arguments)}(y,f,m)}(m._delegate,f,di)})()}sendEmailVerification(f){return function xl(y,f){return Mu.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,h.Z)(function*(){return yield function Zh(y,f){return nn.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function lg(y,f){return jo((0,P.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function Rl(y,f){return jo((0,P.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function uo(y,f){return ea.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Nl(y,f){return La.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function Ol(y,f,m){return xu.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ps.USER_MAP=new WeakMap;const Wl=j;let Ug=(()=>{class y{constructor(m,E){if(this.app=m,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=m.options;Wl(S,"invalid-api-key",{appName:m.name}),Wl(S,"invalid-api-key",{appName:m.name});const N="undefined"!=typeof window?di:void 0;this._delegate=E.initialize({options:{persistence:Yy(S,m.name),popupRedirectResolver:N}}),this._delegate._updateErrorMap(Ne),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ps.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,E){!function $r(y,f,m){const E=at(y);j(E._canInitEmulator,E,"emulator-config-failed"),j(/^https?:\/\//.test(f),E,"invalid-emulator-scheme");const S=!!(null==m?void 0:m.disableWarnings),N=Ai(f),{host:W,port:fe}=function Vn(y){const f=Ai(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!m)return{host:"",port:null};const E=m[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(E);if(S){const N=S[1];return{host:N,port:Mi(E.substr(N.length+1))}}{const[N,W]=E.split(":");return{host:N,port:Mi(W)}}}(f);E.config.emulator={url:`${N}//${W}${null===fe?"":`:${fe}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:W,port:fe,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function cn(){function y(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,E)}applyActionCode(m){return function Se(y,f){return Ft.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Al(this._delegate,m)}confirmPasswordReset(m,E){return function Tl(y,f,m){return Sl.apply(this,arguments)}(this._delegate,m,E)}createUserWithEmailAndPassword(m,E){var S=this;return(0,h.Z)(function*(){return hi(S._delegate,function ni(y,f,m){return Ra.apply(this,arguments)}(S._delegate,m,E))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Cs(y,f){return bi.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Pa(y,f){const m=Iu.parseLink(f);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,h.Z)(function*(){Wl(Ja(),m._delegate,"operation-not-supported-in-this-environment");const E=yield function Qn(y,f){return ts.apply(this,arguments)}(m._delegate,di);return E?hi(m._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function jy(y,f){at(y)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,E,S){const{next:N,error:W,complete:fe}=Bg(m,E,S);return this._delegate.onAuthStateChanged(N,W,fe)}onIdTokenChanged(m,E,S){const{next:N,error:W,complete:fe}=Bg(m,E,S);return this._delegate.onIdTokenChanged(N,W,fe)}sendSignInLinkToEmail(m,E){return function ug(y,f,m){return Su.apply(this,arguments)}(this._delegate,m,E)}sendPasswordResetEmail(m,E){return function Cl(y,f,m){return Na.apply(this,arguments)}(this._delegate,m,E||void 0)}setPersistence(m){var E=this;return(0,h.Z)(function*(){let S;switch(function Pg(y,f){go(Object.values(ci).includes(f),y,"invalid-persistence-type"),(0,P.b$)()?go(f!==ci.SESSION,y,"unsupported-persistence-type"):(0,P.UG)()?go(f===ci.NONE,y,"unsupported-persistence-type"):dr()?go(f===ci.NONE||f===ci.LOCAL&&(0,P.hl)(),y,"unsupported-persistence-type"):go(f===ci.NONE||hf(),y,"unsupported-persistence-type")}(E._delegate,m),m){case ci.SESSION:S=Un;break;case ci.LOCAL:S=(yield ee(As)._isAvailable())?As:ri;break;case ci.NONE:S=Et;break;default:return Te("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return hi(this._delegate,function ad(y){return bl.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return hi(this._delegate,_n(this._delegate,m))}signInWithCustomToken(m){return hi(this._delegate,function Lo(y,f){return ft.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,E){return hi(this._delegate,function Ml(y,f,m){return _n((0,P.m9)(y),id.credential(f,m))}(this._delegate,m,E))}signInWithEmailLink(m,E){return hi(this._delegate,function Au(y,f,m){return Rn.apply(this,arguments)}(this._delegate,m,E))}signInWithPhoneNumber(m,E){return pf(this._delegate,function Ll(y,f,m){return oo.apply(this,arguments)}(this._delegate,m,E))}signInWithPopup(m){var E=this;return(0,h.Z)(function*(){return Wl(Ja(),E._delegate,"operation-not-supported-in-this-environment"),hi(E._delegate,function _d(y,f,m){return Os.apply(this,arguments)}(E._delegate,m,di))})()}signInWithRedirect(m){var E=this;return(0,h.Z)(function*(){return Wl(Ja(),E._delegate,"operation-not-supported-in-this-environment"),yield Qu(E._delegate),function Y(y,f,m){return function ne(y,f,m){return ge.apply(this,arguments)}(y,f,m)}(E._delegate,m,di)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Uo(y,f){return Xs.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=ci,y})();function Bg(y,f,m){let E=y;"function"!=typeof y&&({next:E,error:f,complete:m}=y);const S=E;return{next:W=>S(W&&Ps.getOrCreate(W)),error:f,complete:m}}function Yy(y,f){const m=function Xa(y,f){const m=kg();if(!m)return[];const E=$n(Rg,y,f);switch(m.getItem(E)){case ci.NONE:return[Et];case ci.LOCAL:return[As,Un];case ci.SESSION:return[Un];default:return[]}}(y,f);if("undefined"!=typeof self&&!m.includes(As)&&m.push(As),"undefined"!=typeof window)for(const E of[ri,Un])m.includes(E)||m.push(E);return m.includes(Et)||m.push(Et),m}class mf{constructor(){this.providerId="phone",this._delegate=new lo(Fg(X.Z.auth()))}static credential(f,m){return lo.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}mf.PHONE_SIGN_IN_METHOD=lo.PHONE_SIGN_IN_METHOD,mf.PROVIDER_ID=lo.PROVIDER_ID;const jg=j;class J0{constructor(f,m,E=X.Z.app()){var S;jg(null===(S=E.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new so(f,m,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function rs(y){y.INTERNAL.registerComponent(new ue.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),E=f.getProvider("auth");return new Ug(m,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:id,FacebookAuthProvider:Ro,GithubAuthProvider:Wh,GoogleAuthProvider:sd,OAuthProvider:Ri,SAMLAuthProvider:Sr,PhoneAuthProvider:mf,PhoneMultiFactorGenerator:bg,RecaptchaVerifier:J0,TwitterAuthProvider:od,Auth:Ug,AuthCredential:Ei,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.14")}(X.Z)},8306:(Xe,we,R)=>{R.d(we,{y:()=>$});var h=R(2961),X=R(727),P=R(8822),ae=R(4671);var ue=R(2416),se=R(576),ce=R(2806);let $=(()=>{class Me{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const he=new Me;return he.source=this,he.operator=Ue,he}subscribe(Ue,he,Ce){const ze=function qe(Me){return Me&&Me instanceof h.Lv||function te(Me){return Me&&(0,se.m)(Me.next)&&(0,se.m)(Me.error)&&(0,se.m)(Me.complete)}(Me)&&(0,X.Nn)(Me)}(Ue)?Ue:new h.Hp(Ue,he,Ce);return(0,ce.x)(()=>{const{operator:Ye,source:Te}=this;ze.add(Ye?Ye.call(ze,Te):Te?this._subscribe(ze):this._trySubscribe(ze))}),ze}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(he){Ue.error(he)}}forEach(Ue,he){return new(he=B(he))((Ce,ze)=>{const Ye=new h.Hp({next:Te=>{try{Ue(Te)}catch(Ee){ze(Ee),Ye.unsubscribe()}},error:ze,complete:Ce});this.subscribe(Ye)})}_subscribe(Ue){var he;return null===(he=this.source)||void 0===he?void 0:he.subscribe(Ue)}[P.L](){return this}pipe(...Ue){return function pe(Me){return 0===Me.length?ae.y:1===Me.length?Me[0]:function(Ue){return Me.reduce((he,Ce)=>Ce(he),Ue)}}(Ue)(this)}toPromise(Ue){return new(Ue=B(Ue))((he,Ce)=>{let ze;this.subscribe(Ye=>ze=Ye,Ye=>Ce(Ye),()=>he(ze))})}}return Me.create=Ne=>new Me(Ne),Me})();function B(Me){var Ne;return null!==(Ne=null!=Me?Me:ue.v.Promise)&&void 0!==Ne?Ne:Promise}},7579:(Xe,we,R)=>{R.d(we,{x:()=>ue});var h=R(8306),X=R(727);const ae=(0,R(3888).d)(ce=>function(){ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=R(8737),pe=R(2806);let ue=(()=>{class ce extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(B){const te=new se(this,this);return te.operator=B,te}_throwIfClosed(){if(this.closed)throw new ae}next(B){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(B)}})}error(B){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=B;const{observers:te}=this;for(;te.length;)te.shift().error(B)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:B}=this;for(;B.length;)B.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var B;return(null===(B=this.observers)||void 0===B?void 0:B.length)>0}_trySubscribe(B){return this._throwIfClosed(),super._trySubscribe(B)}_subscribe(B){return this._throwIfClosed(),this._checkFinalizedStatuses(B),this._innerSubscribe(B)}_innerSubscribe(B){const{hasError:te,isStopped:qe,observers:Me}=this;return te||qe?X.Lc:(this.currentObservers=null,Me.push(B),new X.w0(()=>{this.currentObservers=null,(0,re.P)(Me,B)}))}_checkFinalizedStatuses(B){const{hasError:te,thrownError:qe,isStopped:Me}=this;te?B.error(qe):Me&&B.complete()}asObservable(){const B=new h.y;return B.source=this,B}}return ce.create=($,B)=>new se($,B),ce})();class se extends ue{constructor($,B){super(),this.destination=$,this.source=B}next($){var B,te;null===(te=null===(B=this.destination)||void 0===B?void 0:B.next)||void 0===te||te.call(B,$)}error($){var B,te;null===(te=null===(B=this.destination)||void 0===B?void 0:B.error)||void 0===te||te.call(B,$)}complete(){var $,B;null===(B=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===B||B.call($)}_subscribe($){var B,te;return null!==(te=null===(B=this.source)||void 0===B?void 0:B.subscribe($))&&void 0!==te?te:X.Lc}}},2961:(Xe,we,R)=>{R.d(we,{Hp:()=>Ue,Lv:()=>te});var h=R(576),X=R(727),P=R(2416),ae=R(7849);function re(){}const pe=ce("C",void 0,void 0);function ce(Te,Ee,De){return{kind:Te,value:Ee,error:De}}var $=R(3410),B=R(2806);class te extends X.w0{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,X.Nn)(Ee)&&Ee.add(this)):this.destination=Ye}static create(Ee,De,$e){return new Ue(Ee,De,$e)}next(Ee){this.isStopped?ze(function se(Te){return ce("N",Te,void 0)}(Ee),this):this._next(Ee)}error(Ee){this.isStopped?ze(function ue(Te){return ce("E",void 0,Te)}(Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?ze(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qe=Function.prototype.bind;function Me(Te,Ee){return qe.call(Te,Ee)}class Ne{constructor(Ee){this.partialObserver=Ee}next(Ee){const{partialObserver:De}=this;if(De.next)try{De.next(Ee)}catch($e){he($e)}}error(Ee){const{partialObserver:De}=this;if(De.error)try{De.error(Ee)}catch($e){he($e)}else he(Ee)}complete(){const{partialObserver:Ee}=this;if(Ee.complete)try{Ee.complete()}catch(De){he(De)}}}class Ue extends te{constructor(Ee,De,$e){let je;if(super(),(0,h.m)(Ee)||!Ee)je={next:null!=Ee?Ee:void 0,error:null!=De?De:void 0,complete:null!=$e?$e:void 0};else{let j;this&&P.v.useDeprecatedNextContext?(j=Object.create(Ee),j.unsubscribe=()=>this.unsubscribe(),je={next:Ee.next&&Me(Ee.next,j),error:Ee.error&&Me(Ee.error,j),complete:Ee.complete&&Me(Ee.complete,j)}):je=Ee}this.destination=new Ne(je)}}function he(Te){P.v.useDeprecatedSynchronousErrorHandling?(0,B.O)(Te):(0,ae.h)(Te)}function ze(Te,Ee){const{onStoppedNotification:De}=P.v;De&&$.z.setTimeout(()=>De(Te,Ee))}const Ye={closed:!0,next:re,error:function Ce(Te){throw Te},complete:re}},727:(Xe,we,R)=>{R.d(we,{Lc:()=>pe,w0:()=>re,Nn:()=>ue});var h=R(576);const P=(0,R(3888).d)(ce=>function(B){ce(this),this.message=B?`${B.length} errors occurred during unsubscription:\n${B.map((te,qe)=>`${qe+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=B});var ae=R(8737);class re{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:B}=this;if(B)if(this._parentage=null,Array.isArray(B))for(const Me of B)Me.remove(this);else B.remove(this);const{initialTeardown:te}=this;if((0,h.m)(te))try{te()}catch(Me){$=Me instanceof P?Me.errors:[Me]}const{_finalizers:qe}=this;if(qe){this._finalizers=null;for(const Me of qe)try{se(Me)}catch(Ne){$=null!=$?$:[],Ne instanceof P?$=[...$,...Ne.errors]:$.push(Ne)}}if($)throw new P($)}}add($){var B;if($&&$!==this)if(this.closed)se($);else{if($ instanceof re){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(B=this._finalizers)&&void 0!==B?B:[]).push($)}}_hasParent($){const{_parentage:B}=this;return B===$||Array.isArray(B)&&B.includes($)}_addParent($){const{_parentage:B}=this;this._parentage=Array.isArray(B)?(B.push($),B):B?[B,$]:$}_removeParent($){const{_parentage:B}=this;B===$?this._parentage=null:Array.isArray(B)&&(0,ae.P)(B,$)}remove($){const{_finalizers:B}=this;B&&(0,ae.P)(B,$),$ instanceof re&&$._removeParent(this)}}re.EMPTY=(()=>{const ce=new re;return ce.closed=!0,ce})();const pe=re.EMPTY;function ue(ce){return ce instanceof re||ce&&"closed"in ce&&(0,h.m)(ce.remove)&&(0,h.m)(ce.add)&&(0,h.m)(ce.unsubscribe)}function se(ce){(0,h.m)(ce)?ce():ce.unsubscribe()}},2416:(Xe,we,R)=>{R.d(we,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Xe,we,R)=>{R.d(we,{E:()=>X});const X=new(R(8306).y)(re=>re.complete())},8996:(Xe,we,R)=>{R.d(we,{D:()=>Ee});var h=R(8421),X=R(5363),P=R(9468),pe=R(8306),se=R(2202),ce=R(576),$=R(9672);function te(De,$e){if(!De)throw new Error("Iterable cannot be null");return new pe.y(je=>{(0,$.f)(je,$e,()=>{const j=De[Symbol.asyncIterator]();(0,$.f)(je,$e,()=>{j.next().then(ve=>{ve.done?je.complete():je.next(ve.value)})},0,!0)})})}var qe=R(3670),Me=R(8239),Ne=R(1144),Ue=R(6495),he=R(2206),Ce=R(4532),ze=R(3260);function Ee(De,$e){return $e?function Te(De,$e){if(null!=De){if((0,qe.c)(De))return function ae(De,$e){return(0,h.Xf)(De).pipe((0,P.R)($e),(0,X.Q)($e))}(De,$e);if((0,Ne.z)(De))return function ue(De,$e){return new pe.y(je=>{let j=0;return $e.schedule(function(){j===De.length?je.complete():(je.next(De[j++]),je.closed||this.schedule())})})}(De,$e);if((0,Me.t)(De))return function re(De,$e){return(0,h.Xf)(De).pipe((0,P.R)($e),(0,X.Q)($e))}(De,$e);if((0,he.D)(De))return te(De,$e);if((0,Ue.T)(De))return function B(De,$e){return new pe.y(je=>{let j;return(0,$.f)(je,$e,()=>{j=De[se.h](),(0,$.f)(je,$e,()=>{let ve,Z;try{({value:ve,done:Z}=j.next())}catch(ie){return void je.error(ie)}Z?je.complete():je.next(ve)},0,!0)}),()=>(0,ce.m)(null==j?void 0:j.return)&&j.return()})}(De,$e);if((0,ze.L)(De))return function Ye(De,$e){return te((0,ze.Q)(De),$e)}(De,$e)}throw(0,Ce.z)(De)}(De,$e):(0,h.Xf)(De)}},8421:(Xe,we,R)=>{R.d(we,{Xf:()=>qe});var h=R(655),X=R(1144),P=R(8239),ae=R(8306),re=R(3670),pe=R(2206),ue=R(4532),se=R(6495),ce=R(3260),$=R(576),B=R(7849),te=R(8822);function qe(Te){if(Te instanceof ae.y)return Te;if(null!=Te){if((0,re.c)(Te))return function Me(Te){return new ae.y(Ee=>{const De=Te[te.L]();if((0,$.m)(De.subscribe))return De.subscribe(Ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Te);if((0,X.z)(Te))return function Ne(Te){return new ae.y(Ee=>{for(let De=0;De<Te.length&&!Ee.closed;De++)Ee.next(Te[De]);Ee.complete()})}(Te);if((0,P.t)(Te))return function Ue(Te){return new ae.y(Ee=>{Te.then(De=>{Ee.closed||(Ee.next(De),Ee.complete())},De=>Ee.error(De)).then(null,B.h)})}(Te);if((0,pe.D)(Te))return Ce(Te);if((0,se.T)(Te))return function he(Te){return new ae.y(Ee=>{for(const De of Te)if(Ee.next(De),Ee.closed)return;Ee.complete()})}(Te);if((0,ce.L)(Te))return function ze(Te){return Ce((0,ce.Q)(Te))}(Te)}throw(0,ue.z)(Te)}function Ce(Te){return new ae.y(Ee=>{(function Ye(Te,Ee){var De,$e,je,j;return(0,h.mG)(this,void 0,void 0,function*(){try{for(De=(0,h.KL)(Te);!($e=yield De.next()).done;)if(Ee.next($e.value),Ee.closed)return}catch(ve){je={error:ve}}finally{try{$e&&!$e.done&&(j=De.return)&&(yield j.call(De))}finally{if(je)throw je.error}}Ee.complete()})})(Te,Ee).catch(De=>Ee.error(De))})}},6451:(Xe,we,R)=>{R.d(we,{T:()=>pe});var h=R(8189),X=R(8421),P=R(515),ae=R(7669),re=R(8996);function pe(...ue){const se=(0,ae.yG)(ue),ce=(0,ae._6)(ue,1/0),$=ue;return $.length?1===$.length?(0,X.Xf)($[0]):(0,h.J)(ce)((0,re.D)($,se)):P.E}},5403:(Xe,we,R)=>{R.d(we,{x:()=>X});var h=R(2961);function X(ae,re,pe,ue,se){return new P(ae,re,pe,ue,se)}class P extends h.Lv{constructor(re,pe,ue,se,ce,$){super(re),this.onFinalize=ce,this.shouldUnsubscribe=$,this._next=pe?function(B){try{pe(B)}catch(te){re.error(te)}}:super._next,this._error=se?function(B){try{se(B)}catch(te){re.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=ue?function(){try{ue()}catch(B){re.error(B)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},4004:(Xe,we,R)=>{R.d(we,{U:()=>P});var h=R(4482),X=R(5403);function P(ae,re){return(0,h.e)((pe,ue)=>{let se=0;pe.subscribe((0,X.x)(ue,ce=>{ue.next(ae.call(re,ce,se++))}))})}},8189:(Xe,we,R)=>{R.d(we,{J:()=>P});var h=R(5577),X=R(4671);function P(ae=1/0){return(0,h.z)(X.y,ae)}},5577:(Xe,we,R)=>{R.d(we,{z:()=>se});var h=R(4004),X=R(8421),P=R(4482),ae=R(9672),re=R(5403),ue=R(576);function se(ce,$,B=1/0){return(0,ue.m)($)?se((te,qe)=>(0,h.U)((Me,Ne)=>$(te,Me,qe,Ne))((0,X.Xf)(ce(te,qe))),B):("number"==typeof $&&(B=$),(0,P.e)((te,qe)=>function pe(ce,$,B,te,qe,Me,Ne,Ue){const he=[];let Ce=0,ze=0,Ye=!1;const Te=()=>{Ye&&!he.length&&!Ce&&$.complete()},Ee=$e=>Ce<te?De($e):he.push($e),De=$e=>{Me&&$.next($e),Ce++;let je=!1;(0,X.Xf)(B($e,ze++)).subscribe((0,re.x)($,j=>{null==qe||qe(j),Me?Ee(j):$.next(j)},()=>{je=!0},void 0,()=>{if(je)try{for(Ce--;he.length&&Ce<te;){const j=he.shift();Ne?(0,ae.f)($,Ne,()=>De(j)):De(j)}Te()}catch(j){$.error(j)}}))};return ce.subscribe((0,re.x)($,Ee,()=>{Ye=!0,Te()})),()=>{null==Ue||Ue()}}(te,qe,ce,B)))}},5363:(Xe,we,R)=>{R.d(we,{Q:()=>ae});var h=R(9672),X=R(4482),P=R(5403);function ae(re,pe=0){return(0,X.e)((ue,se)=>{ue.subscribe((0,P.x)(se,ce=>(0,h.f)(se,re,()=>se.next(ce),pe),()=>(0,h.f)(se,re,()=>se.complete(),pe),ce=>(0,h.f)(se,re,()=>se.error(ce),pe)))})}},3099:(Xe,we,R)=>{R.d(we,{B:()=>pe});var h=R(8996),X=R(5698),P=R(7579),ae=R(2961),re=R(4482);function pe(se={}){const{connector:ce=(()=>new P.x),resetOnError:$=!0,resetOnComplete:B=!0,resetOnRefCountZero:te=!0}=se;return qe=>{let Me=null,Ne=null,Ue=null,he=0,Ce=!1,ze=!1;const Ye=()=>{null==Ne||Ne.unsubscribe(),Ne=null},Te=()=>{Ye(),Me=Ue=null,Ce=ze=!1},Ee=()=>{const De=Me;Te(),null==De||De.unsubscribe()};return(0,re.e)((De,$e)=>{he++,!ze&&!Ce&&Ye();const je=Ue=null!=Ue?Ue:ce();$e.add(()=>{he--,0===he&&!ze&&!Ce&&(Ne=ue(Ee,te))}),je.subscribe($e),Me||(Me=new ae.Hp({next:j=>je.next(j),error:j=>{ze=!0,Ye(),Ne=ue(Te,$,j),je.error(j)},complete:()=>{Ce=!0,Ye(),Ne=ue(Te,B),je.complete()}}),(0,h.D)(De).subscribe(Me))})(qe)}}function ue(se,ce,...$){return!0===ce?(se(),null):!1===ce?null:ce(...$).pipe((0,X.q)(1)).subscribe(()=>se())}},9468:(Xe,we,R)=>{R.d(we,{R:()=>X});var h=R(4482);function X(P,ae=0){return(0,h.e)((re,pe)=>{pe.add(P.schedule(()=>re.subscribe(pe),ae))})}},5698:(Xe,we,R)=>{R.d(we,{q:()=>ae});var h=R(515),X=R(4482),P=R(5403);function ae(re){return re<=0?()=>h.E:(0,X.e)((pe,ue)=>{let se=0;pe.subscribe((0,P.x)(ue,ce=>{++se<=re&&(ue.next(ce),re<=se&&ue.complete())}))})}},8505:(Xe,we,R)=>{R.d(we,{b:()=>re});var h=R(576),X=R(4482),P=R(5403),ae=R(4671);function re(pe,ue,se){const ce=(0,h.m)(pe)||ue||se?{next:pe,error:ue,complete:se}:pe;return ce?(0,X.e)(($,B)=>{var te;null===(te=ce.subscribe)||void 0===te||te.call(ce);let qe=!0;$.subscribe((0,P.x)(B,Me=>{var Ne;null===(Ne=ce.next)||void 0===Ne||Ne.call(ce,Me),B.next(Me)},()=>{var Me;qe=!1,null===(Me=ce.complete)||void 0===Me||Me.call(ce),B.complete()},Me=>{var Ne;qe=!1,null===(Ne=ce.error)||void 0===Ne||Ne.call(ce,Me),B.error(Me)},()=>{var Me,Ne;qe&&(null===(Me=ce.unsubscribe)||void 0===Me||Me.call(ce)),null===(Ne=ce.finalize)||void 0===Ne||Ne.call(ce)}))}):ae.y}},4408:(Xe,we,R)=>{R.d(we,{o:()=>re});var h=R(727);class X extends h.w0{constructor(ue,se){super()}schedule(ue,se=0){return this}}const P={setInterval(pe,ue,...se){const{delegate:ce}=P;return(null==ce?void 0:ce.setInterval)?ce.setInterval(pe,ue,...se):setInterval(pe,ue,...se)},clearInterval(pe){const{delegate:ue}=P;return((null==ue?void 0:ue.clearInterval)||clearInterval)(pe)},delegate:void 0};var ae=R(8737);class re extends X{constructor(ue,se){super(ue,se),this.scheduler=ue,this.work=se,this.pending=!1}schedule(ue,se=0){if(this.closed)return this;this.state=ue;const ce=this.id,$=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId($,ce,se)),this.pending=!0,this.delay=se,this.id=this.id||this.requestAsyncId($,this.id,se),this}requestAsyncId(ue,se,ce=0){return P.setInterval(ue.flush.bind(ue,this),ce)}recycleAsyncId(ue,se,ce=0){if(null!=ce&&this.delay===ce&&!1===this.pending)return se;P.clearInterval(se)}execute(ue,se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ce=this._execute(ue,se);if(ce)return ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,se){let $,ce=!1;try{this.work(ue)}catch(B){ce=!0,$=B||new Error("Scheduled action threw falsy error")}if(ce)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:ue,scheduler:se}=this,{actions:ce}=se;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(ce,this),null!=ue&&(this.id=this.recycleAsyncId(se,ue,null)),this.delay=null,super.unsubscribe()}}}},7565:(Xe,we,R)=>{R.d(we,{v:()=>P});var h=R(6063);class X{constructor(re,pe=X.now){this.schedulerActionCtor=re,this.now=pe}schedule(re,pe=0,ue){return new this.schedulerActionCtor(this,re).schedule(ue,pe)}}X.now=h.l.now;class P extends X{constructor(re,pe=X.now){super(re,pe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(re){const{actions:pe}=this;if(this._active)return void pe.push(re);let ue;this._active=!0;do{if(ue=re.execute(re.state,re.delay))break}while(re=pe.shift());if(this._active=!1,ue){for(;re=pe.shift();)re.unsubscribe();throw ue}}}},4986:(Xe,we,R)=>{R.d(we,{z:()=>P});var h=R(4408);const P=new(R(7565).v)(h.o)},6063:(Xe,we,R)=>{R.d(we,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(Xe,we,R)=>{R.d(we,{z:()=>h});const h={setTimeout(X,P,...ae){const{delegate:re}=h;return(null==re?void 0:re.setTimeout)?re.setTimeout(X,P,...ae):setTimeout(X,P,...ae)},clearTimeout(X){const{delegate:P}=h;return((null==P?void 0:P.clearTimeout)||clearTimeout)(X)},delegate:void 0}},2202:(Xe,we,R)=>{R.d(we,{h:()=>X});const X=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Xe,we,R)=>{R.d(we,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Xe,we,R)=>{R.d(we,{_6:()=>pe,jO:()=>ae,yG:()=>re});var h=R(576);function P(ue){return ue[ue.length-1]}function ae(ue){return(0,h.m)(P(ue))?ue.pop():void 0}function re(ue){return function X(ue){return ue&&(0,h.m)(ue.schedule)}(P(ue))?ue.pop():void 0}function pe(ue,se){return"number"==typeof P(ue)?ue.pop():se}},8737:(Xe,we,R)=>{function h(X,P){if(X){const ae=X.indexOf(P);0<=ae&&X.splice(ae,1)}}R.d(we,{P:()=>h})},3888:(Xe,we,R)=>{function h(X){const ae=X(re=>{Error.call(re),re.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}R.d(we,{d:()=>h})},2806:(Xe,we,R)=>{R.d(we,{x:()=>P,O:()=>ae});var h=R(2416);let X=null;function P(re){if(h.v.useDeprecatedSynchronousErrorHandling){const pe=!X;if(pe&&(X={errorThrown:!1,error:null}),re(),pe){const{errorThrown:ue,error:se}=X;if(X=null,ue)throw se}}else re()}function ae(re){h.v.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=re)}},9672:(Xe,we,R)=>{function h(X,P,ae,re=0,pe=!1){const ue=P.schedule(function(){ae(),pe?X.add(this.schedule(null,re)):this.unsubscribe()},re);if(X.add(ue),!pe)return ue}R.d(we,{f:()=>h})},4671:(Xe,we,R)=>{function h(X){return X}R.d(we,{y:()=>h})},1144:(Xe,we,R)=>{R.d(we,{z:()=>h});const h=X=>X&&"number"==typeof X.length&&"function"!=typeof X},2206:(Xe,we,R)=>{R.d(we,{D:()=>X});var h=R(576);function X(P){return Symbol.asyncIterator&&(0,h.m)(null==P?void 0:P[Symbol.asyncIterator])}},576:(Xe,we,R)=>{function h(X){return"function"==typeof X}R.d(we,{m:()=>h})},3670:(Xe,we,R)=>{R.d(we,{c:()=>P});var h=R(8822),X=R(576);function P(ae){return(0,X.m)(ae[h.L])}},6495:(Xe,we,R)=>{R.d(we,{T:()=>P});var h=R(2202),X=R(576);function P(ae){return(0,X.m)(null==ae?void 0:ae[h.h])}},8239:(Xe,we,R)=>{R.d(we,{t:()=>X});var h=R(576);function X(P){return(0,h.m)(null==P?void 0:P.then)}},3260:(Xe,we,R)=>{R.d(we,{Q:()=>P,L:()=>ae});var h=R(655),X=R(576);function P(re){return(0,h.FC)(this,arguments,function*(){const ue=re.getReader();try{for(;;){const{value:se,done:ce}=yield(0,h.qq)(ue.read());if(ce)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(se)}}finally{ue.releaseLock()}})}function ae(re){return(0,X.m)(null==re?void 0:re.getReader)}},4482:(Xe,we,R)=>{R.d(we,{A:()=>X,e:()=>P});var h=R(576);function X(ae){return(0,h.m)(null==ae?void 0:ae.lift)}function P(ae){return re=>{if(X(re))return re.lift(function(pe){try{return ae(pe,this)}catch(ue){this.error(ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(Xe,we,R)=>{R.d(we,{h:()=>P});var h=R(2416),X=R(3410);function P(ae){X.z.setTimeout(()=>{const{onUnhandledError:re}=h.v;if(!re)throw ae;re(ae)})}},4532:(Xe,we,R)=>{function h(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(we,{z:()=>h})},655:(Xe,we,R)=>{function ae(Z,ie){var ee={};for(var me in Z)Object.prototype.hasOwnProperty.call(Z,me)&&ie.indexOf(me)<0&&(ee[me]=Z[me]);if(null!=Z&&"function"==typeof Object.getOwnPropertySymbols){var oe=0;for(me=Object.getOwnPropertySymbols(Z);oe<me.length;oe++)ie.indexOf(me[oe])<0&&Object.prototype.propertyIsEnumerable.call(Z,me[oe])&&(ee[me[oe]]=Z[me[oe]])}return ee}function se(Z,ie,ee,me){return new(ee||(ee=Promise))(function(Re,lt){function Ht(Qt){try{Qe(me.next(Qt))}catch(Mn){lt(Mn)}}function Bt(Qt){try{Qe(me.throw(Qt))}catch(Mn){lt(Mn)}}function Qe(Qt){Qt.done?Re(Qt.value):function oe(Re){return Re instanceof ee?Re:new ee(function(lt){lt(Re)})}(Qt.value).then(Ht,Bt)}Qe((me=me.apply(Z,ie||[])).next())})}function he(Z){return this instanceof he?(this.v=Z,this):new he(Z)}function Ce(Z,ie,ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,me=ee.apply(Z,ie||[]),Re=[];return oe={},lt("next"),lt("throw"),lt("return"),oe[Symbol.asyncIterator]=function(){return this},oe;function lt(en){me[en]&&(oe[en]=function(Kt){return new Promise(function(Dr,zt){Re.push([en,Kt,Dr,zt])>1||Ht(en,Kt)})})}function Ht(en,Kt){try{!function Bt(en){en.value instanceof he?Promise.resolve(en.value.v).then(Qe,Qt):Mn(Re[0][2],en)}(me[en](Kt))}catch(Dr){Mn(Re[0][3],Dr)}}function Qe(en){Ht("next",en)}function Qt(en){Ht("throw",en)}function Mn(en,Kt){en(Kt),Re.shift(),Re.length&&Ht(Re[0][0],Re[0][1])}}function Ye(Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ee,ie=Z[Symbol.asyncIterator];return ie?ie.call(Z):(Z=function te(Z){var ie="function"==typeof Symbol&&Symbol.iterator,ee=ie&&Z[ie],me=0;if(ee)return ee.call(Z);if(Z&&"number"==typeof Z.length)return{next:function(){return Z&&me>=Z.length&&(Z=void 0),{value:Z&&Z[me++],done:!Z}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(Z),ee={},me("next"),me("throw"),me("return"),ee[Symbol.asyncIterator]=function(){return this},ee);function me(Re){ee[Re]=Z[Re]&&function(lt){return new Promise(function(Ht,Bt){!function oe(Re,lt,Ht,Bt){Promise.resolve(Bt).then(function(Qe){Re({value:Qe,done:Ht})},lt)}(Ht,Bt,(lt=Z[Re](lt)).done,lt.value)})}}}R.d(we,{_T:()=>ae,mG:()=>se,qq:()=>he,FC:()=>Ce,KL:()=>Ye})},5e3:(Xe,we,R)=>{R.d(we,{deG:()=>hg,tb:()=>mu,AFp:()=>uy,ip1:()=>ay,CZH:()=>qv,hGG:()=>dT,z2F:()=>xp,sBO:()=>nT,Sil:()=>Zv,_Vd:()=>pu,EJc:()=>Rh,SBq:()=>Mc,qLn:()=>Nd,vpe:()=>$s,tBr:()=>qr,XFs:()=>yt,OlP:()=>gn,zs3:()=>ks,ZZ4:()=>Ph,aQg:()=>Lp,soG:()=>cy,YKP:()=>Ih,h0i:()=>Oc,PXZ:()=>s0,R0b:()=>Do,FiY:()=>ai,Lbi:()=>jc,g9A:()=>ly,Qsj:()=>fb,FYo:()=>hb,JOm:()=>S,tp0:()=>li,Rgc:()=>kc,dDg:()=>sD,q4F:()=>gb,GfV:()=>cl,s_b:()=>Ep,ifc:()=>Gt,eFA:()=>uD,G48:()=>yu,Gpc:()=>B,X6Q:()=>u0,_c5:()=>cT,VLi:()=>e0,c2e:()=>$c,zSh:()=>M_,wAp:()=>Be,vHH:()=>Ne,cg1:()=>Nm,kL8:()=>Pm,dqk:()=>jt,sIi:()=>nc,CqO:()=>He,QGY:()=>pc,F4k:()=>q_,RDi:()=>Dl,AaK:()=>se,qOj:()=>F_,TTD:()=>Ri,_Bn:()=>fu,xp6:()=>cE,uIk:()=>Vf,ekj:()=>lu,Suo:()=>Rb,Xpm:()=>ht,lG2:()=>Eu,Yz7:()=>Kt,cJS:()=>zt,oAB:()=>Cr,Yjl:()=>Da,Y36:()=>jn,_UZ:()=>uu,qZA:()=>An,TgZ:()=>vo,n5z:()=>Fu,LFG:()=>Ve,$8M:()=>io,$Z:()=>hc,NdJ:()=>pa,CRH:()=>Pb,kcU:()=>Sy,O4$:()=>Ty,ALo:()=>Cb,lcZ:()=>Sv,Q6J:()=>H_,s9C:()=>qf,iGM:()=>Ym,LSH:()=>Ku,YNc:()=>sw,_uU:()=>vc,Oqu:()=>rv,hij:()=>lh});var h=R(7579),X=R(727),P=R(8306),ae=R(6451),re=R(3099);function pe(i){for(let o in i)if(i[o]===pe)return o;throw Error("Could not find renamed property on target object.")}function ue(i,o){for(const a in o)o.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=o[a])}function se(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(se).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function ce(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const $=pe({__forward_ref__:pe});function B(i){return i.__forward_ref__=B,i.toString=function(){return se(this())},i}function te(i){return qe(i)?i():i}function qe(i){return"function"==typeof i&&i.hasOwnProperty($)&&i.__forward_ref__===B}class Ne extends Error{constructor(o,a){super(function Ue(i,o){return`NG0${Math.abs(i)}${o?": "+o:""}`}(o,a)),this.code=o}}function he(i){return"string"==typeof i?i:null==i?"":String(i)}function Ce(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():he(i)}function Ee(i,o){const a=o?` in ${o}`:"";throw new Ne(-201,`No provider for ${Ce(i)} found${a}`)}function Bt(i,o){null==i&&function Qe(i,o,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}(o,i,null,"!=")}function Kt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function zt(i){return{providers:i.providers||[],imports:i.imports||[]}}function Vt(i){return Wi(i,Ti)||Wi(i,Qr)}function Wi(i,o){return i.hasOwnProperty(o)?i[o]:null}function Ir(i){return i&&(i.hasOwnProperty(ys)||i.hasOwnProperty(Si))?i[ys]:null}const Ti=pe({\u0275prov:pe}),ys=pe({\u0275inj:pe}),Qr=pe({ngInjectableDef:pe}),Si=pe({ngInjectorDef:pe});var yt=(()=>((yt=yt||{})[yt.Default=0]="Default",yt[yt.Host=1]="Host",yt[yt.Self=2]="Self",yt[yt.SkipSelf=4]="SkipSelf",yt[yt.Optional=8]="Optional",yt))();let Jr;function xn(i){const o=Jr;return Jr=i,o}function qs(i,o,a){const l=Vt(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&yt.Optional?null:void 0!==o?o:void Ee(se(i),"Injector")}function Wn(i){return{toString:i}.toString()}var Ln=(()=>((Ln=Ln||{})[Ln.OnPush=0]="OnPush",Ln[Ln.Default=1]="Default",Ln))(),Gt=(()=>{return(i=Gt||(Gt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Gt;var i})();const it="undefined"!=typeof globalThis&&globalThis,vt="undefined"!=typeof window&&window,gr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,jt=it||"undefined"!=typeof global&&global||vt||gr,yr={},V=[],G=pe({\u0275cmp:pe}),q=pe({\u0275dir:pe}),Ie=pe({\u0275pipe:pe}),H=pe({\u0275mod:pe}),J=pe({\u0275fac:pe}),Oe=pe({__NG_ELEMENT_ID__:pe});let Je=0;function ht(i){return Wn(()=>{const a={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Ln.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||V,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Gt.Emulated,id:"c",styles:i.styles||V,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,g=i.features,_=i.pipes;return l.id+=Je++,l.inputs=ba(i.inputs,a),l.outputs=ba(i.outputs),g&&g.forEach(w=>w(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(ln):null,l.pipeDefs=_?()=>("function"==typeof _?_():_).map(Et):null,l})}function ln(i){return Hn(i)||function Tr(i){return i[q]||null}(i)}function Et(i){return function Zi(i){return i[Ie]||null}(i)}const $n={};function Cr(i){return Wn(()=>{const o={type:i.type,bootstrap:i.bootstrap||V,declarations:i.declarations||V,imports:i.imports||V,exports:i.exports||V,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&($n[i.id]=i.type),o})}function ba(i,o){if(null==i)return yr;const a={};for(const l in i)if(i.hasOwnProperty(l)){let d=i[l],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),a[d]=l,o&&(o[d]=g)}return a}const Eu=ht;function Da(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Hn(i){return i[G]||null}function Gn(i,o){const a=i[H]||null;if(!a&&!0===o)throw new Error(`Type ${se(i)} does not have '\u0275mod' property.`);return a}function Hr(i){return Array.isArray(i)&&"object"==typeof i[1]}function xi(i){return Array.isArray(i)&&!0===i[1]}function Du(i){return 0!=(8&i.flags)}function Qc(i){return 2==(2&i.flags)}function Oi(i){return 1==(1&i.flags)}function Ni(i){return null!==i.template}function vl(i){return 0!=(512&i[2])}function vr(i,o){return i.hasOwnProperty(J)?i[J]:null}class Ks{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function Ri(){return Ro}function Ro(i){return i.type.prototype.ngOnChanges&&(i.setInput=Wh),sd}function sd(){const i=Ys(this),o=null==i?void 0:i.current;if(o){const a=i.previous;if(a===yr)i.previous=o;else for(let l in o)a[l]=o[l];i.current=null,this.ngOnChanges(o)}}function Wh(i,o,a,l){const d=Ys(i)||function Po(i,o){return i[dn]=o}(i,{previous:yr,current:null}),g=d.current||(d.current={}),_=d.previous,w=this.declaredInputs[a],b=_[w];g[w]=new Ks(b&&b.currentValue,o,_===yr),i[l]=o}Ri.ngInherit=!0;const dn="__ngSimpleChanges__";function Ys(i){return i[dn]||null}let Fo;function Dl(i){Fo=i}function nn(i){return!!i.listen}const Aa={createRenderer:(i,o)=>function Pi(){return void 0!==Fo?Fo:"undefined"!=typeof document?document:void 0}()};function Yt(i){for(;Array.isArray(i);)i=i[0];return i}function Is(i,o){return Yt(o[i])}function or(i,o){return Yt(o[i.index])}function _n(i,o){return i.data[o]}function ar(i,o){const a=o[i];return Hr(a)?a:a[0]}function Js(i){return 4==(4&i[2])}function Yi(i){return 128==(128&i[2])}function wi(i,o){return null==o?null:i[o]}function Fi(i){i[18]=0}function Lo(i,o){i[5]+=o;let a=i,l=i[3];for(;null!==l&&(1===o&&1===a[5]||-1===o&&0===a[5]);)l[5]+=o,a=l,l=l[3]}const ft={lFrame:ud(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Na(){return ft.bindingsEnabled}function Se(){return ft.lFrame.lView}function Ft(){return ft.lFrame.tView}function hn(){let i=Uo();for(;null!==i&&64===i.type;)i=i.parent;return i}function Uo(){return ft.lFrame.currentTNode}function ni(i,o){const a=ft.lFrame;a.currentTNode=i,a.isParent=o}function Ra(){return ft.lFrame.isParent}function Pa(){return ft.isInCheckNoChangesMode}function Au(i){ft.isInCheckNoChangesMode=i}function Cs(){return ft.lFrame.bindingIndex++}function Ol(i,o){const a=ft.lFrame;a.bindingIndex=a.bindingRootIndex=i,Fa(o)}function Fa(i){ft.lFrame.currentDirectiveIndex=i}function Nl(){return ft.lFrame.currentQueryIndex}function La(i){ft.lFrame.currentQueryIndex=i}function lg(i){const o=i[1];return 2===o.type?o.declTNode:1===o.type?i[6]:null}function Rl(i,o,a){if(a&yt.SkipSelf){let d=o,g=i;for(;!(d=d.parent,null!==d||a&yt.Host||(d=lg(g),null===d||(g=g[15],10&d.type))););if(null===d)return!1;o=d,i=g}const l=ft.lFrame=Va();return l.currentTNode=o,l.lView=i,!0}function jo(i){const o=Va(),a=i[1];ft.lFrame=o,o.currentTNode=a.firstChild,o.lView=i,o.tView=a,o.contextLView=i,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Va(){const i=ft.lFrame,o=null===i?null:i.child;return null===o?ud(i):o}function ud(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function $o(){const i=ft.lFrame;return ft.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const ld=$o;function Ho(){const i=$o();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Zn(){return ft.lFrame.selectedIndex}function Vi(i){ft.lFrame.selectedIndex=i}function Cn(){const i=ft.lFrame;return _n(i.tView,i.selectedIndex)}function Ty(){ft.lFrame.currentNamespace="svg"}function Sy(){!function Ay(){ft.lFrame.currentNamespace=null}()}function dd(i,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const g=i.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:w,ngAfterViewInit:b,ngAfterViewChecked:T,ngOnDestroy:M}=g;_&&(i.contentHooks||(i.contentHooks=[])).push(-a,_),w&&((i.contentHooks||(i.contentHooks=[])).push(a,w),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,w)),b&&(i.viewHooks||(i.viewHooks=[])).push(-a,b),T&&((i.viewHooks||(i.viewHooks=[])).push(a,T),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,T)),null!=M&&(i.destroyHooks||(i.destroyHooks=[])).push(a,M)}}function Ua(i,o,a){Kn(i,o,3,a)}function Ji(i,o,a,l){(3&i[2])===a&&Kn(i,o,a,l)}function Go(i,o){let a=i[2];(3&a)===o&&(a&=2047,a+=1,i[2]=a)}function Kn(i,o,a,l){const g=null!=l?l:-1,_=o.length-1;let w=0;for(let b=void 0!==l?65535&i[18]:0;b<_;b++)if("number"==typeof o[b+1]){if(w=o[b],null!=l&&w>=l)break}else o[b]<0&&(i[18]+=65536),(w<g||-1==g)&&(Qh(i,a,o,b),i[18]=(4294901760&i[18])+b+2),b++}function Qh(i,o,a,l){const d=a[l]<0,g=a[l+1],w=i[d?-a[l]:a[l]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===o){i[2]+=2048;try{g.call(w)}finally{}}}else try{g.call(w)}finally{}}class Ou{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function et(i,o,a){const l=nn(i);let d=0;for(;d<a.length;){const g=a[d];if("number"==typeof g){if(0!==g)break;d++;const _=a[d++],w=a[d++],b=a[d++];l?i.setAttribute(o,w,b,_):o.setAttributeNS(_,w,b)}else{const _=g,w=a[++d];Mr(_)?l&&i.setProperty(o,_,w):l?i.setAttribute(o,_,w):o.setAttribute(_,w),d++}}return d}function ri(i){return 3===i||4===i||6===i}function Mr(i){return 64===i.charCodeAt(0)}function Un(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const d=o[l];"number"==typeof d?a=d:0===a||Pl(i,a,d,null,-1===a||2===a?o[++l]:null)}}return i}function Pl(i,o,a,l,d){let g=0,_=i.length;if(-1===o)_=-1;else for(;g<i.length;){const w=i[g++];if("number"==typeof w){if(w===o){_=-1;break}if(w>o){_=g-1;break}}}for(;g<i.length;){const w=i[g];if("number"==typeof w)break;if(w===a){if(null===l)return void(null!==d&&(i[g+1]=d));if(l===i[g+1])return void(i[g+2]=d)}g++,null!==l&&g++,null!==d&&g++}-1!==_&&(i.splice(_,0,o),g=_+1),i.splice(g++,0,a),null!==l&&i.splice(g++,0,l),null!==d&&i.splice(g++,0,d)}function pd(i){return-1!==i}function Ui(i){return 32767&i}function on(i,o){let a=function kl(i){return i>>16}(i),l=o;for(;a>0;)l=l[15],a--;return l}let ja=!0;function Di(i){const o=ja;return ja=i,o}let md=0;function Pn(i,o){const a=zo(i,o);if(-1!==a)return a;const l=o[1];l.firstCreatePass&&(i.injectorIndex=o.length,qo(l.data,i),qo(o,null),qo(l.blueprint,null));const d=Ts(i,o),g=i.injectorIndex;if(pd(d)){const _=Ui(d),w=on(d,o),b=w[1].data;for(let T=0;T<8;T++)o[g+T]=w[_+T]|b[_+T]}return o[g+8]=d,g}function qo(i,o){i.push(0,0,0,0,0,0,0,0,o)}function zo(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function Ts(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,d=o;for(;null!==d;){const g=d[1],_=g.type;if(l=2===_?g.declTNode:1===_?d[6]:null,null===l)return-1;if(a++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function ur(i,o,a){!function Fl(i,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(Oe)&&(l=a[Oe]),null==l&&(l=a[Oe]=md++);const d=255&l;o.data[i+(d>>5)]|=1<<d}(i,o,a)}function Bi(i,o,a){if(a&yt.Optional)return i;Ee(o,"NodeInjector")}function Wo(i,o,a,l){if(a&yt.Optional&&void 0===l&&(l=null),0==(a&(yt.Self|yt.Host))){const d=i[9],g=xn(void 0);try{return d?d.get(o,l,a&yt.Optional):qs(o,l,a&yt.Optional)}finally{xn(g)}}return Bi(l,o,a)}function Ss(i,o,a,l=yt.Default,d){if(null!==i){const g=function $a(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(Oe)?i[Oe]:void 0;return"number"==typeof o?o>=0?255&o:no:o}(a);if("function"==typeof g){if(!Rl(o,i,l))return l&yt.Host?Bi(d,a,l):Wo(o,a,l,d);try{const _=g(l);if(null!=_||l&yt.Optional)return _;Ee(a)}finally{ld()}}else if("number"==typeof g){let _=null,w=zo(i,o),b=-1,T=l&yt.Host?o[16][6]:null;for((-1===w||l&yt.SkipSelf)&&(b=-1===w?Ts(i,o):o[w+8],-1!==b&&lr(l,!1)?(_=o[1],w=Ui(b),o=on(b,o)):w=-1);-1!==w;){const M=o[1];if(As(g,w,M.data)){const k=Ko(w,o,a,_,l,T);if(k!==Zo)return k}b=o[w+8],-1!==b&&lr(l,o[1].data[w+8]===T)&&As(g,w,o)?(_=M,w=Ui(b),o=on(b,o)):w=-1}}}return Wo(o,a,l,d)}const Zo={};function no(){return new ro(hn(),Se())}function Ko(i,o,a,l,d,g){const _=o[1],w=_.data[i+8],M=Yo(w,_,a,null==l?Qc(w)&&ja:l!=_&&0!=(3&w.type),d&yt.Host&&g===w);return null!==M?Qo(o,_,M,w):Zo}function Yo(i,o,a,l,d){const g=i.providerIndexes,_=o.data,w=1048575&g,b=i.directiveStart,M=g>>20,U=d?w+M:i.directiveEnd;for(let Q=l?w:w+M;Q<U;Q++){const _e=_[Q];if(Q<b&&a===_e||Q>=b&&_e.type===a)return Q}if(d){const Q=_[b];if(Q&&Ni(Q)&&Q.type===a)return b}return null}function Qo(i,o,a,l){let d=i[a];const g=o.data;if(function hd(i){return i instanceof Ou}(d)){const _=d;_.resolving&&function ze(i,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new Ne(-200,`Circular dependency in DI detected for ${i}${a}`)}(Ce(g[a]));const w=Di(_.canSeeViewProviders);_.resolving=!0;const b=_.injectImpl?xn(_.injectImpl):null;Rl(i,l,yt.Default);try{d=i[a]=_.factory(void 0,g,i,l),o.firstCreatePass&&a>=l.directiveStart&&function cg(i,o,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:g}=o.type.prototype;if(l){const _=Ro(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,_)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,d),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,g))}(a,g[a],o)}finally{null!==b&&xn(b),Di(w),_.resolving=!1,ld()}}return d}function As(i,o,a){return!!(a[o+(i>>5)]&1<<i)}function lr(i,o){return!(i&yt.Self||i&yt.Host&&o)}class ro{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return Ss(this._tNode,this._lView,o,l,a)}}function Fu(i){return Wn(()=>{const o=i.prototype.constructor,a=o[J]||pn(o),l=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==l;){const g=d[J]||pn(d);if(g&&g!==a)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function pn(i){return qe(i)?()=>{const o=pn(te(i));return o&&o()}:vr(i)}function io(i){return function ku(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const a=i.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const g=a[d];if(ri(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(g===o)return a[d+1];d+=2}}}return null}(hn(),i)}const Xi="__parameters__";function Tn(i,o,a){return Wn(()=>{const l=function ii(i){return function(...a){if(i){const l=i(...a);for(const d in l)this[d]=l[d]}}}(o);function d(...g){if(this instanceof d)return l.apply(this,g),this;const _=new d(...g);return w.annotation=_,w;function w(b,T,M){const k=b.hasOwnProperty(Xi)?b[Xi]:Object.defineProperty(b,Xi,{value:[]})[Xi];for(;k.length<=M;)k.push(null);return(k[M]=k[M]||[]).push(_),b}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class gn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Kt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const hg=new gn("AnalyzeForEntryComponents");function si(i,o){void 0===o&&(o=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(o===i&&(o=i.slice(0,a)),si(l,o)):o!==i&&o.push(l)}return o}function oi(i,o){i.forEach(a=>Array.isArray(a)?oi(a,o):o(a))}function Xo(i,o,a){o>=i.length?i.push(a):i.splice(o,0,a)}function ao(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function Yn(i,o,a){let l=xs(i,o);return l>=0?i[1|l]=a:(l=~l,function es(i,o,a,l){let d=i.length;if(d==o)i.push(a,l);else if(1===d)i.push(l,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>o;)i[d]=i[d-2],d--;i[o]=a,i[o+1]=l}}(i,l,o,a)),l}function qa(i,o){const a=xs(i,o);if(a>=0)return i[1|a]}function xs(i,o){return function _d(i,o,a){let l=0,d=i.length>>a;for(;d!==l;){const g=l+(d-l>>1),_=i[g<<a];if(o===_)return g<<a;_>o?d=g:l=g+1}return~(d<<a)}(i,o,1)}const ta={},na="__NG_DI_FLAG__",co="ngTempTokenPath",I=/\n/gm,O="__source",F=pe({provide:String,useValue:pe});let Y;function ne(i){const o=Y;return Y=i,o}function ge(i,o=yt.Default){if(void 0===Y)throw new Ne(203,"");return null===Y?qs(i,void 0,o):Y.get(i,o&yt.Optional?null:void 0,o)}function Ve(i,o=yt.Default){return(function In(){return Jr}()||ge)(te(i),o)}const dt=Ve;function $t(i){const o=[];for(let a=0;a<i.length;a++){const l=te(i[a]);if(Array.isArray(l)){if(0===l.length)throw new Ne(900,"");let d,g=yt.Default;for(let _=0;_<l.length;_++){const w=l[_],b=Er(w);"number"==typeof b?-1===b?d=w.token:g|=b:d=w}o.push(Ve(d,g))}else o.push(Ve(l))}return o}function wt(i,o){return i[na]=o,i.prototype[na]=o,i}function Er(i){return i[na]}const qr=wt(Tn("Inject",i=>({token:i})),-1),ai=wt(Tn("Optional"),8),li=wt(Tn("SkipSelf"),4);class Id{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ia(i){return i instanceof Id?i.changingThisBreaksApplicationSecurity:i}const Sd=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Tg=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var qt=(()=>((qt=qt||{})[qt.NONE=0]="NONE",qt[qt.HTML=1]="HTML",qt[qt.STYLE=2]="STYLE",qt[qt.SCRIPT=3]="SCRIPT",qt[qt.URL=4]="URL",qt[qt.RESOURCE_URL=5]="RESOURCE_URL",qt))();function Ku(i){const o=function sa(){const i=Se();return i&&i[12]}();return o?o.sanitize(qt.URL,i)||"":function Ns(i,o){const a=function Hl(i){return i instanceof Id&&i.getTypeName()||null}(i);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}(i,"URL")?ia(i):function Rs(i){return(i=String(i)).match(Sd)||i.match(Tg)?i:"unsafe:"+i}(he(i))}const hf="__ngContext__";function dr(i,o){i[hf]=o}function Od(i){const o=function Ja(i){return i[hf]||null}(i);return o?Array.isArray(o)?o:o.lView:null}function di(i){return i.ngOriginalError}function Zy(i,...o){i.error(...o)}class Nd{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),l=function Fg(i){return i&&i.ngErrorLogger||Zy}(o);l(this._console,"ERROR",o),a&&l(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&di(o);for(;a&&di(a);)a=di(a);return a||null}}const Yy=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(jt))();function rs(i){return i instanceof Function?i():i}var S=(()=>((S=S||{})[S.Important=1]="Important",S[S.DashCase=2]="DashCase",S))();function W(i,o){return undefined(i,o)}function Ze(i){const o=i[3];return xi(o)?o[3]:o}function Sn(i){return Zl(i[13])}function fi(i){return Zl(i[4])}function Zl(i){for(;null!==i&&!xi(i);)i=i[4];return i}function oa(i,o,a,l,d){if(null!=l){let g,_=!1;xi(l)?g=l:Hr(l)&&(_=!0,l=l[0]);const w=Yt(l);0===i&&null!==a?null==d?t_(o,a,w):is(o,a,w,d||null,!0):1===i&&null!==a?is(o,a,w,d||null,!0):2===i?function s_(i,o,a){const l=Jn(i,o);l&&function yI(i,o,a,l){nn(i)?i.removeChild(o,a,l):o.removeChild(a)}(i,l,o,a)}(o,w,_):3===i&&o.destroyNode(w),null!=g&&function hr(i,o,a,l,d){const g=a[7];g!==Yt(a)&&oa(o,i,l,g,d);for(let w=10;w<a.length;w++){const b=a[w];Gg(b[1],b,i,o,l,g)}}(o,i,g,a,d)}}function kd(i,o,a){if(nn(i))return i.createElement(o,a);{const l=null!==a?function bl(i){const o=i.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(a):null;return null===l?i.createElement(o):i.createElementNS(l,o)}}function X0(i,o){const a=i[9],l=a.indexOf(o),d=o[3];1024&o[2]&&(o[2]&=-1025,Lo(d,-1)),a.splice(l,1)}function Jy(i,o){if(i.length<=10)return;const a=10+o,l=i[a];if(l){const d=l[17];null!==d&&d!==i&&X0(d,l),o>0&&(i[a-1][4]=l[4]);const g=ao(i,10+o);!function Nr(i,o){Gg(i,o,o[11],2,null,null),o[0]=null,o[6]=null}(l[1],l);const _=g[19];null!==_&&_.detachView(g[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function Xy(i,o){if(!(256&o[2])){const a=o[11];nn(a)&&a.destroyNode&&Gg(i,o,a,3,null,null),function aa(i){let o=i[13];if(!o)return e_(i[1],i);for(;o;){let a=null;if(Hr(o))a=o[13];else{const l=o[10];l&&(a=l)}if(!a){for(;o&&!o[4]&&o!==i;)Hr(o)&&e_(o[1],o),o=o[3];null===o&&(o=i),Hr(o)&&e_(o[1],o),a=o&&o[4]}o=a}}(o)}}function e_(i,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function tE(i,o){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const d=o[a[l]];if(!(d instanceof Ou)){const g=a[l+1];if(Array.isArray(g))for(let _=0;_<g.length;_+=2){const w=d[g[_]],b=g[_+1];try{b.call(w)}finally{}}else try{g.call(d)}finally{}}}}(i,o),function eE(i,o){const a=i.cleanup,l=o[7];let d=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const _=a[g+1],w="function"==typeof _?_(o):Yt(o[_]),b=l[d=a[g+2]],T=a[g+3];"boolean"==typeof T?w.removeEventListener(a[g],b,T):T>=0?l[d=T]():l[d=-T].unsubscribe(),g+=2}else{const _=l[d=a[g+1]];a[g].call(_)}if(null!==l){for(let g=d+1;g<l.length;g++)l[g]();o[7]=null}}(i,o),1===o[1].type&&nn(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&xi(o[3])){a!==o[3]&&X0(a,o);const l=o[19];null!==l&&l.detachView(i)}}}function $g(i,o,a){return function mI(i,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[0];if(2&l.flags){const d=i.data[l.directiveStart].encapsulation;if(d===Gt.None||d===Gt.Emulated)return null}return or(l,a)}(i,o.parent,a)}function is(i,o,a,l,d){nn(i)?i.insertBefore(o,a,l,d):o.insertBefore(a,l,d)}function t_(i,o,a){nn(i)?i.appendChild(o,a):o.appendChild(a)}function nE(i,o,a,l,d){null!==l?is(i,o,a,l,d):t_(i,o,a)}function Jn(i,o){return nn(i)?i.parentNode(o):o.parentNode}let n_=function iE(i,o,a){return 40&i.type?or(i,a):null};function Hg(i,o,a,l){const d=$g(i,l,o),g=o[11],w=function rE(i,o,a){return n_(i,o,a)}(l.parent||o[6],l,o);if(null!=d)if(Array.isArray(a))for(let b=0;b<a.length;b++)nE(g,d,a[b],w,!1);else nE(g,d,a,w,!1)}function Fd(i,o){if(null!==o){const a=o.type;if(3&a)return or(o,i);if(4&a)return i_(-1,i[o.index]);if(8&a){const l=o.child;if(null!==l)return Fd(i,l);{const d=i[o.index];return xi(d)?i_(-1,d):Yt(d)}}if(32&a)return W(o,i)()||Yt(i[o.index]);{const l=oE(i,o);return null!==l?Array.isArray(l)?l[0]:Fd(Ze(i[16]),l):Fd(i,o.next)}}return null}function oE(i,o){return null!==o?i[16][6].projection[o.projection]:null}function i_(i,o){const a=10+i+1;if(a<o.length){const l=o[a],d=l[1].firstChild;if(null!==d)return Fd(l,d)}return o[7]}function o_(i,o,a,l,d,g,_){for(;null!=a;){const w=l[a.index],b=a.type;if(_&&0===o&&(w&&dr(Yt(w),l),a.flags|=4),64!=(64&a.flags))if(8&b)o_(i,o,a.child,l,d,g,!1),oa(o,i,d,w,g);else if(32&b){const T=W(a,l);let M;for(;M=T();)oa(o,i,d,M,g);oa(o,i,d,w,g)}else 16&b?aE(i,o,l,a,d,g):oa(o,i,d,w,g);a=_?a.projectionNext:a.next}}function Gg(i,o,a,l,d,g){o_(a,l,i.firstChild,o,d,g,!1)}function aE(i,o,a,l,d,g){const _=a[16],b=_[6].projection[l.projection];if(Array.isArray(b))for(let T=0;T<b.length;T++)oa(o,i,d,b[T],g);else o_(i,o,b,_[3],d,g,!0)}function uE(i,o,a){nn(i)?i.setAttribute(o,"style",a):o.style.cssText=a}function u_(i,o,a){nn(i)?""===a?i.removeAttribute(o,"class"):i.setAttribute(o,"class",a):o.className=a}function ss(i,o,a){let l=i.length;for(;;){const d=i.indexOf(o,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const g=o.length;if(d+g===l||i.charCodeAt(d+g)<=32)return d}a=d+1}}const lE="ng-template";function be(i,o,a){let l=0;for(;l<i.length;){let d=i[l++];if(a&&"class"===d){if(d=i[l],-1!==ss(d.toLowerCase(),o,0))return!0}else if(1===d){for(;l<i.length&&"string"==typeof(d=i[l++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function Xu(i){return 4===i.type&&i.value!==lE}function qg(i,o,a){return o===(4!==i.type||a?i.value:lE)}function el(i,o,a){let l=4;const d=i.attrs||[],g=function l_(i){for(let o=0;o<i.length;o++)if(ri(i[o]))return o;return i.length}(d);let _=!1;for(let w=0;w<o.length;w++){const b=o[w];if("number"!=typeof b){if(!_)if(4&l){if(l=2|1&l,""!==b&&!qg(i,b,a)||""===b&&1===o.length){if(At(l))return!1;_=!0}}else{const T=8&l?b:o[++w];if(8&l&&null!==i.attrs){if(!be(i.attrs,T,a)){if(At(l))return!1;_=!0}continue}const k=EI(8&l?"class":b,d,Xu(i),a);if(-1===k){if(At(l))return!1;_=!0;continue}if(""!==T){let U;U=k>g?"":d[k+1].toLowerCase();const Q=8&l?U:null;if(Q&&-1!==ss(Q,T,0)||2&l&&T!==U){if(At(l))return!1;_=!0}}}}else{if(!_&&!At(l)&&!At(b))return!1;if(_&&At(b))continue;_=!1,l=b|1&l}}return At(l)||_}function At(i){return 0==(1&i)}function EI(i,o,a,l){if(null===o)return-1;let d=0;if(l||!a){let g=!1;for(;d<o.length;){const _=o[d];if(_===i)return d;if(3===_||6===_)g=!0;else{if(1===_||2===_){let w=o[++d];for(;"string"==typeof w;)w=o[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=g?1:2}return-1}return function Nt(i,o){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,i)}function ua(i,o,a=!1){for(let l=0;l<o.length;l++)if(el(i,o[l],a))return!0;return!1}function Wg(i,o){return i?":not("+o.trim()+")":o}function Ef(i){let o=i[0],a=1,l=2,d="",g=!1;for(;a<i.length;){let _=i[a];if("string"==typeof _)if(2&l){const w=i[++a];d+="["+_+(w.length>0?'="'+w+'"':"")+"]"}else 8&l?d+="."+_:4&l&&(d+=" "+_);else""!==d&&!At(_)&&(o+=Wg(g,d),d=""),l=_,g=g||!At(l);a++}return""!==d&&(o+=Wg(g,d)),o}const Rt={};function cE(i){dE(Ft(),Se(),Zn()+i,Pa())}function dE(i,o,a,l){if(!l)if(3==(3&o[2])){const g=i.preOrderCheckHooks;null!==g&&Ua(o,g,a)}else{const g=i.preOrderHooks;null!==g&&Ji(o,g,0,a)}Vi(a)}function Yl(i,o){return i<<17|o<<2}function mn(i){return i>>17&32767}function d_(i){return 2|i}function la(i){return(131068&i)>>2}function Zg(i,o){return-131069&i|o<<2}function Kg(i){return 1|i}function y_(i,o){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const d=a[l],g=a[l+1];if(-1!==g){const _=i.data[g];La(d),_.contentQueries(2,o[g],g)}}}function jd(i,o,a,l,d,g,_,w,b,T){const M=o.blueprint.slice();return M[0]=d,M[2]=140|l,Fi(M),M[3]=M[15]=i,M[8]=a,M[10]=_||i&&i[10],M[11]=w||i&&i[11],M[12]=b||i&&i[12]||null,M[9]=T||i&&i[9]||null,M[6]=g,M[16]=2==o.type?i[16]:M,M}function tl(i,o,a,l,d){let g=i.data[o];if(null===g)g=function nm(i,o,a,l,d){const g=Uo(),_=Ra(),b=i.data[o]=function MI(i,o,a,l,d,g){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?g:g&&g.parent,a,o,l,d);return null===i.firstChild&&(i.firstChild=b),null!==g&&(_?null==g.child&&null!==b.parent&&(g.child=b):null===g.next&&(g.next=b)),b}(i,o,a,l,d),function xl(){return ft.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=a,g.value=l,g.attrs=d;const _=function Xs(){const i=ft.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();g.injectorIndex=null===_?-1:_.injectorIndex}return ni(g,!0),g}function $d(i,o,a,l){if(0===a)return-1;const d=o.length;for(let g=0;g<a;g++)o.push(l),i.blueprint.push(l),i.data.push(null);return d}function Jl(i,o,a){jo(o);try{const l=i.viewQuery;null!==l&&hm(1,l,a);const d=i.template;null!==d&&wr(i,o,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&y_(i,o),i.staticViewQueries&&hm(2,i.viewQuery,a);const g=i.components;null!==g&&function CE(i,o){for(let a=0;a<o.length;a++)b_(i,o[a])}(o,g)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{o[2]&=-5,Ho()}}function nl(i,o,a,l){const d=o[2];if(256==(256&d))return;jo(o);const g=Pa();try{Fi(o),function ka(i){return ft.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&wr(i,o,a,2,l);const _=3==(3&d);if(!g)if(_){const T=i.preOrderCheckHooks;null!==T&&Ua(o,T,null)}else{const T=i.preOrderHooks;null!==T&&Ji(o,T,0,null),Go(o,0)}if(function kE(i){for(let o=Sn(i);null!==o;o=fi(o)){if(!o[2])continue;const a=o[9];for(let l=0;l<a.length;l++){const d=a[l],g=d[3];0==(1024&d[2])&&Lo(g,1),d[2]|=1024}}}(o),function PE(i){for(let o=Sn(i);null!==o;o=fi(o))for(let a=10;a<o.length;a++){const l=o[a],d=l[1];Yi(l)&&nl(d,l,d.template,l[8])}}(o),null!==i.contentQueries&&y_(i,o),!g)if(_){const T=i.contentCheckHooks;null!==T&&Ua(o,T)}else{const T=i.contentHooks;null!==T&&Ji(o,T,1),Go(o,1)}!function IE(i,o){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)Vi(~d);else{const g=d,_=a[++l],w=a[++l];Ol(_,g),w(2,o[g])}}}finally{Vi(-1)}}(i,o);const w=i.components;null!==w&&function AI(i,o){for(let a=0;a<o.length;a++)Tf(i,o[a])}(o,w);const b=i.viewQuery;if(null!==b&&hm(2,b,l),!g)if(_){const T=i.viewCheckHooks;null!==T&&Ua(o,T)}else{const T=i.viewHooks;null!==T&&Ji(o,T,2),Go(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),g||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Lo(o[3],-1))}finally{Ho()}}function __(i,o,a,l){const d=o[10],g=!Pa(),_=Js(o);try{g&&!_&&d.begin&&d.begin(),_&&Jl(i,o,l),nl(i,o,a,l)}finally{g&&!_&&d.end&&d.end()}}function wr(i,o,a,l,d){const g=Zn(),_=2&l;try{Vi(-1),_&&o.length>20&&dE(i,o,20,Pa()),a(l,d)}finally{Vi(g)}}function Hd(i,o,a){!Na()||(function PI(i,o,a,l){const d=a.directiveStart,g=a.directiveEnd;i.firstCreatePass||Pn(a,o),dr(l,o);const _=a.initialInputs;for(let w=d;w<g;w++){const b=i.data[w],T=Ni(b);T&&RE(o,a,b);const M=Qo(o,i,w,a);dr(M,o),null!==_&&Cf(0,w-d,M,b,0,_),T&&(ar(a.index,o)[8]=M)}}(i,o,a,or(a,o)),128==(128&a.flags)&&function qd(i,o,a){const l=a.directiveStart,d=a.directiveEnd,_=a.index,w=function xu(){return ft.lFrame.currentDirectiveIndex}();try{Vi(_);for(let b=l;b<d;b++){const T=i.data[b],M=o[b];Fa(b),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&OE(T,M)}}finally{Vi(-1),Fa(w)}}(i,o,a))}function Df(i,o,a=or){const l=o.localNames;if(null!==l){let d=o.index+1;for(let g=0;g<l.length;g+=2){const _=l[g+1],w=-1===_?a(o,i):i[_];i[d++]=w}}}function TE(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=rm(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):o}function rm(i,o,a,l,d,g,_,w,b,T){const M=20+l,k=M+d,U=function SE(i,o){const a=[];for(let l=0;l<o;l++)a.push(l<i?null:Rt);return a}(M,k),Q="function"==typeof T?T():T;return U[1]={type:i,blueprint:U,template:a,queries:null,viewQuery:w,declTNode:o,data:U.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:b,consts:Q,incompleteFirstPass:!1}}function sm(i,o,a,l){const d=Wd(o);null===a?d.push(l):(d.push(a),i.firstCreatePass&&T_(i).push(l,d.length-1))}function om(i,o,a){for(let l in i)if(i.hasOwnProperty(l)){const d=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(o,d):a[l]=[o,d]}return a}function pi(i,o,a,l,d,g,_,w){const b=or(o,a);let M,T=o.inputs;!w&&null!=T&&(M=T[l])?(il(i,a,M,l,d),Qc(o)&&function v_(i,o){const a=ar(o,i);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(l=function xI(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),d=null!=_?_(d,o.value||"",l):d,nn(g)?g.setProperty(b,l,d):Mr(l)||(b.setProperty?b.setProperty(l,d):b[l]=d))}function am(i,o,a,l){let d=!1;if(Na()){const g=function kI(i,o,a){const l=i.directiveRegistry;let d=null;if(l)for(let g=0;g<l.length;g++){const _=l[g];ua(a,_.selectors,!1)&&(d||(d=[]),ur(Pn(a,o),i,_.type),Ni(_)?(rl(i,a),d.unshift(_)):d.push(_))}return d}(i,o,a),_=null===l?null:{"":-1};if(null!==g){d=!0,w_(a,i.data.length,g.length);for(let M=0;M<g.length;M++){const k=g[M];k.providersResolver&&k.providersResolver(k)}let w=!1,b=!1,T=$d(i,o,g.length,null);for(let M=0;M<g.length;M++){const k=g[M];a.mergedAttrs=Un(a.mergedAttrs,k.hostAttrs),zd(i,a,o,T,k),um(T,k,_),null!==k.contentQueries&&(a.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(a.flags|=128);const U=k.type.prototype;!w&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),w=!0),!b&&(U.ngOnChanges||U.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),b=!0),T++}!function ME(i,o){const l=o.directiveEnd,d=i.data,g=o.attrs,_=[];let w=null,b=null;for(let T=o.directiveStart;T<l;T++){const M=d[T],k=M.inputs,U=null===g||Xu(o)?null:cm(k,g);_.push(U),w=om(k,T,w),b=om(M.outputs,T,b)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=_,o.inputs=w,o.outputs=b}(i,a)}_&&function NE(i,o,a){if(o){const l=i.localNames=[];for(let d=0;d<o.length;d+=2){const g=a[o[d+1]];if(null==g)throw new Ne(-301,!1);l.push(o[d],g)}}}(a,l,_)}return a.mergedAttrs=Un(a.mergedAttrs,a.attrs),d}function If(i,o,a,l,d,g){const _=g.hostBindings;if(_){let w=i.hostBindingOpCodes;null===w&&(w=i.hostBindingOpCodes=[]);const b=~o.index;(function RI(i){let o=i.length;for(;o>0;){const a=i[--o];if("number"==typeof a&&a<0)return a}return 0})(w)!=b&&w.push(b),w.push(l,d,_)}}function OE(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function rl(i,o){o.flags|=2,(i.components||(i.components=[])).push(o.index)}function um(i,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=i;Ni(o)&&(a[""]=i)}}function w_(i,o,a){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+a,i.providerIndexes=o}function zd(i,o,a,l,d){i.data[l]=d;const g=d.factory||(d.factory=vr(d.type)),_=new Ou(g,Ni(d),null);i.blueprint[l]=_,a[l]=_,If(i,o,0,l,$d(i,a,d.hostVars,Rt),d)}function RE(i,o,a){const l=or(o,i),d=TE(a),g=i[10],_=Xl(i,jd(i,d,null,a.onPush?64:16,l,o,g,g.createRenderer(l,a),null,null));i[o.index]=_}function kn(i,o,a,l,d,g){const _=or(i,o);!function lm(i,o,a,l,d,g,_){if(null==g)nn(i)?i.removeAttribute(o,d,a):o.removeAttribute(d);else{const w=null==_?he(g):_(g,l||"",d);nn(i)?i.setAttribute(o,d,w,a):a?o.setAttributeNS(a,d,w):o.setAttribute(d,w)}}(o[11],_,g,i.value,a,l,d)}function Cf(i,o,a,l,d,g){const _=g[o];if(null!==_){const w=l.setInput;for(let b=0;b<_.length;){const T=_[b++],M=_[b++],k=_[b++];null!==w?l.setInput(a,k,T,M):a[M]=k}}}function cm(i,o){let a=null,l=0;for(;l<o.length;){const d=o[l];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,i[d],o[l+1])),l+=2}else l+=2;else l+=4}return a}function dm(i,o,a,l){return new Array(i,!0,!1,o,null,0,l,a,null,null)}function Tf(i,o){const a=ar(o,i);if(Yi(a)){const l=a[1];80&a[2]?nl(l,a,l.template,a[8]):a[5]>0&&Sf(a)}}function Sf(i){for(let l=Sn(i);null!==l;l=fi(l))for(let d=10;d<l.length;d++){const g=l[d];if(1024&g[2]){const _=g[1];nl(_,g,_.template,g[8])}else g[5]>0&&Sf(g)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const d=ar(a[l],i);Yi(d)&&d[5]>0&&Sf(d)}}function b_(i,o){const a=ar(o,i),l=a[1];(function D_(i,o){for(let a=o.length;a<i.blueprint.length;a++)o.push(i.blueprint[a])})(l,a),Jl(l,a,a[8])}function Xl(i,o){return i[13]?i[14][4]=o:i[13]=o,i[14]=o,o}function ec(i){for(;i;){i[2]|=64;const o=Ze(i);if(vl(i)&&!o)return i;i=o}return null}function Af(i,o,a){const l=o[10];l.begin&&l.begin();try{nl(i,o,i.template,a)}catch(d){throw Zd(o,d),d}finally{l.end&&l.end()}}function Mf(i){!function I_(i){for(let o=0;o<i.components.length;o++){const a=i.components[o],l=Od(a),d=l[1];__(d,l,d.template,a)}}(i[8])}function hm(i,o,a){La(0),o(i,a)}const VI=(()=>Promise.resolve(null))();function Wd(i){return i[7]||(i[7]=[])}function T_(i){return i.cleanup||(i.cleanup=[])}function Zd(i,o){const a=i[9],l=a?a.get(Nd,null):null;l&&l.handleError(o)}function il(i,o,a,l,d){for(let g=0;g<a.length;){const _=a[g++],w=a[g++],b=o[_],T=i.data[_];null!==T.setInput?T.setInput(b,d,l,w):b[w]=d}}function mo(i,o,a){const l=Is(o,i);!function Pd(i,o,a){nn(i)?i.setValue(o,a):o.textContent=a}(i[11],l,a)}function fm(i,o,a){let l=a?i.styles:null,d=a?i.classes:null,g=0;if(null!==o)for(let _=0;_<o.length;_++){const w=o[_];"number"==typeof w?g=w:1==g?d=ce(d,w):2==g&&(l=ce(l,w+": "+o[++_]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=d:i.classesWithoutHost=d}const nu=new gn("INJECTOR",-1);class A_{get(o,a=ta){if(a===ta){const l=new Error(`NullInjectorError: No provider for ${se(o)}!`);throw l.name="NullInjectorError",l}return a}}const M_=new gn("Set Injector scope."),yo={},ru={};let Yd;function Of(){return void 0===Yd&&(Yd=new A_),Yd}function Nf(i,o=null,a=null,l){const d=x_(i,o,a,l);return d._resolveInjectorDefTypes(),d}function x_(i,o=null,a=null,l){return new Fn(i,a,o||Of(),l)}class Fn{constructor(o,a,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];a&&oi(a,w=>this.processProvider(w,o,a)),oi([o],w=>this.processInjectorType(w,[],g)),this.records.set(nu,da(void 0,this));const _=this.records.get(M_);this.scope=null!=_?_.value:null,this.source=d||("object"==typeof o?null:se(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=ta,l=yt.Default){this.assertNotDestroyed();const d=ne(this),g=xn(void 0);try{if(!(l&yt.SkipSelf)){let w=this.records.get(o);if(void 0===w){const b=function sl(i){return"function"==typeof i||"object"==typeof i&&i instanceof gn}(o)&&Vt(o);w=b&&this.injectableDefInScope(b)?da(Qd(o),yo):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(l&yt.Self?Of():this.parent).get(o,a=l&yt.Optional&&a===ta?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[co]=_[co]||[]).unshift(se(o)),d)throw _;return function Qn(i,o,a,l){const d=i[co];throw o[O]&&d.unshift(o[O]),i.message=function ts(i,o,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=se(o);if(Array.isArray(o))d=o.map(se).join(" -> ");else if("object"==typeof o){let g=[];for(let _ in o)if(o.hasOwnProperty(_)){let w=o[_];g.push(_+":"+("string"==typeof w?JSON.stringify(w):se(w)))}d=`{${g.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${i.replace(I,"\n  ")}`}("\n"+i.message,d,a,l),i.ngTokenPath=d,i[co]=null,i}(_,o,"R3InjectorError",this.source)}throw _}finally{xn(g),ne(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((l,d)=>o.push(se(d))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ne(205,!1)}processInjectorType(o,a,l){if(!(o=te(o)))return!1;let d=Ir(o);const g=null==d&&o.ngModule||void 0,_=void 0===g?o:g,w=-1!==l.indexOf(_);if(void 0!==g&&(d=Ir(g)),null==d)return!1;if(null!=d.imports&&!w){let M;l.push(_);try{oi(d.imports,k=>{this.processInjectorType(k,a,l)&&(void 0===M&&(M=[]),M.push(k))})}finally{}if(void 0!==M)for(let k=0;k<M.length;k++){const{ngModule:U,providers:Q}=M[k];oi(Q,_e=>this.processProvider(_e,U,Q||V))}}this.injectorDefTypes.add(_);const b=vr(_)||(()=>new _);this.records.set(_,da(b,yo));const T=d.providers;if(null!=T&&!w){const M=o;oi(T,k=>this.processProvider(k,M,T))}return void 0!==g&&void 0!==o.providers}processProvider(o,a,l){let d=Xd(o=te(o))?o:te(o&&o.provide);const g=function BI(i,o,a){return UE(i)?da(void 0,i.useValue):da(Jd(i),yo)}(o);if(Xd(o)||!0!==o.multi)this.records.get(d);else{let _=this.records.get(d);_||(_=da(void 0,yo,!0),_.factory=()=>$t(_.multi),this.records.set(d,_)),d=o,_.multi.push(o)}this.records.set(d,g)}hydrate(o,a){return a.value===yo&&(a.value=ru,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Rf(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=te(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Qd(i){const o=Vt(i),a=null!==o?o.factory:vr(i);if(null!==a)return a;if(i instanceof gn)throw new Ne(204,!1);if(i instanceof Function)return function UI(i){const o=i.length;if(o>0)throw function uo(i,o){const a=[];for(let l=0;l<i;l++)a.push(o);return a}(o,"?"),new Ne(204,!1);const a=function Yr(i){const o=i&&(i[Ti]||i[Qr]);if(o){const a=function pr(i){if(i.hasOwnProperty("name"))return i.name;const o=(""+i).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Ne(204,!1)}function Jd(i,o,a){let l;if(Xd(i)){const d=te(i);return vr(d)||Qd(d)}if(UE(i))l=()=>te(i.useValue);else if(function jI(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...$t(i.deps||[]));else if(function BE(i){return!(!i||!i.useExisting)}(i))l=()=>Ve(te(i.useExisting));else{const d=te(i&&(i.useClass||i.provide));if(!function HI(i){return!!i.deps}(i))return vr(d)||Qd(d);l=()=>new d(...$t(i.deps))}return l}function da(i,o,a=!1){return{factory:i,value:o,multi:a?[]:void 0}}function UE(i){return null!==i&&"object"==typeof i&&F in i}function Xd(i){return"function"==typeof i}let ks=(()=>{class i{static create(a,l){var d;if(Array.isArray(a))return Nf({name:""},l,a,"");{const g=null!==(d=a.name)&&void 0!==d?d:"";return Nf({name:g},a.parent,a.providers,g)}}}return i.THROW_IF_NOT_FOUND=ta,i.NULL=new A_,i.\u0275prov=Kt({token:i,providedIn:"any",factory:()=>Ve(nu)}),i.__NG_ELEMENT_ID__=-1,i})();function qI(i,o){dd(Od(i)[1],hn())}function F_(i){let o=function YE(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;o;){let d;if(Ni(i))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ne(903,"");d=o.\u0275dir}if(d){if(a){l.push(d);const _=i;_.inputs=vm(i.inputs),_.declaredInputs=vm(i.declaredInputs),_.outputs=vm(i.outputs);const w=d.hostBindings;w&&XE(i,w);const b=d.viewQuery,T=d.contentQueries;if(b&&JE(i,b),T&&Em(i,T),ue(i.inputs,d.inputs),ue(i.declaredInputs,d.declaredInputs),ue(i.outputs,d.outputs),Ni(d)&&d.data.animation){const M=i.data;M.animation=(M.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let _=0;_<g.length;_++){const w=g[_];w&&w.ngInherit&&w(i),w===F_&&(a=!1)}}o=Object.getPrototypeOf(o)}!function QE(i){let o=0,a=null;for(let l=i.length-1;l>=0;l--){const d=i[l];d.hostVars=o+=d.hostVars,d.hostAttrs=Un(d.hostAttrs,a=Un(a,d.hostAttrs))}}(l)}function vm(i){return i===yr?{}:i===V?[]:i}function JE(i,o){const a=i.viewQuery;i.viewQuery=a?(l,d)=>{o(l,d),a(l,d)}:o}function Em(i,o){const a=i.contentQueries;i.contentQueries=a?(l,d,g)=>{o(l,d,g),a(l,d,g)}:o}function XE(i,o){const a=i.hostBindings;i.hostBindings=a?(l,d)=>{o(l,d),a(l,d)}:o}let th=null;function ha(){if(!th){const i=jt.Symbol;if(i&&i.iterator)th=i.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const l=o[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(th=l)}}}return th}function nc(i){return!!kf(i)&&(Array.isArray(i)||!(i instanceof Map)&&ha()in i)}function kf(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Wr(i,o,a){return!Object.is(i[o],a)&&(i[o]=a,!0)}function Vf(i,o,a,l){const d=Se();return Wr(d,Cs(),o)&&(Ft(),kn(Cn(),d,i,o,a,l)),Vf}function rc(i,o,a,l){return Wr(i,Cs(),a)?o+he(a)+l:Rt}function sw(i,o,a,l,d,g,_,w){const b=Se(),T=Ft(),M=i+20,k=T.firstCreatePass?function WI(i,o,a,l,d,g,_,w,b){const T=o.consts,M=tl(o,i,4,_||null,wi(T,w));am(o,a,M,wi(T,b)),dd(o,M);const k=M.tViews=rm(2,M,l,d,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,T);return null!==o.queries&&(o.queries.template(o,M),k.queries=o.queries.embeddedTView(M)),M}(M,T,b,o,a,l,d,g,_):T.data[M];ni(k,!1);const U=b[11].createComment("");Hg(T,b,U,k),dr(U,b),Xl(b,b[M]=dm(U,b,U,k)),Oi(k)&&Hd(T,b,k),null!=_&&Df(b,k,w)}function jn(i,o=yt.Default){const a=Se();return null===a?Ve(i,o):Ss(hn(),a,te(i),o)}function hc(){throw new Error("invalid")}function H_(i,o,a){const l=Se();return Wr(l,Cs(),o)&&pi(Ft(),Cn(),l,i,o,l[11],a,!1),H_}function tr(i,o,a,l,d){const _=d?"class":"style";il(i,a,o.inputs[_],_,l)}function vo(i,o,a,l){const d=Se(),g=Ft(),_=20+i,w=d[11],b=d[_]=kd(w,o,function cd(){return ft.lFrame.currentNamespace}()),T=g.firstCreatePass?function rC(i,o,a,l,d,g,_){const w=o.consts,T=tl(o,i,2,d,wi(w,g));return am(o,a,T,wi(w,_)),null!==T.attrs&&fm(T,T.attrs,!1),null!==T.mergedAttrs&&fm(T,T.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,T),T}(_,g,d,0,o,a,l):g.data[_];ni(T,!0);const M=T.mergedAttrs;null!==M&&et(w,b,M);const k=T.classes;null!==k&&u_(w,b,k);const U=T.styles;return null!==U&&uE(w,b,U),64!=(64&T.flags)&&Hg(g,d,b,T),0===function Tu(){return ft.lFrame.elementDepthCount}()&&dr(b,d),function Oa(){ft.lFrame.elementDepthCount++}(),Oi(T)&&(Hd(g,d,T),function kr(i,o,a){if(Du(o)){const d=o.directiveEnd;for(let g=o.directiveStart;g<d;g++){const _=i.data[g];_.contentQueries&&_.contentQueries(1,a[g],g)}}}(g,T,d)),null!==l&&Df(d,T),vo}function An(){let i=hn();Ra()?function Ml(){ft.lFrame.isParent=!1}():(i=i.parent,ni(i,!1));const o=i;!function Cl(){ft.lFrame.elementDepthCount--}();const a=Ft();return a.firstCreatePass&&(dd(a,i),Du(i)&&a.queries.elementEnd(i)),null!=o.classesWithoutHost&&function fd(i){return 0!=(16&i.flags)}(o)&&tr(a,o,Se(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function dg(i){return 0!=(32&i.flags)}(o)&&tr(a,o,Se(),o.stylesWithoutHost,!1),An}function uu(i,o,a,l){return vo(i,o,a,l),An(),uu}function pc(i){return!!i&&"function"==typeof i.then}function q_(i){return!!i&&"function"==typeof i.subscribe}const He=q_;function pa(i,o,a,l){const d=Se(),g=Ft(),_=hn();return function Eo(i,o,a,l,d,g,_,w){const b=Oi(l),M=i.firstCreatePass&&T_(i),k=o[8],U=Wd(o);let Q=!0;if(3&l.type||w){const Ge=or(l,o),tt=w?w(Ge):Ge,Ae=U.length,gt=w?st=>w(Yt(st[l.index])):l.index;if(nn(a)){let st=null;if(!w&&b&&(st=function gc(i,o,a,l){const d=i.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const _=d[g];if(_===a&&d[g+1]===l){const w=o[7],b=d[g+2];return w.length>b?w[b]:null}"string"==typeof _&&(g+=2)}return null}(i,o,d,l.index)),null!==st)(st.__ngLastListenerFn__||st).__ngNextListenerFn__=g,st.__ngLastListenerFn__=g,Q=!1;else{g=ga(l,o,k,g,!1);const un=a.listen(tt,d,g);U.push(g,un),M&&M.push(d,gt,Ae,Ae+1)}}else g=ga(l,o,k,g,!0),tt.addEventListener(d,g,_),U.push(g),M&&M.push(d,gt,Ae,_)}else g=ga(l,o,k,g,!1);const _e=l.outputs;let ke;if(Q&&null!==_e&&(ke=_e[d])){const Ge=ke.length;if(Ge)for(let tt=0;tt<Ge;tt+=2){const Hs=o[ke[tt]][ke[tt+1]].subscribe(g),Dn=U.length;U.push(g,Hs),M&&M.push(d,l.index,Dn,-(Dn+1))}}}(g,d,d[11],_,i,o,!!a,l),pa}function sh(i,o,a,l){try{return!1!==a(l)}catch(d){return Zd(i,d),!1}}function ga(i,o,a,l,d){return function g(_){if(_===Function)return l;const w=2&i.flags?ar(i.index,o):o;0==(32&o[2])&&ec(w);let b=sh(o,0,l,_),T=g.__ngNextListenerFn__;for(;T;)b=sh(o,0,T,_)&&b,T=T.__ngNextListenerFn__;return d&&!1===b&&(_.preventDefault(),_.returnValue=!1),b}}function qf(i,o,a){return yc(i,"",o,"",a),qf}function yc(i,o,a,l,d){const g=Se(),_=rc(g,o,a,l);return _!==Rt&&pi(Ft(),Cn(),g,i,_,g[11],d,!1),yc}function En(i,o,a,l,d){const g=i[a+1],_=null===o;let w=l?mn(g):la(g),b=!1;for(;0!==w&&(!1===b||_);){const M=i[w+1];Dm(i[w],o)&&(b=!0,i[w+1]=l?Kg(M):d_(M)),w=l?mn(M):la(M)}b&&(i[a+1]=l?d_(g):Kg(g))}function Dm(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&xs(i,o)>=0}function lu(i,o){return function Us(i,o,a,l){const d=Se(),g=Ft(),_=function bi(i){const o=ft.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,a}(2);g.firstUpdatePass&&function vw(i,o,a,l){const d=i.data;if(null===d[a+1]){const g=d[Zn()],_=function Lr(i,o){return o>=i.expandoStartIndex}(i,a);(function nv(i,o){return 0!=(i.flags&(o?16:32))})(g,l)&&null===o&&!_&&(o=!1),o=function oC(i,o,a,l){const d=function Bo(i){const o=ft.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let g=l?o.residualClasses:o.residualStyles;if(null===d)0===(l?o.classBindings:o.styleBindings)&&(a=Kf(a=ev(null,i,o,a,l),o.attrs,l),g=null);else{const _=o.directiveStylingLast;if(-1===_||i[_]!==d)if(a=ev(d,i,o,a,l),null===g){let b=function aC(i,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==la(l))return i[mn(l)]}(i,o,l);void 0!==b&&Array.isArray(b)&&(b=ev(null,i,o,b[1],l),b=Kf(b,o.attrs,l),function Ew(i,o,a,l){i[mn(a?o.classBindings:o.styleBindings)]=l}(i,o,l,b))}else g=function uC(i,o,a){let l;const d=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<d;g++)l=Kf(l,i[g].hostAttrs,a);return Kf(l,o.attrs,a)}(i,o,l)}return void 0!==g&&(l?o.residualClasses=g:o.residualStyles=g),a}(d,g,o,l),function gi(i,o,a,l,d,g){let _=g?o.classBindings:o.styleBindings,w=mn(_),b=la(_);i[l]=a;let M,T=!1;if(Array.isArray(a)){const k=a;M=k[1],(null===M||xs(k,M)>0)&&(T=!0)}else M=a;if(d)if(0!==b){const U=mn(i[w+1]);i[l+1]=Yl(U,w),0!==U&&(i[U+1]=Zg(i[U+1],l)),i[w+1]=function bI(i,o){return 131071&i|o<<17}(i[w+1],l)}else i[l+1]=Yl(w,0),0!==w&&(i[w+1]=Zg(i[w+1],l)),w=l;else i[l+1]=Yl(b,0),0===w?w=l:i[b+1]=Zg(i[b+1],l),b=l;T&&(i[l+1]=d_(i[l+1])),En(i,M,l,!0),En(i,M,l,!1),function yw(i,o,a,l,d){const g=d?i.residualClasses:i.residualStyles;null!=g&&"string"==typeof o&&xs(g,o)>=0&&(a[l+1]=Kg(a[l+1]))}(o,M,i,l,g),_=Yl(w,b),g?o.classBindings=_:o.styleBindings=_}(d,g,o,a,_,l)}}(g,i,_,l),o!==Rt&&Wr(d,_,o)&&function ww(i,o,a,l,d,g,_,w){if(!(3&o.type))return;const b=i.data,T=b[w+1];Yf(function hE(i){return 1==(1&i)}(T)?tv(b,o,a,d,la(T),_):void 0)||(Yf(g)||function tu(i){return 2==(2&i)}(T)&&(g=tv(b,null,a,d,w,_)),function a_(i,o,a,l,d){const g=nn(i);if(o)d?g?i.addClass(a,l):a.classList.add(l):g?i.removeClass(a,l):a.classList.remove(l);else{let _=-1===l.indexOf("-")?void 0:S.DashCase;if(null==d)g?i.removeStyle(a,l,_):a.style.removeProperty(l);else{const w="string"==typeof d&&d.endsWith("!important");w&&(d=d.slice(0,-10),_|=S.Important),g?i.setStyle(a,l,d,_):a.style.setProperty(l,d,w?"important":"")}}}(l,_,Is(Zn(),a),d,g))}(g,g.data[Zn()],d,d[11],i,d[_+1]=function du(i,o){return null==i||("string"==typeof o?i+=o:"object"==typeof i&&(i=se(ia(i)))),i}(o,a),l,_)}(i,o,null,!0),lu}function ev(i,o,a,l,d){let g=null;const _=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<_&&(g=o[w],l=Kf(l,g.hostAttrs,d),g!==i);)w++;return null!==i&&(a.directiveStylingLast=w),l}function Kf(i,o,a){const l=a?1:2;let d=-1;if(null!==o)for(let g=0;g<o.length;g++){const _=o[g];"number"==typeof _?d=_:d===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Yn(i,_,!!a||o[++g]))}return void 0===i?null:i}function tv(i,o,a,l,d,g){const _=null===o;let w;for(;d>0;){const b=i[d],T=Array.isArray(b),M=T?b[1]:b,k=null===M;let U=a[d+1];U===Rt&&(U=k?V:void 0);let Q=k?qa(U,l):M===l?U:void 0;if(T&&!Yf(Q)&&(Q=qa(b,l)),Yf(Q)&&(w=Q,_))return w;const _e=i[d+1];d=_?mn(_e):la(_e)}if(null!==o){let b=g?o.residualClasses:o.residualStyles;null!=b&&(w=qa(b,l))}return w}function Yf(i){return void 0!==i}function vc(i,o=""){const a=Se(),l=Ft(),d=i+20,g=l.firstCreatePass?tl(l,d,1,o,null):l.data[d],_=a[d]=function Rd(i,o){return nn(i)?i.createText(o):i.createTextNode(o)}(a[11],o);Hg(l,a,_,g),ni(g,!1)}function rv(i){return lh("",i,""),rv}function lh(i,o,a){const l=Se(),d=rc(l,i,o,a);return d!==Rt&&mo(l,Zn(),d),lh}const ul=void 0;var Dc=["en",[["a","p"],["AM","PM"],ul],[["AM","PM"],ul,ul],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ul,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ul,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ul,"{1} 'at' {0}",ul],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Xf(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Ic={};function Nm(i){const o=function Fw(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=kw(o);if(a)return a;const l=o.split("-")[0];if(a=kw(l),a)return a;if("en"===l)return Dc;throw new Error(`Missing locale data for the locale "${i}".`)}function Pm(i){return Nm(i)[Be.PluralCase]}function kw(i){return i in Ic||(Ic[i]=jt.ng&&jt.ng.common&&jt.ng.common.locales&&jt.ng.common.locales[i]),Ic[i]}var Be=(()=>((Be=Be||{})[Be.LocaleId=0]="LocaleId",Be[Be.DayPeriodsFormat=1]="DayPeriodsFormat",Be[Be.DayPeriodsStandalone=2]="DayPeriodsStandalone",Be[Be.DaysFormat=3]="DaysFormat",Be[Be.DaysStandalone=4]="DaysStandalone",Be[Be.MonthsFormat=5]="MonthsFormat",Be[Be.MonthsStandalone=6]="MonthsStandalone",Be[Be.Eras=7]="Eras",Be[Be.FirstDayOfWeek=8]="FirstDayOfWeek",Be[Be.WeekendRange=9]="WeekendRange",Be[Be.DateFormat=10]="DateFormat",Be[Be.TimeFormat=11]="TimeFormat",Be[Be.DateTimeFormat=12]="DateTimeFormat",Be[Be.NumberSymbols=13]="NumberSymbols",Be[Be.NumberFormats=14]="NumberFormats",Be[Be.CurrencyCode=15]="CurrencyCode",Be[Be.CurrencySymbol=16]="CurrencySymbol",Be[Be.CurrencyName=17]="CurrencyName",Be[Be.Currencies=18]="Currencies",Be[Be.Directionality=19]="Directionality",Be[Be.PluralCase=20]="PluralCase",Be[Be.ExtraData=21]="ExtraData",Be))();const km="en-US";let Vw=km;function hu(i,o,a,l,d){if(i=te(i),Array.isArray(i))for(let g=0;g<i.length;g++)hu(i[g],o,a,l,d);else{const g=Ft(),_=Se();let w=Xd(i)?i:te(i.provide),b=Jd(i);const T=hn(),M=1048575&T.providerIndexes,k=T.directiveStart,U=T.providerIndexes>>20;if(Xd(i)||!i.multi){const Q=new Ou(b,d,jn),_e=Hm(w,o,d?M:M+U,k);-1===_e?(ur(Pn(T,_),g,w),jm(g,i,o.length),o.push(w),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),a.push(Q),_.push(Q)):(a[_e]=Q,_[_e]=Q)}else{const Q=Hm(w,o,M+U,k),_e=Hm(w,o,M,M+U),ke=Q>=0&&a[Q],Ge=_e>=0&&a[_e];if(d&&!Ge||!d&&!ke){ur(Pn(T,_),g,w);const tt=function _v(i,o,a,l,d){const g=new Ou(i,a,jn);return g.multi=[],g.index=o,g.componentProviders=0,$m(g,d,l&&!a),g}(d?yv:Vr,a.length,d,l,b);!d&&Ge&&(a[_e].providerFactory=tt),jm(g,i,o.length,0),o.push(w),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),a.push(tt),_.push(tt)}else jm(g,i,Q>-1?Q:_e,$m(a[d?_e:Q],b,!d&&l));!d&&l&&Ge&&a[_e].componentProviders++}}}function jm(i,o,a,l){const d=Xd(o),g=function $I(i){return!!i.useClass}(o);if(d||g){const b=(g?te(o.useClass):o).prototype.ngOnDestroy;if(b){const T=i.destroyHooks||(i.destroyHooks=[]);if(!d&&o.multi){const M=T.indexOf(a);-1===M?T.push(a,[l,b]):T[M+1].push(l,b)}else T.push(a,b)}}}function $m(i,o,a){return a&&i.componentProviders++,i.multi.push(o)-1}function Hm(i,o,a,l){for(let d=a;d<l;d++)if(o[d]===i)return d;return-1}function Vr(i,o,a,l){return up(this.multi,[])}function yv(i,o,a,l){const d=this.multi;let g;if(this.providerFactory){const _=this.providerFactory.componentProviders,w=Qo(a,a[1],this.providerFactory.index,l);g=w.slice(0,_),up(d,g);for(let b=_;b<w.length;b++)g.push(w[b])}else g=[],up(d,g);return g}function up(i,o){for(let a=0;a<i.length;a++)o.push((0,i[a])());return o}function fu(i,o=[]){return a=>{a.providersResolver=(l,d)=>function RC(i,o,a){const l=Ft();if(l.firstCreatePass){const d=Ni(i);hu(a,l.data,l.blueprint,d,!0),hu(o,l.data,l.blueprint,d,!1)}}(l,d?d(i):i,o)}}class cb{}class Sc{resolveComponentFactory(o){throw function db(i){const o=Error(`No component factory found for ${se(i)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=i,o}(o)}}let pu=(()=>{class i{}return i.NULL=new Sc,i})();function cp(){return Ac(hn(),Se())}function Ac(i,o){return new Mc(or(i,o))}let Mc=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=cp,i})();function vv(i){return i instanceof Mc?i.nativeElement:i}class hb{}let fb=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function Ev(){const i=Se(),a=ar(hn().index,i);return function pb(i){return i[11]}(Hr(a)?a:i)}(),i})(),dp=(()=>{class i{}return i.\u0275prov=Kt({token:i,providedIn:"root",factory:()=>null}),i})();class cl{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const gb=new cl("13.2.7"),Gm={};function qm(i,o,a,l,d=!1){for(;null!==a;){const g=o[a.index];if(null!==g&&l.push(Yt(g)),xi(g))for(let w=10;w<g.length;w++){const b=g[w],T=b[1].firstChild;null!==T&&qm(b[1],b,T,l)}const _=a.type;if(8&_)qm(i,o,a.child,l);else if(32&_){const w=W(a,o);let b;for(;b=w();)l.push(b)}else if(16&_){const w=oE(o,a);if(Array.isArray(w))l.push(...w);else{const b=Ze(o[16]);qm(b[1],b,w,l,!0)}}a=d?a.projectionNext:a.next}return l}class hp{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return qm(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(xi(o)){const a=o[8],l=a?a.indexOf(this):-1;l>-1&&(Jy(o,l),ao(a,l))}this._attachedToViewContainer=!1}Xy(this._lView[1],this._lView)}onDestroy(o){sm(this._lView[1],this._lView,null,o)}markForCheck(){ec(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Af(this._lView[1],this._lView,this.context)}checkNoChanges(){!function C_(i,o,a){Au(!0);try{Af(i,o,a)}finally{Au(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ne(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vf(i,o){Gg(i,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ne(902,"");this._appRef=o}}class kC extends hp{constructor(o){super(o),this._view=o}detectChanges(){Mf(this._view)}checkNoChanges(){!function LE(i){Au(!0);try{Mf(i)}finally{Au(!1)}}(this._view)}get context(){return null}}class Dh extends pu{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Hn(o);return new wv(a,this.ngModule)}}function dl(i){const o=[];for(let a in i)i.hasOwnProperty(a)&&o.push({propName:i[a],templateName:a});return o}class wv extends cb{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function wI(i){return i.map(Ef).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return dl(this.componentDef.inputs)}get outputs(){return dl(this.componentDef.outputs)}create(o,a,l,d){const g=(d=d||this.ngModule)?function mb(i,o){return{get:(a,l,d)=>{const g=i.get(a,Gm,d);return g!==Gm||l===Gm?g:o.get(a,l,d)}}}(o,d.injector):o,_=g.get(hb,Aa),w=g.get(dp,null),b=_.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",M=l?function im(i,o,a){if(nn(i))return i.selectRootElement(o,a===Gt.ShadowDom);let l="string"==typeof o?i.querySelector(o):o;return l.textContent="",l}(b,l,this.componentDef.encapsulation):kd(_.createRenderer(null,this.componentDef),T,function xc(i){const o=i.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(T)),k=this.componentDef.onPush?576:528,U=function k_(i,o){return{components:[],scheduler:i||Yy,clean:VI,playerHandler:o||null,flags:0}}(),Q=rm(0,null,null,1,0,null,null,null,null,null),_e=jd(null,Q,U,k,null,null,_,b,w,g);let ke,Ge;jo(_e);try{const tt=function KE(i,o,a,l,d,g){const _=a[1];a[20]=i;const b=tl(_,20,2,"#host",null),T=b.mergedAttrs=o.hostAttrs;null!==T&&(fm(b,T,!0),null!==i&&(et(d,i,T),null!==b.classes&&u_(d,i,b.classes),null!==b.styles&&uE(d,i,b.styles)));const M=l.createRenderer(i,o),k=jd(a,TE(o),null,o.onPush?64:16,a[20],b,l,M,g||null,null);return _.firstCreatePass&&(ur(Pn(b,a),_,o.type),rl(_,b),w_(b,a.length,1)),Xl(a,k),a[20]=k}(M,this.componentDef,_e,_,b);if(M)if(l)et(b,M,["ng-version",gb.full]);else{const{attrs:Ae,classes:gt}=function c_(i){const o=[],a=[];let l=1,d=2;for(;l<i.length;){let g=i[l];if("string"==typeof g)2===d?""!==g&&o.push(g,i[++l]):8===d&&a.push(g);else{if(!At(d))break;d=g}l++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Ae&&et(b,M,Ae),gt&&gt.length>0&&u_(b,M,gt.join(" "))}if(Ge=_n(Q,20),void 0!==a){const Ae=Ge.projection=[];for(let gt=0;gt<this.ngContentSelectors.length;gt++){const st=a[gt];Ae.push(null!=st?Array.from(st):null)}}ke=function Xn(i,o,a,l,d){const g=a[1],_=function xE(i,o,a){const l=hn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),zd(i,l,o,$d(i,o,1,null),a));const d=Qo(o,i,l.directiveStart,l);dr(d,o);const g=or(l,o);return g&&dr(g,o),d}(g,a,o);if(l.components.push(_),i[8]=_,d&&d.forEach(b=>b(_,o)),o.contentQueries){const b=hn();o.contentQueries(1,_,b.directiveStart)}const w=hn();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Vi(w.index),If(a[1],w,0,w.directiveStart,w.directiveEnd,o),OE(o,_)),_}(tt,this.componentDef,_e,U,[qI]),Jl(Q,_e,null)}finally{Ho()}return new zm(this.componentType,ke,Ac(Ge,_e),_e,Ge)}}class zm extends class lb{}{constructor(o,a,l,d,g){super(),this.location=l,this._rootLView=d,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new kC(d),this.componentType=o}get injector(){return new ro(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Oc{}class Ih{}const gu=new Map;class Iv extends Oc{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Dh(this);const l=Gn(o);this._bootstrapComponents=rs(l.bootstrap),this._r3Injector=x_(o,a,[{provide:Oc,useValue:this},{provide:pu,useValue:this.componentFactoryResolver}],se(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=ks.THROW_IF_NOT_FOUND,l=yt.Default){return o===ks||o===Oc||o===nu?this:this._r3Injector.get(o,a,l)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class _a extends Ih{constructor(o){super(),this.moduleType=o,null!==Gn(o)&&function qi(i){const o=new Set;!function a(l){const d=Gn(l,!0),g=d.id;null!==g&&(function Dv(i,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${i} - ${se(o)} vs ${se(o.name)}`)}(g,gu.get(g),l),gu.set(g,l));const _=rs(d.imports);for(const w of _)o.has(w)||(o.add(w),a(w))}(i)}(o)}create(o){return new Iv(this.moduleType,o)}}function bb(i,o,a,l,d,g){const _=o+a;return Wr(i,_,d)?function os(i,o,a){return i[o]=a}(i,_+1,g?l.call(g,d):l(d)):function pp(i,o){const a=i[o];return a===Rt?void 0:a}(i,_+1)}function Cb(i,o){const a=Ft();let l;const d=i+20;a.firstCreatePass?(l=function BC(i,o){if(o)for(let a=o.length-1;a>=0;a--){const l=o[a];if(i===l.name)return l}}(o,a.pipeRegistry),a.data[d]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,l.onDestroy)):l=a.data[d];const g=l.factory||(l.factory=vr(l.type)),_=xn(jn);try{const w=Di(!1),b=g();return Di(w),function ow(i,o,a,l){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),o[a]=l}(a,Se(),d,b),b}finally{xn(_)}}function Sv(i,o,a){const l=i+20,d=Se(),g=function ki(i,o){return i[o]}(d,l);return function yp(i,o){return i[1].data[o].pure}(d,l)?bb(d,function Rn(){const i=ft.lFrame;let o=i.bindingRootIndex;return-1===o&&(o=i.bindingRootIndex=i.tView.bindingStartIndex),o}(),o,g.transform,a,g):g.transform(a)}function _p(i){return o=>{setTimeout(i,void 0,o)}}const $s=class Ab extends h.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){var d,g,_;let w=o,b=a||(()=>null),T=l;if(o&&"object"==typeof o){const k=o;w=null===(d=k.next)||void 0===d?void 0:d.bind(k),b=null===(g=k.error)||void 0===g?void 0:g.bind(k),T=null===(_=k.complete)||void 0===_?void 0:_.bind(k)}this.__isAsync&&(b=_p(b),w&&(w=_p(w)),T&&(T=_p(T)));const M=super.subscribe({next:w,error:b,complete:T});return o instanceof X.w0&&o.add(M),M}};function vp(){return this._results[ha()]()}class Sh{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=ha(),l=Sh.prototype;l[a]||(l[a]=vp)}get changes(){return this._changes||(this._changes=new $s)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const l=this;l.dirty=!1;const d=si(o);(this._changesDetected=!function Vl(i,o,a){if(i.length!==o.length)return!1;for(let l=0;l<i.length;l++){let d=i[l],g=o[l];if(a&&(d=a(d),g=a(g)),g!==d)return!1}return!0}(l._results,d,a))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let kc=(()=>{class i{}return i.__NG_ELEMENT_ID__=Mb,i})();const jC=kc,Av=class extends jC{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(o){const a=this._declarationTContainer.tViews,l=jd(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(l[19]=g.createEmbeddedView(a)),Jl(a,l,o),new hp(l)}};function Mb(){return Wm(hn(),Se())}function Wm(i,o){return 4&i.type?new Av(o,i,Ac(i,o)):null}let Ep=(()=>{class i{}return i.__NG_ELEMENT_ID__=xb,i})();function xb(){return Nv(hn(),Se())}const Mv=Ep,Ob=class extends Mv{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return Ac(this._hostTNode,this._hostLView)}get injector(){return new ro(this._hostTNode,this._hostLView)}get parentInjector(){const o=Ts(this._hostTNode,this._hostLView);if(pd(o)){const a=on(o,this._hostLView),l=Ui(o);return new ro(a[1].data[l+8],a)}return new ro(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=xv(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,l){const d=o.createEmbeddedView(a||{});return this.insert(d,l),d}createComponent(o,a,l,d,g){const _=o&&!function oo(i){return"function"==typeof i}(o);let w;if(_)w=a;else{const k=a||{};w=k.index,l=k.injector,d=k.projectableNodes,g=k.ngModuleRef}const b=_?o:new wv(Hn(o)),T=l||this.parentInjector;if(!g&&null==b.ngModule){const U=(_?T:this.parentInjector).get(Oc,null);U&&(g=U)}const M=b.create(T,d,void 0,g);return this.insert(M.hostView,w),M}insert(o,a){const l=o._lView,d=l[1];if(function xa(i){return xi(i[3])}(l)){const M=this.indexOf(o);if(-1!==M)this.detach(M);else{const k=l[3],U=new Ob(k,k[6],k[3]);U.detach(U.indexOf(o))}}const g=this._adjustIndex(a),_=this._lContainer;!function Kl(i,o,a,l){const d=10+l,g=a.length;l>0&&(a[d-1][4]=o),l<g-10?(o[4]=a[d],Xo(a,10+l,o)):(a.push(o),o[4]=null),o[3]=a;const _=o[17];null!==_&&a!==_&&function Ju(i,o){const a=i[9];o[16]!==o[3][3][16]&&(i[2]=!0),null===a?i[9]=[o]:a.push(o)}(_,o);const w=o[19];null!==w&&w.insertView(i),o[2]|=128}(d,l,_,g);const w=i_(g,_),b=l[11],T=Jn(b,_[7]);return null!==T&&function _f(i,o,a,l,d,g){l[0]=d,l[6]=o,Gg(i,l,a,1,d,g)}(d,_[6],b,l,T,w),o.attachToViewContainerRef(),Xo(Ov(_),g,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=xv(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=Jy(this._lContainer,a);l&&(ao(Ov(this._lContainer),a),Xy(l[1],l))}detach(o){const a=this._adjustIndex(o,-1),l=Jy(this._lContainer,a);return l&&null!=ao(Ov(this._lContainer),a)?new hp(l):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function xv(i){return i[8]}function Ov(i){return i[8]||(i[8]=[])}function Nv(i,o){let a;const l=o[i.index];if(xi(l))a=l;else{let d;if(8&i.type)d=Yt(l);else{const g=o[11];d=g.createComment("");const _=or(i,o);is(g,Jn(g,_),d,function _I(i,o){return nn(i)?i.nextSibling(o):o.nextSibling}(g,_),!1)}o[i.index]=a=dm(l,o,d,i),Xl(o,a)}return new Ob(a,i,o)}class bp{constructor(o){this.queryList=o,this.matches=null}clone(){return new bp(this.queryList)}setDirty(){this.queryList.setDirty()}}class Mh{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let g=0;g<l;g++){const _=a.getByIndex(g);d.push(this.queries[_.indexInDeclarationView].clone())}return new Mh(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Qm(o,a).matches&&this.queries[a].setDirty()}}class Rv{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class Zm{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,g=this.getByIndex(l).embeddedTView(o,d);g&&(g.indexInDeclarationView=l,null!==a?a.push(g):a=[g])}return null!==a?new Zm(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Km{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Km(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const g=l[d];this.matchTNodeWithReadOption(o,a,HC(a,g)),this.matchTNodeWithReadOption(o,a,Yo(a,o,g,!1,!1))}else l===kc?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Yo(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===Mc||d===Ep||d===kc&&4&a.type)this.addMatch(a.index,-2);else{const g=Yo(a,o,d,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function HC(i,o){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function GC(i,o,a,l){return-1===a?function Pv(i,o){return 11&i.type?Ac(i,o):4&i.type?Wm(i,o):null}(o,i):-2===a?function kv(i,o,a){return a===Mc?Ac(o,i):a===kc?Wm(o,i):a===Ep?Nv(o,i):void 0}(i,o,l):Qo(i,i[1],a,o)}function Nb(i,o,a,l){const d=o[19].queries[l];if(null===d.matches){const g=i.data,_=a.matches,w=[];for(let b=0;b<_.length;b+=2){const T=_[b];w.push(T<0?null:GC(o,g[T],_[b+1],a.metadata.read))}d.matches=w}return d.matches}function Fv(i,o,a,l){const d=i.queries.getByIndex(a),g=d.matches;if(null!==g){const _=Nb(i,o,d,a);for(let w=0;w<g.length;w+=2){const b=g[w];if(b>0)l.push(_[w/2]);else{const T=g[w+1],M=o[-b];for(let k=10;k<M.length;k++){const U=M[k];U[17]===U[3]&&Fv(U[1],U,T,l)}if(null!==M[9]){const k=M[9];for(let U=0;U<k.length;U++){const Q=k[U];Fv(Q[1],Q,T,l)}}}}}return l}function Ym(i){const o=Se(),a=Ft(),l=Nl();La(l+1);const d=Qm(a,l);if(i.dirty&&Js(o)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const g=d.crossesNgTemplate?Fv(a,o,l,[]):Nb(a,o,d,l);i.reset(g,vv),i.notifyOnChanges()}return!0}return!1}function Rb(i,o,a,l){const d=Ft();if(d.firstCreatePass){const g=hn();(function Fb(i,o,a){null===i.queries&&(i.queries=new Zm),i.queries.track(new Km(o,a))})(d,new Rv(o,a,l),g.index),function zC(i,o){const a=i.contentQueries||(i.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,o)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}!function kb(i,o,a){const l=new Sh(4==(4&a));sm(i,o,l,l.destroy),null===o[19]&&(o[19]=new Mh),o[19].queries.push(new bp(l))}(d,Se(),a)}function Pb(){return function qC(i,o){return i[19].queries[o].queryList}(Se(),Nl())}function Qm(i,o){return i.queries.getByIndex(o)}function Oh(...i){}const ay=new gn("Application Initializer");let qv=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Oh,this.reject=Oh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(pc(g))a.push(g);else if(He(g)){const _=new Promise((w,b)=>{g.subscribe({complete:w,error:b})});a.push(_)}}Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Ve(ay,8))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const uy=new gn("AppId",{providedIn:"root",factory:function zv(){return`${Sp()}${Sp()}${Sp()}`}});function Sp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ly=new gn("Platform Initializer"),jc=new gn("Platform ID"),mu=new gn("appBootstrapListener");let $c=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();const cy=new gn("LocaleId",{providedIn:"root",factory:()=>dt(cy,yt.Optional|yt.SkipSelf)||function Nh(){return"undefined"!=typeof $localize&&$localize.locale||km}()}),Rh=new gn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Wv{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let Zv=(()=>{class i{compileModuleSync(a){return new _a(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),g=rs(Gn(a).declarations).reduce((_,w)=>{const b=Hn(w);return b&&_.push(new wv(b)),_},[]);return new Wv(l,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const XC=(()=>Promise.resolve(0))();function Ap(i){"undefined"==typeof Zone?XC.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Do{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $s(!1),this.onMicrotaskEmpty=new $s(!1),this.onStable=new $s(!1),this.onError=new $s(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function Yv(){let i=jt.requestAnimationFrame,o=jt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&o){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function rD(i){const o=()=>{!function nD(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(jt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,dy(i),i.isCheckStableRunning=!0,Qv(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),dy(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,g,_,w)=>{try{return Jv(i),a.invokeTask(d,g,_,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||i.shouldCoalesceRunChangeDetection)&&o(),iD(i)}},onInvoke:(a,l,d,g,_,w,b)=>{try{return Jv(i),a.invoke(d,g,_,w,b)}finally{i.shouldCoalesceRunChangeDetection&&o(),iD(i)}},onHasTask:(a,l,d,g)=>{a.hasTask(d,g),l===d&&("microTask"==g.change?(i._hasPendingMicrotasks=g.microTask,dy(i),Qv(i)):"macroTask"==g.change&&(i.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,l,d,g)=>(a.handleError(d,g),i.runOutsideAngular(()=>i.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Do.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Do.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,d){const g=this._inner,_=g.scheduleEventTask("NgZoneEvent: "+d,o,tD,Oh,Oh);try{return g.runTask(_,a,l)}finally{g.cancelTask(_)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const tD={};function Qv(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function dy(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Jv(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function iD(i){i._nesting--,Qv(i)}class eT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $s,this.onMicrotaskEmpty=new $s,this.onStable=new $s,this.onError=new $s}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,d){return o.apply(a,l)}}let sD=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Do.assertNotInAngularZone(),Ap(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ap(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==g),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(Ve(Do))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})(),oD=(()=>{class i{constructor(){this._applications=new Map,Mp.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return Mp.findTestabilityInTree(this,a,l)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();class Xv{addToWindow(o){}findTestabilityInTree(o,a,l){return null}}function e0(i){Mp=i}let Io,Mp=new Xv;const r0=new gn("AllowMultipleToken");class s0{constructor(o,a){this.name=o,this.token=a}}function uD(i,o,a=[]){const l=`Platform: ${o}`,d=new gn(l);return(g=[])=>{let _=hy();if(!_||_.injector.get(r0,!1))if(i)i(a.concat(g).concat({provide:d,useValue:!0}));else{const w=a.concat(g).concat({provide:d,useValue:!0},{provide:M_,useValue:"platform"});!function aD(i){if(Io&&!Io.destroyed&&!Io.injector.get(r0,!1))throw new Ne(400,"");Io=i.get(lD);const o=i.get(ly,null);o&&o.forEach(a=>a())}(ks.create({providers:w,name:l}))}return function o0(i){const o=hy();if(!o)throw new Ne(401,"");return o}()}}function hy(){return Io&&!Io.destroyed?Io:null}let lD=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const w=function a0(i,o){let a;return a="noop"===i?new eT:("zone.js"===i?void 0:i)||new Do({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),b=[{provide:Do,useValue:w}];return w.run(()=>{const T=ks.create({providers:b,parent:this.injector,name:a.moduleType.name}),M=a.create(T),k=M.injector.get(Nd,null);if(!k)throw new Ne(402,"");return w.runOutsideAngular(()=>{const U=w.onError.subscribe({next:Q=>{k.handleError(Q)}});M.onDestroy(()=>{Op(this._modules,M),U.unsubscribe()})}),function tT(i,o,a){try{const l=a();return pc(l)?l.catch(d=>{throw o.runOutsideAngular(()=>i.handleError(d)),d}):l}catch(l){throw o.runOutsideAngular(()=>i.handleError(l)),l}}(k,w,()=>{const U=M.injector.get(qv);return U.runInitializers(),U.donePromise.then(()=>(function rn(i){Bt(i,"Expected localeId to be defined"),"string"==typeof i&&(Vw=i.toLowerCase().replace(/_/g,"-"))}(M.injector.get(cy,km)||km),this._moduleDoBootstrap(M),M))})})}bootstrapModule(a,l=[]){const d=fy({},l);return function t0(i,o,a){const l=new _a(a);return Promise.resolve(l)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(a){const l=a.injector.get(xp);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Ne(403,"");a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ne(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Ve(ks))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac}),i})();function fy(i,o){return Array.isArray(o)?o.reduce(fy,i):Object.assign(Object.assign({},i),o)}let xp=(()=>{class i{constructor(a,l,d,g,_){this._zone=a,this._injector=l,this._exceptionHandler=d,this._componentFactoryResolver=g,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new P.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),b=new P.y(T=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{Do.assertNotInAngularZone(),Ap(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{Do.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{M.unsubscribe(),k.unsubscribe()}});this.isStable=(0,ae.T)(w,b.pipe((0,re.B)()))}bootstrap(a,l){if(!this._initStatus.done)throw new Ne(405,"");let d;d=a instanceof cb?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(d.componentType);const g=function n0(i){return i.isBoundToModule}(d)?void 0:this._injector.get(Oc),w=d.create(ks.NULL,[],l||d.selector,g),b=w.location.nativeElement,T=w.injector.get(sD,null),M=T&&w.injector.get(oD);return T&&M&&M.registerApplication(b,T),w.onDestroy(()=>{this.detachView(w.hostView),Op(this.components,w),M&&M.unregisterApplication(b)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Ne(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Op(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(mu,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(Ve(Do),Ve(ks),Ve(Nd),Ve(pu),Ve(qv))},i.\u0275prov=Kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Op(i,o){const a=i.indexOf(o);a>-1&&i.splice(a,1)}let py=!0,dD=!1;function u0(){return dD=!0,py}function yu(){if(dD)throw new Error("Cannot enable prod mode after platform setup.");py=!1}let nT=(()=>{class i{}return i.__NG_ELEMENT_ID__=rT,i})();function rT(i){return function l0(i,o,a){if(Qc(i)&&!a){const l=ar(i.index,o);return new hp(l,l)}return 47&i.type?new hp(o[16],o):null}(hn(),Se(),16==(16&i))}class Fp{constructor(){}supports(o){return nc(o)}create(o){return new aT(o)}}const oT=(i,o)=>o;class aT{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||oT}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,d=0,g=null;for(;a||l;){const _=!l||a&&a.currentIndex<yy(l,d,g)?a:l,w=yy(_,d,g),b=_.currentIndex;if(_===l)d--,l=l._nextRemoved;else if(a=a._next,null==_.previousIndex)d++;else{g||(g=[]);const T=w-d,M=b-d;if(T!=M){for(let U=0;U<T;U++){const Q=U<g.length?g[U]:g[U]=0,_e=Q+U;M<=_e&&_e<T&&(g[U]=Q+1)}g[_.previousIndex]=M-T}}w!==b&&o(_,w,b)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!nc(o))throw new Ne(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,g,_,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)g=o[w],_=this._trackByFn(w,g),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,g,_,w)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,_,w),l=!0),a=a._next}else d=0,function nw(i,o){if(Array.isArray(i))for(let a=0;a<i.length;a++)o(i[a]);else{const a=i[ha()]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,w=>{_=this._trackByFn(d,w),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,w,_,d)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,_,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,d){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,g,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,g,d)):o=this._addAfter(new uT(a,l),g,d),o}_verifyReinsertion(o,a,l,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==g?o=this._reinsertAfter(g,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,g=o._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new g0),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new g0),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class uT{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lT{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class g0{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new lT,this.map.set(a,l)),l.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yy(i,o,a){const l=i.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+o+d}class m0{constructor(){}supports(o){return o instanceof Map||kf(o)}create(){return new y0}}class y0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||kf(o)))throw new Ne(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const g=d._prev,_=d._next;return g&&(g._next=_),_&&(_._prev=g),d._next=null,d._prev=null,d}const l=new _0(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class _0{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function _y(){return new Ph([new Fp])}let Ph=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||_y()),deps:[[i,new li,new ai]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new Ne(901,"")}}return i.\u0275prov=Kt({token:i,providedIn:"root",factory:_y}),i})();function v0(){return new Lp([new m0])}let Lp=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||v0()),deps:[[i,new li,new ai]]}}find(a){const l=this.factories.find(g=>g.supports(a));if(l)return l;throw new Ne(901,"")}}return i.\u0275prov=Kt({token:i,providedIn:"root",factory:v0}),i})();const cT=uD(null,"core",[{provide:jc,useValue:"unknown"},{provide:lD,deps:[ks]},{provide:oD,deps:[]},{provide:$c,deps:[]}]);let dT=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Ve(xp))},i.\u0275mod=Cr({type:i}),i.\u0275inj=zt({}),i})()},3942:(Xe,we,R)=>{R.d(we,{Z:()=>Ne});var h=R(2090),X=R(4859),P=R(9681),ae=R(1877);class re{constructor(he,Ce){this._delegate=he,this.firebase=Ce,(0,P._addComponent)(he,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=he.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this._delegate.automaticDataCollectionEnabled=he}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(he=>{this._delegate.checkDestroyed(),he()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(he,Ce=P._DEFAULT_ENTRY_NAME){var ze;this._delegate.checkDestroyed();const Ye=this._delegate.container.getProvider(he);return!Ye.isInitialized()&&"EXPLICIT"===(null===(ze=Ye.getComponent())||void 0===ze?void 0:ze.instantiationMode)&&Ye.initialize(),Ye.getImmediate({identifier:Ce})}_removeServiceInstance(he,Ce=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(he).clearInstance(Ce)}_addComponent(he){(0,P._addComponent)(this._delegate,he)}_addOrOverwriteComponent(he){(0,P._addOrOverwriteComponent)(this._delegate,he)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ue=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function ce(){const Ue=function se(Ue){const he={},Ce={__esModule:!0,initializeApp:function Te(je,j={}){const ve=P.initializeApp(je,j);if((0,h.r3)(he,ve.name))return he[ve.name];const Z=new Ue(ve,Ce);return he[ve.name]=Z,Z},app:Ye,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function De(je){const j=je.name,ve=j.replace("-compat","");if(P._registerComponent(je)&&"PUBLIC"===je.type){const Z=(ie=Ye())=>{if("function"!=typeof ie[ve])throw ue.create("invalid-app-argument",{appName:j});return ie[ve]()};void 0!==je.serviceProps&&(0,h.ZB)(Z,je.serviceProps),Ce[ve]=Z,Ue.prototype[ve]=function(...ie){return this._getService.bind(this,j).apply(this,je.multipleInstances?ie:[])}}return"PUBLIC"===je.type?Ce[ve]:null},removeApp:function ze(je){delete he[je]},useAsService:function $e(je,j){return"serverAuth"===j?null:j},modularAPIs:P}};function Ye(je){if(!(0,h.r3)(he,je=je||P._DEFAULT_ENTRY_NAME))throw ue.create("no-app",{appName:je});return he[je]}return Ce.default=Ce,Object.defineProperty(Ce,"apps",{get:function Ee(){return Object.keys(he).map(je=>he[je])}}),Ye.App=Ue,Ce}(re);return Ue.INTERNAL=Object.assign(Object.assign({},Ue.INTERNAL),{createFirebaseNamespace:ce,extendNamespace:function he(Ce){(0,h.ZB)(Ue,Ce)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),Ue}(),B=new ae.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ue=self.firebase.SDK_VERSION;Ue&&Ue.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ne=$;!function Me(Ue){(0,P.registerVersion)("@firebase/app-compat","0.1.25",Ue)}()},9681:(Xe,we,R)=>{R.r(we),R.d(we,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Ti,_DEFAULT_ENTRY_NAME:()=>Bt,_addComponent:()=>en,_addOrOverwriteComponent:()=>Kt,_apps:()=>Qt,_clearComponents:()=>Wi,_components:()=>Mn,_getProvider:()=>zt,_registerComponent:()=>Dr,_removeServiceInstance:()=>Vt,deleteApp:()=>yt,getApp:()=>Qr,getApps:()=>Si,initializeApp:()=>ys,onLog:()=>xn,registerVersion:()=>In,setLogLevel:()=>qs});var h=R(5861),X=R(4859),P=R(1877),ae=R(2090),re=R(8766);class pe{constructor(J){this.container=J}getPlatformInfoString(){return this.container.getProviders().map(Oe=>{if(function ue(H){const J=H.getComponent();return"VERSION"===(null==J?void 0:J.type)}(Oe)){const Je=Oe.getImmediate();return`${Je.library}/${Je.version}`}return null}).filter(Oe=>Oe).join(" ")}}const se="@firebase/app",$=new P.Yd("@firebase/app"),Bt="[DEFAULT]",Qe={[se]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Qt=new Map,Mn=new Map;function en(H,J){try{H.container.addComponent(J)}catch(Oe){$.debug(`Component ${J.name} failed to register with FirebaseApp ${H.name}`,Oe)}}function Kt(H,J){H.container.addOrOverwriteComponent(J)}function Dr(H){const J=H.name;if(Mn.has(J))return $.debug(`There were multiple attempts to register component ${J}.`),!1;Mn.set(J,H);for(const Oe of Qt.values())en(Oe,H);return!0}function zt(H,J){const Oe=H.container.getProvider("heartbeat").getImmediate({optional:!0});return Oe&&Oe.triggerHeartbeat(),H.container.getProvider(J)}function Vt(H,J,Oe=Bt){zt(H,J).clearInstance(Oe)}function Wi(){Mn.clear()}const pr=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ir{constructor(J,Oe,Je){this._isDeleted=!1,this._options=Object.assign({},J),this._config=Object.assign({},Oe),this._name=Oe.name,this._automaticDataCollectionEnabled=Oe.automaticDataCollectionEnabled,this._container=Je,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(J){this.checkDestroyed(),this._automaticDataCollectionEnabled=J}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(J){this._isDeleted=J}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}const Ti="9.8.1";function ys(H,J={}){"object"!=typeof J&&(J={name:J});const Oe=Object.assign({name:Bt,automaticDataCollectionEnabled:!1},J),Je=Oe.name;if("string"!=typeof Je||!Je)throw pr.create("bad-app-name",{appName:String(Je)});const ht=Qt.get(Je);if(ht){if((0,ae.vZ)(H,ht.options)&&(0,ae.vZ)(Oe,ht.config))return ht;throw pr.create("duplicate-app",{appName:Je})}const Ct=new X.H0(Je);for(const Et of Mn.values())Ct.addComponent(Et);const ln=new Ir(H,Oe,Ct);return Qt.set(Je,ln),ln}function Qr(H=Bt){const J=Qt.get(H);if(!J)throw pr.create("no-app",{appName:H});return J}function Si(){return Array.from(Qt.values())}function yt(H){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,h.Z)(function*(H){const J=H.name;Qt.has(J)&&(Qt.delete(J),yield Promise.all(H.container.getProviders().map(Oe=>Oe.delete())),H.isDeleted=!0)})).apply(this,arguments)}function In(H,J,Oe){var Je;let ht=null!==(Je=Qe[H])&&void 0!==Je?Je:H;Oe&&(ht+=`-${Oe}`);const Ct=ht.match(/\s|\//),ln=J.match(/\s|\//);if(Ct||ln){const Et=[`Unable to register library "${ht}" with version "${J}":`];return Ct&&Et.push(`library name "${ht}" contains illegal characters (whitespace or "/")`),Ct&&ln&&Et.push("and"),ln&&Et.push(`version name "${J}" contains illegal characters (whitespace or "/")`),void $.warn(Et.join(" "))}Dr(new X.wA(`${ht}-version`,()=>({library:ht,version:J}),"VERSION"))}function xn(H,J){if(null!==H&&"function"!=typeof H)throw pr.create("invalid-log-argument");(0,P.Am)(H,J)}function qs(H){(0,P.Ub)(H)}const Ln="firebase-heartbeat-store";let vi=null;function Mo(){return vi||(vi=(0,re.X3)("firebase-heartbeat-database",1,{upgrade:(H,J)=>{0===J&&H.createObjectStore(Ln)}}).catch(H=>{throw pr.create("storage-open",{originalErrorMessage:H.message})})),vi}function it(){return(it=(0,h.Z)(function*(H){try{return(yield Mo()).transaction(Ln).objectStore(Ln).get(ei(H))}catch(J){throw pr.create("storage-get",{originalErrorMessage:J.message})}})).apply(this,arguments)}function vt(H,J){return gr.apply(this,arguments)}function gr(){return(gr=(0,h.Z)(function*(H,J){try{const Je=(yield Mo()).transaction(Ln,"readwrite");return yield Je.objectStore(Ln).put(J,ei(H)),Je.done}catch(Oe){throw pr.create("storage-set",{originalErrorMessage:Oe.message})}})).apply(this,arguments)}function ei(H){return`${H.name}!${H.options.appId}`}class mr{constructor(J){this.container=J,this._heartbeatsCache=null;const Oe=this.container.getProvider("app").getImmediate();this._storage=new G(Oe),this._heartbeatsCachePromise=this._storage.read().then(Je=>(this._heartbeatsCache=Je,Je))}triggerHeartbeat(){var J=this;return(0,h.Z)(function*(){const Je=J.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ht=yr();if(null===J._heartbeatsCache&&(J._heartbeatsCache=yield J._heartbeatsCachePromise),J._heartbeatsCache.lastSentHeartbeatDate!==ht&&!J._heartbeatsCache.heartbeats.some(Ct=>Ct.date===ht))return J._heartbeatsCache.heartbeats.push({date:ht,agent:Je}),J._heartbeatsCache.heartbeats=J._heartbeatsCache.heartbeats.filter(Ct=>{const ln=new Date(Ct.date).valueOf();return Date.now()-ln<=2592e6}),J._storage.overwrite(J._heartbeatsCache)})()}getHeartbeatsHeader(){var J=this;return(0,h.Z)(function*(){if(null===J._heartbeatsCache&&(yield J._heartbeatsCachePromise),null===J._heartbeatsCache||0===J._heartbeatsCache.heartbeats.length)return"";const Oe=yr(),{heartbeatsToSend:Je,unsentEntries:ht}=function V(H,J=1024){const Oe=[];let Je=H.slice();for(const ht of H){const Ct=Oe.find(ln=>ln.agent===ht.agent);if(Ct){if(Ct.dates.push(ht.date),q(Oe)>J){Ct.dates.pop();break}}else if(Oe.push({agent:ht.agent,dates:[ht.date]}),q(Oe)>J){Oe.pop();break}Je=Je.slice(1)}return{heartbeatsToSend:Oe,unsentEntries:Je}}(J._heartbeatsCache.heartbeats),Ct=(0,ae.L)(JSON.stringify({version:2,heartbeats:Je}));return J._heartbeatsCache.lastSentHeartbeatDate=Oe,ht.length>0?(J._heartbeatsCache.heartbeats=ht,yield J._storage.overwrite(J._heartbeatsCache)):(J._heartbeatsCache.heartbeats=[],J._storage.overwrite(J._heartbeatsCache)),Ct})()}}function yr(){return(new Date).toISOString().substring(0,10)}class G{constructor(J){this.app=J,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var J=this;return(0,h.Z)(function*(){return(yield J._canUseIndexedDBPromise)&&(yield function Gt(H){return it.apply(this,arguments)}(J.app))||{heartbeats:[]}})()}overwrite(J){var Oe=this;return(0,h.Z)(function*(){var Je;if(yield Oe._canUseIndexedDBPromise){const Ct=yield Oe.read();return vt(Oe.app,{lastSentHeartbeatDate:null!==(Je=J.lastSentHeartbeatDate)&&void 0!==Je?Je:Ct.lastSentHeartbeatDate,heartbeats:J.heartbeats})}})()}add(J){var Oe=this;return(0,h.Z)(function*(){var Je;if(yield Oe._canUseIndexedDBPromise){const Ct=yield Oe.read();return vt(Oe.app,{lastSentHeartbeatDate:null!==(Je=J.lastSentHeartbeatDate)&&void 0!==Je?Je:Ct.lastSentHeartbeatDate,heartbeats:[...Ct.heartbeats,...J.heartbeats]})}})()}}function q(H){return(0,ae.L)(JSON.stringify({version:2,heartbeats:H})).length}!function Ie(H){Dr(new X.wA("platform-logger",J=>new pe(J),"PRIVATE")),Dr(new X.wA("heartbeat",J=>new mr(J),"PRIVATE")),In(se,"0.7.24",H),In(se,"0.7.24","esm2017"),In("fire-js","")}("")},4859:(Xe,we,R)=>{R.d(we,{wA:()=>P,H0:()=>se});var h=R(5861),X=R(2090);class P{constructor($,B,te){this.name=$,this.instanceFactory=B,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const ae="[DEFAULT]";class re{constructor($,B){this.name=$,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const B=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(B)){const te=new X.BH;if(this.instancesDeferred.set(B,te),this.isInitialized(B)||this.shouldAutoInitialize())try{const qe=this.getOrInitializeService({instanceIdentifier:B});qe&&te.resolve(qe)}catch(qe){}}return this.instancesDeferred.get(B).promise}getImmediate($){var B;const te=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),qe=null!==(B=null==$?void 0:$.optional)&&void 0!==B&&B;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Me){if(qe)return null;throw Me}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function ue(ce){return"EAGER"===ce.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:ae})}catch(B){}for(const[B,te]of this.instancesDeferred.entries()){const qe=this.normalizeInstanceIdentifier(B);try{const Me=this.getOrInitializeService({instanceIdentifier:qe});te.resolve(Me)}catch(Me){}}}}clearInstance($=ae){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,h.Z)(function*(){const B=Array.from($.instances.values());yield Promise.all([...B.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...B.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=ae){return this.instances.has($)}getOptions($=ae){return this.instancesOptions.get($)||{}}initialize($={}){const{options:B={}}=$,te=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const qe=this.getOrInitializeService({instanceIdentifier:te,options:B});for(const[Me,Ne]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(Me)&&Ne.resolve(qe);return qe}onInit($,B){var te;const qe=this.normalizeInstanceIdentifier(B),Me=null!==(te=this.onInitCallbacks.get(qe))&&void 0!==te?te:new Set;Me.add($),this.onInitCallbacks.set(qe,Me);const Ne=this.instances.get(qe);return Ne&&$(Ne,qe),()=>{Me.delete($)}}invokeOnInitCallbacks($,B){const te=this.onInitCallbacks.get(B);if(te)for(const qe of te)try{qe($,B)}catch(Me){}}getOrInitializeService({instanceIdentifier:$,options:B={}}){let te=this.instances.get($);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(ce=$,ce===ae?void 0:ce),options:B}),this.instances.set($,te),this.instancesOptions.set($,B),this.invokeOnInitCallbacks(te,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,te)}catch(qe){}var ce;return te||null}normalizeInstanceIdentifier($=ae){return this.component?this.component.multipleInstances?$:ae:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class se{constructor($){this.name=$,this.providers=new Map}addComponent($){const B=this.getProvider($.name);if(B.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);B.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const B=new re($,this);return this.providers.set($,B),B}getProviders(){return Array.from(this.providers.values())}}},1877:(Xe,we,R)=>{R.d(we,{in:()=>X,Yd:()=>ue,Ub:()=>se,Am:()=>ce});const h=[];var X=(()=>{return($=X||(X={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",X;var $})();const P={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},ae=X.INFO,re={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},pe=($,B,...te)=>{if(B<$.logLevel)return;const qe=(new Date).toISOString(),Me=re[B];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${B})`);console[Me](`[${qe}]  ${$.name}:`,...te)};class ue{constructor(B){this.name=B,this._logLevel=ae,this._logHandler=pe,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in X))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"==typeof B?P[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(...B){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...B),this._logHandler(this,X.DEBUG,...B)}log(...B){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...B),this._logHandler(this,X.VERBOSE,...B)}info(...B){this._userLogHandler&&this._userLogHandler(this,X.INFO,...B),this._logHandler(this,X.INFO,...B)}warn(...B){this._userLogHandler&&this._userLogHandler(this,X.WARN,...B),this._logHandler(this,X.WARN,...B)}error(...B){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...B),this._logHandler(this,X.ERROR,...B)}}function se($){h.forEach(B=>{B.setLogLevel($)})}function ce($,B){for(const te of h){let qe=null;B&&B.level&&(qe=P[B.level]),te.userLogHandler=null===$?null:(Me,Ne,...Ue)=>{const he=Ue.map(Ce=>{if(null==Ce)return null;if("string"==typeof Ce)return Ce;if("number"==typeof Ce||"boolean"==typeof Ce)return Ce.toString();if(Ce instanceof Error)return Ce.message;try{return JSON.stringify(Ce)}catch(ze){return null}}).filter(Ce=>Ce).join(" ");Ne>=(null!=qe?qe:Me.logLevel)&&$({level:X[Ne].toLowerCase(),message:he,args:Ue,type:Me.name})}}}},8766:(Xe,we,R)=>{R.d(we,{Lj:()=>Te,X3:()=>Ye});var h=R(5861);let P,ae;const ue=new WeakMap,se=new WeakMap,ce=new WeakMap,$=new WeakMap,B=new WeakMap;let Me={get(j,ve,Z){if(j instanceof IDBTransaction){if("done"===ve)return se.get(j);if("objectStoreNames"===ve)return j.objectStoreNames||ce.get(j);if("store"===ve)return Z.objectStoreNames[1]?void 0:Z.objectStore(Z.objectStoreNames[0])}return Ce(j[ve])},set:(j,ve,Z)=>(j[ve]=Z,!0),has:(j,ve)=>j instanceof IDBTransaction&&("done"===ve||"store"===ve)||ve in j};function he(j){return"function"==typeof j?function Ue(j){return j!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(j)?function(...ve){return j.apply(ze(this),ve),Ce(ue.get(this))}:function(...ve){return Ce(j.apply(ze(this),ve))}:function(ve,...Z){const ie=j.call(ze(this),ve,...Z);return ce.set(ie,ve.sort?ve.sort():[ve]),Ce(ie)}}(j):(j instanceof IDBTransaction&&function qe(j){if(se.has(j))return;const ve=new Promise((Z,ie)=>{const ee=()=>{j.removeEventListener("complete",me),j.removeEventListener("error",oe),j.removeEventListener("abort",oe)},me=()=>{Z(),ee()},oe=()=>{ie(j.error||new DOMException("AbortError","AbortError")),ee()};j.addEventListener("complete",me),j.addEventListener("error",oe),j.addEventListener("abort",oe)});se.set(j,ve)}(j),((j,ve)=>ve.some(Z=>j instanceof Z))(j,function re(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(j,Me):j)}function Ce(j){if(j instanceof IDBRequest)return function te(j){const ve=new Promise((Z,ie)=>{const ee=()=>{j.removeEventListener("success",me),j.removeEventListener("error",oe)},me=()=>{Z(Ce(j.result)),ee()},oe=()=>{ie(j.error),ee()};j.addEventListener("success",me),j.addEventListener("error",oe)});return ve.then(Z=>{Z instanceof IDBCursor&&ue.set(Z,j)}).catch(()=>{}),B.set(ve,j),ve}(j);if($.has(j))return $.get(j);const ve=he(j);return ve!==j&&($.set(j,ve),B.set(ve,j)),ve}const ze=j=>B.get(j);function Ye(j,ve,{blocked:Z,upgrade:ie,blocking:ee,terminated:me}={}){const oe=indexedDB.open(j,ve),Re=Ce(oe);return ie&&oe.addEventListener("upgradeneeded",lt=>{ie(Ce(oe.result),lt.oldVersion,lt.newVersion,Ce(oe.transaction))}),Z&&oe.addEventListener("blocked",()=>Z()),Re.then(lt=>{me&&lt.addEventListener("close",()=>me()),ee&&lt.addEventListener("versionchange",()=>ee())}).catch(()=>{}),Re}function Te(j,{blocked:ve}={}){const Z=indexedDB.deleteDatabase(j);return ve&&Z.addEventListener("blocked",()=>ve()),Ce(Z).then(()=>{})}const Ee=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],$e=new Map;function je(j,ve){if(!(j instanceof IDBDatabase)||ve in j||"string"!=typeof ve)return;if($e.get(ve))return $e.get(ve);const Z=ve.replace(/FromIndex$/,""),ie=ve!==Z,ee=De.includes(Z);if(!(Z in(ie?IDBIndex:IDBObjectStore).prototype)||!ee&&!Ee.includes(Z))return;const me=function(){var oe=(0,h.Z)(function*(Re,...lt){const Ht=this.transaction(Re,ee?"readwrite":"readonly");let Bt=Ht.store;return ie&&(Bt=Bt.index(lt.shift())),(yield Promise.all([Bt[Z](...lt),ee&&Ht.done]))[0]});return function(lt){return oe.apply(this,arguments)}}();return $e.set(ve,me),me}!function Ne(j){Me=j(Me)}(j=>A1(S1({},j),{get:(ve,Z,ie)=>je(ve,Z)||j.get(ve,Z,ie),has:(ve,Z)=>!!je(ve,Z)||j.has(ve,Z)}))},5861:(Xe,we,R)=>{function h(P,ae,re,pe,ue,se,ce){try{var $=P[se](ce),B=$.value}catch(te){return void re(te)}$.done?ae(B):Promise.resolve(B).then(pe,ue)}function X(P){return function(){var ae=this,re=arguments;return new Promise(function(pe,ue){var se=P.apply(ae,re);function ce(B){h(se,pe,ue,ce,$,"next",B)}function $(B){h(se,pe,ue,ce,$,"throw",B)}ce(void 0)})}}R.d(we,{Z:()=>X})}},Xe=>{Xe(Xe.s=3796)}]);