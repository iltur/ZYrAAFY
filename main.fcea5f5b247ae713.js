"use strict";var x2=Object.defineProperty,P2=Object.defineProperties,O2=Object.getOwnPropertyDescriptors,VP=Object.getOwnPropertySymbols,N2=Object.prototype.hasOwnProperty,R2=Object.prototype.propertyIsEnumerable,BP=(Xe,we,N)=>we in Xe?x2(Xe,we,{enumerable:!0,configurable:!0,writable:!0,value:N}):Xe[we]=N,jP=(Xe,we)=>{for(var N in we||(we={}))N2.call(we,N)&&BP(Xe,N,we[N]);if(VP)for(var N of VP(we))R2.call(we,N)&&BP(Xe,N,we[N]);return Xe},$P=(Xe,we)=>P2(Xe,O2(we));(self.webpackChunkHACKATON=self.webpackChunkHACKATON||[]).push([[179],{2011:(Xe,we,N)=>{N.d(we,{hO:()=>Ze,xv:()=>ce,Dh:()=>se,GT:()=>pe,cc:()=>Me,on:()=>$,pX:()=>re});var u=N(5e3),X=N(127),R=N(5813);Xe=N.hmd(Xe);const ae=["ngOnDestroy"],re=(De,Ge,Ye,Ie={})=>new Proxy(De,{get:(Ee,Ce)=>Ye.runOutsideAngular(()=>{var $e;if(De[Ce])return(null===($e=null==Ie?void 0:Ie.spy)||void 0===$e?void 0:$e.get)&&Ie.spy.get(Ce,De[Ce]),De[Ce];if(ae.indexOf(Ce)>-1)return()=>{};const je=Ge.toPromise().then(j=>{const ve=j&&j[Ce];return"function"==typeof ve?ve.bind(j):ve&&ve.then?ve.then(W=>Ye.run(()=>W)):Ye.run(()=>ve)});return new Proxy(()=>{},{get:(j,ve)=>je[ve],apply:(j,ve,W)=>je.then(ie=>{var ee;const me=ie&&ie(...W);return(null===(ee=null==Ie?void 0:Ie.spy)||void 0===ee?void 0:ee.apply)&&Ie.spy.apply(Ce,W,me),me})})})}),pe=(De,Ge)=>{Ge.forEach(Ye=>{Object.getOwnPropertyNames(Ye.prototype||Ye).forEach(Ie=>{Object.defineProperty(De.prototype,Ie,Object.getOwnPropertyDescriptor(Ye.prototype||Ye,Ie))})})};class ue{constructor(Ge){return Ge}}const se=new u.OlP("angularfire2.app.options"),ce=new u.OlP("angularfire2.app.name");function $(De,Ge,Ye){const Ee="object"==typeof Ye&&Ye||{};Ee.name=Ee.name||"string"==typeof Ye&&Ye||"[DEFAULT]";const $e=X.Z.apps.filter(je=>je&&je.name===Ee.name)[0]||Ge.runOutsideAngular(()=>X.Z.initializeApp(De,Ee));try{JSON.stringify(De)!==JSON.stringify($e.options)&&B("error",`${$e.name} Firebase App already initialized with different options${Xe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(je){}return new ue($e)}const B=(De,...Ge)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[De](...Ge)},te={provide:ue,useFactory:$,deps:[se,u.R0b,[new u.FiY,ce]]};let Ze=(()=>{class De{constructor(Ye){X.Z.registerVersion("angularfire",R.q4.full,"core"),X.Z.registerVersion("angularfire",R.q4.full,"app-compat"),X.Z.registerVersion("angular",u.q4F.full,Ye.toString())}static initializeApp(Ye,Ie){return{ngModule:De,providers:[{provide:se,useValue:Ye},{provide:ce,useValue:Ie}]}}}return De.\u0275fac=function(Ye){return new(Ye||De)(u.LFG(u.Lbi))},De.\u0275mod=u.oAB({type:De}),De.\u0275inj=u.cJS({providers:[te]}),De})();function Me(De,Ge,Ye,Ie,Ee){const[,Ce,$e]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===De)||[];if(Ce)return function Oe(De,Ge){try{return De.toString()===Ge.toString()}catch(Ye){return De===Ge}}(Ee,$e)||(he("error",`${Ge} was already initialized on the ${Ye} Firebase App with different settings.${Ve?" You may need to reload as Firebase is not HMR aware.":""}`),he("warn",{is:Ee,was:$e})),Ce;{const je=Ie();return globalThis.\u0275AngularfireInstanceCache.push([De,je,Ee]),je}}const Ve=!!Xe.hot,he=(De,...Ge)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[De](...Ge)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Xe,we,N)=>{N.d(we,{q4:()=>co,iC:()=>na,HU:()=>Cd,vb:()=>bd,JM:()=>vg});var u=N(5e3),X=N(5867),R=N(5861),ae=N(9681),re=N(2090),pe=N(4859),ue=N(1877),se=N(8766);const ce="@firebase/installations",$="0.5.9",te=`w:${$}`,Ze="FIS_v2",Ge=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ye(T){return T instanceof re.ZR&&T.code.includes("request-failed")}function Ie({projectId:T}){return`https://firebaseinstallations.googleapis.com/v1/projects/${T}/installations`}function Ee(T){return{token:T.token,requestStatus:2,expiresIn:ie(T.expiresIn),creationTime:Date.now()}}function Ce(T,D){return $e.apply(this,arguments)}function $e(){return($e=(0,R.Z)(function*(T,D){const F=(yield D.json()).error;return Ge.create("request-failed",{requestName:T,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function je({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function j(T,{refreshToken:D}){const P=je(T);return P.append("Authorization",function ee(T){return`${Ze} ${T}`}(D)),P}function ve(T){return W.apply(this,arguments)}function W(){return(W=(0,R.Z)(function*(T){const D=yield T();return D.status>=500&&D.status<600?T():D})).apply(this,arguments)}function ie(T){return Number(T.replace("s","000"))}function me(T,D){return oe.apply(this,arguments)}function oe(){return(oe=(0,R.Z)(function*({appConfig:T,heartbeatServiceProvider:D},{fid:P}){const F=Ie(T),Y=je(T),ne=D.getImmediate({optional:!0});if(ne){const ht=yield ne.getHeartbeatsHeader();ht&&Y.append("x-firebase-client",ht)}const Ue={method:"POST",headers:Y,body:JSON.stringify({fid:P,authVersion:Ze,appId:T.appId,sdkVersion:te})},At=yield ve(()=>fetch(F,Ue));if(At.ok){const ht=yield At.json();return{fid:ht.fid||P,registrationStatus:2,refreshToken:ht.refreshToken,authToken:Ee(ht.authToken)}}throw yield Ce("Create Installation",At)})).apply(this,arguments)}function Ne(T){return new Promise(D=>{setTimeout(D,T)})}const qt=/^[cdef][\w-]{21}$/;function Qe(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const P=function Xt(T){return function lt(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return qt.test(P)?P:""}catch(T){return""}}function Pn(T){return`${T.appName}!${T.appId}`}const rn=new Map;function Qt(T,D){const P=Pn(T);Vt(P,D),function Wi(T,D){const P=function pr(){return!Qr&&"BroadcastChannel"in self&&(Qr=new BroadcastChannel("[Firebase] FID Change"),Qr.onmessage=T=>{Vt(T.data.key,T.data.fid)}),Qr}();P&&P.postMessage({key:T,fid:D}),function Dr(){0===rn.size&&Qr&&(Qr.close(),Qr=null)}()}(P,D)}function Vt(T,D){const P=rn.get(T);if(P)for(const F of P)F(D)}let Qr=null;const Jr="firebase-installations-store";let Si=null;function _t(){return Si||(Si=(0,se.X3)("firebase-installations-database",1,{upgrade:(T,D)=>{0===D&&T.createObjectStore(Jr)}})),Si}function Xr(T,D){return In.apply(this,arguments)}function In(){return(In=(0,R.Z)(function*(T,D){const P=Pn(T),Y=(yield _t()).transaction(Jr,"readwrite"),ne=Y.objectStore(Jr),ge=yield ne.get(P);return yield ne.put(D,P),yield Y.done,(!ge||ge.fid!==D.fid)&&Qt(T,D.fid),D})).apply(this,arguments)}function On(T){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,R.Z)(function*(T){const D=Pn(T),F=(yield _t()).transaction(Jr,"readwrite");yield F.objectStore(Jr).delete(D),yield F.done})).apply(this,arguments)}function ei(T,D){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,R.Z)(function*(T,D){const P=Pn(T),Y=(yield _t()).transaction(Jr,"readwrite"),ne=Y.objectStore(Jr),ge=yield ne.get(P),Ue=D(ge);return void 0===Ue?yield ne.delete(P):yield ne.put(Ue,P),yield Y.done,Ue&&(!ge||ge.fid!==Ue.fid)&&Qt(T,Ue.fid),Ue})).apply(this,arguments)}function Un(T){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,R.Z)(function*(T){let D;const P=yield ei(T.appConfig,F=>{const Y=Po(F),ne=Zt(T,Y);return D=ne.registrationPromise,ne.installationEntry});return""===P.fid?{installationEntry:yield D}:{installationEntry:P,registrationPromise:D}})).apply(this,arguments)}function Po(T){return Ys(T||{fid:Qe(),registrationStatus:0})}function Zt(T,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(Ge.create("app-offline"))};const P={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},F=function it(T,D){return Et.apply(this,arguments)}(T,P);return{installationEntry:P,registrationPromise:F}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:gr(T)}:{installationEntry:D}}function Et(){return(Et=(0,R.Z)(function*(T,D){try{const P=yield me(T,D);return Xr(T.appConfig,P)}catch(P){throw Ye(P)&&409===P.customData.serverCode?yield On(T.appConfig):yield Xr(T.appConfig,{fid:D.fid,registrationStatus:0}),P}})).apply(this,arguments)}function gr(T){return ti.apply(this,arguments)}function ti(){return(ti=(0,R.Z)(function*(T){let D=yield $t(T.appConfig);for(;1===D.registrationStatus;)yield Ne(100),D=yield $t(T.appConfig);if(0===D.registrationStatus){const{installationEntry:P,registrationPromise:F}=yield Un(T);return F||P}return D})).apply(this,arguments)}function $t(T){return ei(T,D=>{if(!D)throw Ge.create("installation-not-found");return Ys(D)})}function Ys(T){return function mr(T){return 1===T.registrationStatus&&T.registrationTime+1e4<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function yr(T,D){return U.apply(this,arguments)}function U(){return(U=(0,R.Z)(function*({appConfig:T,heartbeatServiceProvider:D},P){const F=q(T,P),Y=j(T,P),ne=D.getImmediate({optional:!0});if(ne){const ht=yield ne.getHeartbeatsHeader();ht&&Y.append("x-firebase-client",ht)}const Ue={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:te,appId:T.appId}})},At=yield ve(()=>fetch(F,Ue));if(At.ok)return Ee(yield At.json());throw yield Ce("Generate Auth Token",At)})).apply(this,arguments)}function q(T,{fid:D}){return`${Ie(T)}/${D}/authTokens:generate`}function Z(T){return Te.apply(this,arguments)}function Te(){return(Te=(0,R.Z)(function*(T,D=!1){let P;const F=yield ei(T.appConfig,ne=>{if(!It(ne))throw Ge.create("not-registered");const ge=ne.authToken;if(!D&&hn(ge))return ne;if(1===ge.requestStatus)return P=H(T,D),ne;{if(!navigator.onLine)throw Ge.create("app-offline");const Ue=qn(ne);return P=Je(T,Ue),Ue}});return P?yield P:F.authToken})).apply(this,arguments)}function H(T,D){return J.apply(this,arguments)}function J(){return(J=(0,R.Z)(function*(T,D){let P=yield Pe(T.appConfig);for(;1===P.authToken.requestStatus;)yield Ne(100),P=yield Pe(T.appConfig);const F=P.authToken;return 0===F.requestStatus?Z(T,D):F})).apply(this,arguments)}function Pe(T){return ei(T,D=>{if(!It(D))throw Ge.create("not-registered");return function Ir(T){return 1===T.requestStatus&&T.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Je(T,D){return ft.apply(this,arguments)}function ft(){return(ft=(0,R.Z)(function*(T,D){try{const P=yield yr(T,D),F=Object.assign(Object.assign({},D),{authToken:P});return yield Xr(T.appConfig,F),P}catch(P){if(!Ye(P)||401!==P.customData.serverCode&&404!==P.customData.serverCode){const F=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield Xr(T.appConfig,F)}else yield On(T.appConfig);throw P}})).apply(this,arguments)}function It(T){return void 0!==T&&2===T.registrationStatus}function hn(T){return 2===T.requestStatus&&!function wt(T){const D=Date.now();return D<T.creationTime||T.creationTime+T.expiresIn<D+36e5}(T)}function qn(T){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:D})}function ba(){return(ba=(0,R.Z)(function*(T){const D=T,{installationEntry:P,registrationPromise:F}=yield Un(D);return F?F.catch(console.error):Z(D).catch(console.error),P.fid})).apply(this,arguments)}function Ca(){return(Ca=(0,R.Z)(function*(T,D=!1){const P=T;return yield Zn(P),(yield Z(P,D)).token})).apply(this,arguments)}function Zn(T){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,R.Z)(function*(T){const{registrationPromise:D}=yield Un(T);D&&(yield D)})).apply(this,arguments)}function Oo(T){return Ge.create("missing-app-config-values",{valueName:T})}const Br="installations",at=T=>{const D=T.getProvider("app").getImmediate(),P=function sr(T){if(!T||!T.options)throw Oo("App Configuration");if(!T.name)throw Oo("App Name");const D=["projectId","apiKey","appId"];for(const P of D)if(!T.options[P])throw Oo(P);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(D);return{app:D,appConfig:P,heartbeatServiceProvider:(0,ae._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},en=T=>{const D=T.getProvider("app").getImmediate(),P=(0,ae._getProvider)(D,Br).getImmediate();return{getId:()=>function Eu(T){return ba.apply(this,arguments)}(P),getToken:Y=>function wu(T){return Ca.apply(this,arguments)}(P,Y)}};(function jr(){(0,ae._registerComponent)(new pe.wA(Br,at,"PUBLIC")),(0,ae._registerComponent)(new pe.wA("installations-internal",en,"PRIVATE"))})(),(0,ae.registerVersion)(ce,$),(0,ae.registerVersion)(ce,$,"esm2017");const Mi="@firebase/remote-config",Nn=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ug{constructor(D,P,F,Y){this.client=D,this.storage=P,this.storageCache=F,this.logger=Y}isCachedDataFresh(D,P){if(!P)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-P,Y=F<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${Y}.`),Y}fetch(D){var P=this;return(0,R.Z)(function*(){const[F,Y]=yield Promise.all([P.storage.getLastSuccessfulFetchTimestampMillis(),P.storage.getLastSuccessfulFetchResponse()]);if(Y&&P.isCachedDataFresh(D.cacheMaxAgeMillis,F))return Y;D.eTag=Y&&Y.eTag;const ne=yield P.client.fetch(D),ge=[P.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ne.status&&ge.push(P.storage.setLastSuccessfulFetchResponse(ne)),yield Promise.all(ge),ne})()}}function nd(T=navigator){return T.languages&&T.languages[0]||T.language}class _r{constructor(D,P,F,Y,ne,ge){this.firebaseInstallations=D,this.sdkVersion=P,this.namespace=F,this.projectId=Y,this.apiKey=ne,this.appId=ge}fetch(D){var P=this;return(0,R.Z)(function*(){const[F,Y]=yield Promise.all([P.firebaseInstallations.getId(),P.firebaseInstallations.getToken()]),ge=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${P.projectId}/namespaces/${P.namespace}:fetch?key=${P.apiKey}`,Ue={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},At={sdk_version:P.sdkVersion,app_instance_id:F,app_instance_id_token:Y,app_id:P.appId,language_code:nd()},ht={method:"POST",headers:Ue,body:JSON.stringify(At)},Ht=fetch(ge,ht),bt=new Promise((li,ci)=>{D.signal.addEventListener(()=>{const Hu=new Error("The operation was aborted.");Hu.name="AbortError",ci(Hu)})});let Er;try{yield Promise.race([Ht,bt]),Er=yield Ht}catch(li){let ci="fetch-client-network";throw"AbortError"===li.name&&(ci="fetch-timeout"),Nn.create(ci,{originalErrorMessage:li.message})}let Jn=Er.status;const rs=Er.headers.get("ETag")||void 0;let Zr,ui;if(200===Er.status){let li;try{li=yield Er.json()}catch(ci){throw Nn.create("fetch-client-parse",{originalErrorMessage:ci.message})}Zr=li.entries,ui=li.state}if("INSTANCE_STATE_UNSPECIFIED"===ui?Jn=500:"NO_CHANGE"===ui?Jn=304:("NO_TEMPLATE"===ui||"EMPTY_CONFIG"===ui)&&(Zr={}),304!==Jn&&200!==Jn)throw Nn.create("fetch-status",{httpStatus:Jn});return{status:Jn,eTag:rs,config:Zr}})()}}class lg{constructor(D,P){this.client=D,this.storage=P}fetch(D){var P=this;return(0,R.Z)(function*(){const F=(yield P.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return P.attemptFetch(D,F)})()}attemptFetch(D,{throttleEndTimeMillis:P,backoffCount:F}){var Y=this;return(0,R.Z)(function*(){yield function Ts(T,D){return new Promise((P,F)=>{const Y=Math.max(D-Date.now(),0),ne=setTimeout(P,Y);T.addEventListener(()=>{clearTimeout(ne),F(Nn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,P);try{const ne=yield Y.client.fetch(D);return yield Y.storage.deleteThrottleMetadata(),ne}catch(ne){if(!function rd(T){if(!(T instanceof re.ZR&&T.customData))return!1;const D=Number(T.customData.httpStatus);return 429===D||500===D||503===D||504===D}(ne))throw ne;const ge={throttleEndTimeMillis:Date.now()+(0,re.$s)(F),backoffCount:F+1};return yield Y.storage.setThrottleMetadata(ge),Y.attemptFetch(D,ge)}})()}}class id{constructor(D,P,F,Y,ne){this.app=D,this._client=P,this._storageCache=F,this._storage=Y,this._logger=ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Cl(T,D){const P=T.target.error||void 0;return Nn.create(D,{originalErrorMessage:P&&P.message})}const Ds="app_namespace_store";class hg{constructor(D,P,F,Y=function dg(){return new Promise((T,D)=>{try{const P=indexedDB.open("firebase_remote_config",1);P.onerror=F=>{D(Cl(F,"storage-open"))},P.onsuccess=F=>{T(F.target.result)},P.onupgradeneeded=F=>{0===F.oldVersion&&F.target.result.createObjectStore(Ds,{keyPath:"compositeKey"})}}catch(P){D(Nn.create("storage-open",{originalErrorMessage:P}))}})}()){this.appId=D,this.appName=P,this.namespace=F,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var P=this;return(0,R.Z)(function*(){const F=yield P.openDbPromise;return new Promise((Y,ne)=>{const Ue=F.transaction([Ds],"readonly").objectStore(Ds),At=P.createCompositeKey(D);try{const ht=Ue.get(At);ht.onerror=Ht=>{ne(Cl(Ht,"storage-get"))},ht.onsuccess=Ht=>{const bt=Ht.target.result;Y(bt?bt.value:void 0)}}catch(ht){ne(Nn.create("storage-get",{originalErrorMessage:ht&&ht.message}))}})})()}set(D,P){var F=this;return(0,R.Z)(function*(){const Y=yield F.openDbPromise;return new Promise((ne,ge)=>{const At=Y.transaction([Ds],"readwrite").objectStore(Ds),ht=F.createCompositeKey(D);try{const Ht=At.put({compositeKey:ht,value:P});Ht.onerror=bt=>{ge(Cl(bt,"storage-set"))},Ht.onsuccess=()=>{ne()}}catch(Ht){ge(Nn.create("storage-set",{originalErrorMessage:Ht&&Ht.message}))}})})()}delete(D){var P=this;return(0,R.Z)(function*(){const F=yield P.openDbPromise;return new Promise((Y,ne)=>{const Ue=F.transaction([Ds],"readwrite").objectStore(Ds),At=P.createCompositeKey(D);try{const ht=Ue.delete(At);ht.onerror=Ht=>{ne(Cl(Ht,"storage-delete"))},ht.onsuccess=()=>{Y()}}catch(ht){ne(Nn.create("storage-delete",{originalErrorMessage:ht&&ht.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class od{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,R.Z)(function*(){const P=D.storage.getLastFetchStatus(),F=D.storage.getLastSuccessfulFetchTimestampMillis(),Y=D.storage.getActiveConfig(),ne=yield P;ne&&(D.lastFetchStatus=ne);const ge=yield F;ge&&(D.lastSuccessfulFetchTimestampMillis=ge);const Ue=yield Y;Ue&&(D.activeConfig=Ue)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Du(){return ad.apply(this,arguments)}function ad(){return(ad=(0,R.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch(T){return!1}})).apply(this,arguments)}!function No(){(0,ae._registerComponent)(new pe.wA("remote-config",function T(D,{instanceIdentifier:P}){const F=D.getProvider("app").getImmediate(),Y=D.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Nn.create("registration-window");if(!(0,re.hl)())throw Nn.create("indexed-db-unavailable");const{projectId:ne,apiKey:ge,appId:Ue}=F.options;if(!ne)throw Nn.create("registration-project-id");if(!ge)throw Nn.create("registration-api-key");if(!Ue)throw Nn.create("registration-app-id");const At=new hg(Ue,F.name,P=P||"firebase"),ht=new od(At),Ht=new ue.Yd(Mi);Ht.logLevel=ue.in.ERROR;const bt=new _r(Y,ae.SDK_VERSION,P,ne,ge,Ue),Er=new lg(bt,At),Jn=new ug(Er,At,ht,Ht),rs=new id(F,Jn,ht,At,Ht);return function sn(T){const D=(0,re.m9)(T);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(rs),rs},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(Mi,"0.3.8"),(0,ae.registerVersion)(Mi,"0.3.8","esm2017")}();const ud="/firebase-messaging-sw.js",vr="/firebase-cloud-messaging-push-scope",Xs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ro="google.c.a.c_id",ld="google.c.a.c_l",Qh="google.c.a.ts",Rt="google.c.a.e";var ko=(()=>{return(T=ko||(ko={})).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",ko;var T})();function Sr(T){const D=new Uint8Array(T);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function cd(T){const P=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(P),Y=new Uint8Array(F.length);for(let ne=0;ne<F.length;++ne)Y[ne]=F.charCodeAt(ne);return Y}const Mr="fcm_token_details_db",ni="fcm_token_object_Store";function Tl(T){return dd.apply(this,arguments)}function dd(){return dd=(0,R.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ne=>ne.name).includes(Mr))return null;let D=null;return(yield(0,se.X3)(Mr,5,{upgrade:(F=(0,R.Z)(function*(Y,ne,ge,Ue){var At;if(ne<2||!Y.objectStoreNames.contains(ni))return;const ht=Ue.objectStore(ni),Ht=yield ht.index("fcmSenderId").get(T);if(yield ht.clear(),Ht)if(2===ne){const bt=Ht;if(!bt.auth||!bt.p256dh||!bt.endpoint)return;D={token:bt.fcmToken,createTime:null!==(At=bt.createTime)&&void 0!==At?At:Date.now(),subscriptionOptions:{auth:bt.auth,p256dh:bt.p256dh,endpoint:bt.endpoint,swScope:bt.swScope,vapidKey:"string"==typeof bt.vapidKey?bt.vapidKey:Sr(bt.vapidKey)}}}else if(3===ne){const bt=Ht;D={token:bt.fcmToken,createTime:bt.createTime,subscriptionOptions:{auth:Sr(bt.auth),p256dh:Sr(bt.p256dh),endpoint:bt.endpoint,swScope:bt.swScope,vapidKey:Sr(bt.vapidKey)}}}else if(4===ne){const bt=Ht;D={token:bt.fcmToken,createTime:bt.createTime,subscriptionOptions:{auth:Sr(bt.auth),p256dh:Sr(bt.p256dh),endpoint:bt.endpoint,swScope:bt.swScope,vapidKey:Sr(bt.vapidKey)}}}}),function(ne,ge,Ue,At){return F.apply(this,arguments)})})).close(),yield(0,se.Lj)(Mr),yield(0,se.Lj)("fcm_vapid_details_db"),yield(0,se.Lj)("undefined"),Dl(D)?D:null;var F}),dd.apply(this,arguments)}function Dl(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:D}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const ki="firebase-messaging-store";let Jh=null;function on(){return Jh||(Jh=(0,se.X3)("firebase-messaging-database",1,{upgrade:(T,D)=>{0===D&&T.createObjectStore(ki)}})),Jh}function Sa(T){return to.apply(this,arguments)}function to(){return(to=(0,R.Z)(function*(T){const D=or(T),F=yield(yield on()).transaction(ki).objectStore(ki).get(D);if(F)return F;{const Y=yield Tl(T.appConfig.senderId);if(Y)return yield Jt(T,Y),Y}})).apply(this,arguments)}function Jt(T,D){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,R.Z)(function*(T,D){const P=or(T),Y=(yield on()).transaction(ki,"readwrite");return yield Y.objectStore(ki).put(D,P),yield Y.done,D})).apply(this,arguments)}function Iu(T){return Is.apply(this,arguments)}function Is(){return(Is=(0,R.Z)(function*(T){const D=or(T),F=(yield on()).transaction(ki,"readwrite");yield F.objectStore(ki).delete(D),yield F.done})).apply(this,arguments)}function or({appConfig:T}){return T.appId}const En=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Fi(T,D){return ar.apply(this,arguments)}function ar(){return(ar=(0,R.Z)(function*(T,D){const P=yield Uo(T),F=Vo(D),Y={method:"POST",headers:P,body:JSON.stringify(F)};let ne;try{ne=yield(yield fetch(Li(T.appConfig),Y)).json()}catch(ge){throw En.create("token-subscribe-failed",{errorInfo:ge})}if(ne.error)throw En.create("token-subscribe-failed",{errorInfo:ne.error.message});if(!ne.token)throw En.create("token-subscribe-no-token");return ne.token})).apply(this,arguments)}function no(T,D){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,R.Z)(function*(T,D){const P=yield Uo(T),F=Vo(D.subscriptionOptions),Y={method:"PATCH",headers:P,body:JSON.stringify(F)};let ne;try{ne=yield(yield fetch(`${Li(T.appConfig)}/${D.token}`,Y)).json()}catch(ge){throw En.create("token-update-failed",{errorInfo:ge})}if(ne.error)throw En.create("token-update-failed",{errorInfo:ne.error.message});if(!ne.token)throw En.create("token-update-no-token");return ne.token})).apply(this,arguments)}function xa(T,D){return bi.apply(this,arguments)}function bi(){return(bi=(0,R.Z)(function*(T,D){const F={method:"DELETE",headers:yield Uo(T)};try{const ne=yield(yield fetch(`${Li(T.appConfig)}/${D}`,F)).json();if(ne.error)throw En.create("token-unsubscribe-failed",{errorInfo:ne.error.message})}catch(Y){throw En.create("token-unsubscribe-failed",{errorInfo:Y})}})).apply(this,arguments)}function Li({projectId:T}){return`https://fcmregistrations.googleapis.com/v1/projects/${T}/registrations`}function Uo(T){return pt.apply(this,arguments)}function pt(){return(pt=(0,R.Z)(function*({appConfig:T,installations:D}){const P=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${P}`})})).apply(this,arguments)}function Vo({p256dh:T,auth:D,endpoint:P,vapidKey:F}){const Y={web:{endpoint:P,auth:D,p256dh:T}};return F!==Xs&&(Y.web.applicationPubKey=F),Y}const Au=6048e5;function Pa(T){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,R.Z)(function*(T){const D=yield pn(T.swRegistration,T.vapidKey),P={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:D.endpoint,auth:Sr(D.getKey("auth")),p256dh:Sr(D.getKey("p256dh"))},F=yield Sa(T.firebaseDependencies);if(F){if(ro(F.subscriptionOptions,P))return Date.now()>=F.createTime+Au?xl(T,{token:F.token,createTime:Date.now(),subscriptionOptions:P}):F.token;try{yield xa(T.firebaseDependencies,F.token)}catch(Y){console.warn(Y)}return Lt(T.firebaseDependencies,P)}return Lt(T.firebaseDependencies,P)})).apply(this,arguments)}function Oa(T){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,R.Z)(function*(T){const D=yield Sa(T.firebaseDependencies);D&&(yield xa(T.firebaseDependencies,D.token),yield Iu(T.firebaseDependencies));const P=yield T.swRegistration.pushManager.getSubscription();return!P||P.unsubscribe()})).apply(this,arguments)}function xl(T,D){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,R.Z)(function*(T,D){try{const P=yield no(T.firebaseDependencies,D),F=Object.assign(Object.assign({},D),{token:P,createTime:Date.now()});return yield Jt(T.firebaseDependencies,F),P}catch(P){throw yield Oa(T),P}})).apply(this,arguments)}function Lt(T,D){return Su.apply(this,arguments)}function Su(){return(Su=(0,R.Z)(function*(T,D){const F={token:yield Fi(T,D),createTime:Date.now(),subscriptionOptions:D};return yield Jt(T,F),F.token})).apply(this,arguments)}function pn(T,D){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,R.Z)(function*(T,D){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:cd(D)})})).apply(this,arguments)}function ro(T,D){return D.vapidKey===T.vapidKey&&D.endpoint===T.endpoint&&D.auth===T.auth&&D.p256dh===T.p256dh}function ri(T){const D={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function Na(T,D){if(!D.notification)return;T.notification={};const P=D.notification.title;P&&(T.notification.title=P);const F=D.notification.body;F&&(T.notification.body=F);const Y=D.notification.image;Y&&(T.notification.image=Y)}(D,T),function Pl(T,D){!D.data||(T.data=D.data)}(D,T),function fg(T,D){if(!D.fcmOptions)return;T.fcmOptions={};const P=D.fcmOptions.link;P&&(T.fcmOptions.link=P);const F=D.fcmOptions.analytics_label;F&&(T.fcmOptions.analyticsLabel=F)}(D,T),D}function Mu(T){return"object"==typeof T&&!!T&&Ro in T}function Ra(T,D){const P=[];for(let F=0;F<T.length;F++)P.push(T.charAt(F)),F<D.length&&P.push(D.charAt(F));return P.join("")}function Rn(T){return En.create("missing-app-config-values",{valueName:T})}Ra("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ra("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Xi{constructor(D,P,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function xu(T){if(!T||!T.options)throw Rn("App Configuration Object");if(!T.name)throw Rn("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:P}=T;for(const F of D)if(!P[F])throw Rn(F);return{appName:T.name,projectId:P.projectId,apiKey:P.apiKey,appId:P.appId,senderId:P.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:Y,installations:P,analyticsProvider:F}}_delete(){return Promise.resolve()}}function ka(T){return As.apply(this,arguments)}function As(){return(As=(0,R.Z)(function*(T){try{T.swRegistration=yield navigator.serviceWorker.register(ud,{scope:vr}),T.swRegistration.update().catch(()=>{})}catch(D){throw En.create("failed-service-worker-registration",{browserErrorMessage:D.message})}})).apply(this,arguments)}function Ci(T,D){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,R.Z)(function*(T,D){if(!D&&!T.swRegistration&&(yield ka(T)),D||!T.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw En.create("invalid-sw-registration");T.swRegistration=D}})).apply(this,arguments)}function Pu(T,D){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,R.Z)(function*(T,D){D?T.vapidKey=D:T.vapidKey||(T.vapidKey=Xs)})).apply(this,arguments)}function Fa(){return(Fa=(0,R.Z)(function*(T,D){if(!navigator)throw En.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw En.create("permission-blocked");return yield Pu(T,null==D?void 0:D.vapidKey),yield Ci(T,null==D?void 0:D.serviceWorkerRegistration),Pa(T)})).apply(this,arguments)}function jo(T,D,P){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,R.Z)(function*(T,D,P){const F=La(D);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:P[Ro],message_name:P[ld],message_time:P[Qh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function La(T){switch(T){case ko.NOTIFICATION_CLICKED:return"notification_open";case ko.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function kl(){return(kl=(0,R.Z)(function*(T,D){const P=D.data;if(!P.isFirebaseMessaging)return;T.onMessageHandler&&P.messageType===ko.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(ri(P)):T.onMessageHandler.next(ri(P)));const F=P.data;Mu(F)&&"1"===F[Rt]&&(yield jo(T,P.messageType,F))})).apply(this,arguments)}const $o="@firebase/messaging",hd=T=>{const D=new Xi(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",P=>function pg(T,D){return kl.apply(this,arguments)}(D,P)),D},Ho=T=>{const D=T.getProvider("messaging").getImmediate();return{getToken:F=>function Ou(T,D){return Fa.apply(this,arguments)}(D,F)}};function qo(){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,R.Z)(function*(){try{yield(0,re.eu)()}catch(T){return!1}return"undefined"!=typeof window&&(0,re.hl)()&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function fd(){(0,ae._registerComponent)(new pe.wA("messaging",hd,"PUBLIC")),(0,ae._registerComponent)(new pe.wA("messaging-internal",Ho,"PRIVATE")),(0,ae.registerVersion)($o,"0.9.13"),(0,ae.registerVersion)($o,"0.9.13","esm2017")}();const pd="analytics",gg="firebase_id",es="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Zo="https://www.googletagmanager.com/gtag/js",Yn=new ue.Yd("@firebase/analytics");function tf(T){return Promise.all(T.map(D=>D.catch(P=>P)))}function io(T,D){const P=document.createElement("script");P.src=`${Zo}?l=${T}&id=${D}`,P.async=!0,document.head.appendChild(P)}function md(T,D,P,F,Y,ne){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,R.Z)(function*(T,D,P,F,Y,ne){const ge=F[Y];try{if(ge)yield D[ge];else{const At=(yield tf(P)).find(ht=>ht.measurementId===Y);At&&(yield D[At.appId])}}catch(Ue){Yn.error(Ue)}T("config",Y,ne)})).apply(this,arguments)}function ku(T,D,P,F,Y){return so.apply(this,arguments)}function so(){return(so=(0,R.Z)(function*(T,D,P,F,Y){try{let ne=[];if(Y&&Y.send_to){let ge=Y.send_to;Array.isArray(ge)||(ge=[ge]);const Ue=yield tf(P);for(const At of ge){const ht=Ue.find(bt=>bt.measurementId===At),Ht=ht&&D[ht.appId];if(!Ht){ne=[];break}ne.push(Ht)}}0===ne.length&&(ne=Object.values(D)),yield Promise.all(ne),T("event",F,Y||{})}catch(ne){Yn.error(ne)}})).apply(this,arguments)}function tn(){const T=window.document.getElementsByTagName("script");for(const D of Object.values(T))if(D.src&&D.src.includes(Zo))return D;return null}const et=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Fl=new class jn{constructor(D={},P=1e3){this.throttleMetadata=D,this.intervalMillis=P}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,P){this.throttleMetadata[D]=P}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function _d(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function Bi(T){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,R.Z)(function*(T){var D;const{appId:P,apiKey:F}=T,Y={method:"GET",headers:_d(F)},ne=es.replace("{app-id}",P),ge=yield fetch(ne,Y);if(200!==ge.status&&304!==ge.status){let Ue="";try{const At=yield ge.json();(null===(D=At.error)||void 0===D?void 0:D.message)&&(Ue=At.error.message)}catch(At){}throw et.create("config-fetch-failed",{httpStatus:ge.status,responseMessage:Ue})}return ge.json()})).apply(this,arguments)}function ln(T){return ja.apply(this,arguments)}function ja(){return(ja=(0,R.Z)(function*(T,D=Fl,P){const{appId:F,apiKey:Y,measurementId:ne}=T.options;if(!F)throw et.create("no-app-id");if(!Y){if(ne)return{measurementId:ne,appId:F};throw et.create("no-api-key")}const ge=D.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ue=new Ed;return setTimeout((0,R.Z)(function*(){Ue.abort()}),void 0!==P?P:6e4),Ti({appId:F,apiKey:Y,measurementId:ne},ge,Ue,D)})).apply(this,arguments)}function Ti(T,D,P){return ct.apply(this,arguments)}function ct(){return(ct=(0,R.Z)(function*(T,{throttleEndTimeMillis:D,backoffCount:P},F,Y=Fl){const{appId:ne,measurementId:ge}=T;try{yield Fu(F,D)}catch(Ue){if(ge)return Yn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ge} provided in the "measurementId" field in the local Firebase config. [${Ue.message}]`),{appId:ne,measurementId:ge};throw Ue}try{const Ue=yield Bi(T);return Y.deleteThrottleMetadata(ne),Ue}catch(Ue){if(!vd(Ue)){if(Y.deleteThrottleMetadata(ne),ge)return Yn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ge} provided in the "measurementId" field in the local Firebase config. [${Ue.message}]`),{appId:ne,measurementId:ge};throw Ue}const At=503===Number(Ue.customData.httpStatus)?(0,re.$s)(P,Y.intervalMillis,30):(0,re.$s)(P,Y.intervalMillis),ht={throttleEndTimeMillis:Date.now()+At,backoffCount:P+1};return Y.setThrottleMetadata(ne,ht),Yn.debug(`Calling attemptFetch again in ${At} millis`),Ti(T,ht,F,Y)}})).apply(this,arguments)}function Fu(T,D){return new Promise((P,F)=>{const Y=Math.max(D-Date.now(),0),ne=setTimeout(P,Y);T.addEventListener(()=>{clearTimeout(ne),F(et.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function vd(T){if(!(T instanceof re.ZR&&T.customData))return!1;const D=Number(T.customData.httpStatus);return 429===D||500===D||503===D||504===D}class Ed{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}function Ul(){return kn.apply(this,arguments)}function kn(){return(kn=(0,R.Z)(function*(){if(!(0,re.hl)())return Yn.warn(et.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(T){return Yn.warn(et.create("indexeddb-unavailable",{errorInfo:T}).message),!1}return!0})).apply(this,arguments)}function zo(){return(zo=(0,R.Z)(function*(T,D,P,F,Y,ne,ge){var Ue;const At=ln(T);At.then(Jn=>{P[Jn.measurementId]=Jn.appId,T.options.measurementId&&Jn.measurementId!==T.options.measurementId&&Yn.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${Jn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Jn=>Yn.error(Jn)),D.push(At);const ht=Ul().then(Jn=>{if(Jn)return F.getId()}),[Ht,bt]=yield Promise.all([At,ht]);tn()||io(ne,Ht.measurementId),Y("js",new Date);const Er=null!==(Ue=null==ge?void 0:ge.config)&&void 0!==Ue?Ue:{};return Er.origin="firebase",Er.update=!0,null!=bt&&(Er[gg]=bt),Y("config",Ht.measurementId,Er),Ht.measurementId})).apply(this,arguments)}class Ss{constructor(D){this.app=D}_delete(){return delete ur[this.app.options.appId],Promise.resolve()}}let ur={},Lu=[];const ji={};let Ko,oo,Wo="dataLayer",Yo=!1;function $a(T,D,P){!function Jo(){const T=[];if((0,re.ru)()&&T.push("This is a browser extension environment."),(0,re.zI)()||T.push("Cookies are not available."),T.length>0){const D=T.map((F,Y)=>`(${Y+1}) ${F}`).join(" "),P=et.create("invalid-analytics-context",{errorInfo:D});Yn.warn(P.message)}}();const F=T.options.appId;if(!F)throw et.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw et.create("no-api-key");Yn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ur[F])throw et.create("already-exists",{id:F});if(!Yo){!function Nu(T){let D=[];Array.isArray(window[T])?D=window[T]:window[T]=D}(Wo);const{wrappedGtag:ne,gtagCore:ge}=function mg(T,D,P,F,Y){let ne=function(...ge){window[F].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(ne=window[Y]),window[Y]=function yd(T,D,P,F){function ne(){return(ne=(0,R.Z)(function*(ge,Ue,At){try{"event"===ge?yield ku(T,D,P,Ue,At):"config"===ge?yield md(T,D,P,F,Ue,At):T("set",Ue)}catch(ht){Yn.error(ht)}})).apply(this,arguments)}return function Y(ge,Ue,At){return ne.apply(this,arguments)}}(ne,T,D,P),{gtagCore:ne,wrappedGtag:window[Y]}}(ur,Lu,ji,Wo,"gtag");oo=ne,Ko=ge,Yo=!0}return ur[F]=function Go(T,D,P,F,Y,ne,ge){return zo.apply(this,arguments)}(T,Lu,ji,D,Ko,Wo,P),new Ss(T)}function lr(){return(lr=(0,R.Z)(function*(T,D,P,F,Y){if(Y&&Y.global)T("event",P,F);else{const ne=yield D;T("event",P,Object.assign(Object.assign({},F),{send_to:ne}))}})).apply(this,arguments)}function Vu(){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,R.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch(T){return!1}})).apply(this,arguments)}const qr="@firebase/analytics";!function Os(){(0,ae._registerComponent)(new pe.wA(pd,(D,{options:P})=>$a(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),P),"PUBLIC")),(0,ae._registerComponent)(new pe.wA("analytics-internal",function T(D){try{const P=D.getProvider(pd).getImmediate();return{logEvent:(F,Y,ne)=>function Xo(T,D,P,F){T=(0,re.m9)(T),function xs(T,D,P,F,Y){return lr.apply(this,arguments)}(oo,ur[T.app.options.appId],D,P,F).catch(Y=>Yn.error(Y))}(P,F,Y,ne)}}catch(P){throw et.create("interop-component-reg-failed",{reason:P})}},"PRIVATE")),(0,ae.registerVersion)(qr,"0.7.9"),(0,ae.registerVersion)(qr,"0.7.9","esm2017")}();var uo=N(4408),wn=N(7565);const lo=new class Vl extends wn.v{}(class Bu extends uo.o{constructor(D,P){super(D,P),this.scheduler=D,this.work=P}schedule(D,P=0){return P>0?super.schedule(D,P):(this.delay=P,this.state=D,this.scheduler.flush(this),this)}execute(D,P){return P>0||this.closed?super.execute(D,P):this._execute(D,P)}requestAsyncId(D,P,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(D,P,F):D.flush(this)}});var Bl=N(4986),oi=N(8505),ai=N(9468),ea=N(5363);const co=new u.GfV("7.3.0"),ho="__angularfire_symbol__analyticsIsSupportedValue",ta="__angularfire_symbol__analyticsIsSupported",fo="__angularfire_symbol__remoteConfigIsSupportedValue",ns="__angularfire_symbol__remoteConfigIsSupported",qa="__angularfire_symbol__messagingIsSupportedValue",kt="__angularfire_symbol__messagingIsSupported";function vg(T,D,P){if(D){if(1===D.length)return D[0];const ne=D.filter(ge=>ge.app===P);if(1===ne.length)return ne[0]}return P.container.getProvider(T).getImmediate({optional:!0})}globalThis[ta]||(globalThis[ta]=Vu().then(T=>globalThis[ho]=T).catch(()=>globalThis[ho]=!1)),globalThis[kt]||(globalThis[kt]=qo().then(T=>globalThis[qa]=T).catch(()=>globalThis[qa]=!1)),globalThis[ns]||(globalThis[ns]=Du().then(T=>globalThis[fo]=T).catch(()=>globalThis[fo]=!1));const bd=(T,D)=>{const P=D?[D]:(0,X.C6)(),F=[];return P.forEach(Y=>{Y.container.getProvider(T).instances.forEach(ge=>{F.includes(ge)||F.push(ge)})}),F};function Rs(){}class Di{constructor(D,P=lo){this.zone=D,this.delegate=P}now(){return this.delegate.now()}schedule(D,P,F){const Y=this.zone;return this.delegate.schedule(function(ge){Y.runGuarded(()=>{D.apply(this,[ge])})},P,F)}}class $u{constructor(D){this.zone=D,this.task=null}call(D,P){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Rs,{},Rs,Rs)),P.pipe((0,oi.b)({next:F,complete:F,error:F})).subscribe(D).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Cd=(()=>{class T{constructor(P){this.ngZone=P,this.outsideAngular=P.runOutsideAngular(()=>new Di(Zone.current)),this.insideAngular=P.run(()=>new Di(Zone.current,Bl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(P){return new(P||T)(u.LFG(u.R0b))},T.\u0275prov=u.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function qi(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function na(T){return qi(),function ra(T){return function(P){return(P=P.lift(new $u(T.ngZone))).pipe((0,ai.R)(T.outsideAngular),(0,ea.Q)(T.insideAngular))}}(qi())(T)}},2090:(Xe,we,N)=>{N.d(we,{BH:()=>Ze,LL:()=>oe,ZR:()=>me,zI:()=>W,US:()=>pe,tV:()=>ce,L:()=>se,$s:()=>$t,r3:()=>Tr,Sg:()=>Me,ne:()=>Si,vZ:()=>Qr,ZB:()=>B,pd:()=>vs,m9:()=>yr,z$:()=>Oe,jU:()=>De,ru:()=>Ge,d:()=>Ie,xb:()=>Vt,w1:()=>Ee,hl:()=>j,uI:()=>Ve,UG:()=>he,b$:()=>Ye,G6:()=>je,Mn:()=>Ce,xO:()=>Dr,zd:()=>Ai,eu:()=>ve});const ae=function(U){const q=[];let Z=0;for(let Te=0;Te<U.length;Te++){let H=U.charCodeAt(Te);H<128?q[Z++]=H:H<2048?(q[Z++]=H>>6|192,q[Z++]=63&H|128):55296==(64512&H)&&Te+1<U.length&&56320==(64512&U.charCodeAt(Te+1))?(H=65536+((1023&H)<<10)+(1023&U.charCodeAt(++Te)),q[Z++]=H>>18|240,q[Z++]=H>>12&63|128,q[Z++]=H>>6&63|128,q[Z++]=63&H|128):(q[Z++]=H>>12|224,q[Z++]=H>>6&63|128,q[Z++]=63&H|128)}return q},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,q){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,Te=[];for(let H=0;H<U.length;H+=3){const J=U[H],Pe=H+1<U.length,Je=Pe?U[H+1]:0,ft=H+2<U.length,It=ft?U[H+2]:0;let qn=(15&Je)<<2|It>>6,Ir=63&It;ft||(Ir=64,Pe||(qn=64)),Te.push(Z[J>>2],Z[(3&J)<<4|Je>>4],Z[qn],Z[Ir])}return Te.join("")},encodeString(U,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa(U):this.encodeByteArray(ae(U),q)},decodeString(U,q){return this.HAS_NATIVE_SUPPORT&&!q?atob(U):function(U){const q=[];let Z=0,Te=0;for(;Z<U.length;){const H=U[Z++];if(H<128)q[Te++]=String.fromCharCode(H);else if(H>191&&H<224){const J=U[Z++];q[Te++]=String.fromCharCode((31&H)<<6|63&J)}else if(H>239&&H<365){const ft=((7&H)<<18|(63&U[Z++])<<12|(63&U[Z++])<<6|63&U[Z++])-65536;q[Te++]=String.fromCharCode(55296+(ft>>10)),q[Te++]=String.fromCharCode(56320+(1023&ft))}else{const J=U[Z++],Pe=U[Z++];q[Te++]=String.fromCharCode((15&H)<<12|(63&J)<<6|63&Pe)}}return q.join("")}(this.decodeStringToByteArray(U,q))},decodeStringToByteArray(U,q){this.init_();const Z=q?this.charToByteMapWebSafe_:this.charToByteMap_,Te=[];for(let H=0;H<U.length;){const J=Z[U.charAt(H++)],Je=H<U.length?Z[U.charAt(H)]:0;++H;const It=H<U.length?Z[U.charAt(H)]:64;++H;const wt=H<U.length?Z[U.charAt(H)]:64;if(++H,null==J||null==Je||null==It||null==wt)throw Error();Te.push(J<<2|Je>>4),64!==It&&(Te.push(Je<<4&240|It>>2),64!==wt&&Te.push(It<<6&192|wt))}return Te},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}},se=function(U){return function(U){const q=ae(U);return pe.encodeByteArray(q,!0)}(U).replace(/\./g,"")},ce=function(U){try{return pe.decodeString(U,!0)}catch(q){console.error("base64Decode failed: ",q)}return null};function B(U,q){if(!(q instanceof Object))return q;switch(q.constructor){case Date:return new Date(q.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return q}for(const Z in q)!q.hasOwnProperty(Z)||!te(Z)||(U[Z]=B(U[Z],q[Z]));return U}function te(U){return"__proto__"!==U}class Ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((q,Z)=>{this.resolve=q,this.reject=Z})}wrapCallback(q){return(Z,Te)=>{Z?this.reject(Z):this.resolve(Te),"function"==typeof q&&(this.promise.catch(()=>{}),1===q.length?q(Z):q(Z,Te))}}}function Me(U,q){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Te=q||"demo-project",H=U.iat||0,J=U.sub||U.user_id;if(!J)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Pe=Object.assign({iss:`https://securetoken.google.com/${Te}`,aud:Te,iat:H,exp:H+3600,auth_time:H,sub:J,user_id:J,firebase:{sign_in_provider:"custom",identities:{}}},U);return[se(JSON.stringify({alg:"none",type:"JWT"})),se(JSON.stringify(Pe)),""].join(".")}function Oe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ve(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function he(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(U){return!1}}function De(){return"object"==typeof self&&self.self===self}function Ge(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function Ye(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ie(){return Oe().indexOf("Electron/")>=0}function Ee(){const U=Oe();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function Ce(){return Oe().indexOf("MSAppHost/")>=0}function je(){return!he()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j(){return"object"==typeof indexedDB}function ve(){return new Promise((U,q)=>{try{let Z=!0;const Te="validate-browser-context-for-indexeddb-analytics-module",H=self.indexedDB.open(Te);H.onsuccess=()=>{H.result.close(),Z||self.indexedDB.deleteDatabase(Te),U(!0)},H.onupgradeneeded=()=>{Z=!1},H.onerror=()=>{var J;q((null===(J=H.error)||void 0===J?void 0:J.message)||"")}}catch(Z){q(Z)}})}function W(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class me extends Error{constructor(q,Z,Te){super(Z),this.code=q,this.customData=Te,this.name="FirebaseError",Object.setPrototypeOf(this,me.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oe.prototype.create)}}class oe{constructor(q,Z,Te){this.service=q,this.serviceName=Z,this.errors=Te}create(q,...Z){const Te=Z[0]||{},H=`${this.service}/${q}`,J=this.errors[q],Pe=J?function Ne(U,q){return U.replace(lt,(Z,Te)=>{const H=q[Te];return null!=H?String(H):`<${Te}?>`})}(J,Te):"Error";return new me(H,`${this.serviceName}: ${Pe} (${H}).`,Te)}}const lt=/\{\$([^}]+)}/g;function Tr(U,q){return Object.prototype.hasOwnProperty.call(U,q)}function Vt(U){for(const q in U)if(Object.prototype.hasOwnProperty.call(U,q))return!1;return!0}function Qr(U,q){if(U===q)return!0;const Z=Object.keys(U),Te=Object.keys(q);for(const H of Z){if(!Te.includes(H))return!1;const J=U[H],Pe=q[H];if(pr(J)&&pr(Pe)){if(!Qr(J,Pe))return!1}else if(J!==Pe)return!1}for(const H of Te)if(!Z.includes(H))return!1;return!0}function pr(U){return null!==U&&"object"==typeof U}function Dr(U){const q=[];for(const[Z,Te]of Object.entries(U))Array.isArray(Te)?Te.forEach(H=>{q.push(encodeURIComponent(Z)+"="+encodeURIComponent(H))}):q.push(encodeURIComponent(Z)+"="+encodeURIComponent(Te));return q.length?"&"+q.join("&"):""}function Ai(U){const q={};return U.replace(/^\?/,"").split("&").forEach(Te=>{if(Te){const[H,J]=Te.split("=");q[decodeURIComponent(H)]=decodeURIComponent(J)}}),q}function vs(U){const q=U.indexOf("?");if(!q)return"";const Z=U.indexOf("#",q);return U.substring(q,Z>0?Z:void 0)}function Si(U,q){const Z=new _t(U,q);return Z.subscribe.bind(Z)}class _t{constructor(q,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{q(this)}).catch(Te=>{this.error(Te)})}next(q){this.forEachObserver(Z=>{Z.next(q)})}error(q){this.forEachObserver(Z=>{Z.error(q)}),this.close(q)}complete(){this.forEachObserver(q=>{q.complete()}),this.close()}subscribe(q,Z,Te){let H;if(void 0===q&&void 0===Z&&void 0===Te)throw new Error("Missing Observer.");H=function In(U,q){if("object"!=typeof U||null===U)return!1;for(const Z of q)if(Z in U&&"function"==typeof U[Z])return!0;return!1}(q,["next","error","complete"])?q:{next:q,error:Z,complete:Te},void 0===H.next&&(H.next=On),void 0===H.error&&(H.error=On),void 0===H.complete&&(H.complete=On);const J=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?H.error(this.finalError):H.complete()}catch(Pe){}}),this.observers.push(H),J}unsubscribeOne(q){void 0===this.observers||void 0===this.observers[q]||(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(q){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,q)}sendOne(q,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[q])try{Z(this.observers[q])}catch(Te){"undefined"!=typeof console&&console.error&&console.error(Te)}})}close(q){this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function On(){}function $t(U,q=1e3,Z=2){const Te=q*Math.pow(Z,U),H=Math.round(.5*Te*(Math.random()-.5)*2);return Math.min(144e5,Te+H)}function yr(U){return U&&U._delegate?U._delegate:U}},1225:(Xe,we,N)=>{var u=N(5e3);let X=null;function R(){return X}const ue=new u.OlP("DocumentToken");let se=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function ce(){return(0,u.LFG)(B)}()},providedIn:"platform"}),n})();const $=new u.OlP("Location Initialized");let B=(()=>{class n extends se{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,s){te()?this._history.pushState(t,r,s):this.location.hash=s}replaceState(t,r,s){te()?this._history.replaceState(t,r,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ze(){return new B((0,u.LFG)(ue))}()},providedIn:"platform"}),n})();function te(){return!!window.history.pushState}function Me(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Oe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ve(n){return n&&"?"!==n[0]?"?"+n:n}let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function De(n){const e=(0,u.LFG)(ue).location;return new Ye((0,u.LFG)(se),e&&e.origin||"")}()},providedIn:"root"}),n})();const Ge=new u.OlP("appBaseHref");let Ye=(()=>{class n extends he{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Me(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ve(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${r}${s}`:r}pushState(t,r,s,l){const d=this.prepareExternalUrl(s+Ve(l));this._platformLocation.pushState(t,r,d)}replaceState(t,r,s,l){const d=this.prepareExternalUrl(s+Ve(l));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,s;null===(s=(r=this._platformLocation).historyGo)||void 0===s||s.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(se),u.LFG(Ge,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n extends he{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Me(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,s,l){let d=this.prepareExternalUrl(s+Ve(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,s,l){let d=this.prepareExternalUrl(s+Ve(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,s;null===(s=(r=this._platformLocation).historyGo)||void 0===s||s.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(se),u.LFG(Ge,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ee=(()=>{class n{constructor(t,r){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const s=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Oe(je(s)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ve(r))}normalize(t){return n.stripTrailingSlash(function $e(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,je(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",s=null){this._platformStrategy.pushState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ve(r)),s)}replaceState(t,r="",s=null){this._platformStrategy.replaceState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ve(r)),s)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,s;null===(s=(r=this._platformStrategy).historyGo)||void 0===s||s.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(s=>s(t,r))}subscribe(t,r,s){return this._subject.subscribe({next:t,error:r,complete:s})}}return n.normalizeQueryParams=Ve,n.joinWithSlash=Me,n.stripTrailingSlash=Oe,n.\u0275fac=function(t){return new(t||n)(u.LFG(he),u.LFG(se))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ce(){return new Ee((0,u.LFG)(he),(0,u.LFG)(se))}()},providedIn:"root"}),n})();function je(n){return n.replace(/\/index.html$/,"")}class bs{constructor(e,t,r,s){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gn=(()=>{class n{constructor(t,r,s){this._viewContainer=t,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((s,l,d)=>{if(null==s.previousIndex)r.createEmbeddedView(this._template,new bs(s.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===l?void 0:l);else if(null!==l){const p=r.get(l);r.move(p,d),Js(p,s)}});for(let s=0,l=r.length;s<l;s++){const p=r.get(s).context;p.index=s,p.count=l,p.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{Js(r.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Js(n,e){n.context.$implicit=e.item}let Bn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new sn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Cu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Cu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class sn{constructor(){this.$implicit=null,this.ngIf=null}}function Cu(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}class Ts{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class rd{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const lg=new rd,Yi=new Ts;let Qi=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,u.QGY)(t))return lg;if((0,u.F4k)(t))return Yi;throw function _r(n,e){return new u.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO,16))},n.\u0275pipe=u.Yjl({name:"async",type:n,pure:!1}),n})(),Rt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function Fo(n){return"server"===n}let Dl=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new Lo((0,u.LFG)(ue),window)}),n})();class Lo{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ki(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const l=s.shadowRoot;if(l){const d=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(d)return d}s=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],s-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Il(this.window.history)||Il(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Il(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class to extends class Sa extends class pe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function re(n){X||(X=n)}(new to)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Ma(){return Jt=Jt||document.querySelector("base"),Jt?Jt.getAttribute("href"):null}();return null==t?null:function Is(n){Iu=Iu||document.createElement("a"),Iu.setAttribute("href",n);const e=Iu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Jt=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Da(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[s,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(s.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let Iu,Jt=null;const or=new u.OlP("TRANSITION_ID"),En=[{provide:u.ip1,useFactory:function Al(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=R(),s=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<s.length;l++)r.remove(s[l])})}},deps:[or,ue,u.zs3],multi:!0}];class Fi{static init(){(0,u.VLi)(new Fi)}addToWindow(e){u.dqk.getAngularTestability=(r,s=!0)=>{const l=e.findTestabilityInTree(r,s);if(null==l)throw new Error("Could not find testability for element.");return l},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const s=u.dqk.getAllAngularTestabilities();let l=s.length,d=!1;const p=function(v){d=d||v,l--,0==l&&r(d)};s.forEach(function(v){v.whenStable(p)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const s=e.getTestability(t);return null!=s?s:r?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let ar=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const no=new u.OlP("EventManagerPlugins");let Ji=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(s=>s.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,s){return this._findPluginFor(r).addEventListener(t,r,s)}addGlobalEventListener(t,r,s){return this._findPluginFor(r).addGlobalEventListener(t,r,s)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const s=this._plugins;for(let l=0;l<s.length;l++){const d=s[l];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(no),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class xa{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const s=R().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,r)}}let bi=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),r.add(s))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Li=(()=>{class n extends bi{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,s){t.forEach(l=>{const d=this._doc.createElement("style");d.textContent=l,s.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Uo),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,s)=>{this._addStylesToHost(t,s,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Uo))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Uo(n){R().remove(n)}const pt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Vo=/%COMP%/g;function Ae(n,e,t){for(let r=0;r<e.length;r++){let s=e[r];Array.isArray(s)?Ae(n,s,t):(s=s.replace(Vo,n),t.push(s))}return t}function Lt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let pn=(()=>{class n{constructor(t,r,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new Bo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let s=this.rendererByCompId.get(r.id);return s||(s=new Na(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,s)),s.applyToHost(t),s}case 1:case u.ifc.ShadowDom:return new Pl(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const s=Ae(r.id,r.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ji),u.LFG(Li),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Bo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(pt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,s){if(s){t=s+":"+t;const l=pt[s];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const s=pt[r];s?e.removeAttributeNS(s,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,s){s&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,s&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Lt(r)):this.eventManager.addEventListener(e,t,Lt(r))}}class Na extends Bo{constructor(e,t,r,s){super(e),this.component=r;const l=Ae(s+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function Ml(n){return"_ngcontent-%COMP%".replace(Vo,n)}(s+"-"+r.id),this.hostAttr=function xl(n){return"_nghost-%COMP%".replace(Vo,n)}(s+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Pl extends Bo{constructor(e,t,r,s){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Ae(s.id,s.styles,[]);for(let d=0;d<l.length;d++){const p=document.createElement("style");p.textContent=l[d],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let fg=(()=>{class n extends xa{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,s){return t.addEventListener(r,s,!1),()=>this.removeEventListener(t,r,s)}removeEventListener(t,r,s){return t.removeEventListener(r,s)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Mu=["alt","control","meta","shift"],xu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Rn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Xi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ka=(()=>{class n extends xa{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,s){const l=n.parseEventName(r),d=n.eventCallback(l.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,l.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const l=n._normalizeKey(r.pop());let d="";if(Mu.forEach(v=>{const C=r.indexOf(v);C>-1&&(r.splice(C,1),d+=v+".")}),d+=l,0!=r.length||0===l.length)return null;const p={};return p.domEventName=s,p.fullKey=d,p}static getEventFullKey(t){let r="",s=function As(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Rn.hasOwnProperty(e)&&(e=Rn[e]))}return xu[e]||e}(t);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),Mu.forEach(l=>{l!=s&&Xi[l](t)&&(r+=l+".")}),r+=s,r}static eventCallback(t,r,s){return l=>{n.getEventFullKey(l)===t&&s.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ou=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function Ci(){to.makeCurrent(),Fi.init()},multi:!0},{provide:ue,useFactory:function Pu(){return(0,u.RDi)(document),document},deps:[]}]),Fa=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Ol(){return new u.qLn},deps:[]},{provide:no,useClass:fg,multi:!0,deps:[ue,u.R0b,u.Lbi]},{provide:no,useClass:ka,multi:!0,deps:[ue]},{provide:pn,useClass:pn,deps:[Ji,Li,u.AFp]},{provide:u.FYo,useExisting:pn},{provide:bi,useExisting:Li},{provide:Li,useClass:Li,deps:[ue]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:Ji,useClass:Ji,deps:[no,u.R0b]},{provide:class on{},useClass:ar,deps:[]}];let jo=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:or,useExisting:u.AFp},En]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(n,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:Fa,imports:[Rt,u.hGG]}),n})();"undefined"!=typeof window&&window;var tn=N(8996),Ba=N(7669);function et(...n){const e=(0,Ba.yG)(n);return(0,tn.D)(n,e)}var ii=N(7579);class xr extends ii.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var jn=N(8306);const{isArray:Fl}=Array,{getPrototypeOf:_d,prototype:Bi,keys:Ll}=Object;function ln(n){if(1===n.length){const e=n[0];if(Fl(e))return{args:e,keys:null};if(function ja(n){return n&&"object"==typeof n&&_d(n)===Bi}(e)){const t=Ll(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Ti=N(4671),ct=N(4004);const{isArray:Fu}=Array;function Ed(n){return(0,ct.U)(e=>function vd(n,e){return Fu(e)?n(...e):n(e)}(n,e))}function Ul(n,e){return n.reduce((t,r,s)=>(t[r]=e[s],t),{})}var kn=N(5403),Go=N(9672);function ur(n,e,t){n?(0,Go.f)(t,n,e):e()}var Lu=N(576);function ji(n,e){const t=(0,Lu.m)(n)?n:()=>n,r=s=>s.error(t());return new jn.y(e?s=>e.schedule(r,0,s):r)}const Ms=(0,N(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ko=N(8189);function Yo(...n){return function oo(){return(0,Ko.J)(1)}()((0,tn.D)(n,(0,Ba.yG)(n)))}var Qo=N(8421);function Jo(n){return new jn.y(e=>{(0,Qo.Xf)(n()).subscribe(e)})}var $a=N(515),xs=N(727),lr=N(4482);function ao(){return(0,lr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,kn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const s=n._connection,l=t;t=null,s&&(!l||s===l)&&s.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Uu extends jn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,lr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new xs.w0;const t=this.getSubject();e.add(this.source.subscribe((0,kn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=xs.w0.EMPTY)}return e}refCount(){return ao()(this)}}function mn(n,e){return(0,lr.e)((t,r)=>{let s=null,l=0,d=!1;const p=()=>d&&!s&&r.complete();t.subscribe((0,kn.x)(r,v=>{null==s||s.unsubscribe();let C=0;const S=l++;(0,Qo.Xf)(n(v,S)).subscribe(s=(0,kn.x)(r,x=>r.next(e?e(v,x,S,C++):x),()=>{s=null,p()}))},()=>{d=!0,p()}))})}var Ps=N(5698);function $i(...n){const e=(0,Ba.yG)(n);return(0,lr.e)((t,r)=>{(e?Yo(n,t,e):Yo(n,t)).subscribe(r)})}function ts(n,e,t,r,s){return(l,d)=>{let p=t,v=e,C=0;l.subscribe((0,kn.x)(d,S=>{const x=C++;v=p?n(v,S,x):(p=!0,S),r&&d.next(v)},s&&(()=>{p&&d.next(v),d.complete()})))}}function Hi(n,e){return(0,lr.e)(ts(n,e,arguments.length>=2,!0))}function Hr(n,e){return(0,lr.e)((t,r)=>{let s=0;t.subscribe((0,kn.x)(r,l=>n.call(e,l,s++)&&r.next(l)))})}function si(n){return(0,lr.e)((e,t)=>{let l,r=null,s=!1;r=e.subscribe((0,kn.x)(t,void 0,void 0,d=>{l=(0,Qo.Xf)(n(d,si(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):s=!0})),s&&(r.unsubscribe(),r=null,l.subscribe(t))})}var Sn=N(5577);function Vu(n,e){return(0,Lu.m)(e)?(0,Sn.z)(n,e,1):(0,Sn.z)(n,1)}function Ha(n){return n<=0?()=>$a.E:(0,lr.e)((e,t)=>{let r=[];e.subscribe((0,kn.x)(t,s=>{r.push(s),n<r.length&&r.shift()},()=>{for(const s of r)t.next(s);t.complete()},void 0,()=>{r=null}))})}function yn(n=yg){return(0,lr.e)((e,t)=>{let r=!1;e.subscribe((0,kn.x)(t,s=>{r=!0,t.next(s)},()=>r?t.complete():t.error(n())))})}function yg(){return new Ms}function _g(n){return(0,lr.e)((e,t)=>{let r=!1;e.subscribe((0,kn.x)(t,s=>{r=!0,t.next(s)},()=>{r||t.next(n),t.complete()}))})}function Xo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Hr((s,l)=>n(s,l,r)):Ti.y,(0,Ps.q)(1),t?_g(e):yn(()=>new Ms))}var qr=N(8505);class Os{constructor(e,t){this.id=e,this.url=t}}class uo extends Os{constructor(e,t,r="imperative",s=null){super(e,t),this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bu extends Os{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class wn extends Os{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Vl extends Os{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class lo extends Os{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uy extends Os{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bl extends Os{constructor(e,t,r,s,l){super(e,t),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class oi extends Os{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ai extends Os{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ea{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class co{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ho{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ta{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fo{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ns{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qa{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const kt="primary";class ju{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Qn(n){return new ju(n)}const Za="ngNavigationCancelingError";function Ns(n){const e=Error("NavigationCancelingError: "+n);return e[Za]=!0,e}function bd(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const s={};for(let l=0;l<r.length;l++){const d=r[l],p=n[l];if(d.startsWith(":"))s[d.substring(1)]=p;else if(d!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:s}}function Di(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let s;for(let l=0;l<t.length;l++)if(s=t[l],!$u(n[s],e[s]))return!1;return!0}function $u(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((s,l)=>r[l]===s)}return n===e}function Cd(n){return Array.prototype.concat.apply([],n)}function qi(n){return n.length>0?n[n.length-1]:null}function cn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function cr(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,tn.D)(Promise.resolve(n)):et(n)}const na={exact:function T(n,e,t){if(!ht(n.segments,e.segments)||!Y(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!T(n.children[r],e.children[r],t))return!1;return!0},subset:P},ra={exact:function Td(n,e){return Di(n,e)},subset:function D(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>$u(n[t],e[t]))},ignored:()=>!0};function po(n,e,t){return na[t.paths](n.root,e.root,t.matrixParams)&&ra[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function P(n,e,t){return F(n,e,e.segments,t)}function F(n,e,t,r){if(n.segments.length>t.length){const s=n.segments.slice(0,t.length);return!(!ht(s,t)||e.hasChildren()||!Y(s,t,r))}if(n.segments.length===t.length){if(!ht(n.segments,t)||!Y(n.segments,t,r))return!1;for(const s in e.children)if(!n.children[s]||!P(n.children[s],e.children[s],r))return!1;return!0}{const s=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(ht(n.segments,s)&&Y(n.segments,s,r)&&n.children[kt])&&F(n.children[kt],e,l,r)}}function Y(n,e,t){return e.every((r,s)=>ra[t](n[s].parameters,r.parameters))}class ne{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qn(this.queryParams)),this._queryParamMap}toString(){return Jn.serialize(this)}}class ge{constructor(e,t){this.segments=e,this.children=t,this.parent=null,cn(t,(r,s)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rs(this)}}class Ue{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Qn(this.parameters)),this._parameterMap}toString(){return Zu(this)}}function ht(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class bt{}class Er{parse(e){const t=new jy(e);return new ne(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Zr(e.root,!0)}`,r=function wg(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(s=>`${li(t)}=${li(s)}`).join("&"):`${li(t)}=${li(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function ci(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Jn=new Er;function rs(n){return n.segments.map(e=>Zu(e)).join("/")}function Zr(n,e){if(!n.hasChildren())return rs(n);if(e){const t=n.children[kt]?Zr(n.children[kt],!1):"",r=[];return cn(n.children,(s,l)=>{l!==kt&&r.push(`${l}:${Zr(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Ht(n,e){let t=[];return cn(n.children,(r,s)=>{s===kt&&(t=t.concat(e(r,s)))}),cn(n.children,(r,s)=>{s!==kt&&(t=t.concat(e(r,s)))}),t}(n,(r,s)=>s===kt?[Zr(n.children[kt],!1)]:[`${s}:${Zr(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[kt]?`${rs(n)}/${t[0]}`:`${rs(n)}/(${t.join("//")})`}}function ui(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function li(n){return ui(n).replace(/%3B/gi,";")}function Hu(n){return ui(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qu(n){return decodeURIComponent(n)}function $l(n){return qu(n.replace(/\+/g,"%20"))}function Zu(n){return`${Hu(n.path)}${function Eg(n){return Object.keys(n).map(e=>`;${Hu(e)}=${Hu(n[e])}`).join("")}(n.parameters)}`}const nf=/^[^\/()?;=#]+/;function go(n){const e=n.match(nf);return e?e[0]:""}const Hl=/^[^=?&#]+/,bg=/^[^&#]+/;class jy{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[kt]=new ge(e,t)),r}parseSegment(){const e=go(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Ue(qu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=go(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=go(this.remaining);s&&(r=s,this.capture(r))}e[qu(t)]=qu(r)}parseQueryParam(e){const t=function By(n){const e=n.match(Hl);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function Cg(n){const e=n.match(bg);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const s=$l(t),l=$l(r);if(e.hasOwnProperty(s)){let d=e[s];Array.isArray(d)||(d=[d],e[s]=d),d.push(l)}else e[s]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=go(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=kt);const d=this.parseChildren();t[l]=1===Object.keys(d).length?d[kt]:new ge([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Tg{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=rf(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=rf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Gu(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return Gu(e,this._root).map(t=>t.value)}}function rf(n,e){if(n===e.value)return e;for(const t of e.children){const r=rf(n,t);if(r)return r}return null}function Gu(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Gu(n,t);if(r.length)return r.unshift(e),r}return[]}class mo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function yo(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Dd extends Tg{constructor(e,t){super(e),this.snapshot=t,Ad(this,e)}toString(){return this.snapshot.toString()}}function Ga(n,e){const t=function $y(n,e){const d=new ia([],{},{},"",{},kt,e,null,n.root,-1,{});return new sf("",new mo(d,[]))}(n,e),r=new xr([new Ue("",{})]),s=new xr({}),l=new xr({}),d=new xr({}),p=new xr(""),v=new zu(r,s,d,p,l,kt,e,t.root);return v.snapshot=t.root,new Dd(new mo(v,[]),t)}class zu{constructor(e,t,r,s,l,d,p,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=l,this.outlet=d,this.component=p,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ct.U)(e=>Qn(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ct.U)(e=>Qn(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Hy(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const s=t[r],l=t[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(l.component)break;r--}}return function Id(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ia{constructor(e,t,r,s,l,d,p,v,C,S,x){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=l,this.outlet=d,this.component=p,this.routeConfig=v,this._urlSegment=C,this._lastPathIndex=S,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sf extends Tg{constructor(e,t){super(t),this.url=e,Ad(this,t)}toString(){return of(this._root)}}function Ad(n,e){e.value._routerState=n,e.children.forEach(t=>Ad(n,t))}function of(n){const e=n.children.length>0?` { ${n.children.map(of).join(", ")} } `:"";return`${n.value}${e}`}function Sd(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Di(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Di(e.params,t.params)||n.params.next(t.params),function Rs(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Di(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Di(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function af(n,e){const t=Di(n.params,e.params)&&function At(n,e){return ht(n,e)&&n.every((t,r)=>Di(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||af(n.parent,e.parent))}function ql(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const s=function qy(n,e,t){return e.children.map(r=>{for(const s of t.children)if(n.shouldReuseRoute(r.value,s.value.snapshot))return ql(n,r,s);return ql(n,r)})}(n,e,t);return new mo(r,s)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const d=l.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(p=>ql(n,p)),d}}const r=function Zy(n){return new zu(new xr(n.url),new xr(n.params),new xr(n.queryParams),new xr(n.fragment),new xr(n.data),n.outlet,n.component,n)}(e.value),s=e.children.map(l=>ql(n,l));return new mo(r,s)}}function ks(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Zl(n){return"object"==typeof n&&null!=n&&n.outlets}function Md(n,e,t,r,s){let l={};if(r&&cn(r,(p,v)=>{l[v]=Array.isArray(p)?p.map(C=>`${C}`):`${p}`}),n===e)return new ne(t,l,s);const d=Gy(n,e,t);return new ne(d,l,s)}function Gy(n,e,t){const r={};return cn(n.children,(s,l)=>{r[l]=s===e?t:Gy(s,e,t)}),new ge(n.segments,r)}class Ig{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ks(r[0]))throw new Error("Root segment cannot have matrix parameters");const s=r.find(Zl);if(s&&s!==qi(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xd{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function xg(n,e,t){if(n||(n=new ge([],{})),0===n.segments.length&&n.hasChildren())return Pd(n,e,t);const r=function sE(n,e,t){let r=0,s=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(r>=t.length)return l;const d=n.segments[s],p=t[r];if(Zl(p))break;const v=`${p}`,C=r<t.length-1?t[r+1]:null;if(s>0&&void 0===v)break;if(v&&C&&"object"==typeof C&&void 0===C.outlets){if(!is(v,C,d))return l;r+=2}else{if(!is(v,{},d))return l;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(n,e,t),s=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new ge(n.segments.slice(0,r.pathIndex),{});return l.children[kt]=new ge(n.segments.slice(r.pathIndex),n.children),Pd(l,0,s)}return r.match&&0===s.length?new ge(n.segments,{}):r.match&&!n.hasChildren()?Pg(n,e,t):r.match?Pd(n,0,s):Pg(n,e,t)}function Pd(n,e,t){if(0===t.length)return new ge(n.segments,{});{const r=function Mg(n){return Zl(n[0])?n[0].outlets:{[kt]:n}}(t),s={};return cn(r,(l,d)=>{"string"==typeof l&&(l=[l]),null!==l&&(s[d]=xg(n.children[d],e,l))}),cn(n.children,(l,d)=>{void 0===r[d]&&(s[d]=l)}),new ge(n.segments,s)}}function Pg(n,e,t){const r=n.segments.slice(0,e);let s=0;for(;s<t.length;){const l=t[s];if(Zl(l)){const v=Fs(l.outlets);return new ge(r,v)}if(0===s&&ks(t[0])){r.push(new Ue(n.segments[e].path,uf(t[0]))),s++;continue}const d=Zl(l)?l.outlets[kt]:`${l}`,p=s<t.length-1?t[s+1]:null;d&&p&&ks(p)?(r.push(new Ue(d,uf(p))),s+=2):(r.push(new Ue(d,{})),s++)}return new ge(r,{})}function Fs(n){const e={};return cn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Pg(new ge([],{}),0,t))}),e}function uf(n){const e={};return cn(n,(t,r)=>e[r]=`${t}`),e}function is(n,e,t){return n==t.path&&Di(e,t.parameters)}class Og{constructor(e,t,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Sd(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const s=yo(t);e.children.forEach(l=>{const d=l.value.outlet;this.deactivateRoutes(l,s[d],r),delete s[d]}),cn(s,(l,d)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const s=e.value,l=t?t.value:null;if(s===l)if(s.component){const d=r.getContext(s.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,l=yo(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],s);if(r&&r.outlet){const d=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,l=yo(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],s);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const s=yo(t);e.children.forEach(l=>{this.activateRoutes(l,s[l.value.outlet],r),this.forwardEvent(new ns(l.value.snapshot))}),e.children.length&&this.forwardEvent(new ta(e.value.snapshot))}activateRoutes(e,t,r){const s=e.value,l=t?t.value:null;if(Sd(s),s===l)if(s.component){const d=r.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(s.component){const d=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const p=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),d.children.onOutletReAttached(p.contexts),d.attachRef=p.componentRef,d.route=p.route.value,d.outlet&&d.outlet.attach(p.componentRef,p.route.value),Sd(p.route.value),this.activateChildRoutes(e,null,d.children)}else{const p=function Od(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(s.snapshot),v=p?p.module.componentFactoryResolver:null;d.attachRef=null,d.route=s,d.resolver=v,d.outlet&&d.outlet.activateWith(s,v),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class Nd{constructor(e,t){this.routes=e,this.module=t}}function Wa(n){return"function"==typeof n}function Wu(n){return n instanceof ne}const Rd=Symbol("INITIAL_VALUE");function Ku(){return mn(n=>function zo(...n){const e=(0,Ba.yG)(n),t=(0,Ba.jO)(n),{args:r,keys:s}=ln(n);if(0===r.length)return(0,tn.D)([],e);const l=new jn.y(function Ss(n,e,t=Ti.y){return r=>{ur(e,()=>{const{length:s}=n,l=new Array(s);let d=s,p=s;for(let v=0;v<s;v++)ur(e,()=>{const C=(0,tn.D)(n[v],e);let S=!1;C.subscribe((0,kn.x)(r,x=>{l[v]=x,S||(S=!0,p--),p||r.next(t(l.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,s?d=>Ul(s,d):Ti.y));return t?l.pipe(Ed(t)):l}(n.map(e=>e.pipe((0,Ps.q)(1),$i(Rd)))).pipe(Hi((e,t)=>{let r=!1;return t.reduce((s,l,d)=>s!==Rd?s:(l===Rd&&(r=!0),r||!1!==l&&d!==t.length-1&&!Wu(l)?s:l),e)},Rd),Hr(e=>e!==Rd),(0,ct.U)(e=>Wu(e)?e:!0===e),(0,Ps.q)(1)))}class zy{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Yu,this.attachRef=null}}class Yu{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new zy,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let zl=(()=>{class n{constructor(t,r,s,l,d){this.parentContexts=t,this.location=r,this.resolver=s,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=l||kt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const d=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),p=this.parentContexts.getOrCreateContext(this.name).children,v=new Wy(t,p,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,v),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Yu),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Wy{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===zu?this.route:e===Yu?this.childContexts:this.parent.get(e,t)}}let df=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},directives:[zl],encapsulation:2}),n})();function Ka(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];hf(r,ff(e,r))}}function hf(n,e){n.children&&Ka(n.children,e)}function ff(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function pf(n){const e=n.children&&n.children.map(pf),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==kt&&(t.component=df),t}function Gt(n){return n.outlet||kt}function Rg(n,e){const t=n.filter(r=>Gt(r)===e);return t.push(...n.filter(r=>Gt(r)!==e)),t}const kg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Qu(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},kg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const l=(e.matcher||bd)(t,n,e);if(!l)return Object.assign({},kg);const d={};cn(l.posParams,(v,C)=>{d[C]=v.path});const p=l.consumed.length>0?Object.assign(Object.assign({},d),l.consumed[l.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:l.consumed,remainingSegments:t.slice(l.consumed.length),parameters:p,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function Ju(n,e,t,r,s="corrected"){if(t.length>0&&function Qy(n,e,t){return t.some(r=>Ya(n,e,r)&&Gt(r)!==kt)}(n,t,r)){const d=new ge(e,function Yy(n,e,t,r){const s={};s[kt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&Gt(l)!==kt){const d=new ge([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,s[Gt(l)]=d}return s}(n,e,r,new ge(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function Jy(n,e,t){return t.some(r=>Ya(n,e,r))}(n,t,r)){const d=new ge(n.segments,function Ky(n,e,t,r,s,l){const d={};for(const p of r)if(Ya(n,t,p)&&!s[Gt(p)]){const v=new ge([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===l?n.segments.length:e.length,d[Gt(p)]=v}return Object.assign(Object.assign({},s),d)}(n,e,t,r,n.children,s));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const l=new ge(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function Ya(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Xy(n,e,t,r){return!!(Gt(n)===r||r!==kt&&Ya(e,t,n))&&("**"===n.path||Qu(e,n,t).matched)}function Fg(n,e,t){return 0===e.length&&!n.children[t]}class oa{constructor(e){this.segmentGroup=e||null}}class Pr{constructor(e){this.urlTree=e}}function Qa(n){return ji(new oa(n))}function gf(n){return ji(new Pr(n))}class kd{constructor(e,t,r,s,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=s,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(u.h0i)}apply(){const e=Ju(this.urlTree.root,[],[],this.config).segmentGroup,t=new ge(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,kt).pipe((0,ct.U)(l=>this.createUrlTree(Wl(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(si(l=>{if(l instanceof Pr)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof oa?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,kt).pipe((0,ct.U)(s=>this.createUrlTree(Wl(s),e.queryParams,e.fragment))).pipe(si(s=>{throw s instanceof oa?this.noMatchError(s):s}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const s=e.segments.length>0?new ge([],{[kt]:e}):e;return new ne(s,t,r)}expandSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,ct.U)(l=>new ge([],l))):this.expandSegment(e,r,t,r.segments,s,!0)}expandChildren(e,t,r){const s=[];for(const l of Object.keys(r.children))"primary"===l?s.unshift(l):s.push(l);return(0,tn.D)(s).pipe(Vu(l=>{const d=r.children[l],p=Rg(t,l);return this.expandSegmentGroup(e,p,d,l).pipe((0,ct.U)(v=>({segment:v,outlet:l})))}),Hi((l,d)=>(l[d.outlet]=d.segment,l),{}),function Ly(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Hr((s,l)=>n(s,l,r)):Ti.y,Ha(1),t?_g(e):yn(()=>new Ms))}())}expandSegment(e,t,r,s,l,d){return(0,tn.D)(r).pipe(Vu(p=>this.expandSegmentAgainstRoute(e,t,r,p,s,l,d).pipe(si(C=>{if(C instanceof oa)return et(null);throw C}))),Xo(p=>!!p),si((p,v)=>{if(p instanceof Ms||"EmptyError"===p.name)return Fg(t,s,l)?et(new ge([],{})):Qa(t);throw p}))}expandSegmentAgainstRoute(e,t,r,s,l,d,p){return Xy(s,t,l,d)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(e,t,s,l,d):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,s,l,d):Qa(t):Qa(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,s,l,d){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,s,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,l,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,s){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?gf(l):this.lineralizeSegments(r,l).pipe((0,Sn.z)(d=>{const p=new ge(d,{});return this.expandSegment(e,p,t,d,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,l,d){const{matched:p,consumedSegments:v,remainingSegments:C,positionalParamSegments:S}=Qu(t,s,l);if(!p)return Qa(t);const x=this.applyRedirectCommands(v,s.redirectTo,S);return s.redirectTo.startsWith("/")?gf(x):this.lineralizeSegments(s,x).pipe((0,Sn.z)(L=>this.expandSegment(e,t,r,L.concat(C),d,!1)))}matchSegmentAgainstRoute(e,t,r,s,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?et(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,ct.U)(x=>(r._loadedConfig=x,new ge(s,{})))):et(new ge(s,{}));const{matched:d,consumedSegments:p,remainingSegments:v}=Qu(t,r,s);return d?this.getChildConfig(e,r,s).pipe((0,Sn.z)(S=>{const x=S.module,L=S.routes,{segmentGroup:G,slicedSegments:K}=Ju(t,p,v,L),ye=new ge(G.segments,G.children);if(0===K.length&&ye.hasChildren())return this.expandChildren(x,L,ye).pipe((0,ct.U)(Tt=>new ge(p,Tt)));if(0===L.length&&0===K.length)return et(new ge(p,{}));const Re=Gt(r)===l;return this.expandSegment(x,ye,L,K,Re?kt:l,!0).pipe((0,ct.U)(yt=>new ge(p.concat(yt.segments),yt.children)))})):Qa(t)}getChildConfig(e,t,r){return t.children?et(new Nd(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?et(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Sn.z)(s=>s?this.configLoader.load(e.injector,t).pipe((0,ct.U)(l=>(t._loadedConfig=l,l))):function dr(n){return ji(Ns(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):et(new Nd([],e))}runCanLoadGuards(e,t,r){const s=t.canLoad;return s&&0!==s.length?et(s.map(d=>{const p=e.get(d);let v;if(function lf(n){return n&&Wa(n.canLoad)}(p))v=p.canLoad(t,r);else{if(!Wa(p))throw new Error("Invalid CanLoad guard");v=p(t,r)}return cr(v)})).pipe(Ku(),(0,qr.b)(d=>{if(!Wu(d))return;const p=Ns(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw p.url=d,p}),(0,ct.U)(d=>!0===d)):et(!0)}lineralizeSegments(e,t){let r=[],s=t.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return et(r);if(s.numberOfChildren>1||!s.children[kt])return ji(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));s=s.children[kt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,s){const l=this.createSegmentGroup(e,t.root,r,s);return new ne(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return cn(e,(s,l)=>{if("string"==typeof s&&s.startsWith(":")){const p=s.substring(1);r[l]=t[p]}else r[l]=s}),r}createSegmentGroup(e,t,r,s){const l=this.createSegments(e,t.segments,r,s);let d={};return cn(t.children,(p,v)=>{d[v]=this.createSegmentGroup(e,p,r,s)}),new ge(l,d)}createSegments(e,t,r,s){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,s):this.findOrReturn(l,r))}findPosParam(e,t,r){const s=r[t.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return s}findOrReturn(e,t){let r=0;for(const s of t){if(s.path===e.path)return t.splice(r),s;r++}return e}}function Wl(n){const e={};for(const r of Object.keys(n.children)){const l=Wl(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function e_(n){if(1===n.numberOfChildren&&n.children[kt]){const e=n.children[kt];return new ge(n.segments.concat(e.segments),e.children)}return n}(new ge(n.segments,e))}class di{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class _o{constructor(e,t){this.component=e,this.route=t}}function Ug(n,e,t){const r=n._root;return Xa(r,e?e._root:null,t,[r.value])}function Xu(n,e,t){const r=function yf(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Xa(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const l=yo(e);return n.children.forEach(d=>{(function Bg(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,d=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(d&&l.routeConfig===d.routeConfig){const v=function t_(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ht(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ht(n.url,e.url)||!Di(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!af(n,e)||!Di(n.queryParams,e.queryParams);default:return!af(n,e)}}(d,l,l.routeConfig.runGuardsAndResolvers);v?s.canActivateChecks.push(new di(r)):(l.data=d.data,l._resolvedData=d._resolvedData),Xa(n,e,l.component?p?p.children:null:t,r,s),v&&p&&p.outlet&&p.outlet.isActivated&&s.canDeactivateChecks.push(new _o(p.outlet.component,d))}else d&&hi(e,p,s),s.canActivateChecks.push(new di(r)),Xa(n,null,l.component?p?p.children:null:t,r,s)})(d,l[d.value.outlet],t,r.concat([d.value]),s),delete l[d.value.outlet]}),cn(l,(d,p)=>hi(d,t.getContext(p),s)),s}function hi(n,e,t){const r=yo(n),s=n.value;cn(r,(l,d)=>{hi(l,s.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new _o(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}class Hg{}function Ls(n){return new jn.y(e=>e.error(n))}class qg{constructor(e,t,r,s,l,d){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=d}recognize(){const e=Ju(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,kt);if(null===t)return null;const r=new ia([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},kt,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new mo(r,t),l=new sf(this.url,s);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=Hy(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const d=t.children[l],p=Rg(e,l),v=this.processSegmentGroup(p,d,l);if(null===v)return null;r.push(...v)}const s=Gg(r);return function Zg(n){n.sort((e,t)=>e.value.outlet===kt?-1:t.value.outlet===kt?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}processSegment(e,t,r,s){for(const l of e){const d=this.processSegmentAgainstRoute(l,t,r,s);if(null!==d)return d}return Fg(t,r,s)?[]:null}processSegmentAgainstRoute(e,t,r,s){if(e.redirectTo||!Xy(e,t,r,s))return null;let l,d=[],p=[];if("**"===e.path){const G=r.length>0?qi(r).parameters:{};l=new ia(r,G,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,y(e),Gt(e),e.component,e,eu(t),ss(t)+r.length,f(e))}else{const G=Qu(t,e,r);if(!G.matched)return null;d=G.consumedSegments,p=G.remainingSegments,l=new ia(d,G.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,y(e),Gt(e),e.component,e,eu(t),ss(t)+d.length,f(e))}const v=function i_(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:C,slicedSegments:S}=Ju(t,d,p,v.filter(G=>void 0===G.redirectTo),this.relativeLinkResolution);if(0===S.length&&C.hasChildren()){const G=this.processChildren(v,C);return null===G?null:[new mo(l,G)]}if(0===v.length&&0===S.length)return[new mo(l,[])];const x=Gt(e)===s,L=this.processSegment(v,C,S,x?kt:s);return null===L?null:[new mo(l,L)]}}function Ef(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Gg(n){const e=[],t=new Set;for(const r of n){if(!Ef(r)){e.push(r);continue}const s=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==s?(s.children.push(...r.children),t.add(s)):e.push(r)}for(const r of t){const s=Gg(r.children);e.push(new mo(r.value,s))}return e.filter(r=>!t.has(r))}function eu(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ss(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function y(n){return n.data||{}}function f(n){return n.resolve||{}}function z(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Le(n){return mn(e=>{const t=n(e);return t?(0,tn.D)(t).pipe((0,ct.U)(()=>e)):et(e)})}class dt extends class vt{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Mn=new u.OlP("ROUTES");class pi{constructor(e,t,r,s){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=s}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const s=this.loadModuleFactory(t.loadChildren).pipe((0,ct.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const d=l.create(e);return new Nd(Cd(d.injector.get(Mn,void 0,u.XFs.Self|u.XFs.Optional)).map(pf),d)}),si(l=>{throw t._loader$=void 0,l}));return t._loader$=new Uu(s,()=>new ii.x).pipe(ao()),t._loader$}loadModuleFactory(e){return cr(e()).pipe((0,Sn.z)(t=>t instanceof u.YKP?et(t):(0,tn.D)(this.compiler.compileModuleAsync(t))))}}class s_{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function aa(n){throw n}function Ld(n,e,t){return e.parse("/")}function Ud(n,e){return et(null)}const wf={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Vd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let wr=(()=>{class n{constructor(t,r,s,l,d,p,v){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=s,this.location=l,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ii.x,this.errorHandler=aa,this.malformedUriErrorHandler=Ld,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ud,afterPreactivation:Ud},this.urlHandlingStrategy=new s_,this.routeReuseStrategy=new dt,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(u.h0i),this.console=d.get(u.c2e);const x=d.get(u.R0b);this.isNgZoneEnabled=x instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=function Vy(){return new ne(new ge([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new pi(d,p,L=>this.triggerEvent(new ea(L)),L=>this.triggerEvent(new co(L))),this.routerState=Ga(this.currentUrlTree,this.rootComponentType),this.transitions=new xr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Hr(s=>0!==s.id),(0,ct.U)(s=>Object.assign(Object.assign({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),mn(s=>{let l=!1,d=!1;return et(s).pipe((0,qr.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.currentRawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),mn(p=>{const v=this.browserUrlTree.toString(),C=!this.navigated||p.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return Cf(p.source)&&(this.browserUrlTree=p.extractedUrl),et(p).pipe(mn(x=>{const L=this.transitions.getValue();return r.next(new uo(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),L!==this.transitions.getValue()?$a.E:Promise.resolve(x)}),function Lg(n,e,t,r){return mn(s=>function Ja(n,e,t,r,s){return new kd(n,e,t,r,s).apply()}(n,e,t,s.extractedUrl,r).pipe((0,ct.U)(l=>Object.assign(Object.assign({},s),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,qr.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function m(n,e,t,r,s){return(0,Sn.z)(l=>function Kl(n,e,t,r,s="emptyOnly",l="legacy"){try{const d=new qg(n,e,t,r,s,l).recognize();return null===d?Ls(new Hg):et(d)}catch(d){return Ls(d)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,s).pipe((0,ct.U)(d=>Object.assign(Object.assign({},l),{targetSnapshot:d}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,qr.b)(x=>{if("eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const G=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(G,x)}this.browserUrlTree=x.urlAfterRedirects}const L=new lo(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);r.next(L)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:L,extractedUrl:G,source:K,restoredState:ye,extras:Re}=p,gt=new uo(L,this.serializeUrl(G),K,ye);r.next(gt);const yt=Ga(G,this.rootComponentType).snapshot;return et(Object.assign(Object.assign({},p),{targetSnapshot:yt,urlAfterRedirects:G,extras:Object.assign(Object.assign({},Re),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=p.rawUrl,p.resolve(null),$a.E}),Le(p=>{const{targetSnapshot:v,id:C,extractedUrl:S,rawUrl:x,extras:{skipLocationChange:L,replaceUrl:G}}=p;return this.hooks.beforePreactivation(v,{navigationId:C,appliedUrlTree:S,rawUrlTree:x,skipLocationChange:!!L,replaceUrl:!!G})}),(0,qr.b)(p=>{const v=new Uy(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(v)}),(0,ct.U)(p=>Object.assign(Object.assign({},p),{guards:Ug(p.targetSnapshot,p.currentSnapshot,this.rootContexts)})),function jg(n,e){return(0,Sn.z)(t=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:l,canDeactivateChecks:d}}=t;return 0===d.length&&0===l.length?et(Object.assign(Object.assign({},t),{guardsResult:!0})):function n_(n,e,t,r){return(0,tn.D)(n).pipe((0,Sn.z)(s=>function vf(n,e,t,r,s){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?et(l.map(p=>{const v=Xu(p,e,s);let C;if(function oE(n){return n&&Wa(n.canDeactivate)}(v))C=cr(v.canDeactivate(n,e,t,r));else{if(!Wa(v))throw new Error("Invalid CanDeactivate guard");C=cr(v(n,e,t,r))}return C.pipe(Xo())})).pipe(Ku()):et(!0)}(s.component,s.route,t,e,r)),Xo(s=>!0!==s,!0))}(d,r,s,n).pipe((0,Sn.z)(p=>p&&function Ng(n){return"boolean"==typeof n}(p)?function Fd(n,e,t,r){return(0,tn.D)(e).pipe(Vu(s=>Yo(function $g(n,e){return null!==n&&e&&e(new ho(n)),et(!0)}(s.route.parent,r),function r_(n,e){return null!==n&&e&&e(new fo(n)),et(!0)}(s.route,r),function _f(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(d=>function Vg(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>Jo(()=>et(d.guards.map(v=>{const C=Xu(v,d.node,t);let S;if(function cf(n){return n&&Wa(n.canActivateChild)}(C))S=cr(C.canActivateChild(r,n));else{if(!Wa(C))throw new Error("Invalid CanActivateChild guard");S=cr(C(r,n))}return S.pipe(Xo())})).pipe(Ku())));return et(l).pipe(Ku())}(n,s.path,t),function fi(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return et(!0);const s=r.map(l=>Jo(()=>{const d=Xu(l,e,t);let p;if(function Gl(n){return n&&Wa(n.canActivate)}(d))p=cr(d.canActivate(e,n));else{if(!Wa(d))throw new Error("Invalid CanActivate guard");p=cr(d(e,n))}return p.pipe(Xo())}));return et(s).pipe(Ku())}(n,s.route,t))),Xo(s=>!0!==s,!0))}(r,l,n,e):et(p)),(0,ct.U)(p=>Object.assign(Object.assign({},t),{guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),(0,qr.b)(p=>{if(Wu(p.guardsResult)){const C=Ns(`Redirecting to "${this.serializeUrl(p.guardsResult)}"`);throw C.url=p.guardsResult,C}const v=new Bl(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(v)}),Hr(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,""),!1)),Le(p=>{if(p.guards.canActivateChecks.length)return et(p).pipe((0,qr.b)(v=>{const C=new oi(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(C)}),mn(v=>{let C=!1;return et(v).pipe(function E(n,e){return(0,Sn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=t;if(!s.length)return et(t);let l=0;return(0,tn.D)(s).pipe(Vu(d=>function A(n,e,t,r){return function O(n,e,t,r){const s=z(n);if(0===s.length)return et({});const l={};return(0,tn.D)(s).pipe((0,Sn.z)(d=>function fe(n,e,t,r){const s=Xu(n,e,r);return cr(s.resolve?s.resolve(e,t):s(e,t))}(n[d],e,t,r).pipe((0,qr.b)(p=>{l[d]=p}))),Ha(1),(0,Sn.z)(()=>z(l).length===s.length?et(l):$a.E))}(n._resolve,n,e,r).pipe((0,ct.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),Hy(n,t).resolve),null)))}(d.route,r,n,e)),(0,qr.b)(()=>l++),Ha(1),(0,Sn.z)(d=>l===s.length?et(t):$a.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,qr.b)({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(v),this.cancelNavigationTransition(v,"At least one route resolver didn't emit any value."))}}))}),(0,qr.b)(v=>{const C=new ai(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(C)}))}),Le(p=>{const{targetSnapshot:v,id:C,extractedUrl:S,rawUrl:x,extras:{skipLocationChange:L,replaceUrl:G}}=p;return this.hooks.afterPreactivation(v,{navigationId:C,appliedUrlTree:S,rawUrlTree:x,skipLocationChange:!!L,replaceUrl:!!G})}),(0,ct.U)(p=>{const v=function Dg(n,e,t){const r=ql(n,e._root,t?t._root:void 0);return new Dd(r,e)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return Object.assign(Object.assign({},p),{targetRouterState:v})}),(0,qr.b)(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((n,e,t)=>(0,ct.U)(r=>(new Og(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),(0,qr.b)({next(){l=!0},complete(){l=!0}}),function wd(n){return(0,lr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var p;l||d||this.cancelNavigationTransition(s,`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`),(null===(p=this.currentNavigation)||void 0===p?void 0:p.id)===s.id&&(this.currentNavigation=null)}),si(p=>{if(d=!0,function vg(n){return n&&n[Za]}(p)){const v=Wu(p.url);v||(this.navigated=!0,this.restoreHistory(s,!0));const C=new wn(s.id,this.serializeUrl(s.extractedUrl),p.message);r.next(C),v?setTimeout(()=>{const S=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),x={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Cf(s.source)};this.scheduleNavigation(S,"imperative",null,x,{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const v=new Vl(s.id,this.serializeUrl(s.extractedUrl),p);r.next(v);try{s.resolve(this.errorHandler(p))}catch(C){s.reject(C)}}return $a.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var s;const l={replaceUrl:!0},d=(null===(s=t.state)||void 0===s?void 0:s.navigationId)?t.state:null;if(d){const v=Object.assign({},d);delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(l.state=v)}const p=this.parseUrl(t.url);this.scheduleNavigation(p,r,d,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ka(t),this.config=t.map(pf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:s,queryParams:l,fragment:d,queryParamsHandling:p,preserveFragment:v}=r,C=s||this.routerState.root,S=v?this.currentUrlTree.fragment:d;let x=null;switch(p){case"merge":x=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=l||null}return null!==x&&(x=this.removeEmptyProps(x)),function sa(n,e,t,r,s){if(0===t.length)return Md(e.root,e.root,e.root,r,s);const l=function iE(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Ig(!0,0,n);let e=0,t=!1;const r=n.reduce((s,l,d)=>{if("object"==typeof l&&null!=l){if(l.outlets){const p={};return cn(l.outlets,(v,C)=>{p[C]="string"==typeof v?v.split("/"):v}),[...s,{outlets:p}]}if(l.segmentPath)return[...s,l.segmentPath]}return"string"!=typeof l?[...s,l]:0===d?(l.split("/").forEach((p,v)=>{0==v&&"."===p||(0==v&&""===p?t=!0:".."===p?e++:""!=p&&s.push(p))}),s):[...s,l]},[]);return new Ig(t,e,r)}(t);if(l.toRoot())return Md(e.root,e.root,new ge([],{}),r,s);const d=function Ag(n,e,t){if(n.isAbsolute)return new xd(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new xd(l,l===e.root,0)}const r=ks(n.commands[0])?0:1;return function Sg(n,e,t){let r=n,s=e,l=t;for(;l>s;){if(l-=s,r=r.parent,!r)throw new Error("Invalid number of '../'");s=r.segments.length}return new xd(r,!1,s-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),p=d.processChildren?Pd(d.segmentGroup,d.index,l.commands):xg(d.segmentGroup,d.index,l.commands);return Md(e.root,d.segmentGroup,p,r,s)}(C,this.currentUrlTree,t,x,null!=S?S:null)}navigateByUrl(t,r={skipLocationChange:!1}){const s=Wu(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function bf(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return r}isActive(t,r){let s;if(s=!0===r?Object.assign({},wf):!1===r?Object.assign({},Vd):r,Wu(t))return po(this.currentUrlTree,t,s);const l=this.parseUrl(t);return po(this.currentUrlTree,l,s)}removeEmptyProps(t){return Object.keys(t).reduce((r,s)=>{const l=t[s];return null!=l&&(r[s]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Bu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,s,l,d){var p,v;if(this.disposed)return Promise.resolve(!1);let C,S,x;d?(C=d.resolve,S=d.reject,x=d.promise):x=new Promise((K,ye)=>{C=K,S=ye});const L=++this.navigationId;let G;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),G=s&&s.\u0275routerPageId?s.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(p=this.browserPageId)&&void 0!==p?p:0:(null!==(v=this.browserPageId)&&void 0!==v?v:0)+1):G=0,this.setTransition({id:L,targetPageId:G,source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:C,reject:S,promise:x,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),x.catch(K=>Promise.reject(K))}setBrowserUrl(t,r){const s=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl?this.location.replaceState(s,"",l):this.location.go(s,"",l)}restoreHistory(t,r=!1){var s,l;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)||0===d?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const s=new wn(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Cf(n){return"imperative"!==n}let Gr=(()=>{class n{constructor(t,r,s,l,d){this.router=t,this.route=r,this.tabIndexAttribute=s,this.renderer=l,this.el=d,this.commands=null,this.onChanges=new ii.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,s=this.el.nativeElement;null!==t?r.setAttribute(s,"tabindex",t):r.removeAttribute(s,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:el(this.skipLocationChange),replaceUrl:el(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:el(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(wr),u.Y36(zu),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&u.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),n})(),tu=(()=>{class n{constructor(t,r,s){this.router=t,this.route=r,this.locationStrategy=s,this.commands=null,this.href=null,this.onChanges=new ii.x,this.subscription=t.events.subscribe(l=>{l instanceof Bu&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,s,l,d){if(0!==t||r||s||l||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const p={skipLocationChange:el(this.skipLocationChange),replaceUrl:el(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,p),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:el(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(wr),u.Y36(zu),u.Y36(he))},n.\u0275dir=u.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&u.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&u.uIk("target",r.target)("href",r.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),n})();function el(n){return""===n||!!n}class a_{}class lE{preload(e,t){return et(null)}}let cE=(()=>{class n{constructor(t,r,s,l){this.router=t,this.injector=s,this.preloadingStrategy=l,this.loader=new pi(s,r,v=>t.triggerEvent(new ea(v)),v=>t.triggerEvent(new co(v)))}setUpPreloading(){this.subscription=this.router.events.pipe(Hr(t=>t instanceof Bu),Vu(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(u.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const s=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const d=l._loadedConfig;s.push(this.processRoutes(d.module,d.routes))}else l.loadChildren&&!l.canLoad?s.push(this.preloadConfig(t,l)):l.children&&s.push(this.processRoutes(t,l.children));return(0,tn.D)(s).pipe((0,Ko.J)(),(0,ct.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?et(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Sn.z)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(wr),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(a_))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),zg=(()=>{class n{constructor(t,r,s={}){this.router=t,this.viewportScroller=r,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof uo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Bu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof qa&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new qa(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const os=new u.OlP("ROUTER_CONFIGURATION"),l_=new u.OlP("ROUTER_FORROOT_GUARD"),dE=[Ee,{provide:bt,useClass:Er},{provide:wr,useFactory:function d_(n,e,t,r,s,l,d={},p,v){const C=new wr(null,n,e,t,r,s,Cd(l));return p&&(C.urlHandlingStrategy=p),v&&(C.routeReuseStrategy=v),function pE(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,C),d.enableTracing&&C.events.subscribe(S=>{var x,L;null===(x=console.group)||void 0===x||x.call(console,`Router Event: ${S.constructor.name}`),console.log(S.toString()),console.log(S),null===(L=console.groupEnd)||void 0===L||L.call(console)}),C},deps:[bt,Yu,Ee,u.zs3,u.Sil,Mn,os,[class Yl{},new u.FiY],[class We{},new u.FiY]]},Yu,{provide:zu,useFactory:function Wg(n){return n.routerState.root},deps:[wr]},cE,lE,class u_{preload(e,t){return t().pipe(si(()=>et(null)))}},{provide:os,useValue:{enableTracing:!1}}];function TT(){return new u.PXZ("Router",wr)}let zt=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[dE,c_(t),{provide:l_,useFactory:fE,deps:[[wr,new u.FiY,new u.tp0]]},{provide:os,useValue:r||{}},{provide:he,useFactory:hE,deps:[se,[new u.tBr(Ge),new u.FiY],os]},{provide:zg,useFactory:DT,deps:[wr,Dl,os]},{provide:a_,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:lE},{provide:u.PXZ,multi:!0,useFactory:TT},[Bd,{provide:u.ip1,multi:!0,useFactory:gE,deps:[Bd]},{provide:f_,useFactory:h_,deps:[Bd]},{provide:u.tb,multi:!0,useExisting:f_}]]}}static forChild(t){return{ngModule:n,providers:[c_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(l_,8),u.LFG(wr,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function DT(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new zg(n,e,t)}function hE(n,e,t={}){return t.useHash?new Ie(n,e):new Ye(n,e)}function fE(n){return"guarded"}function c_(n){return[{provide:u.deG,multi:!0,useValue:n},{provide:Mn,multi:!0,useValue:n}]}let Bd=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ii.x}appInitializer(){return this.injector.get($,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const s=new Promise(p=>r=p),l=this.injector.get(wr),d=this.injector.get(os);return"disabled"===d.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?et(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),s})}bootstrapListener(t){const r=this.injector.get(os),s=this.injector.get(cE),l=this.injector.get(zg),d=this.injector.get(wr),p=this.injector.get(u.z2F);t===p.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&d.initialNavigation(),s.setUpPreloading(),l.init(),d.resetRootComponentType(p.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function gE(n){return n.appInitializer.bind(n)}function h_(n){return n.bootstrapListener.bind(n)}const f_=new u.OlP("Router Initializer");let IT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Rt]]}),n})();var mE=N(4986),hr=N(5813);function g_(){return(0,lr.e)((n,e)=>{let t,r=!1;n.subscribe((0,kn.x)(e,s=>{const l=t;t=s,r&&e.next([l,s]),r=!0}))})}function m_(n,e){return n===e}var nt,as=N(2011),_E=(N(7092),N(3942)),be=N(5861),tl=N(9681),Yg=N(4859),nl=N(1877),St=N(2090),AT="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ua={},y_=y_||{},Ot=AT||self;function Qg(){}function Jg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Tf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var __="closure_uid_"+(1e9*Math.random()>>>0),Nt=0;function vE(n,e,t){return n.call.apply(n.bind,arguments)}function EE(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function Or(n,e,t){return(Or=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?vE:EE).apply(null,arguments)}function Ql(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function _n(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,s,l){for(var d=Array(arguments.length-2),p=2;p<arguments.length;p++)d[p-2]=arguments[p];return e.prototype[s].apply(r,d)}}function nu(){this.s=this.s,this.o=this.o}var v_={};nu.prototype.s=!1,nu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function ST(n){return Object.prototype.hasOwnProperty.call(n,__)&&n[__]||(n[__]=++Nt)}(this);delete v_[n]}},nu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const la=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Xg=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,s="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in s&&e.call(t,s[l],l,n)};function em(n){return Array.prototype.concat.apply([],arguments)}function bE(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Df(n){return/^[\s\xa0]*$/.test(n)}var zr,xT=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Nr(n,e){return-1!=n.indexOf(e)}function jd(n,e){return n<e?-1:n>e?1:0}e:{var tm=Ot.navigator;if(tm){var nm=tm.userAgent;if(nm){zr=nm;break e}}zr=""}function CE(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function TE(n){const e={};for(const t in n)e[t]=n[t];return e}var DE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function IE(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let l=0;l<DE.length;l++)t=DE[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function E_(n){return E_[" "](n),n}E_[" "]=Qg;var b_,n,aS=Nr(zr,"Opera"),$d=Nr(zr,"Trident")||Nr(zr,"MSIE"),PT=Nr(zr,"Edge"),rm=PT||$d,w_=Nr(zr,"Gecko")&&!(Nr(zr.toLowerCase(),"webkit")&&!Nr(zr,"Edge"))&&!(Nr(zr,"Trident")||Nr(zr,"MSIE"))&&!Nr(zr,"Edge"),OT=Nr(zr.toLowerCase(),"webkit")&&!Nr(zr,"Edge");function im(){var n=Ot.document;return n?n.documentMode:void 0}e:{var SE="",ME=(n=zr,w_?/rv:([^\);]+)(\)|;)/.exec(n):PT?/Edge\/([\d\.]+)/.exec(n):$d?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):OT?/WebKit\/(\S+)/.exec(n):aS?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(ME&&(SE=ME?ME[1]:""),$d){var xE=im();if(null!=xE&&xE>parseFloat(SE)){b_=String(xE);break e}}b_=SE}var uS={};var cS=Ot.document&&$d&&(im()||parseInt(b_,10))||void 0,dS=function(){if(!Ot.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ot.addEventListener("test",Qg,e),Ot.removeEventListener("test",Qg,e)}catch(t){}return n}();function $n(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Jl(n,e){if($n.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(w_){e:{try{E_(e.nodeName);var s=!0;break e}catch(l){}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:RT[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Jl.Z.h.call(this)}}$n.prototype.h=function(){this.defaultPrevented=!0},_n(Jl,$n);var RT={2:"touch",3:"pen",4:"mouse"};Jl.prototype.h=function(){Jl.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Hd="closure_listenable_"+(1e6*Math.random()|0),C_=0;function OE(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=s,this.key=++C_,this.ca=this.fa=!1}function qd(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function sm(n){this.src=n,this.g={},this.h=0}function ca(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],s=la(r,e);(l=0<=s)&&Array.prototype.splice.call(r,s,1),l&&(qd(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function om(n,e,t,r){for(var s=0;s<n.length;++s){var l=n[s];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return s}return-1}sm.prototype.add=function(n,e,t,r,s){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var d=om(n,e,r,s);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new OE(e,this.src,l,!!r,s)).fa=t,n.push(e)),e};var T_="closure_lm_"+(1e6*Math.random()|0),If={};function NE(n,e,t,r,s){if(r&&r.once)return RE(n,e,t,r,s);if(Array.isArray(e)){for(var l=0;l<e.length;l++)NE(n,e[l],t,r,s);return null}return t=I_(t),n&&n[Hd]?n.N(e,t,Tf(r)?!!r.capture:!!r,s):D_(n,e,t,!1,r,s)}function D_(n,e,t,r,s,l){if(!e)throw Error("Invalid event type");var d=Tf(s)?!!s.capture:!!s,p=Xl(n);if(p||(n[T_]=p=new sm(n)),(t=p.add(e,t,r,d,l)).proxy)return t;if(r=function kT(){var e=Gd;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)dS||(s=d),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(am(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function RE(n,e,t,r,s){if(Array.isArray(e)){for(var l=0;l<e.length;l++)RE(n,e[l],t,r,s);return null}return t=I_(t),n&&n[Hd]?n.O(e,t,Tf(r)?!!r.capture:!!r,s):D_(n,e,t,!0,r,s)}function Zd(n,e,t,r,s){if(Array.isArray(e))for(var l=0;l<e.length;l++)Zd(n,e[l],t,r,s);else r=Tf(r)?!!r.capture:!!r,t=I_(t),n&&n[Hd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=om(l=n.g[e],t,r,s))&&(qd(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=Xl(n))&&(e=n.g[e.toString()],n=-1,e&&(n=om(e,t,r,s)),(t=-1<n?e[n]:null)&&rl(t))}function rl(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Hd])ca(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(am(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Xl(e))?(ca(t,n),0==t.h&&(t.src=null,e[T_]=null)):qd(n)}}}function am(n){return n in If?If[n]:If[n]="on"+n}function Gd(n,e){if(n.ca)n=!0;else{e=new Jl(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&rl(n),n=t.call(r,e)}return n}function Xl(n){return(n=n[T_])instanceof sm?n:null}var il="__closure_events_fn_"+(1e9*Math.random()>>>0);function I_(n){return"function"==typeof n?n:(n[il]||(n[il]=function(e){return n.handleEvent(e)}),n[il])}function br(){nu.call(this),this.i=new sm(this),this.P=this,this.I=null}function Rr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new $n(e,n);else if(e instanceof $n)e.target=e.target||n;else{var s=e;IE(e=new $n(r,n),s)}if(s=!0,t)for(var l=t.length-1;0<=l;l--){var d=e.g=t[l];s=zd(d,r,!0,e)&&s}if(s=zd(d=e.g=n,r,!0,e)&&s,s=zd(d,r,!1,e)&&s,t)for(l=0;l<t.length;l++)s=zd(d=e.g=t[l],r,!1,e)&&s}function zd(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,l=0;l<e.length;++l){var d=e[l];if(d&&!d.ca&&d.capture==t){var p=d.listener,v=d.ia||d.src;d.fa&&ca(n.i,d),s=!1!==p.call(v,r)&&s}}return s&&!r.defaultPrevented}_n(br,nu),br.prototype[Hd]=!0,br.prototype.removeEventListener=function(n,e,t,r){Zd(this,n,e,t,r)},br.prototype.M=function(){if(br.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)qd(t[r]);delete n.g[e],n.h--}}this.I=null},br.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},br.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Af=Ot.JSON.stringify;function kE(){var n=UE;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var cm,FE=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new LE,n=>n.reset());class LE{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function hS(n){Ot.setTimeout(()=>{throw n},0)}function lm(n,e){cm||function FT(){var n=Ot.Promise.resolve(void 0);cm=function(){n.then(LT)}}(),dm||(cm(),dm=!0),UE.add(n,e)}var dm=!1,UE=new class um{constructor(){this.h=this.g=null}add(e,t){const r=FE.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function LT(){for(var n;n=kE();){try{n.h.call(n.g)}catch(t){hS(t)}var e=FE;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}dm=!1}function gi(n,e){br.call(this),this.h=n||1,this.g=e||Ot,this.j=Or(this.kb,this),this.l=Date.now()}function A_(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function S_(n,e,t){if("function"==typeof n)t&&(n=Or(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Or(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ot.setTimeout(n,e||0)}function UT(n){n.g=S_(()=>{n.g=null,n.i&&(n.i=!1,UT(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}_n(gi,br),(nt=gi.prototype).da=!1,nt.S=null,nt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Rr(this,"tick"),this.da&&(A_(this),this.start()))}},nt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},nt.M=function(){gi.Z.M.call(this),A_(this),delete this.g};class fS extends nu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:UT(this)}M(){super.M(),this.g&&(Ot.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wd(n){nu.call(this),this.h=n,this.g={}}_n(Wd,nu);var VT=[];function VE(n,e,t,r){Array.isArray(t)||(t&&(VT[0]=t.toString()),t=VT);for(var s=0;s<t.length;s++){var l=NE(e,t[s],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function hm(n){CE(n.g,function(e,t){this.g.hasOwnProperty(t)&&rl(e)},n),n.g={}}function Sf(){this.g=!0}function Kd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function $T(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var l=s[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var d=1;d<s.length;d++)s[d]=""}}}return Af(t)}catch(p){return e}}(n,t)+(r?" "+r:"")})}Wd.prototype.M=function(){Wd.Z.M.call(this),hm(this)},Wd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Sf.prototype.Aa=function(){this.g=!1},Sf.prototype.info=function(){};var sl={},jE=null;function fm(){return jE=jE||new br}function M_(n){$n.call(this,sl.Ma,n)}function Yd(n){const e=fm();Rr(e,new M_(e,n))}function $E(n,e){$n.call(this,sl.STAT_EVENT,n),this.stat=e}function Fn(n){const e=fm();Rr(e,new $E(e,n))}function pm(n,e){$n.call(this,sl.Na,n),this.size=e}function Mf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ot.setTimeout(function(){n()},e)}sl.Ma="serverreachability",_n(M_,$n),sl.STAT_EVENT="statevent",_n($E,$n),sl.Na="timingevent",_n(pm,$n);var gm={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},HT={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function mm(){}function qE(){}mm.prototype.h=null;var P_,xf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Pf(){$n.call(this,"d")}function x_(){$n.call(this,"c")}function ec(){}function tc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Wd(this),this.P=O_,this.W=new gi(n=rm?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ZE}function ZE(){this.i=null,this.g="",this.h=!1}_n(Pf,$n),_n(x_,$n),_n(ec,mm),ec.prototype.g=function(){return new XMLHttpRequest},ec.prototype.i=function(){return{}},P_=new ec;var O_=45e3,Of={},Nf={};function N_(n,e,t){n.K=1,n.v=th(iu(e)),n.s=t,n.U=!0,GE(n,null)}function GE(n,e){n.F=Date.now(),Qd(n),n.A=iu(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),V_(t.h,"t",r),n.C=0,t=n.l.H,n.h=new ZE,n.g=lc(n.l,t?e:null,!n.s),0<n.O&&(n.L=new fS(Or(n.Ia,n,n.g),n.O)),VE(n.V,n.g,"readystatechange",n.gb),e=n.H?TE(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Yd(1),function BT(n,e,t,r,s,l){n.info(function(){if(n.g)if(l)for(var d="",p=l.split("&"),v=0;v<p.length;v++){var C=p[v].split("=");if(1<C.length){var S=C[0];C=C[1];var x=S.split("_");d=2<=x.length&&"type"==x[1]?d+(S+"=")+C+"&":d+(S+"=redacted&")}}else d=null;else d=l;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function ym(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function qT(n,e,t){let s,r=!0;for(;!n.I&&n.C<t.length;){if(s=ZT(n,t),s==Nf){4==e&&(n.o=4,Fn(14),r=!1),Kd(n.j,n.m,null,"[Incomplete Response]");break}if(s==Of){n.o=4,Fn(15),Kd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Kd(n.j,n.m,s,null),vo(n,s)}ym(n)&&s!=Nf&&s!=Of&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Fn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),ul(e),e.L=!0,Fn(11))):(Kd(n.j,n.m,t,"[Invalid Chunked Response]"),ol(n),Jd(n))}function ZT(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Nf:(t=Number(e.substring(t,r)),isNaN(t)?Of:(r+=1)+t>e.length?Nf:(e=e.substr(r,t),n.C=r+t,e))}function Qd(n){n.Y=Date.now()+n.P,R_(n,n.P)}function R_(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Mf(Or(n.eb,n),e)}function Rf(n){n.B&&(Ot.clearTimeout(n.B),n.B=null)}function Jd(n){0==n.l.G||n.I||sc(n.l,n)}function ol(n){Rf(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,A_(n.W),hm(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function vo(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Em(t.i,n)))if(t.I=n.N,!n.J&&Em(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(C){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0])e:if(t.u)t.ta=s[1],0<t.ta-t.U&&37500>s[2]&&t.N&&0==t.A&&!t.v&&(t.v=Mf(Or(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;ou(t),Im(t)}$f(t),Fn(18)}if(1>=ew(t.i)&&t.ka){try{t.ka()}catch(C){}t.ka=void 0}}else Bs(t,11)}else if((n.J||t.g==n)&&ou(t),!Df(e))for(s=t.Ca.g.parse(e),e=0;e<s.length;e++){let C=s[e];if(t.U=C[0],C=C[1],2==t.G)if("c"==C[0]){t.J=C[1],t.la=C[2];const S=C[3];null!=S&&(t.ma=S,t.h.info("VER="+t.ma));const x=C[4];null!=x&&(t.za=x,t.h.info("SVER="+t.za));const L=C[5];null!=L&&"number"==typeof L&&0<L&&(t.K=r=1.5*L,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const G=n.g;if(G){const K=G.g?G.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(K){var l=r.i;!l.g&&(Nr(K,"spdy")||Nr(K,"quic")||Nr(K,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(tw(l,l.h),l.h=null))}if(r.D){const ye=G.g?G.g.getResponseHeader("X-HTTP-Session-Id"):null;ye&&(r.sa=ye,Ln(r.F,r.D,ye))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((r=t).oa=uc(r,r.H?r.la:null,r.W),d.J){B_(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Rf(p),Qd(p)),r.g=d}else ls(r);0<t.l.length&&us(t)}else"stop"!=C[0]&&"close"!=C[0]||Bs(t,7);else 3==t.G&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?Bs(t,7):rc(t):"noop"!=C[0]&&t.j&&t.j.wa(C),t.A=0)}Yd(4)}catch(C){}}function k_(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Jg(n)||"string"==typeof n)Xg(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Jg(n)||"string"==typeof n){t=[];for(var r=n.length,s=0;s<r;s++)t.push(s)}else for(s in t=[],r=0,n)t[r++]=s;r=function _m(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Jg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length;for(var l=0;l<s;l++)e.call(void 0,r[l],t&&t[l],n)}}function Xd(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Xd)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function zE(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];ru(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var s={};for(t=e=0;e<n.g.length;)ru(s,r=n.g[e])||(n.g[t++]=r,s[r]=1),e++;n.g.length=t}}function ru(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(nt=tc.prototype).setTimeout=function(n){this.P=n},nt.gb=function(n){n=n.target;const e=this.L;e&&3==su(n)?e.l():this.Ia(n)},nt.Ia=function(n){try{if(n==this.g)e:{const S=su(this.g);var e=this.g.Da();const x=this.g.ba();if(!(3>S)&&(3!=S||rm||this.g&&(this.h.h||this.g.ga()||lw(this.g)))){this.I||4!=S||7==e||Yd(8==e||0>=x?3:2),Rf(this);var t=this.g.ba();this.N=t;t:if(ym(this)){var r=lw(this.g);n="";var s=r.length,l=4==su(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ol(this),Jd(this);var d="";break t}this.h.i=new Ot.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==s-1});r.splice(0,s),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function jT(n,e,t,r,s,l,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+l+" "+d})}(this.j,this.u,this.A,this.m,this.X,S,t),this.i){if(this.$&&!this.J){t:{if(this.g){var p,v=this.g;if((p=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Df(p)){var C=p;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,Fn(12),ol(this),Jd(this);break e}Kd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,vo(this,t)}this.U?(qT(this,S,d),rm&&this.i&&3==S&&(VE(this.V,this.W,"tick",this.fb),this.W.start())):(Kd(this.j,this.m,d,null),vo(this,d)),4==S&&ol(this),this.i&&!this.I&&(4==S?sc(this.l,this):(this.i=!1,Qd(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Fn(12)):(this.o=0,Fn(13)),ol(this),Jd(this)}}}catch(S){}},nt.fb=function(){if(this.g){var n=su(this.g),e=this.g.ga();this.C<e.length&&(Rf(this),qT(this,n,e),this.i&&4!=n&&Qd(this))}},nt.cancel=function(){this.I=!0,ol(this)},nt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function BE(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Yd(3),Fn(17)),ol(this),this.o=2,Jd(this)):R_(this,this.Y-n)},(nt=Xd.prototype).R=function(){zE(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},nt.T=function(){return zE(this),this.g.concat()},nt.get=function(n,e){return ru(this.h,n)?this.h[n]:e},nt.set=function(n,e){ru(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},nt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var s=t[r],l=this.get(s);n.call(e,l,s,this)}};var F_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Eo(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Eo){this.g=void 0!==e?e:n.g,eh(this,n.j),this.s=n.s,kf(this,n.i),Ff(this,n.m),this.l=n.l,e=n.h;var t=new Lf;t.i=e.i,e.g&&(t.g=new Xd(e.g),t.h=e.h),U_(this,t),this.o=n.o}else n&&(t=String(n).match(F_))?(this.g=!!e,eh(this,t[1]||"",!0),this.s=nh(t[2]||""),kf(this,t[3]||"",!0),Ff(this,t[4]),this.l=nh(t[5]||"",!0),U_(this,t[6]||"",!0),this.o=nh(t[7]||"")):(this.g=!!e,this.h=new Lf(null,this.g))}function iu(n){return new Eo(n)}function eh(n,e,t){n.j=t?nh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function kf(n,e,t){n.i=t?nh(e,!0):e}function Ff(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function U_(n,e,t){e instanceof Lf?(n.h=e,function YE(n,e){e&&!n.j&&(al(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(Us(this,r),V_(this,s,t))},n)),n.j=e}(n.h,n.g)):(t||(e=da(e,KT)),n.h=new Lf(e,n.g))}function Ln(n,e,t){n.h.set(e,t)}function th(n){return Ln(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function nh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function da(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,WE),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function WE(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Eo.prototype.toString=function(){var n=[],e=this.j;e&&n.push(da(e,KE,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(da(e,KE,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(da(t,"/"==t.charAt(0)?rh:WT,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",da(t,YT)),n.join("")};var KE=/[#\/\?@]/g,WT=/[#\?:]/g,rh=/[#\?]/g,KT=/[#\?@]/g,YT=/#/g;function Lf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function al(n){n.g||(n.g=new Xd,n.h=0,n.i&&function L_(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var l=n[t].substring(0,r);s=n[t].substring(r+1)}else l=n[t];e(l,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Us(n,e){al(n),e=nc(n,e),ru(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,ru((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&zE(n)))}function vm(n,e){return al(n),e=nc(n,e),ru(n.g.h,e)}function V_(n,e,t){Us(n,e),0<t.length&&(n.i=null,n.g.set(nc(n,e),bE(t)),n.h+=t.length)}function nc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function JE(n){this.l=n||QT,n=Ot.PerformanceNavigationTiming?0<(n=Ot.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ot.g&&Ot.g.Ea&&Ot.g.Ea()&&Ot.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(nt=Lf.prototype).add=function(n,e){al(this),this.i=null,n=nc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},nt.forEach=function(n,e){al(this),this.g.forEach(function(t,r){Xg(t,function(s){n.call(e,s,r,this)},this)},this)},nt.T=function(){al(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var s=n[r],l=0;l<s.length;l++)t.push(e[r]);return t},nt.R=function(n){al(this);var e=[];if("string"==typeof n)vm(this,n)&&(e=em(e,this.g.get(nc(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=em(e,n[t])}return e},nt.set=function(n,e){return al(this),this.i=null,vm(this,n=nc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},nt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},nt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],s=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var d=s;""!==r[l]&&(d+="="+encodeURIComponent(String(r[l]))),n.push(d)}}return this.i=n.join("&")};var QT=10;function XE(n){return!!n.h||!!n.g&&n.g.size>=n.j}function ew(n){return n.h?1:n.g?n.g.size:0}function Em(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function tw(n,e){n.g?n.g.add(e):n.h=e}function B_(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function nw(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return bE(n.i)}function j_(){}function pS(){this.g=new j_}function gS(n,e,t){const r=t||"";try{k_(n,function(s,l){let d=s;Tf(s)&&(d=Af(s)),e.push(r+l+"="+encodeURIComponent(d))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function wm(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch(l){}}function ih(n){this.l=n.$b||null,this.j=n.ib||!1}function Uf(n,e){br.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=rw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}JE.prototype.cancel=function(){if(this.i=nw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},j_.prototype.stringify=function(n){return Ot.JSON.stringify(n,void 0)},j_.prototype.parse=function(n){return Ot.JSON.parse(n,void 0)},_n(ih,mm),ih.prototype.g=function(){return new Uf(this.l,this.j)},ih.prototype.i=function(n){return function(){return n}}({}),_n(Uf,br);var rw=0;function Vs(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function bm(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Cm(n)}function Cm(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(nt=Uf.prototype).open=function(n,e){if(this.readyState!=rw)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Cm(this)},nt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ot).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},nt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,bm(this)),this.readyState=rw},nt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Cm(this)),this.g&&(this.readyState=3,Cm(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ot.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Vs(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},nt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?bm(this):Cm(this),3==this.readyState&&Vs(this)}},nt.Ua=function(n){this.g&&(this.response=this.responseText=n,bm(this))},nt.Ta=function(n){this.g&&(this.response=n,bm(this))},nt.ha=function(){this.g&&bm(this)},nt.setRequestHeader=function(n,e){this.v.append(n,e)},nt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},nt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Uf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var iw=Ot.JSON.parse;function Xn(n){br.call(this),this.headers=new Xd,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=H_,this.K=this.L=!1}_n(Xn,br);var H_="",JT=/^https?$/i,mS=["POST","PUT"];function q_(n){return"content-type"==n.toLowerCase()}function ow(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Tm(n),Dm(n)}function Tm(n){n.D||(n.D=!0,Rr(n,"complete"),Rr(n,"error"))}function aw(n){if(n.h&&void 0!==y_&&(!n.C[1]||4!=su(n)||2!=n.ba()))if(n.v&&4==su(n))S_(n.Fa,0,n);else if(Rr(n,"readystatechange"),4==su(n)){n.h=!1;try{const p=n.ba();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var s=String(n.H).match(F_)[1]||null;if(!s&&Ot.self&&Ot.self.location){var l=Ot.self.location.protocol;s=l.substr(0,l.length-1)}r=!JT.test(s?s.toLowerCase():"")}t=r}if(t)Rr(n,"complete"),Rr(n,"success");else{n.m=6;try{var d=2<su(n)?n.g.statusText:""}catch(v){d=""}n.j=d+" ["+n.ba()+"]",Tm(n)}}finally{Dm(n)}}}function Dm(n,e){if(n.g){uw(n);const t=n.g,r=n.C[0]?Qg:null;n.g=null,n.C=null,e||Rr(n,"ready");try{t.onreadystatechange=r}catch(s){}}}function uw(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ot.clearTimeout(n.A),n.A=null)}function su(n){return n.g?n.g.readyState:0}function lw(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case H_:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function sh(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function XT(n){let e="";return CE(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ln(n,e,t))}function ha(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function cw(n){this.za=0,this.l=[],this.h=new Sf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ha("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ha("baseRetryDelayMs",5e3,n),this.$a=ha("retryDelaySeedMs",1e4,n),this.Ya=ha("forwardChannelMaxRetries",2,n),this.ra=ha("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new JE(n&&n.concurrentRequestLimit),this.Ca=new pS,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function rc(n){if(dw(n),3==n.G){var e=n.V++,t=iu(n.F);Ln(t,"SID",n.J),Ln(t,"RID",e),Ln(t,"TYPE","terminate"),wo(n,t),(e=new tc(n,n.h,e,void 0)).K=2,e.v=th(iu(t)),t=!1,Ot.navigator&&Ot.navigator.sendBeacon&&(t=Ot.navigator.sendBeacon(e.v.toString(),"")),!t&&Ot.Image&&((new Image).src=e.v,t=!0),t||(e.g=lc(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Qd(e)}ac(n)}function Im(n){n.g&&(ul(n),n.g.cancel(),n.g=null)}function dw(n){Im(n),n.u&&(Ot.clearTimeout(n.u),n.u=null),ou(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ot.clearTimeout(n.m),n.m=null)}function Vf(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&us(n)}function us(n){XE(n.i)||n.m||(n.m=!0,lm(n.Ha,n),n.C=0)}function Wr(n,e){var t;t=e?e.m:n.V++;const r=iu(n.F);Ln(r,"SID",n.J),Ln(r,"RID",t),Ln(r,"AID",n.U),wo(n,r),n.o&&n.s&&sh(r,n.o,n.s),t=new tc(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=jf(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),tw(n.i,t),N_(t,r,e)}function wo(n,e){n.j&&k_({},function(t,r){Ln(e,r,t)})}function jf(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Or(n.j.Oa,n.j,n):null;e:{var s=n.l;let l=-1;for(;;){const d=["count="+t];-1==l?0<t?(l=s[0].h,d.push("ofs="+l)):l=0:d.push("ofs="+l);let p=!0;for(let v=0;v<t;v++){let C=s[v].h;const S=s[v].g;if(C-=l,0>C)l=Math.max(0,s[v].h-100),p=!1;else try{gS(S,d,"req"+C+"_")}catch(x){r&&r(S)}}if(p){r=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function ls(n){n.g||n.u||(n.Y=1,lm(n.Ga,n),n.A=0)}function $f(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Mf(Or(n.Ga,n),oc(n,n.A)),n.A++,0))}function ul(n){null!=n.B&&(Ot.clearTimeout(n.B),n.B=null)}function ic(n){n.g=new tc(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=iu(n.oa);Ln(e,"RID","rpc"),Ln(e,"SID",n.J),Ln(e,"CI",n.N?"0":"1"),Ln(e,"AID",n.U),wo(n,e),Ln(e,"TYPE","xmlhttp"),n.o&&n.s&&sh(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=th(iu(e)),t.s=null,t.U=!0,GE(t,n)}function ou(n){null!=n.v&&(Ot.clearTimeout(n.v),n.v=null)}function sc(n,e){var t=null;if(n.g==e){ou(n),ul(n),n.g=null;var r=2}else{if(!Em(n.i,e))return;t=e.D,B_(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var s=n.C;Rr(r=fm(),new pm(r,t,e,s)),us(n)}else ls(n);else if(3==(s=e.o)||0==s&&0<n.I||!(1==r&&function Bf(n,e){return!(ew(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Mf(Or(n.Ha,n,e),oc(n,n.C)),n.C++,0)))}(n,e)||2==r&&$f(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),s){case 1:Bs(n,5);break;case 4:Bs(n,10);break;case 3:Bs(n,6);break;default:Bs(n,2)}}function oc(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Bs(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Or(n.jb,n);t||(t=new Eo("//www.google.com/images/cleardot.gif"),Ot.location&&"http"==Ot.location.protocol||eh(t,"https"),th(t)),function $_(n,e){const t=new Sf;if(Ot.Image){const r=new Image;r.onload=Ql(wm,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Ql(wm,t,r,"TestLoadImage: error",!1,e),r.onabort=Ql(wm,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ql(wm,t,r,"TestLoadImage: timeout",!1,e),Ot.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Fn(2);n.G=0,n.j&&n.j.va(e),ac(n),dw(n)}function ac(n){n.G=0,n.I=-1,n.j&&((0!=nw(n.i).length||0!=n.l.length)&&(n.i.i.length=0,bE(n.l),n.l.length=0),n.j.ua())}function uc(n,e,t){let r=function GT(n){return n instanceof Eo?iu(n):new Eo(n,void 0)}(t);if(""!=r.i)e&&kf(r,e+"."+r.i),Ff(r,r.m);else{const s=Ot.location;r=function zT(n,e,t,r){var s=new Eo(null,void 0);return n&&eh(s,n),e&&kf(s,e),t&&Ff(s,t),r&&(s.l=r),s}(s.protocol,e?e+"."+s.hostname:s.hostname,+s.port,t)}return n.aa&&CE(n.aa,function(s,l){Ln(r,l,s)}),t=n.sa,(e=n.D)&&t&&Ln(r,e,t),Ln(r,"VER",n.ma),wo(n,r),r}function lc(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Xn(t&&n.Ba&&!n.qa?new ih({ib:!0}):n.qa)).L=n.H,e}function Z_(){}function Hf(){if($d&&!(10<=Number(cS)))throw Error("Environmental error: no available transport.")}function Zi(n,e){br.call(this),this.g=new cw(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Df(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Df(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new cc(this)}function G_(n){Pf.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function z_(){x_.call(this),this.status=1}function cc(n){this.g=n}(nt=Xn.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():P_.g(),this.C=function HE(n){return n.h||(n.h=n.i())}(this.u?this.u:P_),this.g.onreadystatechange=Or(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void ow(this,l)}n=t||"";const s=new Xd(this.headers);r&&k_(r,function(l,d){s.set(d,l)}),r=function wE(n){e:{var e=q_;const t=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<t;s++)if(s in r&&e.call(void 0,r[s],s,n)){e=s;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(s.T()),t=Ot.FormData&&n instanceof Ot.FormData,!(0<=la(mS,e))||r||t||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(l,d){this.g.setRequestHeader(d,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{uw(this),0<this.B&&((this.K=function sw(n){return $d&&function lS(){return function AE(n){var e=uS;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=xT(String(b_)).split("."),t=xT("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var s=e[d]||"",l=t[d]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==s[0].length&&0==l[0].length)break;n=jd(0==s[1].length?0:parseInt(s[1],10),0==l[1].length?0:parseInt(l[1],10))||jd(0==s[2].length,0==l[2].length)||jd(s[2],l[2]),s=s[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Or(this.pa,this)):this.A=S_(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){ow(this,l)}},nt.pa=function(){void 0!==y_&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Rr(this,"timeout"),this.abort(8))},nt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Rr(this,"complete"),Rr(this,"abort"),Dm(this))},nt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Dm(this,!0)),Xn.Z.M.call(this)},nt.Fa=function(){this.s||(this.F||this.v||this.l?aw(this):this.cb())},nt.cb=function(){aw(this)},nt.ba=function(){try{return 2<su(this)?this.g.status:-1}catch(n){return-1}},nt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},nt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),iw(e)}},nt.Da=function(){return this.m},nt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(nt=cw.prototype).ma=8,nt.G=1,nt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},nt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const s=new tc(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=TE(l),IE(l,this.P)):l=this.P),null===this.o&&(s.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=jf(this,s,e),Ln(t=iu(this.F),"RID",n),Ln(t,"CVER",22),this.D&&Ln(t,"X-HTTP-Session-Id",this.D),wo(this,t),this.o&&l&&sh(t,this.o,l),tw(this.i,s),this.Ra&&Ln(t,"TYPE","init"),this.ja?(Ln(t,"$req",e),Ln(t,"SID","null"),s.$=!0,N_(s,t,null)):N_(s,t,e),this.G=2}}else 3==this.G&&(n?Wr(this,n):0==this.l.length||XE(this.i)||Wr(this))},nt.Ga=function(){if(this.u=null,ic(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Mf(Or(this.bb,this),n)}},nt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Fn(10),Im(this),ic(this))},nt.ab=function(){null!=this.v&&(this.v=null,Im(this),$f(this),Fn(19))},nt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Fn(2)):(this.h.info("Failed to ping google.com"),Fn(1))},(nt=Z_.prototype).xa=function(){},nt.wa=function(){},nt.va=function(){},nt.ua=function(){},nt.Oa=function(){},Hf.prototype.g=function(n,e){return new Zi(n,e)},_n(Zi,br),Zi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),lm(Or(n.hb,n,e))),Fn(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=uc(n,null,n.W),us(n)},Zi.prototype.close=function(){rc(this.g)},Zi.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Vf(this.g,e)}else this.v?((e={}).__data__=Af(n),Vf(this.g,e)):Vf(this.g,n)},Zi.prototype.M=function(){this.g.j=null,delete this.j,rc(this.g),delete this.g,Zi.Z.M.call(this)},_n(G_,Pf),_n(z_,x_),_n(cc,Z_),cc.prototype.xa=function(){Rr(this.g,"a")},cc.prototype.wa=function(n){Rr(this.g,new G_(n))},cc.prototype.va=function(n){Rr(this.g,new z_(n))},cc.prototype.ua=function(){Rr(this.g,"b")},Hf.prototype.createWebChannel=Hf.prototype.g,Zi.prototype.send=Zi.prototype.u,Zi.prototype.open=Zi.prototype.m,Zi.prototype.close=Zi.prototype.close,gm.NO_ERROR=0,gm.TIMEOUT=8,gm.HTTP_ERROR=6,HT.COMPLETE="complete",qE.EventType=xf,xf.OPEN="a",xf.CLOSE="b",xf.ERROR="c",xf.MESSAGE="d",br.prototype.listen=br.prototype.N,Xn.prototype.listenOnce=Xn.prototype.O,Xn.prototype.getLastError=Xn.prototype.La,Xn.prototype.getLastErrorCode=Xn.prototype.Da,Xn.prototype.getStatus=Xn.prototype.ba,Xn.prototype.getResponseJson=Xn.prototype.Qa,Xn.prototype.getResponseText=Xn.prototype.ga,Xn.prototype.send=Xn.prototype.ea;var hw=ua.createWebChannelTransport=function(){return new Hf},fw=ua.getStatEventTarget=function(){return fm()},Am=ua.ErrorCode=gm,eD=ua.EventType=HT,pw=ua.Event=sl,gw=ua.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},tD=ua.FetchXmlHttpFactory=ih,qf=ua.WebChannel=qE,nD=ua.XhrIo=Xn;const mw="@firebase/firestore";class kr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kr.UNAUTHENTICATED=new kr(null),kr.GOOGLE_CREDENTIALS=new kr("google-credentials-uid"),kr.FIRST_PARTY=new kr("first-party-uid"),kr.MOCK_USER=new kr("mock-user");let oh="9.8.0";const au=new nl.Yd("@firebase/firestore");function W_(){return au.logLevel}function Fe(n,...e){if(au.logLevel<=nl.in.DEBUG){const t=e.map(Zf);au.debug(`Firestore (${oh}): ${n}`,...t)}}function fr(n,...e){if(au.logLevel<=nl.in.ERROR){const t=e.map(Zf);au.error(`Firestore (${oh}): ${n}`,...t)}}function dc(n,...e){if(au.logLevel<=nl.in.WARN){const t=e.map(Zf);au.warn(`Firestore (${oh}): ${n}`,...t)}}function Zf(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function rt(n="Unexpected state"){const e=`FIRESTORE (${oh}) INTERNAL ASSERTION FAILED: `+n;throw fr(e),new Error(e)}function xt(n,e){n||rt()}function Ke(n,e){return n}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends St.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Kr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class yw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ah{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(kr.UNAUTHENTICATED))}shutdown(){}}class iD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class _w{constructor(e){this.t=e,this.currentUser=kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let s=this.i;const l=C=>this.i!==s?(s=this.i,t(C)):Promise.resolve();let d=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Kr,e.enqueueRetryable(()=>l(this.currentUser))};const p=()=>{const C=d;e.enqueueRetryable((0,be.Z)(function*(){yield C.promise,yield l(r.currentUser)}))},v=C=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(C=>v(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?v(C):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Kr)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt("string"==typeof r.accessToken),new yw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xt(null===e||"string"==typeof e),new kr(e)}}class sD{constructor(e,t,r){this.type="FirstParty",this.user=kr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const s=e.auth.getAuthHeaderValueForFirstParty([]);s&&this.headers.set("Authorization",s),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class vw{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new sD(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Gf{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oD{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=l=>{null!=l.error&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.p;return this.p=l.token,Fe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const s=l=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?s(l):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(xt("string"==typeof t.token),this.p=t.token,new Gf(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class cs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function uD(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}cs.A=-1;class Ew{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=uD(40);for(let l=0;l<s.length;++l)r.length<20&&s[l]<t&&(r+=e.charAt(s[l]%e.length))}return r}}function Ut(n,e){return n<e?-1:n>e?1:0}function uh(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}function K_(n){return n+"\0"}class er{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return er.fromMillis(Date.now())}static fromDate(e){return er.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new er(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ut(this.nanoseconds,e.nanoseconds):Ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ct{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ct(e)}static min(){return new Ct(new er(0,0))}static max(){return new Ct(new er(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Y_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function uu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function lD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class hc{constructor(e,t,r){void 0===t?t=0:t>e.length&&rt(),void 0===r?r=e.length-t:r>e.length-t&&rt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===hc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof hc?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const l=e.get(s),d=t.get(s);if(l<d)return-1;if(l>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Kt extends hc{construct(e,t,r){return new Kt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Kt(t)}static emptyPath(){return new Kt([])}}const _S=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hn extends hc{construct(e,t,r){return new Hn(e,t,r)}static isValidIdentifier(e){return _S.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Hn(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const l=()=>{if(0===r.length)throw new xe(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;s<e.length;){const p=e[s];if("\\"===p){if(s+1===e.length)throw new xe(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[s+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new xe(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,s+=2}else"`"===p?(d=!d,s++):"."!==p||d?(r+=p,s++):(l(),s++)}if(l(),d)throw new xe(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hn(t)}static emptyPath(){return new Hn([])}}class fc{constructor(e){this.fields=e,e.sort(Hn.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return uh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class tr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new tr(t)}static fromUint8Array(e){const t=function(r){let s="";for(let l=0;l<r.length;++l)s+=String.fromCharCode(r[l]);return s}(e);return new tr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tr.EMPTY_BYTE_STRING=new tr("");const cD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bo(n){if(xt(!!n),"string"==typeof n){let e=0;const t=cD.exec(n);if(xt(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xn(n.seconds),nanos:xn(n.nanos)}}function xn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function lu(n){return"string"==typeof n?tr.fromBase64String(n):tr.fromUint8Array(n)}function ww(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function bw(n){const e=n.mapValue.fields.__previous_value__;return ww(e)?bw(e):e}function pc(n){const e=bo(n.mapValue.fields.__local_write_time__.timestampValue);return new er(e.seconds,e.nanos)}class J_{constructor(e,t,r,s,l,d,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.useFetchStreams=v}}class fa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new fa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof fa&&e.projectId===this.projectId&&e.database===this.database}}function lh(n){return null==n}function gc(n){return 0===n&&1/n==-1/0}function X_(n){return"number"==typeof n&&Number.isInteger(n)&&!gc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class He{constructor(e){this.path=e}static fromPath(e){return new He(Kt.fromString(e))}static fromName(e){return new He(Kt.fromString(e).popFirst(5))}static empty(){return new He(Kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Kt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Kt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new Kt(e.slice()))}}const pa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},zf={nullValue:"NULL_VALUE"};function mc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ww(n)?4:iv(n)?9007199254740991:10:rt()}function Co(n,e){if(n===e)return!0;const t=mc(n);if(t!==mc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return pc(n).isEqual(pc(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const l=bo(r.timestampValue),d=bo(s.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,lu(n.bytesValue).isEqual(lu(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return xn(r.geoPointValue.latitude)===xn(s.geoPointValue.latitude)&&xn(r.geoPointValue.longitude)===xn(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return xn(r.integerValue)===xn(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const l=xn(r.doubleValue),d=xn(s.doubleValue);return l===d?gc(l)===gc(d):isNaN(l)&&isNaN(d)}return!1}(n,e);case 9:return uh(n.arrayValue.values||[],e.arrayValue.values||[],Co);case 10:return function(r,s){const l=r.mapValue.fields||{},d=s.mapValue.fields||{};if(Y_(l)!==Y_(d))return!1;for(const p in l)if(l.hasOwnProperty(p)&&(void 0===d[p]||!Co(l[p],d[p])))return!1;return!0}(n,e);default:return rt()}var s}function ch(n,e){return void 0!==(n.values||[]).find(t=>Co(t,e))}function ga(n,e){if(n===e)return 0;const t=mc(n),r=mc(e);if(t!==r)return Ut(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ut(n.booleanValue,e.booleanValue);case 2:return function(s,l){const d=xn(s.integerValue||s.doubleValue),p=xn(l.integerValue||l.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return ev(n.timestampValue,e.timestampValue);case 4:return ev(pc(n),pc(e));case 5:return Ut(n.stringValue,e.stringValue);case 6:return function(s,l){const d=lu(s),p=lu(l);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(s,l){const d=s.split("/"),p=l.split("/");for(let v=0;v<d.length&&v<p.length;v++){const C=Ut(d[v],p[v]);if(0!==C)return C}return Ut(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,l){const d=Ut(xn(s.latitude),xn(l.latitude));return 0!==d?d:Ut(xn(s.longitude),xn(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,l){const d=s.values||[],p=l.values||[];for(let v=0;v<d.length&&v<p.length;++v){const C=ga(d[v],p[v]);if(C)return C}return Ut(d.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,l){if(s===pa.mapValue&&l===pa.mapValue)return 0;if(s===pa.mapValue)return 1;if(l===pa.mapValue)return-1;const d=s.fields||{},p=Object.keys(d),v=l.fields||{},C=Object.keys(v);p.sort(),C.sort();for(let S=0;S<p.length&&S<C.length;++S){const x=Ut(p[S],C[S]);if(0!==x)return x;const L=ga(d[p[S]],v[C[S]]);if(0!==L)return L}return Ut(p.length,C.length)}(n.mapValue,e.mapValue);default:throw rt()}}function ev(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ut(n,e);const t=bo(n),r=bo(e),s=Ut(t.seconds,r.seconds);return 0!==s?s:Ut(t.nanos,r.nanos)}function dh(n){return tv(n)}function tv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const s=bo(r);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?lu(n.bytesValue).toBase64():"referenceValue"in n?He.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let s="[",l=!0;for(const d of r.values||[])l?l=!1:s+=",",s+=tv(d);return s+"]"}(n.arrayValue):"mapValue"in n?function(r){const s=Object.keys(r.fields||{}).sort();let l="{",d=!0;for(const p of s)d?d=!1:l+=",",l+=`${p}:${tv(r.fields[p])}`;return l+"}"}(n.mapValue):rt();var e}function yc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Wf(n){return!!n&&"integerValue"in n}function _c(n){return!!n&&"arrayValue"in n}function nv(n){return!!n&&"nullValue"in n}function rv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Kf(n){return!!n&&"mapValue"in n}function hh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return uu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=hh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function iv(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Cw(n){return"nullValue"in n?zf:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?yc(fa.empty(),He.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:rt()}function Tw(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?yc(fa.empty(),He.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?pa:rt()}function sv(n,e){const t=ga(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function dD(n,e){const t=ga(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class mi{constructor(e){this.value=e}static empty(){return new mi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Kf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hh(t)}setAll(e){let t=Hn.emptyPath(),r={},s=[];e.forEach((d,p)=>{if(!t.isImmediateParentOf(p)){const v=this.getFieldsMap(t);this.applyChanges(v,r,s),r={},s=[],t=p.popLast()}d?r[p.lastSegment()]=hh(d):s.push(p.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,s)}delete(e){const t=this.field(e.popLast());Kf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Co(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Kf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){uu(t,(s,l)=>e[s]=l);for(const s of r)delete e[s]}clone(){return new mi(hh(this.value))}}function Dw(n){const e=[];return uu(n.fields,(t,r)=>{const s=new Hn([t]);if(Kf(r)){const l=Dw(r.mapValue).fields;if(0===l.length)e.push(s);else for(const d of l)e.push(s.child(d))}else e.push(s)}),new fc(e)}class bn{constructor(e,t,r,s,l,d){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.data=l,this.documentState=d}static newInvalidDocument(e){return new bn(e,0,Ct.min(),Ct.min(),mi.empty(),0)}static newFoundDocument(e,t,r){return new bn(e,1,t,Ct.min(),r,0)}static newNoDocument(e,t){return new bn(e,2,t,Ct.min(),mi.empty(),0)}static newUnknownDocument(e,t){return new bn(e,3,t,Ct.min(),mi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sm{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function nr(n){return n.fields.find(e=>2===e.kind)}function ll(n){return n.fields.filter(e=>2!==e.kind)}Sm.UNKNOWN_ID=-1;class Mm{constructor(e,t){this.fieldPath=e,this.kind=t}}class Yf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Yf(0,js.min())}}function ov(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Ct.fromTimestamp(1e9===r?new er(t+1,0):new er(t,r));return new js(s,He.empty(),e)}function hD(n){return new js(n.readTime,n.key,-1)}class js{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new js(Ct.min(),He.empty(),-1)}static max(){return new js(Ct.max(),He.empty(),-1)}}function av(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=He.comparator(n.documentKey,e.documentKey),0!==t?t:Ut(n.largestBatchId,e.largestBatchId))}class Cn{constructor(e,t){this.comparator=e,this.root=t||Yr.EMPTY}insert(e,t){return new Cn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yr.BLACK,null,null))}remove(e){return new Cn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xm(this.root,e,this.comparator,!1)}getReverseIterator(){return new xm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xm(this.root,e,this.comparator,!0)}}class xm{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yr{constructor(e,t,r,s,l){this.key=e,this.value=t,this.color=null!=r?r:Yr.RED,this.left=null!=s?s:Yr.EMPTY,this.right=null!=l?l:Yr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,l){return new Yr(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=s?s:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const l=r(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===l?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Yr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return Yr.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}}Yr.EMPTY=null,Yr.RED=!0,Yr.BLACK=!1,Yr.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(n,e,t,r,s){return this}insert(n,e,t){return new Yr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class vn{constructor(e){this.comparator=e,this.data=new Cn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Iw(this.data.getIterator())}getIteratorFrom(e){return new Iw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof vn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(s,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new vn(this.comparator);return t.data=e,t}}class Iw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function vc(n){return n.hasNext()?n.getNext():void 0}class vS{constructor(e,t=null,r=[],s=[],l=null,d=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=l,this.startAt=d,this.endAt=p,this.P=null}}function uv(n,e=null,t=[],r=[],s=null,l=null,d=null){return new vS(n,e,t,r,s,l,d)}function cu(n){const e=Ke(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(s=r).field.canonicalString()+s.op.toString()+dh(s.value);var s}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),lh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>dh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>dh(r)).join(",")),e.P=t}return e.P}function Qf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<n.orderBy.length;s++)if(!Mw(n.orderBy[s],e.orderBy[s]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let s=0;s<n.filters.length;s++)if((t=n.filters[s]).op!==(r=e.filters[s]).op||!t.field.isEqual(r.field)||!Co(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Xf(n.startAt,e.startAt)&&Xf(n.endAt,e.endAt)}function Pm(n){return He.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function ds(n,e){return n.filters.filter(t=>t instanceof Fr&&t.field.isEqual(e))}function $s(n,e,t){let r=zf,s=!0;for(const l of ds(n,e)){let d=zf,p=!0;switch(l.op){case"<":case"<=":d=Cw(l.value);break;case"==":case"in":case">=":d=l.value;break;case">":d=l.value,p=!1;break;case"!=":case"not-in":d=zf}sv({value:r,inclusive:s},{value:d,inclusive:p})<0&&(r=d,s=p)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];sv({value:r,inclusive:s},{value:d,inclusive:t.inclusive})<0&&(r=d,s=t.inclusive);break}return{value:r,inclusive:s}}function Hs(n,e,t){let r=pa,s=!0;for(const l of ds(n,e)){let d=pa,p=!0;switch(l.op){case">=":case">":d=Tw(l.value),p=!1;break;case"==":case"in":case"<=":d=l.value;break;case"<":d=l.value,p=!1;break;case"!=":case"not-in":d=pa}dD({value:r,inclusive:s},{value:d,inclusive:p})>0&&(r=d,s=p)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];dD({value:r,inclusive:s},{value:d,inclusive:t.inclusive})>0&&(r=d,s=t.inclusive);break}return{value:r,inclusive:s}}class Fr extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new Aw(e,t,r):"array-contains"===t?new gD(e,r):"in"===t?new lv(e,r):"not-in"===t?new Jf(e,r):"array-contains-any"===t?new mD(e,r):new Fr(e,t,r)}static V(e,t,r){return"in"===t?new fD(e,r):new pD(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(ga(t,this.value)):null!==t&&mc(this.value)===mc(t)&&this.v(ga(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Aw extends Fr{constructor(e,t,r){super(e,t,r),this.key=He.fromName(r.referenceValue)}matches(e){const t=He.comparator(e.key,this.key);return this.v(t)}}class fD extends Fr{constructor(e,t){super(e,"in",t),this.keys=Sw(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class pD extends Fr{constructor(e,t){super(e,"not-in",t),this.keys=Sw(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Sw(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>He.fromName(r.referenceValue))}class gD extends Fr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _c(t)&&ch(t.arrayValue,this.value)}}class lv extends Fr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ch(this.value.arrayValue,t)}}class Jf extends Fr{constructor(e,t){super(e,"not-in",t)}matches(e){if(ch(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ch(this.value.arrayValue,t)}}class mD extends Fr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_c(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ch(this.value.arrayValue,r))}}class du{constructor(e,t){this.position=e,this.inclusive=t}}class fh{constructor(e,t="asc"){this.field=e,this.dir=t}}function Mw(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function cv(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const l=e[s],d=n.position[s];if(r=l.field.isKeyField()?He.comparator(He.fromName(d.referenceValue),t.key):ga(d,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function Xf(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Co(n.position[t],e.position[t]))return!1;return!0}class hu{constructor(e,t=null,r=[],s=[],l=null,d="F",p=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=l,this.limitType=d,this.startAt=p,this.endAt=v,this.D=null,this.C=null}}function dv(n,e,t,r,s,l,d,p){return new hu(n,e,t,r,s,l,d,p)}function Ec(n){return new hu(n)}function ph(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Om(n){for(const e of n.filters)if(e.S())return e.field;return null}function Nm(n){return null!==n.collectionGroup}function wc(n){const e=Ke(n);if(null===e.D){e.D=[];const t=Om(e),r=ph(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new fh(t)),e.D.push(new fh(Hn.keyField(),"asc"));else{let s=!1;for(const l of e.explicitOrderBy)e.D.push(l),l.field.isKeyField()&&(s=!0);if(!s){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new fh(Hn.keyField(),l))}}}return e.D}function hs(n){const e=Ke(n);if(!e.C)if("F"===e.limitType)e.C=uv(e.path,e.collectionGroup,wc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of wc(e))t.push(new fh(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new du(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new du(e.startAt.position,e.startAt.inclusive):null;e.C=uv(e.path,e.collectionGroup,t,e.filters,e.limit,r,s)}return e.C}function fv(n,e,t){return new hu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function gh(n,e){return Qf(hs(n),hs(e))&&n.limitType===e.limitType}function pv(n){return`${cu(hs(n))}|lt:${n.limitType}`}function Rm(n){return`Query(target=${function ma(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${dh(r.value)}`;var r}).join(", ")}]`),lh(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>dh(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>dh(t)).join(",")),`Target(${e})`}(hs(n))}; limitType=${n.limitType})`}function gv(n,e){return e.isFoundDocument()&&function(t,r){const s=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):He.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(n,e)&&function(t,r){for(const s of t.explicitOrderBy)if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,e)&&function(t,r){for(const s of t.filters)if(!s.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(s,l,d){const p=cv(s,l,d);return s.inclusive?p<=0:p<0}(t.startAt,wc(t),r)||t.endAt&&!function(s,l,d){const p=cv(s,l,d);return s.inclusive?p>=0:p>0}(t.endAt,wc(t),r)));var t,r}function xw(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Pw(n){return(e,t)=>{let r=!1;for(const s of wc(n)){const l=yD(s,e,t);if(0!==l)return l;r=r||s.field.isKeyField()}return 0}}function yD(n,e,t){const r=n.field.isKeyField()?He.comparator(e.key,t.key):function(s,l,d){const p=l.data.field(s),v=d.data.field(s);return null!==p&&null!==v?ga(p,v):rt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return rt()}}function Ow(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gc(e)?"-0":e}}function Nw(n){return{integerValue:""+n}}function Rw(n,e){return X_(e)?Nw(e):Ow(n,e)}class km{constructor(){this._=void 0}}function _D(n,e,t){return n instanceof mh?function(r,s){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&(l.fields.__previous_value__=s),{mapValue:l}}(t,e):n instanceof bc?Fw(n,e):n instanceof Cc?Lw(n,e):function(r,s){const l=kw(r,s),d=Uw(l)+Uw(r.k);return Wf(l)&&Wf(r.k)?Nw(d):Ow(r.M,d)}(n,e)}function vD(n,e,t){return n instanceof bc?Fw(n,e):n instanceof Cc?Lw(n,e):t}function kw(n,e){return n instanceof yh?Wf(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class mh extends km{}class bc extends km{constructor(e){super(),this.elements=e}}function Fw(n,e){const t=mv(e);for(const r of n.elements)t.some(s=>Co(s,r))||t.push(r);return{arrayValue:{values:t}}}class Cc extends km{constructor(e){super(),this.elements=e}}function Lw(n,e){let t=mv(e);for(const r of n.elements)t=t.filter(s=>!Co(s,r));return{arrayValue:{values:t}}}class yh extends km{constructor(e,t){super(),this.M=e,this.k=t}}function Uw(n){return xn(n.integerValue||n.doubleValue)}function mv(n){return _c(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class _h{constructor(e,t){this.field=e,this.transform=t}}class Bw{constructor(e,t){this.version=e,this.transformResults=t}}class rr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new rr}static exists(e){return new rr(void 0,e)}static updateTime(e){return new rr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ep(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class tp{}function jw(n,e,t){n instanceof np?function(r,s,l){const d=r.value.clone(),p=ED(r.fieldTransforms,s,l.transformResults);d.setAll(p),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Tc?function(r,s,l){if(!ep(r.precondition,s))return void s.convertToUnknownDocument(l.version);const d=ED(r.fieldTransforms,s,l.transformResults),p=s.data;p.setAll(Dc(r)),p.setAll(d),s.convertToFoundDocument(l.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Fm(n,e,t){var s;n instanceof np?function(r,s,l){if(!ep(r.precondition,s))return;const d=r.value.clone(),p=Lm(r.fieldTransforms,l,s);d.setAll(p),s.convertToFoundDocument(cl(s),d).setHasLocalMutations()}(n,e,t):n instanceof Tc?function(r,s,l){if(!ep(r.precondition,s))return;const d=Lm(r.fieldTransforms,l,s),p=s.data;p.setAll(Dc(r)),p.setAll(d),s.convertToFoundDocument(cl(s),p).setHasLocalMutations()}(n,e,t):ep(n.precondition,s=e)&&s.convertToNoDocument(Ct.min())}function $w(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),l=kw(r.transform,s||null);null!=l&&(null==t&&(t=mi.empty()),t.set(r.field,l))}return t||null}function yv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&uh(t,r,(s,l)=>function Vw(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof bc&&r instanceof bc||t instanceof Cc&&r instanceof Cc?uh(t.elements,r.elements,Co):t instanceof yh&&r instanceof yh?Co(t.k,r.k):t instanceof mh&&r instanceof mh);var t,r}(s,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function cl(n){return n.isFoundDocument()?n.version:Ct.min()}class np extends tp{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}}class Tc extends tp{constructor(e,t,r,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=l,this.type=1}}function Dc(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function ED(n,e,t){const r=new Map;xt(n.length===t.length);for(let s=0;s<t.length;s++){const l=n[s],d=l.transform,p=e.data.field(l.field);r.set(l.field,vD(d,p,t[s]))}return r}function Lm(n,e,t){const r=new Map;for(const s of n){const l=s.transform,d=t.data.field(s.field);r.set(s.field,_D(l,d,e))}return r}class Um extends tp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Vm extends tp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Hw{constructor(e){this.count=e}}var Cr,Be;function qw(n){switch(n){default:return rt();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}function Zw(n){if(void 0===n)return fr("GRPC error has no .code"),le.UNKNOWN;switch(n){case Cr.OK:return le.OK;case Cr.CANCELLED:return le.CANCELLED;case Cr.UNKNOWN:return le.UNKNOWN;case Cr.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Cr.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Cr.INTERNAL:return le.INTERNAL;case Cr.UNAVAILABLE:return le.UNAVAILABLE;case Cr.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Cr.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Cr.NOT_FOUND:return le.NOT_FOUND;case Cr.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Cr.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Cr.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Cr.ABORTED:return le.ABORTED;case Cr.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Cr.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Cr.DATA_LOSS:return le.DATA_LOSS;default:return rt()}}(Be=Cr||(Cr={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";class dl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,l]of r)if(this.equalsFn(s,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){uu(this.inner,(t,r)=>{for(const[s,l]of r)e(s,l)})}isEmpty(){return lD(this.inner)}size(){return this.innerSize}}const Bm=new Cn(He.comparator);function qs(){return Bm}const jm=new Cn(He.comparator);function vh(...n){let e=jm;for(const t of n)e=e.insert(t.key,t);return e}function Tn(){return new dl(n=>n.toString(),(n,e)=>n.isEqual(e))}const ES=new Cn(He.comparator),Gw=new vn(He.comparator);function an(...n){let e=Gw;for(const t of n)e=e.add(t);return e}const wD=new vn(Ut);function rp(){return wD}class Eh{constructor(e,t,r,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,wh.createSynthesizedTargetChangeForCurrentChange(e,t)),new Eh(Ct.min(),r,rp(),qs(),an())}}class wh{constructor(e,t,r,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new wh(tr.EMPTY_BYTE_STRING,t,an(),an(),an())}}class ip{constructor(e,t,r,s){this.O=e,this.removedTargetIds=t,this.key=r,this.F=s}}class zw{constructor(e,t){this.targetId=e,this.$=t}}class Ww{constructor(e,t,r=tr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class Kw{constructor(){this.B=0,this.L=Qw(),this.U=tr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=an(),t=an(),r=an();return this.L.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:rt()}}),new wh(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=Qw()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class sp{constructor(e){this.nt=e,this.st=new Map,this.it=qs(),this.rt=Yw(),this.ot=new vn(Ut)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,s)=>{this.ft(s)&&t(s)})}_t(e){const t=e.targetId,r=e.$.count,s=this.wt(t);if(s){const l=s.target;if(Pm(l))if(0===r){const d=new He(l.path);this.ct(t,d,bn.newNoDocument(d,Ct.min()))}else xt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((l,d)=>{const p=this.wt(d);if(p){if(l.current&&Pm(p.target)){const v=new He(p.target.path);null!==this.it.get(v)||this.It(d,v)||this.ct(d,v,bn.newNoDocument(v,e))}l.j&&(t.set(d,l.H()),l.J())}});let r=an();this.rt.forEach((l,d)=>{let p=!0;d.forEachWhile(v=>{const C=this.wt(v);return!C||2===C.purpose||(p=!1,!1)}),p&&(r=r.add(l))}),this.it.forEach((l,d)=>d.setReadTime(e));const s=new Eh(e,t,this.ot,this.it,r);return this.it=qs(),this.rt=Yw(),this.ot=new vn(Ut),s}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const s=this.lt(e);this.It(e,t)?s.Y(t,1):s.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new Kw,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new vn(Ut),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Fe("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new Kw),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function Yw(){return new Cn(He.comparator)}function Qw(){return new Cn(He.comparator)}const bD={asc:"ASCENDING",desc:"DESCENDING"},$m={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Jw{constructor(e,t){this.databaseId=e,this.N=t}}function bh(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _v(n,e){return n.N?e.toBase64():e.toUint8Array()}function CD(n,e){return bh(n,e.toTimestamp())}function zn(n){return xt(!!n),Ct.fromTimestamp(function(e){const t=bo(e);return new er(t.seconds,t.nanos)}(n))}function Ic(n,e){return(t=n,new Kt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Xw(n){const e=Kt.fromString(n);return xt(sb(e)),e}function op(n,e){return Ic(n.databaseId,e.path)}function ya(n,e){const t=Xw(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new He(eb(t))}function Hm(n,e){return Ic(n.databaseId,e)}function vv(n){const e=Xw(n);return 4===e.length?Kt.emptyPath():eb(e)}function Ch(n){return new Kt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function eb(n){return xt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Ev(n,e,t){return{name:op(n,e),fields:t.value.mapValue.fields}}function tb(n,e,t){const r=ya(n,e.name),s=zn(e.updateTime),l=new mi({mapValue:{fields:e.fields}}),d=bn.newFoundDocument(r,s,l);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function qm(n,e){let t;if(e instanceof np)t={update:Ev(n,e.key,e.value)};else if(e instanceof Um)t={delete:op(n,e.key)};else if(e instanceof Tc)t={update:Ev(n,e.key,e.data),updateMask:ib(e.fieldMask)};else{if(!(e instanceof Vm))return rt();t={verify:op(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,l){const d=l.transform;if(d instanceof mh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof bc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Cc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof yh)return{fieldPath:l.field.canonicalString(),increment:d.k};throw rt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:CD(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:rt()),t;var s}function nb(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?rr.updateTime(zn(s.updateTime)):void 0!==s.exists?rr.exists(s.exists):rr.none():rr.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(l,d){let p=null;"setToServerValue"in d?(xt("REQUEST_TIME"===d.setToServerValue),p=new mh):"appendMissingElements"in d?p=new bc(d.appendMissingElements.values||[]):"removeAllFromArray"in d?p=new Cc(d.removeAllFromArray.values||[]):"increment"in d?p=new yh(l,d.increment):rt();const v=Hn.fromServerFormat(d.fieldPath);return new _h(v,p)}(n,s)):[];var s;if(e.update){const s=ya(n,e.update.name),l=new mi({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new fc((e.updateMask.fieldPaths||[]).map(C=>Hn.fromServerFormat(C)));return new Tc(s,l,d,t,r)}return new np(s,l,t,r)}if(e.delete){const s=ya(n,e.delete);return new Um(s,t)}if(e.verify){const s=ya(n,e.verify);return new Vm(s,t)}return rt()}function wv(n,e){return{documents:[Hm(n,e.path)]}}function ap(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Hm(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Hm(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(v){if(0===v.length)return;const C=v.map(S=>function(x){if("=="===x.op){if(rv(x.value))return{unaryFilter:{field:Th(x.field),op:"IS_NAN"}};if(nv(x.value))return{unaryFilter:{field:Th(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(rv(x.value))return{unaryFilter:{field:Th(x.field),op:"IS_NOT_NAN"}};if(nv(x.value))return{unaryFilter:{field:Th(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Th(x.field),op:ID(x.op),value:x.value}}}(S));return 1===C.length?C[0]:{compositeFilter:{op:"AND",filters:C}}}(e.filters);s&&(t.structuredQuery.where=s);const l=function(v){if(0!==v.length)return v.map(C=>{return{field:Th((S=C).field),direction:up(S.dir)};var S})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=(C=e.limit,n.N||lh(C)?C:{value:C});var C,p,v;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function rb(n){let e=vv(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){xt(1===r);const S=t.from[0];S.allDescendants?s=S.collectionId:e=e.child(S.collectionId)}let l=[];t.where&&(l=bv(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(S=>{return new fh(Dh((x=S).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let p=null;t.limit&&(p=function(S){let x;return x="object"==typeof S?S.value:S,lh(x)?null:x}(t.limit));let v=null;var S;t.startAt&&(v=new du((S=t.startAt).values||[],!!S.before));let C=null;return t.endAt&&(C=function(S){return new du(S.values||[],!S.before)}(t.endAt)),dv(e,s,d,l,p,"F",v,C)}function bv(n){return n?void 0!==n.unaryFilter?[SD(n)]:void 0!==n.fieldFilter?[AD(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>bv(e)).reduce((e,t)=>e.concat(t)):rt():[]}function up(n){return bD[n]}function ID(n){return $m[n]}function Th(n){return{fieldPath:n.canonicalString()}}function Dh(n){return Hn.fromServerFormat(n.fieldPath)}function AD(n){return Fr.create(Dh(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(n.fieldFilter.op),n.fieldFilter.value)}function SD(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Dh(n.unaryFilter.field);return Fr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Dh(n.unaryFilter.field);return Fr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Dh(n.unaryFilter.field);return Fr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Dh(n.unaryFilter.field);return Fr.create(s,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}function ib(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function sb(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ii(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ob(e)),e=Ih(n.get(t),e);return ob(e)}function Ih(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const l=n.charAt(s);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function ob(n){return n+"\x01\x01"}function To(n){const e=n.length;if(xt(e>=2),2===e)return xt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Kt.emptyPath();const t=e-2,r=[];let s="";for(let l=0;l<e;){const d=n.indexOf("\x01",l);switch((d<0||d>t)&&rt(),n.charAt(d+1)){case"\x01":const p=n.substring(l,d);let v;0===s.length?v=p:(s+=p,v=s,s=""),r.push(v);break;case"\x10":s+=n.substring(l,d),s+="\0";break;case"\x11":s+=n.substring(l,d+1);break;default:rt()}l=d+2}return new Kt(r)}const ab=["userId","batchId"];function lp(n,e){return[n,Ii(e)]}function ub(n,e,t){return[n,Ii(e),t]}const lb={},MD=["prefixPath","collectionGroup","readTime","documentId"],Cv=["prefixPath","collectionGroup","documentId"],xD=["collectionGroup","readTime","prefixPath","documentId"],cb=["canonicalId","targetId"],db=["targetId","path"],PD=["path","targetId"],OD=["collectionId","parent"],ND=["indexId","uid"],Tv=["uid","sequenceNumber"],RD=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],hb=["indexId","uid","orderedDocumentKey"],kD=["userId","collectionPath","documentId"],FD=["userId","collectionPath","largestBatchId"],LD=["userId","collectionGroup","largestBatchId"],fb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],UD=[...fb,"documentOverlays"],pb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],VD=[...pb,"indexConfiguration","indexState","indexEntries"],gb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Dv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new de((r,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof de?t:de.resolve(t)}catch(t){return de.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):de.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):de.reject(t)}static resolve(e){return new de((t,r)=>{t(e)})}static reject(e){return new de((t,r)=>{r(e)})}static waitFor(e){return new de((t,r)=>{let s=0,l=0,d=!1;e.forEach(p=>{++s,p.next(()=>{++l,d&&l===s&&t()},v=>r(v))}),d=!0,l===s&&t()})}static or(e){let t=de.resolve(!1);for(const r of e)t=t.next(s=>s?de.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,l)=>{r.push(t.call(this,s,l))}),this.waitFor(r)}}class Zm{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Kr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new cp(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const s=zm(r.target.error);this.At.reject(new cp(e,s))}}static open(e,t,r,s){try{return new Zm(t,e.transaction(s,r))}catch(l){throw new cp(t,l)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Fe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new BD(t)}}class Do{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===Do.Vt((0,St.z$)())&&fr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Fe("SimpleDb","Removing database:",e),fu(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,St.hl)())return!1;if(Do.St())return!0;const e=(0,St.z$)(),t=Do.Vt(e),r=0<t&&t<10,s=Do.Dt(e),l=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,be.Z)(function*(){return t.db||(Fe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,s)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=d=>{r(d.target.result)},l.onblocked=()=>{s(new cp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=d=>{const p=d.target.error;s("VersionError"===p.name?new xe(le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new xe(le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new cp(e,p))},l.onupgradeneeded=d=>{Fe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.Pt.kt(d.target.result,l.transaction,d.oldVersion,t.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,s){var l=this;return(0,be.Z)(function*(){const d="readonly"===t;let p=0;for(;;){++p;try{l.db=yield l.Nt(e);const v=Zm.open(l.db,e,d?"readonly":"readwrite",r),C=s(v).next(S=>(v.bt(),S)).catch(S=>(v.abort(S),de.reject(S))).toPromise();return C.catch(()=>{}),yield v.Rt,C}catch(v){const C="FirebaseError"!==v.name&&p<3;if(Fe("SimpleDb","Transaction failed with error:",v.message,"Retrying:",C),l.close(),!C)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class mb{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return fu(this.Ft.delete())}}class cp extends xe{constructor(e,t){super(le.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ac(n){return"IndexedDbTransactionError"===n.name}class BD{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Fe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),fu(r)}add(e){return Fe("SimpleDb","ADD",this.store.name,e,e),fu(this.store.add(e))}get(e){return fu(this.store.get(e)).next(t=>(void 0===t&&(t=null),Fe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Fe("SimpleDb","DELETE",this.store.name,e),fu(this.store.delete(e))}count(){return Fe("SimpleDb","COUNT",this.store.name),fu(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const s=this.cursor(r),l=[];return this.Kt(s,(d,p)=>{l.push(p)}).next(()=>l)}{const s=this.store.getAll(r.range);return new de((l,d)=>{s.onerror=p=>{d(p.target.error)},s.onsuccess=p=>{l(p.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new de((s,l)=>{r.onerror=d=>{l(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}Qt(e,t){Fe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const s=this.cursor(r);return this.Kt(s,(l,d,p)=>p.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.Kt(s,t)}zt(e){const t=this.cursor({});return new de((r,s)=>{t.onerror=l=>{const d=zm(l.target.error);s(d)},t.onsuccess=l=>{const d=l.target.result;d?e(d.primaryKey,d.value).next(p=>{p?d.continue():r()}):r()}})}Kt(e,t){const r=[];return new de((s,l)=>{e.onerror=d=>{l(d.target.error)},e.onsuccess=d=>{const p=d.target.result;if(!p)return void s();const v=new mb(p),C=t(p.primaryKey,p.value,v);if(C instanceof de){const S=C.catch(x=>(v.done(),de.reject(x)));r.push(S)}v.isDone?s():null===v.Lt?p.continue():p.continue(v.Lt)}}).next(()=>de.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function fu(n){return new de((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const s=zm(r.target.error);t(s)}})}let Gm=!1;function zm(n){const e=Do.Vt((0,St.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Gm||(Gm=!0,setTimeout(()=>{throw r},0)),r}}return n}class Wm extends Dv{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Lr(n,e){const t=Ke(n);return Do.xt(t.Ht,e)}class Iv{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&jw(l,e,r[s])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Fm(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Fm(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),s=r;this.applyToLocalView(s),r.isValidDocument()||s.convertToNoDocument(Ct.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),an())}isEqual(e){return this.batchId===e.batchId&&uh(this.mutations,e.mutations,(t,r)=>yv(t,r))&&uh(this.baseMutations,e.baseMutations,(t,r)=>yv(t,r))}}class dp{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){xt(e.mutations.length===r.length);let s=ES;const l=e.mutations;for(let d=0;d<l.length;d++)s=s.insert(l[d].key,r[d].version);return new dp(e,t,r,s)}}class Av{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class pu{constructor(e,t,r,s,l=Ct.min(),d=Ct.min(),p=tr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p}withSequenceNumber(e){return new pu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new pu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new pu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class yb{constructor(e){this.Jt=e}}function vb(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:hp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:op(s=n.Jt,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:bh(s,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Ah(e.version)};else{if(!e.isUnknownDocument())return rt();r.unknownDocument={path:t.path.toArray(),version:Ah(e.version)}}var s,l;return r}function hp(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ah(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Sc(n){const e=new er(n.seconds,n.nanoseconds);return Ct.fromTimestamp(e)}function gu(n,e){const t=(e.baseMutations||[]).map(l=>nb(n.Jt,l));for(let l=0;l<e.mutations.length-1;++l){const d=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(d.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>nb(n.Jt,l)),s=er.fromMillis(e.localWriteTimeMs);return new Iv(e.batchId,s,t,r)}function fp(n){const e=Sc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Sc(n.lastLimboFreeSnapshotVersion):Ct.min();let r;var s;return void 0!==n.query.documents?(xt(1===(s=n.query).documents.length),r=hs(Ec(vv(s.documents[0])))):r=hs(rb(n.query)),new pu(r,n.targetId,0,n.lastListenSequenceNumber,e,t,tr.fromBase64String(n.resumeToken))}function Mc(n,e){const t=Ah(e.snapshotVersion),r=Ah(e.lastLimboFreeSnapshotVersion);let s;s=Pm(e.target)?wv(n.Jt,e.target):ap(n.Jt,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:cu(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function xc(n){const e=rb({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?fv(e,e.limit,"L"):e}function Sv(n,e){return new Av(e.largestBatchId,nb(n.Jt,e.overlayMutation))}function jD(n,e){const t=e.path.lastSegment();return[n,Ii(e.path.popLast()),t]}class Eb{getBundleMetadata(e,t){return wb(e).get(t).next(r=>{if(r)return{id:(s=r).bundleId,createTime:Sc(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return wb(e).put({bundleId:(r=t).id,createTime:Ah(zn(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return bb(e).get(t).next(r=>{if(r)return{name:(s=r).name,query:xc(s.bundledQuery),readTime:Sc(s.readTime)};var s})}saveNamedQuery(e,t){return bb(e).put({name:(r=t).name,readTime:Ah(zn(r.readTime)),bundledQuery:r.bundledQuery});var r}}function wb(n){return Lr(n,"bundles")}function bb(n){return Lr(n,"namedQueries")}class Mv{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new Mv(e,t.uid||"")}getOverlay(e,t){return pp(e).get(jD(this.userId,t)).next(r=>r?Sv(this.M,r):null)}saveOverlays(e,t,r){const s=[];return r.forEach((l,d)=>{const p=new Av(t,d);s.push(this.Xt(e,p))}),de.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach(d=>s.add(Ii(d.getCollectionPath())));const l=[];return s.forEach(d=>{const p=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);l.push(pp(e).Qt("collectionPathOverlayIndex",p))}),de.waitFor(l)}getOverlaysForCollection(e,t,r){const s=Tn(),l=Ii(t),d=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return pp(e).qt("collectionPathOverlayIndex",d).next(p=>{for(const v of p){const C=Sv(this.M,v);s.set(C.getKey(),C)}return s})}getOverlaysForCollectionGroup(e,t,r,s){const l=Tn();let d;const p=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return pp(e).Wt({index:"collectionGroupOverlayIndex",range:p},(v,C,S)=>{const x=Sv(this.M,C);l.size()<s||x.largestBatchId===d?(l.set(x.getKey(),x),d=x.largestBatchId):S.done()}).next(()=>l)}Xt(e,t){return pp(e).put(function(r,s,l){const[d,p,v]=jD(s,l.mutation.key);return{userId:s,collectionPath:p,documentId:v,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:qm(r.Jt,l.mutation)}}(this.M,this.userId,t))}}function pp(n){return Lr(n,"documentOverlays")}class hl{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(xn(e.integerValue));else if("doubleValue"in e){const r=xn(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),gc(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(lu(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?iv(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):rt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const s of Object.keys(r))this.re(s,t),this.te(r[s],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const s of r)this.te(s,t)}ae(e,t){this.ne(t,37),He.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function Cb(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Km(n){const e=64-function(t){let r=0;for(let s=0;s<8;++s){const l=Cb(255&t[s]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}hl.fe=new hl;class Ym{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const s=t.codePointAt(0);this._e(240|s>>>18),this._e(128|63&s>>>12),this._e(128|63&s>>>6),this._e(128|63&s)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const s=t.codePointAt(0);this.ge(240|s>>>18),this.ge(128|63&s>>>12),this.ge(128|63&s>>>6),this.ge(128|63&s)}}this.ye()}Te(e){const t=this.Ee(e),r=Km(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}Re(e){const t=this.Ee(e),r=Km(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(s){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,s,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class gp{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class $D{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class Sh{constructor(){this.De=new Ym,this.Ce=new gp(this.De),this.xe=new $D(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class fl{constructor(e,t,r,s){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=s}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new fl(this.indexId,this.documentKey,this.arrayValue,r)}}function Pc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Tb(n.arrayValue,e.arrayValue),0!==t?t:(t=Tb(n.directionalValue,e.directionalValue),0!==t?t:He.comparator(n.documentKey,e.documentKey)))}function Tb(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class xv{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=nr(e);if(void 0!==t&&!this.Be(t))return!1;const r=ll(e);let s=0,l=0;for(;s<r.length&&this.Be(r[s]);++s);if(s===r.length)return!0;if(void 0!==this.Fe){const d=r[s];if(!this.Le(this.Fe,d)||!this.Ue(this.Me[l++],d))return!1;++s}for(;s<r.length;++s){const d=r[s];if(l>=this.Me.length||!this.Ue(this.Me[l++],d))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class HD{constructor(){this.qe=new Db}addToCollectionParentIndex(e,t){return this.qe.add(t),de.resolve()}getCollectionParents(e,t){return de.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return de.resolve()}deleteFieldIndex(e,t){return de.resolve()}getDocumentsMatchingTarget(e,t){return de.resolve(null)}getIndexType(e,t){return de.resolve(0)}getFieldIndexes(e,t){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,t){return de.resolve(js.min())}updateCollectionGroup(e,t,r){return de.resolve()}updateIndexEntries(e,t){return de.resolve()}}class Db{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new vn(Kt.comparator),l=!s.has(r);return this.index[t]=s.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new vn(Kt.comparator)).toArray()}}const Qm=new Uint8Array(0);class qD{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new Db,this.Ge=new dl(r=>cu(r),(r,s)=>Qf(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const l={collectionId:r,parent:Ii(s)};return Oc(e).put(l)}return de.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[K_(t),""],!1,!0);return Oc(e).qt(s).next(l=>{for(const d of l){if(d.collectionId!==t)break;r.push(To(d.parent))}return r})}addFieldIndex(e,t){const r=mu(e),s={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var l;return delete s.indexId,r.add(s).next()}deleteFieldIndex(e,t){const r=mu(e),s=Pv(e),l=Mh(e);return r.delete(t.indexId).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Mh(e);let s=!0;const l=new Map;return de.forEach(this.Qe(t),d=>this.je(e,d).next(p=>{s&&(s=!!p),l.set(d,p)})).next(()=>{if(s){let d=an();const p=[];return de.forEach(l,(v,C)=>{var S;Fe("IndexedDbIndexManager",`Using index ${S=v,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(Tt=>`${Tt.fieldPath}:${Tt.kind}`).join(",")}`} to execute ${cu(t)}`);const x=function(Tt,ut){const Ft=nr(ut);if(void 0===Ft)return null;for(const Bt of ds(Tt,Ft.fieldPath))switch(Bt.op){case"array-contains-any":return Bt.value.arrayValue.values||[];case"array-contains":return[Bt.value]}return null}(C,v),L=function(Tt,ut){const Ft=new Map;for(const Bt of ll(ut))for(const un of ds(Tt,Bt.fieldPath))switch(un.op){case"==":case"in":Ft.set(Bt.fieldPath.canonicalString(),un.value);break;case"not-in":case"!=":return Ft.set(Bt.fieldPath.canonicalString(),un.value),Array.from(Ft.values())}return null}(C,v),G=function(Tt,ut){const Ft=[];let Bt=!0;for(const un of ll(ut)){const ys=0===un.kind?$s(Tt,un.fieldPath,Tt.startAt):Hs(Tt,un.fieldPath,Tt.startAt);Ft.push(ys.value),Bt&&(Bt=ys.inclusive)}return new du(Ft,Bt)}(C,v),K=function(Tt,ut){const Ft=[];let Bt=!0;for(const un of ll(ut)){const ys=0===un.kind?Hs(Tt,un.fieldPath,Tt.endAt):$s(Tt,un.fieldPath,Tt.endAt);Ft.push(ys.value),Bt&&(Bt=ys.inclusive)}return new du(Ft,Bt)}(C,v),ye=this.We(v,C,G),Re=this.We(v,C,K),gt=this.ze(v,C,L),yt=this.He(v.indexId,x,ye,G.inclusive,Re,K.inclusive,gt);return de.forEach(yt,Tt=>r.Gt(Tt,t.limit).next(ut=>{ut.forEach(Ft=>{const Bt=He.fromSegments(Ft.documentKey);d.has(Bt)||(d=d.add(Bt),p.push(Bt))})}))}).next(()=>p)}return de.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,r,s,l,d,p){const v=(null!=t?t.length:1)*Math.max(r.length,l.length),C=v/(null!=t?t.length:1),S=[];for(let x=0;x<v;++x){const L=t?this.Je(t[x/C]):Qm,G=this.Ye(e,L,r[x%C],s),K=this.Xe(e,L,l[x%C],d),ye=p.map(Re=>this.Ye(e,L,Re,!0));S.push(...this.createRange(G,K,ye))}return S}Ye(e,t,r,s){const l=new fl(e,He.empty(),t,r);return s?l:l.ke()}Xe(e,t,r,s){const l=new fl(e,He.empty(),t,r);return s?l.ke():l}je(e,t){const r=new xv(t),s=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next(l=>{let d=null;for(const p of l)r.$e(p)&&(!d||p.fields.length>d.fields.length)&&(d=p);return d})}getIndexType(e,t){let r=2;return de.forEach(this.Qe(t),s=>this.je(e,s).next(l=>{l?0!==r&&l.fields.length<function(d){let p=new vn(Hn.comparator),v=!1;for(const C of d.filters){const S=C;S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?v=!0:p=p.add(S.field))}for(const C of d.orderBy)C.field.isKeyField()||(p=p.add(C.field));return p.size+(v?1:0)}(s)&&(r=1):r=0})).next(()=>r)}Ze(e,t){const r=new Sh;for(const s of ll(e)){const l=t.data.field(s.fieldPath);if(null==l)return null;const d=r.Ne(s.kind);hl.fe.Zt(l,d)}return r.Se()}Je(e){const t=new Sh;return hl.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new Sh;return hl.fe.Zt(yc(this.databaseId,t),r.Ne(function(s){const l=ll(s);return 0===l.length?0:l[l.length-1].kind}(e))),r.Se()}ze(e,t,r){if(null===r)return[];let s=[];s.push(new Sh);let l=0;for(const d of ll(e)){const p=r[l++];for(const v of s)if(this.en(t,d.fieldPath)&&_c(p))s=this.nn(s,d,p);else{const C=v.Ne(d.kind);hl.fe.Zt(p,C)}}return this.sn(s)}We(e,t,r){return this.ze(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const s=[...e],l=[];for(const d of r.arrayValue.values||[])for(const p of s){const v=new Sh;v.seed(p.Se()),hl.fe.Zt(d,v.Ne(t.kind)),l.push(v)}return l}en(e,t){return!!e.filters.find(r=>r instanceof Fr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=mu(e),s=Pv(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(l=>{const d=[];return de.forEach(l,p=>s.get([p.indexId,this.uid]).next(v=>{d.push(function(C,S){const x=S?new Yf(S.sequenceNumber,new js(Sc(S.readTime),new He(To(S.documentKey)),S.largestBatchId)):Yf.empty(),L=C.fields.map(([G,K])=>new Mm(Hn.fromServerFormat(G),K));return new Sm(C.indexId,C.collectionGroup,L,x)}(p,v))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,s)=>{const l=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return 0!==l?l:Ut(r.collectionGroup,s.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const s=mu(e),l=Pv(e);return this.rn(e).next(d=>s.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>de.forEach(p,v=>{return l.put({indexId:v.indexId,uid:this.user.uid||"",sequenceNumber:d,readTime:Ah((L=r).readTime),documentKey:Ii(L.documentKey.path),largestBatchId:L.largestBatchId});var L})))}updateIndexEntries(e,t){const r=new Map;return de.forEach(t,(s,l)=>{const d=r.get(s.collectionGroup);return(d?de.resolve(d):this.getFieldIndexes(e,s.collectionGroup)).next(p=>(r.set(s.collectionGroup,p),de.forEach(p,v=>this.on(e,s,v).next(C=>{const S=this.un(l,v);return C.isEqual(S)?de.resolve():this.an(e,l,v,C,S)}))))})}cn(e,t,r,s){return Mh(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,s){return Mh(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const s=Mh(e);let l=new vn(Pc);return s.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(d,p)=>{l=l.add(new fl(r.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>l)}un(e,t){let r=new vn(Pc);const s=this.Ze(t,e);if(null==s)return r;const l=nr(t);if(null!=l){const d=e.data.field(l.fieldPath);if(_c(d))for(const p of d.arrayValue.values||[])r=r.add(new fl(t.indexId,e.key,this.Je(p),s))}else r=r.add(new fl(t.indexId,e.key,Qm,s));return r}an(e,t,r,s,l){Fe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(p,v,C,S,x){const L=p.getIterator(),G=v.getIterator();let K=vc(L),ye=vc(G);for(;K||ye;){let Re=!1,gt=!1;if(K&&ye){const yt=C(K,ye);yt<0?gt=!0:yt>0&&(Re=!0)}else null!=K?gt=!0:Re=!0;Re?(S(ye),ye=vc(G)):gt?(x(K),K=vc(L)):(K=vc(L),ye=vc(G))}}(s,l,Pc,p=>{d.push(this.cn(e,t,r,p))},p=>{d.push(this.hn(e,t,r,p))}),de.waitFor(d)}rn(e){let t=1;return Pv(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,l)=>{l.done(),t=s.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,p)=>Pc(d,p)).filter((d,p,v)=>!p||0!==Pc(d,v[p-1]));const s=[];s.push(e);for(const d of r){const p=Pc(d,e),v=Pc(d,t);if(0===p)s[0]=e.ke();else if(p>0&&v<0)s.push(d),s.push(d.ke());else if(v>0)break}s.push(t);const l=[];for(let d=0;d<s.length;d+=2)l.push(IDBKeyRange.bound([s[d].indexId,this.uid,s[d].arrayValue,s[d].directionalValue,Qm,[]],[s[d+1].indexId,this.uid,s[d+1].arrayValue,s[d+1].directionalValue,Qm,[]]));return l}getMinOffset(e,t){let r;return de.forEach(this.Qe(t),s=>this.je(e,s).next(l=>{l?(!r||av(l.indexState.offset,r)<0)&&(r=l.indexState.offset):r=js.min()})).next(()=>r)}}function Oc(n){return Lr(n,"collectionParents")}function Mh(n){return Lr(n,"indexEntries")}function mu(n){return Lr(n,"indexConfiguration")}function Pv(n){return Lr(n,"indexState")}const Ov={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Gi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Gi(e,Gi.DEFAULT_COLLECTION_PERCENTILE,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ZD(n,e,t){const r=n.store("mutations"),s=n.store("documentMutations"),l=[],d=IDBKeyRange.only(t.batchId);let p=0;const v=r.Wt({range:d},(S,x,L)=>(p++,L.delete()));l.push(v.next(()=>{xt(1===p)}));const C=[];for(const S of t.mutations){const x=ub(e,S.key.path,t.batchId);l.push(s.delete(x)),C.push(S.key)}return de.waitFor(l).next(()=>C)}function mp(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw rt();e=n.noDocument}return JSON.stringify(e).length}Gi.DEFAULT_COLLECTION_PERCENTILE=10,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gi.DEFAULT=new Gi(41943040,Gi.DEFAULT_COLLECTION_PERCENTILE,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gi.DISABLED=new Gi(-1,0,0);class Ib{constructor(e,t,r,s){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=s,this.ln={}}static Yt(e,t,r,s){xt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new Ib(l,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _a(e).Wt({index:"userMutationsIndex",range:r},(s,l,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,s){const l=xh(e),d=_a(e);return d.add({}).next(p=>{xt("number"==typeof p);const v=new Iv(p,t,r,s),C=function(L,G,K){const ye=K.baseMutations.map(gt=>qm(L.Jt,gt)),Re=K.mutations.map(gt=>qm(L.Jt,gt));return{userId:G,batchId:K.batchId,localWriteTimeMs:K.localWriteTime.toMillis(),baseMutations:ye,mutations:Re}}(this.M,this.userId,v),S=[];let x=new vn((L,G)=>Ut(L.canonicalString(),G.canonicalString()));for(const L of s){const G=ub(this.userId,L.key.path,p);x=x.add(L.key.path.popLast()),S.push(d.put(C)),S.push(l.put(G,lb))}return x.forEach(L=>{S.push(this.indexManager.addToCollectionParentIndex(e,L))}),e.addOnCommittedListener(()=>{this.ln[p]=v.keys()}),de.waitFor(S).next(()=>v)})}lookupMutationBatch(e,t){return _a(e).get(t).next(r=>r?(xt(r.userId===this.userId),gu(this.M,r)):null)}fn(e,t){return this.ln[t]?de.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const s=r.keys();return this.ln[t]=s,s}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return _a(e).Wt({index:"userMutationsIndex",range:s},(d,p,v)=>{p.userId===this.userId&&(xt(p.batchId>=r),l=gu(this.M,p)),v.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return _a(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(s,l,d)=>{r=l.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _a(e).qt("userMutationsIndex",t).next(r=>r.map(s=>gu(this.M,s)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=lp(this.userId,t.path),s=IDBKeyRange.lowerBound(r),l=[];return xh(e).Wt({range:s},(d,p,v)=>{const[C,S,x]=d,L=To(S);if(C===this.userId&&t.path.isEqual(L))return _a(e).get(x).next(G=>{if(!G)throw rt();xt(G.userId===this.userId),l.push(gu(this.M,G))});v.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new vn(Ut);const s=[];return t.forEach(l=>{const d=lp(this.userId,l.path),p=IDBKeyRange.lowerBound(d),v=xh(e).Wt({range:p},(C,S,x)=>{const[L,G,K]=C,ye=To(G);L===this.userId&&l.path.isEqual(ye)?r=r.add(K):x.done()});s.push(v)}),de.waitFor(s).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,l=lp(this.userId,r),d=IDBKeyRange.lowerBound(l);let p=new vn(Ut);return xh(e).Wt({range:d},(v,C,S)=>{const[x,L,G]=v,K=To(L);x===this.userId&&r.isPrefixOf(K)?K.length===s&&(p=p.add(G)):S.done()}).next(()=>this.dn(e,p))}dn(e,t){const r=[],s=[];return t.forEach(l=>{s.push(_a(e).get(l).next(d=>{if(null===d)throw rt();xt(d.userId===this.userId),r.push(gu(this.M,d))}))}),de.waitFor(s).next(()=>r)}removeMutationBatch(e,t){return ZD(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),de.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return de.resolve();const r=IDBKeyRange.lowerBound([this.userId]),s=[];return xh(e).Wt({range:r},(l,d,p)=>{if(l[0]===this.userId){const v=To(l[1]);s.push(v)}else p.done()}).next(()=>{xt(0===s.length)})})}containsKey(e,t){return Nv(e,this.userId,t)}wn(e){return Ab(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Nv(n,e,t){const r=lp(e,t.path),s=r[1],l=IDBKeyRange.lowerBound(r);let d=!1;return xh(n).Wt({range:l,jt:!0},(p,v,C)=>{const[S,x,L]=p;S===e&&x===s&&(d=!0),C.done()}).next(()=>d)}function _a(n){return Lr(n,"mutations")}function xh(n){return Lr(n,"documentMutations")}function Ab(n){return Lr(n,"mutationQueues")}class Nc{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Nc(0)}static yn(){return new Nc(-1)}}class GD{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new Nc(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>Ct.fromTimestamp(new er(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.In(e,s)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Ph(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(xt(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let s=0;const l=[];return Ph(e).Wt((d,p)=>{const v=fp(p);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(s++,l.push(this.removeTargetData(e,v)))}).next(()=>de.waitFor(l)).next(()=>s)}forEachTarget(e,t){return Ph(e).Wt((r,s)=>{const l=fp(s);t(l)})}pn(e){return Sb(e).get("targetGlobalKey").next(t=>(xt(null!==t),t))}In(e,t){return Sb(e).put("targetGlobalKey",t)}Tn(e,t){return Ph(e).put(Mc(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=cu(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Ph(e).Wt({range:s,index:"queryTargetsIndex"},(d,p,v)=>{const C=fp(p);Qf(t,C.target)&&(l=C,v.done())}).next(()=>l)}addMatchingKeys(e,t,r){const s=[],l=pl(e);return t.forEach(d=>{const p=Ii(d.path);s.push(l.put({targetId:r,path:p})),s.push(this.referenceDelegate.addReference(e,r,d))}),de.waitFor(s)}removeMatchingKeys(e,t,r){const s=pl(e);return de.forEach(t,l=>{const d=Ii(l.path);return de.waitFor([s.delete([r,d]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=pl(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=pl(e);let l=an();return s.Wt({range:r,jt:!0},(d,p,v)=>{const C=To(d[1]),S=new He(C);l=l.add(S)}).next(()=>l)}containsKey(e,t){const r=Ii(t.path),s=IDBKeyRange.bound([r],[K_(r)],!1,!0);let l=0;return pl(e).Wt({index:"documentTargetsIndex",jt:!0,range:s},([d,p],v,C)=>{0!==d&&(l++,C.done())}).next(()=>l>0)}Et(e,t){return Ph(e).get(t).next(r=>r?fp(r):null)}}function Ph(n){return Lr(n,"targets")}function Sb(n){return Lr(n,"targetGlobal")}function pl(n){return Lr(n,"targetDocuments")}function Rc(n){return Rv.apply(this,arguments)}function Rv(){return Rv=(0,be.Z)(function*(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==gb)throw n;Fe("LocalStore","Unexpectedly lost primary lease")}),Rv.apply(this,arguments)}function Mb([n,e],[t,r]){const s=Ut(n,t);return 0===s?Ut(e,r):s}class yp{constructor(e){this.An=e,this.buffer=new vn(Mb),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Mb(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class xb{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;Fe("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,be.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(s){Ac(s)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Rc(s)}yield t.Sn(e)}))}}class Pb{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return de.resolve(cs.A);const r=new yp(t);return this.Dn.forEachTarget(e,s=>r.Pn(s.sequenceNumber)).next(()=>this.Dn.xn(e,s=>r.Pn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(Ov)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ov):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,s,l,d,p,v,C;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),s=this.params.maximumSequenceNumbersToCollect):s=x,d=Date.now(),this.nthSequenceNumber(e,s))).next(x=>(r=x,p=Date.now(),this.removeTargets(e,r,t))).next(x=>(l=x,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(C=Date.now(),W_()<=nl.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-S}ms\n\tDetermined least recently used ${s} in `+(p-d)+`ms\n\tRemoved ${l} targets in `+(v-p)+`ms\n\tRemoved ${x} documents in `+(C-v)+`ms\nTotal Duration: ${C-S}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:x})))}}class Ob{constructor(e,t){this.db=e,this.garbageCollector=new Pb(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,s)=>t(s))}addReference(e,t,r){return _p(e,r)}removeReference(e,t,r){return _p(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return _p(e,t)}On(e,t){return function(r,s){let l=!1;return Ab(r).zt(d=>Nv(r,d,s).next(p=>(p&&(l=!0),de.resolve(!p)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let l=0;return this.Mn(e,(d,p)=>{if(p<=t){const v=this.On(e,d).next(C=>{if(!C)return l++,r.getEntry(e,d).next(()=>(r.removeEntry(d,Ct.min()),pl(e).delete([0,Ii(d.path)])))});s.push(v)}}).next(()=>de.waitFor(s)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return _p(e,t)}Mn(e,t){const r=pl(e);let s,l=cs.A;return r.Wt({index:"documentTargetsIndex"},([d,p],{path:v,sequenceNumber:C})=>{0===d?(l!==cs.A&&t(new He(To(s)),l),l=C,s=v):l=cs.A}).next(()=>{l!==cs.A&&t(new He(To(s)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function _p(n,e){return pl(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ii(e.path),sequenceNumber:r}));var r}class kv{constructor(){this.changes=new dl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?de.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Nb{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return kc(e).put(r)}removeEntry(e,t,r){return kc(e).delete(function(s,l){const d=s.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],hp(l),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=bn.newInvalidDocument(t);return kc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(vp(t))},(s,l)=>{r=this.$n(t,l)}).next(()=>r)}Bn(e,t){let r={size:0,document:bn.newInvalidDocument(t)};return kc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(vp(t))},(s,l)=>{r={document:this.$n(t,l),size:mp(l)}}).next(()=>r)}getEntries(e,t){let r=qs();return this.Ln(e,t,(s,l)=>{const d=this.$n(s,l);r=r.insert(s,d)}).next(()=>r)}Un(e,t){let r=qs(),s=new Cn(He.comparator);return this.Ln(e,t,(l,d)=>{const p=this.$n(l,d);r=r.insert(l,p),s=s.insert(l,mp(d))}).next(()=>({documents:r,qn:s}))}Ln(e,t,r){if(t.isEmpty())return de.resolve();let s=new vn(kb);t.forEach(v=>s=s.add(v));const l=IDBKeyRange.bound(vp(s.first()),vp(s.last())),d=s.getIterator();let p=d.getNext();return kc(e).Wt({index:"documentKeyIndex",range:l},(v,C,S)=>{const x=He.fromSegments([...C.prefixPath,C.collectionGroup,C.documentId]);for(;p&&kb(p,x)<0;)r(p,null),p=d.getNext();p&&p.isEqual(x)&&(r(p,C),p=d.hasNext()?d.getNext():null),p?S.Ut(vp(p)):S.done()}).next(()=>{for(;p;)r(p,null),p=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const s=[t.popLast().toArray(),t.lastSegment(),hp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return kc(e).qt(IDBKeyRange.bound(s,l,!0)).next(d=>{let p=qs();for(const v of d){const C=this.$n(He.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);p=p.insert(C.key,C)}return p})}getAllFromCollectionGroup(e,t,r,s){let l=qs();const d=Rb(t,r),p=Rb(t,js.max());return kc(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,p,!0)},(v,C,S)=>{const x=this.$n(He.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);l=l.insert(x.key,x),l.size===s&&S.done()}).next(()=>l)}newChangeBuffer(e){return new zD(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Fv(e).get("remoteDocumentGlobalKey").next(t=>(xt(!!t),t))}Fn(e,t){return Fv(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function _b(n,e){let t;if(e.document)t=tb(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=He.fromSegments(e.noDocument.path),s=Sc(e.noDocument.readTime);t=bn.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return rt();{const r=He.fromSegments(e.unknownDocument.path),s=Sc(e.unknownDocument.version);t=bn.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime(function(r){const s=new er(r[0],r[1]);return Ct.fromTimestamp(s)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(Ct.min()))return r}return bn.newInvalidDocument(e)}}class zD extends kv{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new dl(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const t=[];let r=0,s=new vn((l,d)=>Ut(l.canonicalString(),d.canonicalString()));return this.changes.forEach((l,d)=>{const p=this.Gn.get(l);if(t.push(this.Kn.removeEntry(e,l,p.readTime)),d.isValidDocument()){const v=vb(this.Kn.M,d);s=s.add(l.path.popLast()),r+=mp(v)-p.size,t.push(this.Kn.addEntry(e,l,v))}else if(r-=p.size,this.trackRemovals){const v=vb(this.Kn.M,d.convertToNoDocument(Ct.min()));t.push(this.Kn.addEntry(e,l,v))}}),s.forEach(l=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.Kn.updateMetadata(e,r)),de.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:s})=>(s.forEach((l,d)=>{this.Gn.set(l,{size:d,readTime:r.get(l).readTime})}),r))}}function Fv(n){return Lr(n,"remoteDocumentGlobal")}function kc(n){return Lr(n,"remoteDocumentsV14")}function vp(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Rb(n,e){const t=e.documentKey.path.toArray();return[n,hp(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function kb(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(s=Ut(t[l],r[l]),s)return s;return s=Ut(t.length,r.length),s||(s=Ut(t[t.length-2],r[r.length-2]),s||Ut(t[t.length-1],r[r.length-1]))}class Ep{constructor(e){this.M=e}kt(e,t,r,s){const l=new Zm("createOrUpgrade",t);var p;r<1&&s>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ab,{unique:!0}),p.createObjectStore("documentMutations"),Fb(e),function(p){p.createObjectStore("remoteDocuments")}(e));let d=de.resolve();return r<3&&s>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),Fb(e)),d=d.next(()=>function(p){const v=p.store("targetGlobal"),C={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ct.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",C)}(l))),r<4&&s>=4&&(0!==r&&(d=d.next(()=>function(p,v){return v.store("mutations").qt().next(C=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ab,{unique:!0});const S=v.store("mutations"),x=C.map(L=>S.put(L));return de.waitFor(x)})}(e,l))),d=d.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&s>=5&&(d=d.next(()=>this.Qn(l))),r<6&&s>=6&&(d=d.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.jn(l)))),r<7&&s>=7&&(d=d.next(()=>this.Wn(l))),r<8&&s>=8&&(d=d.next(()=>this.zn(e,l))),r<9&&s>=9&&(d=d.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&s>=10&&(d=d.next(()=>this.Hn(l))),r<11&&s>=11&&(d=d.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(d=d.next(()=>{!function(p){const v=p.createObjectStore("documentOverlays",{keyPath:kD});v.createIndex("collectionPathOverlayIndex",FD,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",LD,{unique:!1})}(e)})),r<13&&s>=13&&(d=d.next(()=>function(p){const v=p.createObjectStore("remoteDocumentsV14",{keyPath:MD});v.createIndex("documentKeyIndex",Cv),v.createIndex("collectionGroupIndex",xD)}(e)).next(()=>this.Jn(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(d=d.next(()=>{!function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:ND}).createIndex("sequenceNumberIndex",Tv,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:RD}).createIndex("documentKeyIndex",hb,{unique:!1})}(e)})),d}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,s)=>{t+=mp(s)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(s=>de.forEach(s,l=>{const d=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",d).next(p=>de.forEach(p,v=>{xt(v.userId===l.userId);const C=gu(this.M,v);return ZD(e,l.userId,C).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const l=[];return r.Wt((d,p)=>{const v=new Kt(d),C=[0,Ii(v)];l.push(t.get(C).next(S=>S?de.resolve():t.put({targetId:0,path:Ii(v),sequenceNumber:s.highestListenSequenceNumber})))}).next(()=>de.waitFor(l))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:OD});const r=t.store("collectionParents"),s=new Db,l=d=>{if(s.add(d)){const p=d.lastSegment(),v=d.popLast();return r.put({collectionId:p,parent:Ii(v)})}};return t.store("remoteDocuments").Wt({jt:!0},(d,p)=>{const v=new Kt(d);return l(v.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([d,p,v],C)=>{const S=To(p);return l(S.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,s)=>{const l=fp(s),d=Mc(this.M,l);return t.put(d)})}Jn(e,t){const r=t.store("remoteDocuments"),s=[];return r.Wt((l,d)=>{const p=t.store("remoteDocumentsV14"),v=(C=d,C.document?new He(Kt.fromString(C.document.name).popFirst(5)):C.noDocument?He.fromSegments(C.noDocument.path):C.unknownDocument?He.fromSegments(C.unknownDocument.path):rt()).path.toArray();var C;const S={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};s.push(p.put(S))}).next(()=>de.waitFor(s))}}function Fb(n){n.createObjectStore("targetDocuments",{keyPath:db}).createIndex("documentTargetsIndex",PD,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",cb,{unique:!0}),n.createObjectStore("targetGlobal")}const wp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Zs{constructor(e,t,r,s,l,d,p,v,C,S,x=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=l,this.window=d,this.document=p,this.Xn=C,this.Zn=S,this.ts=x,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=L=>Promise.resolve(),!Zs.vt())throw new xe(le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ob(this,s),this.hs=t+"main",this.M=new yb(v),this.ls=new Do(this.hs,this.ts,new Ep(this.M)),this.fs=new GD(this.referenceDelegate,this.M),this.ds=new Nb(this.M),this._s=new Eb,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===S&&fr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xe(le.FAILED_PRECONDITION,wp);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new cs(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,be.Z)(function*(s){if(t.started)return e(s)});return function(s){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,be.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,be.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Oh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if(Ac(e))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return bp(e).get("owner").next(t=>de.resolve(this.Ps(t)))}Vs(e){return Oh(e).delete(this.clientId)}vs(){var e=this;return(0,be.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const s=Lr(r,"clientMetadata");return s.qt().next(l=>{const d=e.Ds(l,18e5),p=l.filter(v=>-1===d.indexOf(v));return de.forEach(p,v=>s.delete(v.clientId)).next(()=>p)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?de.resolve(!0):bp(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new xe(le.FAILED_PRECONDITION,wp);return!1}}return!(!this.networkEnabled||!this.inForeground)||Oh(e).qt().next(r=>void 0===this.Ds(r,5e3).find(s=>{if(this.clientId!==s.clientId){const d=!this.inForeground&&s.inForeground,p=this.networkEnabled===s.networkEnabled;if(!this.networkEnabled&&s.networkEnabled||d&&p)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Fe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,be.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Wm(t,cs.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>Oh(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return Ib.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new qD(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return Mv.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){Fe("IndexedDbPersistence","Starting transaction:",e);const s="readonly"===t?"readonly":"readwrite",l=14===(d=this.ts)?VD:13===d?pb:12===d?UD:11===d?fb:void rt();var d;let p;return this.ls.runTransaction(e,s,l,v=>(p=new Wm(v,this.es?this.es.next():cs.A),"readwrite-primary"===t?this.Es(p).next(C=>!!C||this.As(p)).next(C=>{if(!C)throw fr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new xe(le.FAILED_PRECONDITION,gb);return r(p)}).next(C=>this.bs(p).next(()=>C)):this.$s(p).next(()=>r(p)))).then(v=>(p.raiseOnCommittedEvent(),v))}$s(e){return bp(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.Ps(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new xe(le.FAILED_PRECONDITION,wp)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return bp(e).put("owner",t)}static vt(){return Do.vt()}Rs(e){const t=bp(e);return t.get("owner").next(r=>this.Ps(r)?(Fe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):de.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(fr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,St.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Fe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return fr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){fr("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function bp(n){return Lr(n,"owner")}function Oh(n){return Lr(n,"clientMetadata")}function Fc(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class WD{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(s=>{for(const l of r)l.applyToLocalView(s);return s})}qs(e,t){e.forEach((r,s)=>{for(const l of t)l.applyToLocalView(s)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return He.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.js(e,t.path):Nm(t)?this.Ws(e,t,r):this.zs(e,t,r);var s}js(e,t){return this.Ls(e,new He(t)).next(r=>{let s=vh();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}Ws(e,t,r){const s=t.collectionGroup;let l=vh();return this.indexManager.getCollectionParents(e,s).next(d=>de.forEach(d,p=>{const v=(C=t,S=p.child(s),new hu(S,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,S;return this.zs(e,v,r).next(C=>{C.forEach((S,x)=>{l=l.insert(S,x)})})}).next(()=>l))}zs(e,t,r){let s;return this.ds.getAllFromCollection(e,t.path,r).next(l=>(s=l,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(l=>{for(const d of l)for(const p of d.mutations){const v=p.key;let C=s.get(v);null==C&&(C=bn.newInvalidDocument(v),s=s.insert(v,C)),Fm(p,C,d.localWriteTime),C.isFoundDocument()||(s=s.remove(v))}}).next(()=>(s.forEach((l,d)=>{gv(t,d)||(s=s.remove(l))}),s))}}class Lv{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=s}static Ys(e,t){let r=an(),s=an();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new Lv(e,t.fromCache,r,s)}}class Lb{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,r,s){return this.ti(e,t).next(l=>l||this.ei(e,t,s,r)).next(l=>l||this.ni(e,t))}ti(e,t){return de.resolve(null)}ei(e,t,r,s){return function hv(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||s.isEqual(Ct.min())?this.ni(e,t):this.Zs.Ks(e,r).next(l=>{const d=this.si(t,l);return this.ii(t,d,r,s)?this.ni(e,t):(W_()<=nl.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Rm(t)),this.ri(e,d,t,ov(s,-1)))})}si(e,t){let r=new vn(Pw(e));return t.forEach((s,l)=>{gv(e,l)&&(r=r.add(l))}),r}ii(e,t,r,s){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}ni(e,t){return W_()<=nl.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",Rm(t)),this.Zs.Qs(e,t,js.min())}ri(e,t,r,s){return this.Zs.Qs(e,r,s).next(l=>(t.forEach(d=>{l=l.insert(d.key,d)}),l))}}class Jm{constructor(e,t,r,s){this.persistence=e,this.oi=t,this.M=s,this.ui=new Cn(Ut),this.ai=new dl(l=>cu(l),Qf),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(r)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new WD(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function Cp(n,e,t,r){return new Jm(n,e,t,r)}function Ub(n,e){return Uv.apply(this,arguments)}function Uv(){return Uv=(0,be.Z)(function*(n,e){const t=Ke(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.Bs.getAllMutationBatches(r).next(l=>(s=l,t.li(e),t.Bs.getAllMutationBatches(r))).next(l=>{const d=[],p=[];let v=an();for(const C of s){d.push(C.batchId);for(const S of C.mutations)v=v.add(S.key)}for(const C of l){p.push(C.batchId);for(const S of C.mutations)v=v.add(S.key)}return t.fi.Ks(r,v).next(C=>({di:C,removedBatchIds:d,addedBatchIds:p}))})})}),Uv.apply(this,arguments)}function Vb(n,e){const t=Ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),l=t.hi.newChangeBuffer({trackRemovals:!0});return function(d,p,v,C){const S=v.batch,x=S.keys();let L=de.resolve();return x.forEach(G=>{L=L.next(()=>C.getEntry(p,G)).next(K=>{const ye=v.docVersions.get(G);xt(null!==ye),K.version.compareTo(ye)<0&&(S.applyToRemoteDocument(K,v),K.isValidDocument()&&(K.setReadTime(v.commitVersion),C.addEntry(K)))})}),L.next(()=>d.Bs.removeMutationBatch(p,S))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.fi.Ks(r,s))})}function Vv(n){const e=Ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function Bv(n,e){const t=Ke(n),r=e.snapshotVersion;let s=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.hi.newChangeBuffer({trackRemovals:!0});s=t.ui;const p=[];e.targetChanges.forEach((C,S)=>{const x=s.get(S);if(!x)return;p.push(t.fs.removeMatchingKeys(l,C.removedDocuments,S).next(()=>t.fs.addMatchingKeys(l,C.addedDocuments,S)));let L=x.withSequenceNumber(l.currentSequenceNumber);var G,K,ye;e.targetMismatches.has(S)?L=L.withResumeToken(tr.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):C.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(C.resumeToken,r)),s=s.insert(S,L),K=L,ye=C,(0===(G=x).resumeToken.approximateByteSize()||K.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=3e8||ye.addedDocuments.size+ye.modifiedDocuments.size+ye.removedDocuments.size>0)&&p.push(t.fs.updateTargetData(l,L))});let v=qs();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(l,C))}),p.push(jv(l,d,e.documentUpdates).next(C=>{v=C})),!r.isEqual(Ct.min())){const C=t.fs.getLastRemoteSnapshotVersion(l).next(S=>t.fs.setTargetsMetadata(l,l.currentSequenceNumber,r));p.push(C)}return de.waitFor(p).next(()=>d.apply(l)).next(()=>t.fi.Gs(l,v)).next(()=>v)}).then(l=>(t.ui=s,l))}function jv(n,e,t){let r=an();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let l=qs();return t.forEach((d,p)=>{const v=s.get(d);p.isNoDocument()&&p.version.isEqual(Ct.min())?(e.removeEntry(d,p.readTime),l=l.insert(d,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||0===p.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(p),l=l.insert(d,p)):Fe("LocalStore","Ignoring outdated watch update for ",d,". Current version:",v.version," Watch version:",p.version)}),l})}function KD(n,e){const t=Ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function Nh(n,e){const t=Ke(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.fs.getTargetData(r,e).next(l=>l?(s=l,de.resolve(s)):t.fs.allocateTargetId(r).next(d=>(s=new pu(e,d,0,r.currentSequenceNumber),t.fs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.ui.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.ui=t.ui.insert(r.targetId,r),t.ai.set(e,r.targetId)),r})}function Tp(n,e,t){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,be.Z)(function*(n,e,t){const r=Ke(n),s=r.ui.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,d=>r.persistence.referenceDelegate.removeTarget(d,s)))}catch(d){if(!Ac(d))throw d;Fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.ui=r.ui.remove(e),r.ai.delete(s.target)}),Dp.apply(this,arguments)}function Rh(n,e,t){const r=Ke(n);let s=Ct.min(),l=an();return r.persistence.runTransaction("Execute query","readonly",d=>function(p,v,C){const S=Ke(p),x=S.ai.get(C);return void 0!==x?de.resolve(S.ui.get(x)):S.fs.getTargetData(v,C)}(r,d,hs(e)).next(p=>{if(p)return s=p.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(d,p.targetId).next(v=>{l=v})}).next(()=>r.oi.Qs(d,e,t?s:Ct.min(),t?l:an())).next(p=>(ey(r,xw(e),p),{documents:p,_i:l})))}function $v(n,e){const t=Ke(n),r=Ke(t.fs),s=t.ui.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Et(l,e).next(d=>d?d.target:null))}function Xm(n,e){const t=Ke(n),r=t.ci.get(e)||Ct.min();return t.persistence.runTransaction("Get new document changes","readonly",s=>t.hi.getAllFromCollectionGroup(s,e,ov(r,-1),Number.MAX_SAFE_INTEGER)).then(s=>(ey(t,e,s),s))}function ey(n,e,t){let r=Ct.min();t.forEach((s,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.ci.set(e,r)}function Hv(){return Hv=(0,be.Z)(function*(n,e,t,r){const s=Ke(n);let l=an(),d=qs();for(const C of t){const S=e.wi(C.metadata.name);C.document&&(l=l.add(S));const x=e.mi(C);x.setReadTime(e.gi(C.metadata.readTime)),d=d.insert(S,x)}const p=s.hi.newChangeBuffer({trackRemovals:!0}),v=yield Nh(s,(C=r,hs(Ec(Kt.fromString(`__bundle__/docs/${C}`)))));var C;return s.persistence.runTransaction("Apply bundle documents","readwrite",C=>jv(C,p,d).next(S=>(p.apply(C),S)).next(S=>s.fs.removeMatchingKeysForTargetId(C,v.targetId).next(()=>s.fs.addMatchingKeys(C,l,v.targetId)).next(()=>s.fi.Gs(C,S)).next(()=>S)))}),Hv.apply(this,arguments)}function QD(n,e){return qv.apply(this,arguments)}function qv(){return qv=(0,be.Z)(function*(n,e,t=an()){const r=yield Nh(n,hs(xc(e.bundledQuery))),s=Ke(n);return s.persistence.runTransaction("Save named query","readwrite",l=>{const d=zn(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return s._s.saveNamedQuery(l,e);const p=r.withResumeToken(tr.EMPTY_BYTE_STRING,d);return s.ui=s.ui.insert(p.targetId,p),s.fs.updateTargetData(l,p).next(()=>s.fs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>s.fs.addMatchingKeys(l,t,r.targetId)).next(()=>s._s.saveNamedQuery(l,e))})}),qv.apply(this,arguments)}class Bb{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return de.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var r;return this.yi.set(t.id,{id:(r=t).id,version:r.version,createTime:zn(r.createTime)}),de.resolve()}getNamedQuery(e,t){return de.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(r=t).name,query:xc(r.bundledQuery),readTime:zn(r.readTime)}),de.resolve();var r}}class Zv{constructor(){this.overlays=new Cn(He.comparator),this.Ii=new Map}getOverlay(e,t){return de.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((s,l)=>{this.Xt(e,t,l)}),de.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Ii.get(r);return void 0!==s&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.Ii.delete(r)),de.resolve()}getOverlaysForCollection(e,t,r){const s=Tn(),l=t.length+1,d=new He(t.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,C=v.getKey();if(!t.isPrefixOf(C.path))break;C.path.length===l&&v.largestBatchId>r&&s.set(v.getKey(),v)}return de.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let l=new Cn((C,S)=>C-S);const d=this.overlays.getIterator();for(;d.hasNext();){const C=d.getNext().value;if(C.getKey().getCollectionGroup()===t&&C.largestBatchId>r){let S=l.get(C.largestBatchId);null===S&&(S=Tn(),l=l.insert(C.largestBatchId,S)),S.set(C.getKey(),C)}}const p=Tn(),v=l.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((C,S)=>p.set(C,S)),!(p.size()>=s)););return de.resolve(p)}Xt(e,t,r){if(null===r)return;const s=this.overlays.get(r.key);if(null!==s){const d=this.Ii.get(s.largestBatchId).delete(r.key);this.Ii.set(s.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Av(t,r));let l=this.Ii.get(t);void 0===l&&(l=an(),this.Ii.set(t,l)),this.Ii.set(t,l.add(r.key))}}class ty{constructor(){this.Ti=new vn(Ur.Ei),this.Ai=new vn(Ur.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const r=new Ur(e,t);this.Ti=this.Ti.add(r),this.Ai=this.Ai.add(r)}bi(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Pi(new Ur(e,t))}Vi(e,t){e.forEach(r=>this.removeReference(r,t))}vi(e){const t=new He(new Kt([])),r=new Ur(t,e),s=new Ur(t,e+1),l=[];return this.Ai.forEachInRange([r,s],d=>{this.Pi(d),l.push(d.key)}),l}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new He(new Kt([])),r=new Ur(t,e),s=new Ur(t,e+1);let l=an();return this.Ai.forEachInRange([r,s],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new Ur(e,0),r=this.Ti.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ur{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return He.comparator(e.key,t.key)||Ut(e.Ci,t.Ci)}static Ri(e,t){return Ut(e.Ci,t.Ci)||He.comparator(e.key,t.key)}}class jb{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new vn(Ur.Ei)}checkEmpty(e){return de.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,s){const l=this.xi;this.xi++;const d=new Iv(l,t,r,s);this.Bs.push(d);for(const p of s)this.Ni=this.Ni.add(new Ur(p.key,l)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return de.resolve(d)}lookupMutationBatch(e,t){return de.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.Mi(t+1),l=s<0?0:s;return de.resolve(this.Bs.length>l?this.Bs[l]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return de.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ur(t,0),s=new Ur(t,Number.POSITIVE_INFINITY),l=[];return this.Ni.forEachInRange([r,s],d=>{const p=this.ki(d.Ci);l.push(p)}),de.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new vn(Ut);return t.forEach(s=>{const l=new Ur(s,0),d=new Ur(s,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([l,d],p=>{r=r.add(p.Ci)})}),de.resolve(this.Oi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let l=r;He.isDocumentKey(l)||(l=l.child(""));const d=new Ur(new He(l),0);let p=new vn(Ut);return this.Ni.forEachWhile(v=>{const C=v.key.path;return!!r.isPrefixOf(C)&&(C.length===s&&(p=p.add(v.Ci)),!0)},d),de.resolve(this.Oi(p))}Oi(e){const t=[];return e.forEach(r=>{const s=this.ki(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){xt(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let r=this.Ni;return de.forEach(t.mutations,s=>{const l=new Ur(s.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Ni=r})}_n(e){}containsKey(e,t){const r=new Ur(t,0),s=this.Ni.firstAfterOrEqual(r);return de.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return de.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class $b{constructor(e){this.$i=e,this.docs=new Cn(He.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),l=s?s.size:0,d=this.$i(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return de.resolve(r?r.document.mutableCopy():bn.newInvalidDocument(t))}getEntries(e,t){let r=qs();return t.forEach(s=>{const l=this.docs.get(s);r=r.insert(s,l?l.document.mutableCopy():bn.newInvalidDocument(s))}),de.resolve(r)}getAllFromCollection(e,t,r){let s=qs();const l=new He(t.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){const{key:p,value:{document:v}}=d.getNext();if(!t.isPrefixOf(p.path))break;p.path.length>t.length+1||av(hD(v),r)<=0||(s=s.insert(v.key,v.mutableCopy()))}return de.resolve(s)}getAllFromCollectionGroup(e,t,r,s){rt()}Bi(e,t){return de.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new JD(this)}getSize(e){return de.resolve(this.size)}}class JD extends kv{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Kn.addEntry(e,s)):this.Kn.removeEntry(r)}),de.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class Hb{constructor(e){this.persistence=e,this.Li=new dl(t=>cu(t),Qf),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.Ui=0,this.qi=new ty,this.targetCount=0,this.Ki=Nc.gn()}forEachTarget(e,t){return this.Li.forEach((r,s)=>t(s)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ui&&(this.Ui=t),de.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new Nc(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,de.resolve()}updateTargetData(e,t){return this.Tn(t),de.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,t,r){let s=0;const l=[];return this.Li.forEach((d,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.Li.delete(d),l.push(this.removeMatchingKeysForTargetId(e,p.targetId)),s++)}),de.waitFor(l).next(()=>s)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,t){const r=this.Li.get(t)||null;return de.resolve(r)}addMatchingKeys(e,t,r){return this.qi.bi(t,r),de.resolve()}removeMatchingKeys(e,t,r){this.qi.Vi(t,r);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach(d=>{l.push(s.markPotentiallyOrphaned(e,d))}),de.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),de.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qi.Di(t);return de.resolve(r)}containsKey(e,t){return de.resolve(this.qi.containsKey(t))}}class qb{constructor(e,t){this.Gi={},this.overlays={},this.es=new cs(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new Hb(this),this.indexManager=new HD,this.ds=new $b(r=>this.referenceDelegate.Qi(r)),this.M=new yb(t),this._s=new Bb(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Zv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Gi[e.toKey()];return r||(r=new jb(t,this.referenceDelegate),this.Gi[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){Fe("MemoryPersistence","Starting transaction:",e);const s=new XD(this.es.next());return this.referenceDelegate.ji(),r(s).next(l=>this.referenceDelegate.Wi(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}zi(e,t){return de.or(Object.values(this.Gi).map(r=>()=>r.containsKey(e,t)))}}class XD extends Dv{constructor(e){super(),this.currentSequenceNumber=e}}class ny{constructor(e){this.persistence=e,this.Hi=new ty,this.Ji=null}static Yi(e){return new ny(e)}get Xi(){if(this.Ji)return this.Ji;throw rt()}addReference(e,t,r){return this.Hi.addReference(r,t),this.Xi.delete(r.toString()),de.resolve()}removeReference(e,t,r){return this.Hi.removeReference(r,t),this.Xi.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),de.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(s=>this.Xi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(l=>this.Xi.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.Xi,r=>{const s=He.fromPath(r);return this.Zi(e,s).next(l=>{l||t.removeEntry(s,Ct.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(r=>{r?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return de.or([()=>de.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function Zb(n,e){return`firestore_clients_${n}_${e}`}function yi(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function gl(n,e){return`firestore_targets_${n}_${e}`}class ry{constructor(e,t,r,s){this.user=e,this.batchId=t,this.state=r,this.error=s}static tr(e,t,r){const s=JSON.parse(r);let l,d="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(l=new xe(s.error.code,s.error.message))),d?new ry(e,t,s.state,l):(fr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ip{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static tr(e,t){const r=JSON.parse(t);let s,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(s=new xe(r.error.code,r.error.message))),l?new Ip(e,r.state,s):(fr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gv{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const r=JSON.parse(t);let s="object"==typeof r&&r.activeTargetIds instanceof Array,l=rp();for(let d=0;s&&d<r.activeTargetIds.length;++d)s=X_(r.activeTargetIds[d]),l=l.add(r.activeTargetIds[d]);return s?new Gv(e,l):(fr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Lc{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Lc(t.clientId,t.onlineState):(fr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class zv{constructor(){this.activeTargetIds=rp()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ap{constructor(e,t,r,s,l){this.window=e,this.Yn=t,this.persistenceKey=r,this.ir=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new Cn(Ut),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.hr=Zb(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new zv),this.dr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,be.Z)(function*(){const t=yield e.syncEngine.Fs();for(const s of t){if(s===e.ir)continue;const l=e.getItem(Zb(e.persistenceKey,s));if(l){const d=Gv.tr(s,l);d&&(e.ar=e.ar.insert(d.clientId,d))}}e.yr();const r=e.storage.getItem(e.mr);if(r){const s=e.pr(r);s&&e.Ir(s)}for(const s of e.cr)e.ur(s);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((r,s)=>{s.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,r){this.Er(e,t,r),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(gl(this.persistenceKey,e));if(r){const s=Ip.tr(e,r);s&&(t=s.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(gl(this.persistenceKey,e))}updateQueryState(e,t,r){this.br(e,t,r)}handleUserChange(e,t,r){t.forEach(s=>{this.Ar(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Fe("SharedClientState","READ",e,t),t}setItem(e,t){Fe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Fe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Fe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.hr)return void fr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,be.Z)(function*(){if(t.started){if(null!==r.key)if(t.dr.test(r.key)){if(null==r.newValue){const s=t.vr(r.key);return t.Sr(s,null)}{const s=t.Dr(r.key,r.newValue);if(s)return t.Sr(s.clientId,s)}}else if(t._r.test(r.key)){if(null!==r.newValue){const s=t.Cr(r.key,r.newValue);if(s)return t.Nr(s)}}else if(t.wr.test(r.key)){if(null!==r.newValue){const s=t.kr(r.key,r.newValue);if(s)return t.Mr(s)}}else if(r.key===t.mr){if(null!==r.newValue){const s=t.pr(r.newValue);if(s)return t.Ir(s)}}else if(r.key===t.lr){const s=function(l){let d=cs.A;if(null!=l)try{const p=JSON.parse(l);xt("number"==typeof p),d=p}catch(p){fr("SharedClientState","Failed to read sequence number from WebStorage",p)}return d}(r.newValue);s!==cs.A&&t.sequenceNumberHandler(s)}else if(r.key===t.gr){const s=t.Or(r.newValue);yield Promise.all(s.map(l=>t.syncEngine.Fr(l)))}}else t.cr.push(r)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,r){const s=new ry(this.currentUser,e,t,r),l=yi(this.persistenceKey,this.currentUser,e);this.setItem(l,s.er())}Ar(e){const t=yi(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,r){const s=gl(this.persistenceKey,e),l=new Ip(e,t,r);this.setItem(s,l.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const r=this.vr(e);return Gv.tr(r,t)}Cr(e,t){const r=this._r.exec(e),s=Number(r[1]);return ry.tr(new kr(void 0!==r[2]?r[2]:null),s,t)}kr(e,t){const r=this.wr.exec(e),s=Number(r[1]);return Ip.tr(s,t)}pr(e){return Lc.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,be.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const r=t?this.ar.insert(e,t):this.ar.remove(e),s=this.Tr(this.ar),l=this.Tr(r),d=[],p=[];return l.forEach(v=>{s.has(v)||d.push(v)}),s.forEach(v=>{l.has(v)||p.push(v)}),this.syncEngine.Lr(d,p).then(()=>{this.ar=r})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=rp();return e.forEach((r,s)=>{t=t.unionWith(s.activeTargetIds)}),t}}class Gb{constructor(){this.Ur=new zv,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new zv,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class zb{Kr(e){}shutdown(){}}class Wb{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const eI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Wv{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class Kb extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,s,l){const d=this.ho(e,t);Fe("RestConnection","Sending: ",d,r);const p={};return this.lo(p,s,l),this.fo(e,d,p,r).then(v=>(Fe("RestConnection","Received: ",v),v),v=>{throw dc("RestConnection",`${e} failed with error: `,v,"url: ",d,"request:",r),v})}_o(e,t,r,s,l){return this.co(e,t,r,s,l)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+oh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,l)=>e[l]=s),r&&r.headers.forEach((s,l)=>e[l]=s)}ho(e,t){return`${this.uo}/v1/${t}:${eI[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,s){return new Promise((l,d)=>{const p=new nD;p.listenOnce(eD.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Am.NO_ERROR:const C=p.getResponseJson();Fe("Connection","XHR received:",JSON.stringify(C)),l(C);break;case Am.TIMEOUT:Fe("Connection",'RPC "'+e+'" timed out'),d(new xe(le.DEADLINE_EXCEEDED,"Request time out"));break;case Am.HTTP_ERROR:const S=p.getStatus();if(Fe("Connection",'RPC "'+e+'" failed with status:',S,"response text:",p.getResponseText()),S>0){const x=p.getResponseJson().error;if(x&&x.status&&x.message){const L=function(G){const K=G.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(K)>=0?K:le.UNKNOWN}(x.status);d(new xe(L,x.message))}else d(new xe(le.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new xe(le.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{Fe("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(s);p.send(t,"POST",v,r,15)})}wo(e,t,r){const s=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=hw(),d=fw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new tD({})),this.lo(p.initMessageHeaders,t,r),(0,St.uI)()||(0,St.b$)()||(0,St.d)()||(0,St.w1)()||(0,St.Mn)()||(0,St.ru)()||(p.httpHeadersOverwriteParam="$httpHeaders");const v=s.join("");Fe("Connection","Creating WebChannel: "+v,p);const C=l.createWebChannel(v,p);let S=!1,x=!1;const L=new Wv({Jr:K=>{x?Fe("Connection","Not sending because WebChannel is closed:",K):(S||(Fe("Connection","Opening WebChannel transport."),C.open(),S=!0),Fe("Connection","WebChannel sending:",K),C.send(K))},Yr:()=>C.close()}),G=(K,ye,Re)=>{K.listen(ye,gt=>{try{Re(gt)}catch(yt){setTimeout(()=>{throw yt},0)}})};return G(C,qf.EventType.OPEN,()=>{x||Fe("Connection","WebChannel transport opened.")}),G(C,qf.EventType.CLOSE,()=>{x||(x=!0,Fe("Connection","WebChannel transport closed"),L.ro())}),G(C,qf.EventType.ERROR,K=>{x||(x=!0,dc("Connection","WebChannel transport errored:",K),L.ro(new xe(le.UNAVAILABLE,"The operation could not be completed")))}),G(C,qf.EventType.MESSAGE,K=>{var ye;if(!x){const Re=K.data[0];xt(!!Re);const gt=Re,yt=gt.error||(null===(ye=gt[0])||void 0===ye?void 0:ye.error);if(yt){Fe("Connection","WebChannel received error:",yt);const Tt=yt.status;let ut=function(Bt){const un=Cr[Bt];if(void 0!==un)return Zw(un)}(Tt),Ft=yt.message;void 0===ut&&(ut=le.INTERNAL,Ft="Unknown error status: "+Tt+" with message "+yt.message),x=!0,L.ro(new xe(ut,Ft)),C.close()}else Fe("Connection","WebChannel received:",Re),L.oo(Re)}}),G(d,pw.STAT_EVENT,K=>{K.stat===gw.PROXY?Fe("Connection","Detected buffering proxy"):K.stat===gw.NOPROXY&&Fe("Connection","Detected no buffering proxy")}),setTimeout(()=>{L.io()},0),L}}function Kv(){return"undefined"!=typeof window?window:null}function Uc(){return"undefined"!=typeof document?document:null}function Vc(n){return new Jw(n,!0)}class Yb{constructor(e,t,r=1e3,s=1.5,l=6e4){this.Yn=e,this.timerId=t,this.mo=r,this.yo=s,this.po=l,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),s=Math.max(0,t-r);s>0&&Fe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,s,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Yv{constructor(e,t,r,s,l,d,p,v){this.Yn=e,this.Vo=r,this.vo=s,this.So=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Yb(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,be.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,be.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,be.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(fr(t.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===le.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Do===t&&this.Qo(r,s)},r=>{e(()=>{const s=new xe(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(s)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(s=>{r(()=>this.jo(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Oo(){var e=this;this.state=5,this.No.Ro((0,be.Z)(function*(){e.state=0,e.start()}))}jo(e){return Fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tI extends Yv{constructor(e,t,r,s,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,d),this.M=l}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function wS(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:rt(),s=e.targetChange.targetIds||[],l=function(v,C){return v.N?(xt(void 0===C||"string"==typeof C),tr.fromBase64String(C||"")):(xt(void 0===C||C instanceof Uint8Array),tr.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(v){const C=void 0===v.code?le.UNKNOWN:Zw(v.code);return new xe(C,v.message||"")}(d);t=new Ww(r,s,l,p||null)}else if("documentChange"in e){const r=e.documentChange,s=ya(n,r.document.name),l=zn(r.document.updateTime),d=new mi({mapValue:{fields:r.document.fields}}),p=bn.newFoundDocument(s,l,d);t=new ip(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const r=e.documentDelete,s=ya(n,r.document),l=r.readTime?zn(r.readTime):Ct.min(),d=bn.newNoDocument(s,l);t=new ip([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,s=ya(n,r.document);t=new ip([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return rt();{const r=e.filter,l=new Hw(r.count||0);t=new zw(r.targetId,l)}}var v;return t}(this.M,e),r=function(s){if(!("targetChange"in s))return Ct.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Ct.min():l.readTime?zn(l.readTime):Ct.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=Ch(this.M),t.addTarget=function(s,l){let d;const p=l.target;return d=Pm(p)?{documents:wv(s,p)}:{query:ap(s,p)},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?d.resumeToken=_v(s,l.resumeToken):l.snapshotVersion.compareTo(Ct.min())>0&&(d.readTime=bh(s,l.snapshotVersion.toTimestamp())),d}(this.M,e);const r=function DD(n,e){const t=function(r,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return rt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=Ch(this.M),t.removeTarget=e,this.Lo(t)}}class Qb extends Yv{constructor(e,t,r,s,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,d),this.M=l,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function bS(n,e){return n&&n.length>0?(xt(void 0!==e),n.map(t=>function(r,s){let l=zn(r.updateTime?r.updateTime:s);return l.isEqual(Ct.min())&&(l=zn(s)),new Bw(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=zn(e.commitTime);return this.listener.tu(r,t)}return xt(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Ch(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>qm(this.M,r))};this.Lo(t)}}class iy extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.M=s,this.su=!1}iu(){if(this.su)throw new xe(le.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.So.co(e,t,r,s,l)).catch(s=>{throw"FirebaseError"===s.name?(s.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new xe(le.UNKNOWN,s.toString())})}_o(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.So._o(e,t,r,s,l)).catch(s=>{throw"FirebaseError"===s.name?(s.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new xe(le.UNKNOWN,s.toString())})}terminate(){this.su=!0}}class Jb{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(fr(t),this.uu=!1):Fe("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class nI{constructor(e,t,r,s,l){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=l,this.gu.Kr(p=>{r.enqueueAndForget((0,be.Z)(function*(){var v;ml(d)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,be.Z)(function*(C){const S=Ke(C);S.wu.add(4),yield Mp(S),S.yu.set("Unknown"),S.wu.delete(4),yield Bc(S)}),function(C){return v.apply(this,arguments)})(d))}))}),this.yu=new Jb(r,s)}}function Bc(n){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,be.Z)(function*(n){if(ml(n))for(const e of n.mu)yield e(!0)}),Sp.apply(this,arguments)}function Mp(n){return Qv.apply(this,arguments)}function Qv(){return Qv=(0,be.Z)(function*(n){for(const e of n.mu)yield e(!1)}),Qv.apply(this,arguments)}function sy(n,e){const t=Ke(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),uy(t)?ay(t):$c(t).Mo()&&oy(t,e))}function kh(n,e){const t=Ke(n),r=$c(t);t._u.delete(e),r.Mo()&&Xb(t,e),0===t._u.size&&(r.Mo()?r.$o():ml(t)&&t.yu.set("Unknown"))}function oy(n,e){n.pu.Z(e.targetId),$c(n).Ho(e)}function Xb(n,e){n.pu.Z(e),$c(n).Jo(e)}function ay(n){n.pu=new sp({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n._u.get(e)||null}),$c(n).start(),n.yu.au()}function uy(n){return ml(n)&&!$c(n).ko()&&n._u.size>0}function ml(n){return 0===Ke(n).wu.size}function eC(n){n.pu=void 0}function tC(n){return Jv.apply(this,arguments)}function Jv(){return Jv=(0,be.Z)(function*(n){n._u.forEach((e,t)=>{oy(n,e)})}),Jv.apply(this,arguments)}function nC(n,e){return ly.apply(this,arguments)}function ly(){return ly=(0,be.Z)(function*(n,e){eC(n),uy(n)?(n.yu.lu(e),ay(n)):n.yu.set("Unknown")}),ly.apply(this,arguments)}function rC(n,e,t){return cy.apply(this,arguments)}function cy(){return cy=(0,be.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof Ww&&2===e.state&&e.cause)try{yield(r=(0,be.Z)(function*(s,l){const d=l.cause;for(const p of l.targetIds)s._u.has(p)&&(yield s.remoteSyncer.rejectListen(p,d),s._u.delete(p),s.pu.removeTarget(p))}),function(s,l){return r.apply(this,arguments)})(n,e)}catch(r){Fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield dy(n,r)}else if(e instanceof ip?n.pu.ut(e):e instanceof zw?n.pu._t(e):n.pu.ht(e),!t.isEqual(Ct.min()))try{const r=yield Vv(n.localStore);t.compareTo(r)>=0&&(yield function(s,l){const d=s.pu.yt(l);return d.targetChanges.forEach((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const C=s._u.get(v);C&&s._u.set(v,C.withResumeToken(p.resumeToken,l))}}),d.targetMismatches.forEach(p=>{const v=s._u.get(p);if(!v)return;s._u.set(p,v.withResumeToken(tr.EMPTY_BYTE_STRING,v.snapshotVersion)),Xb(s,p);const C=new pu(v.target,p,1,v.sequenceNumber);oy(s,C)}),s.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Fe("RemoteStore","Failed to raise snapshot:",r),yield dy(n,r)}var r}),cy.apply(this,arguments)}function dy(n,e,t){return Xv.apply(this,arguments)}function Xv(){return Xv=(0,be.Z)(function*(n,e,t){if(!Ac(e))throw e;n.wu.add(1),yield Mp(n),n.yu.set("Offline"),t||(t=()=>Vv(n.localStore)),n.asyncQueue.enqueueRetryable((0,be.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield Bc(n)}))}),Xv.apply(this,arguments)}function rI(n,e){return e().catch(t=>dy(n,t,e))}function jc(n){return iC.apply(this,arguments)}function iC(){return iC=(0,be.Z)(function*(n){const e=Ke(n),t=yu(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;CS(e);)try{const s=yield KD(e.localStore,r);if(null===s){0===e.du.length&&t.$o();break}r=s.batchId,TS(e,s)}catch(s){yield dy(e,s)}iI(e)&&sI(e)}),iC.apply(this,arguments)}function CS(n){return ml(n)&&n.du.length<10}function TS(n,e){n.du.push(e);const t=yu(n);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function iI(n){return ml(n)&&!yu(n).ko()&&n.du.length>0}function sI(n){yu(n).start()}function DS(n){return sC.apply(this,arguments)}function sC(){return sC=(0,be.Z)(function*(n){yu(n).nu()}),sC.apply(this,arguments)}function IS(n){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,be.Z)(function*(n){const e=yu(n);for(const t of n.du)e.Zo(t.mutations)}),Fh.apply(this,arguments)}function AS(n,e,t){return hy.apply(this,arguments)}function hy(){return hy=(0,be.Z)(function*(n,e,t){const r=n.du.shift(),s=dp.from(r,e,t);yield rI(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield jc(n)}),hy.apply(this,arguments)}function e0(n,e){return fy.apply(this,arguments)}function fy(){return fy=(0,be.Z)(function*(n,e){var t;e&&yu(n).Xo&&(yield(t=(0,be.Z)(function*(r,s){if(qw(l=s.code)&&l!==le.ABORTED){const d=r.du.shift();yu(r).Fo(),yield rI(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,s)),yield jc(r)}var l}),function(r,s){return t.apply(this,arguments)})(n,e)),iI(n)&&sI(n)}),fy.apply(this,arguments)}function t0(n,e){return oC.apply(this,arguments)}function oC(){return oC=(0,be.Z)(function*(n,e){const t=Ke(n);t.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const r=ml(t);t.wu.add(3),yield Mp(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield Bc(t)}),oC.apply(this,arguments)}function xp(n,e){return py.apply(this,arguments)}function py(){return py=(0,be.Z)(function*(n,e){const t=Ke(n);e?(t.wu.delete(2),yield Bc(t)):e||(t.wu.add(2),yield Mp(t),t.yu.set("Unknown"))}),py.apply(this,arguments)}function $c(n){return n.Iu||(n.Iu=function(e,t,r){const s=Ke(e);return s.iu(),new tI(t,s.So,s.authCredentials,s.appCheckCredentials,s.M,r)}(n.datastore,n.asyncQueue,{Xr:tC.bind(null,n),eo:nC.bind(null,n),zo:rC.bind(null,n)}),n.mu.push(function(){var e=(0,be.Z)(function*(t){t?(n.Iu.Fo(),uy(n)?ay(n):n.yu.set("Unknown")):(yield n.Iu.stop(),eC(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function yu(n){return n.Tu||(n.Tu=function(e,t,r){const s=Ke(e);return s.iu(),new Qb(t,s.So,s.authCredentials,s.appCheckCredentials,s.M,r)}(n.datastore,n.asyncQueue,{Xr:DS.bind(null,n),eo:e0.bind(null,n),eu:IS.bind(null,n),tu:AS.bind(null,n)}),n.mu.push(function(){var e=(0,be.Z)(function*(t){t?(n.Tu.Fo(),yield jc(n)):(yield n.Tu.stop(),n.du.length>0&&(Fe("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class aC{constructor(e,t,r,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=l,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,s,l){const d=Date.now()+r,p=new aC(e,t,d,s,l);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xe(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hc(n,e){if(fr("AsyncQueue",`${e}: ${n}`),Ac(n))return new xe(le.UNAVAILABLE,`${e}: ${n}`);throw n}class Lh{constructor(e){this.comparator=e?(t,r)=>e(t,r)||He.comparator(t.key,r.key):(t,r)=>He.comparator(t.key,r.key),this.keyedMap=vh(),this.sortedSet=new Cn(this.comparator)}static emptySet(e){return new Lh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Lh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=r.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Lh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class gy{constructor(){this.Eu=new Cn(He.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):rt():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Uh{constructor(e,t,r,s,l,d,p,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v}static fromInitialDocuments(e,t,r,s){const l=[];return t.forEach(d=>{l.push({type:0,doc:d})}),new Uh(e,t,Lh.emptySet(t),l,r,s,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class SS{constructor(){this.Ru=void 0,this.listeners=[]}}class MS{constructor(){this.queries=new dl(e=>pv(e),gh),this.onlineState="Unknown",this.bu=new Set}}function uC(n,e){return n0.apply(this,arguments)}function n0(){return n0=(0,be.Z)(function*(n,e){const t=Ke(n),r=e.query;let s=!1,l=t.queries.get(r);if(l||(s=!0,l=new SS),s)try{l.Ru=yield t.onListen(r)}catch(d){const p=Hc(d,`Initialization of query '${Rm(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,l),l.listeners.push(e),e.Pu(t.onlineState),l.Ru&&e.Vu(l.Ru)&&Pp(t)}),n0.apply(this,arguments)}function r0(n,e){return s0.apply(this,arguments)}function s0(){return s0=(0,be.Z)(function*(n,e){const t=Ke(n),r=e.query;let s=!1;const l=t.queries.get(r);if(l){const d=l.listeners.indexOf(e);d>=0&&(l.listeners.splice(d,1),s=0===l.listeners.length)}if(s)return t.queries.delete(r),t.onUnlisten(r)}),s0.apply(this,arguments)}function xS(n,e){const t=Ke(n);let r=!1;for(const s of e){const d=t.queries.get(s.query);if(d){for(const p of d.listeners)p.Vu(s)&&(r=!0);d.Ru=s}}r&&Pp(t)}function oI(n,e,t){const r=Ke(n),s=r.queries.get(e);if(s)for(const l of s.listeners)l.onError(t);r.queries.delete(e)}function Pp(n){n.bu.forEach(e=>{e.next()})}class o0{constructor(e,t,r){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new Uh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Uh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class Io{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class lC{constructor(e){this.M=e}wi(e){return ya(this.M,e)}mi(e){return e.metadata.exists?tb(this.M,e.document,!1):bn.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return zn(e)}}class a0{constructor(e,t,r){this.Ou=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=cC(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=Kt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new lC(this.M);for(const s of e)if(s.metadata.queries){const l=r.wi(s.metadata.name);for(const d of s.metadata.queries){const p=(t.get(d)||an()).add(l);t.set(d,p)}}return t}complete(){var e=this;return(0,be.Z)(function*(){const t=yield function YD(n,e,t,r){return Hv.apply(this,arguments)}(e.localStore,new lC(e.M),e.documents,e.Ou.id),r=e.$u(e.documents);for(const s of e.queries)yield QD(e.localStore,s,r.get(s.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function cC(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class dC{constructor(e){this.key=e}}class my{constructor(e){this.key=e}}class u0{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=an(),this.mutatedKeys=an(),this.Gu=Pw(e),this.Qu=new Lh(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new gy,s=t?t.Qu:this.Qu;let l=t?t.mutatedKeys:this.mutatedKeys,d=s,p=!1;const v="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,C="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((S,x)=>{const L=s.get(S),G=gv(this.query,x)?x:null,K=!!L&&this.mutatedKeys.has(L.key),ye=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let Re=!1;L&&G?L.data.isEqual(G.data)?K!==ye&&(r.track({type:3,doc:G}),Re=!0):this.Hu(L,G)||(r.track({type:2,doc:G}),Re=!0,(v&&this.Gu(G,v)>0||C&&this.Gu(G,C)<0)&&(p=!0)):!L&&G?(r.track({type:0,doc:G}),Re=!0):L&&!G&&(r.track({type:1,doc:L}),Re=!0,(v||C)&&(p=!0)),Re&&(G?(d=d.add(G),l=ye?l.add(S):l.delete(S)):(d=d.delete(S),l=l.delete(S)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const S="F"===this.query.limitType?d.last():d.first();d=d.delete(S.key),l=l.delete(S.key),r.track({type:1,doc:S})}return{Qu:d,zu:r,ii:p,mutatedKeys:l}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const s=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const l=e.zu.Au();l.sort((C,S)=>function(x,L){const G=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return G(x)-G(L)}(C.type,S.type)||this.Gu(C.doc,S.doc)),this.Ju(r);const d=t?this.Yu():[],p=0===this.Ku.size&&this.current?1:0,v=p!==this.qu;return this.qu=p,0!==l.length||v?{snapshot:new Uh(this.query,e.Qu,s,l,e.mutatedKeys,0===p,v,!1),Xu:d}:{Xu:d}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new gy,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=an(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new my(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new dC(r))}),t}ta(e){this.Uu=e._i,this.Ku=an();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return Uh.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class hC{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class aI{constructor(e){this.key=e,this.na=!1}}class fC{constructor(e,t,r,s,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.sa={},this.ia=new dl(p=>pv(p),gh),this.ra=new Map,this.oa=new Set,this.ua=new Cn(He.comparator),this.aa=new Map,this.ca=new ty,this.ha={},this.la=new Map,this.fa=Nc.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function pC(n,e){return l0.apply(this,arguments)}function l0(){return l0=(0,be.Z)(function*(n,e){const t=b0(n);let r,s;const l=t.ia.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),s=l.view.ea();else{const d=yield Nh(t.localStore,hs(e));t.isPrimaryClient&&sy(t.remoteStore,d);const p=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,s=yield c0(t,e,r,"current"===p)}return s}),l0.apply(this,arguments)}function c0(n,e,t,r){return Op.apply(this,arguments)}function Op(){return Op=(0,be.Z)(function*(n,e,t,r){n._a=(S,x,L)=>{return(G=(0,be.Z)(function*(K,ye,Re,gt){let yt=ye.view.Wu(Re);yt.ii&&(yt=yield Rh(K.localStore,ye.query,!1).then(({documents:Ft})=>ye.view.Wu(Ft,yt)));const Tt=gt&&gt.targetChanges.get(ye.targetId),ut=ye.view.applyChanges(yt,K.isPrimaryClient,Tt);return vy(K,ye.targetId,ut.Xu),ut.snapshot}),function(K,ye,Re,gt){return G.apply(this,arguments)})(n,S,x,L);var G};const s=yield Rh(n.localStore,e,!0),l=new u0(e,s._i),d=l.Wu(s.documents),p=wh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),v=l.applyChanges(d,n.isPrimaryClient,p);vy(n,t,v.Xu);const C=new hC(e,t,l);return n.ia.set(e,C),n.ra.has(t)?n.ra.get(t).push(e):n.ra.set(t,[e]),v.snapshot}),Op.apply(this,arguments)}function Ao(n,e){return d0.apply(this,arguments)}function d0(){return d0=(0,be.Z)(function*(n,e){const t=Ke(n),r=t.ia.get(e),s=t.ra.get(r.targetId);if(s.length>1)return t.ra.set(r.targetId,s.filter(l=>!gh(l,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Tp(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),kh(t.remoteStore,r.targetId),qc(t,r.targetId)}).catch(Rc))):(qc(t,r.targetId),yield Tp(t.localStore,r.targetId,!0))}),d0.apply(this,arguments)}function h0(){return h0=(0,be.Z)(function*(n,e,t){const r=Lp(n);try{const s=yield function(l,d){const p=Ke(l),v=er.now(),C=d.reduce((x,L)=>x.add(L.key),an());let S;return p.persistence.runTransaction("Locally write mutations","readwrite",x=>p.fi.Ks(x,C).next(L=>{S=L;const G=[];for(const K of d){const ye=$w(K,S.get(K.key));null!=ye&&G.push(new Tc(K.key,ye,Dw(ye.value.mapValue),rr.exists(!0)))}return p.Bs.addMutationBatch(x,v,G,d)})).then(x=>(x.applyToLocalDocumentSet(S),{batchId:x.batchId,changes:S}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,d,p){let v=l.ha[l.currentUser.toKey()];v||(v=new Cn(Ut)),v=v.insert(d,p),l.ha[l.currentUser.toKey()]=v}(r,s.batchId,t),yield _u(r,s.changes),yield jc(r.remoteStore)}catch(s){const l=Hc(s,"Failed to persist write");t.reject(l)}}),h0.apply(this,arguments)}function f0(n,e){return p0.apply(this,arguments)}function p0(){return p0=(0,be.Z)(function*(n,e){const t=Ke(n);try{const r=yield Bv(t.localStore,e);e.targetChanges.forEach((s,l)=>{const d=t.aa.get(l);d&&(xt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?d.na=!0:s.modifiedDocuments.size>0?xt(d.na):s.removedDocuments.size>0&&(xt(d.na),d.na=!1))}),yield _u(t,r,e)}catch(r){yield Rc(r)}}),p0.apply(this,arguments)}function gC(n,e,t){const r=Ke(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.ia.forEach((l,d)=>{const p=d.view.Pu(e);p.snapshot&&s.push(p.snapshot)}),function(l,d){const p=Ke(l);p.onlineState=d;let v=!1;p.queries.forEach((C,S)=>{for(const x of S.listeners)x.Pu(d)&&(v=!0)}),v&&Pp(p)}(r.eventManager,e),s.length&&r.sa.zo(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function mC(n,e,t){return g0.apply(this,arguments)}function g0(){return g0=(0,be.Z)(function*(n,e,t){const r=Ke(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.aa.get(e),l=s&&s.key;if(l){let d=new Cn(He.comparator);d=d.insert(l,bn.newNoDocument(l,Ct.min()));const p=an().add(l),v=new Eh(Ct.min(),new Map,new vn(Ut),d,p);yield f0(r,v),r.ua=r.ua.remove(l),r.aa.delete(e),y0(r)}else yield Tp(r.localStore,e,!1).then(()=>qc(r,e,t)).catch(Rc)}),g0.apply(this,arguments)}function OS(n,e){return yy.apply(this,arguments)}function yy(){return yy=(0,be.Z)(function*(n,e){const t=Ke(n),r=e.batch.batchId;try{const s=yield Vb(t.localStore,e);Rp(t,r,null),Np(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield _u(t,s)}catch(s){yield Rc(s)}}),yy.apply(this,arguments)}function yC(n,e,t){return m0.apply(this,arguments)}function m0(){return m0=(0,be.Z)(function*(n,e,t){const r=Ke(n);try{const s=yield function(l,d){const p=Ke(l);return p.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let C;return p.Bs.lookupMutationBatch(v,d).next(S=>(xt(null!==S),C=S.keys(),p.Bs.removeMutationBatch(v,S))).next(()=>p.Bs.performConsistencyCheck(v)).next(()=>p.fi.Ks(v,C))})}(r.localStore,e);Rp(r,e,t),Np(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield _u(r,s)}catch(s){yield Rc(s)}}),m0.apply(this,arguments)}function _y(){return _y=(0,be.Z)(function*(n,e){const t=Ke(n);ml(t.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const d=Ke(l);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>d.Bs.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const s=t.la.get(r)||[];s.push(e),t.la.set(r,s)}catch(r){const s=Hc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}),_y.apply(this,arguments)}function Np(n,e){(n.la.get(e)||[]).forEach(t=>{t.resolve()}),n.la.delete(e)}function Rp(n,e,t){const r=Ke(n);let s=r.ha[r.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),r.ha[r.currentUser.toKey()]=s}}function qc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ra.get(e))n.ia.delete(r),t&&n.sa.wa(r,t);n.ra.delete(e),n.isPrimaryClient&&n.ca.vi(e).forEach(r=>{n.ca.containsKey(r)||_C(n,r)})}function _C(n,e){n.oa.delete(e.path.canonicalString());const t=n.ua.get(e);null!==t&&(kh(n.remoteStore,t),n.ua=n.ua.remove(e),n.aa.delete(t),y0(n))}function vy(n,e,t){for(const r of t)r instanceof dC?(n.ca.addReference(r.key,e),vC(n,r)):r instanceof my?(Fe("SyncEngine","Document no longer in limbo: "+r.key),n.ca.removeReference(r.key,e),n.ca.containsKey(r.key)||_C(n,r.key)):rt()}function vC(n,e){const t=e.key,r=t.path.canonicalString();n.ua.get(t)||n.oa.has(r)||(Fe("SyncEngine","New document in limbo: "+t),n.oa.add(r),y0(n))}function y0(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const e=n.oa.values().next().value;n.oa.delete(e);const t=new He(Kt.fromString(e)),r=n.fa.next();n.aa.set(r,new aI(t)),n.ua=n.ua.insert(t,r),sy(n.remoteStore,new pu(hs(Ec(t.path)),r,2,cs.A))}}function _u(n,e,t){return EC.apply(this,arguments)}function EC(){return EC=(0,be.Z)(function*(n,e,t){const r=Ke(n),s=[],l=[],d=[];var p;r.ia.isEmpty()||(r.ia.forEach((p,v)=>{d.push(r._a(v,e,t).then(C=>{if(C){r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,C.fromCache?"not-current":"current"),s.push(C);const S=Lv.Ys(v.targetId,C);l.push(S)}}))}),yield Promise.all(d),r.sa.zo(s),yield(p=(0,be.Z)(function*(v,C){const S=Ke(v);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>de.forEach(C,L=>de.forEach(L.Hs,G=>S.persistence.referenceDelegate.addReference(x,L.targetId,G)).next(()=>de.forEach(L.Js,G=>S.persistence.referenceDelegate.removeReference(x,L.targetId,G)))))}catch(x){if(!Ac(x))throw x;Fe("LocalStore","Failed to update sequence numbers: "+x)}for(const x of C){const L=x.targetId;if(!x.fromCache){const G=S.ui.get(L),ye=G.withLastLimboFreeSnapshotVersion(G.snapshotVersion);S.ui=S.ui.insert(L,ye)}}}),function(v,C){return p.apply(this,arguments)})(r.localStore,l))}),EC.apply(this,arguments)}function NS(n,e){return Ey.apply(this,arguments)}function Ey(){return Ey=(0,be.Z)(function*(n,e){const t=Ke(n);if(!t.currentUser.isEqual(e)){Fe("SyncEngine","User change. New user:",e.toKey());const r=yield Ub(t.localStore,e);t.currentUser=e,(s=t).la.forEach(d=>{d.forEach(p=>{p.reject(new xe(le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.la.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield _u(t,r.di)}var s}),Ey.apply(this,arguments)}function lI(n,e){const t=Ke(n),r=t.aa.get(e);if(r&&r.na)return an().add(r.key);{let s=an();const l=t.ra.get(e);if(!l)return s;for(const d of l){const p=t.ia.get(d);s=s.unionWith(p.view.ju)}return s}}function cI(n,e){return _0.apply(this,arguments)}function _0(){return _0=(0,be.Z)(function*(n,e){const t=Ke(n),r=yield Rh(t.localStore,e.query,!0),s=e.view.ta(r);return t.isPrimaryClient&&vy(t,e.targetId,s.Xu),s}),_0.apply(this,arguments)}function RS(n,e){return wC.apply(this,arguments)}function wC(){return wC=(0,be.Z)(function*(n,e){const t=Ke(n);return Xm(t.localStore,e).then(r=>_u(t,r))}),wC.apply(this,arguments)}function kS(n,e,t,r){return bC.apply(this,arguments)}function bC(){return bC=(0,be.Z)(function*(n,e,t,r){const s=Ke(n),l=yield function(d,p){const v=Ke(d),C=Ke(v.Bs);return v.persistence.runTransaction("Lookup mutation documents","readonly",S=>C.fn(S,p).next(x=>x?v.fi.Ks(S,x):de.resolve(null)))}(s.localStore,e);var p;null!==l?("pending"===t?yield jc(s.remoteStore):"acknowledged"===t||"rejected"===t?(Rp(s,e,r||null),Np(s,e),p=e,Ke(Ke(s.localStore).Bs)._n(p)):rt(),yield _u(s,l)):Fe("SyncEngine","Cannot apply mutation batch with id: "+e)}),bC.apply(this,arguments)}function v0(){return v0=(0,be.Z)(function*(n,e){const t=Ke(n);if(b0(t),Lp(t),!0===e&&!0!==t.da){const r=t.sharedClientState.getAllActiveQueryTargets(),s=yield kp(t,r.toArray());t.da=!0,yield xp(t.remoteStore,!0);for(const l of s)sy(t.remoteStore,l)}else if(!1===e&&!1!==t.da){const r=[];let s=Promise.resolve();t.ra.forEach((l,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):s=s.then(()=>(qc(t,d),Tp(t.localStore,d,!0))),kh(t.remoteStore,d)}),yield s,yield kp(t,r),function(l){const d=Ke(l);d.aa.forEach((p,v)=>{kh(d.remoteStore,v)}),d.ca.Si(),d.aa=new Map,d.ua=new Cn(He.comparator)}(t),t.da=!1,yield xp(t.remoteStore,!1)}}),v0.apply(this,arguments)}function kp(n,e,t){return E0.apply(this,arguments)}function E0(){return E0=(0,be.Z)(function*(n,e,t){const r=Ke(n),s=[],l=[];for(const d of e){let p;const v=r.ra.get(d);if(v&&0!==v.length){p=yield Nh(r.localStore,hs(v[0]));for(const C of v){const S=r.ia.get(C),x=yield cI(r,S);x.snapshot&&l.push(x.snapshot)}}else{const C=yield $v(r.localStore,d);p=yield Nh(r.localStore,C),yield c0(r,CC(C),d,!1)}s.push(p)}return r.sa.zo(l),s}),E0.apply(this,arguments)}function CC(n){return dv(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function TC(n){const e=Ke(n);return Ke(Ke(e.localStore).persistence).Fs()}function Zc(n,e,t,r){return wy.apply(this,arguments)}function wy(){return wy=(0,be.Z)(function*(n,e,t,r){const s=Ke(n);if(s.da)return void Fe("SyncEngine","Ignoring unexpected query state notification.");const l=s.ra.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const d=yield Xm(s.localStore,xw(l[0])),p=Eh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield _u(s,d,p);break}case"rejected":yield Tp(s.localStore,e,!0),qc(s,e,r);break;default:rt()}}),wy.apply(this,arguments)}function w0(n,e,t){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,be.Z)(function*(n,e,t){const r=b0(n);if(r.da){for(const s of e){if(r.ra.has(s)){Fe("SyncEngine","Adding an already active target "+s);continue}const l=yield $v(r.localStore,s),d=yield Nh(r.localStore,l);yield c0(r,CC(l),d.targetId,!1),sy(r.remoteStore,d)}for(const s of t)r.ra.has(s)&&(yield Tp(r.localStore,s,!1).then(()=>{kh(r.remoteStore,s),qc(r,s)}).catch(Rc))}}),Fp.apply(this,arguments)}function b0(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=f0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mC.bind(null,e),e.sa.zo=xS.bind(null,e.eventManager),e.sa.wa=oI.bind(null,e.eventManager),e}function Lp(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yC.bind(null,e),e}class Up{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,be.Z)(function*(){t.M=Vc(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return Cp(this.persistence,new Lb,e.initialUser,this.M)}ya(e){return new qb(ny.Yi,this.M)}ga(e){return new Gb}terminate(){var e=this;return(0,be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class dI extends Up{constructor(e,t,r){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,be.Z)(function*(){yield t().call(r,e),yield r.Ta.initialize(r,e),yield Lp(r.Ta.syncEngine),yield jc(r.Ta.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Ia(e){return Cp(this.persistence,new Lb,e.initialUser,this.M)}pa(e){return new xb(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=Fc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Gi.withCacheSize(this.cacheSizeBytes):Gi.DEFAULT;return new Zs(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Kv(),Uc(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new Gb}}class LS extends dI{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,be.Z)(function*(){yield t().call(r,e);const s=r.Ta.syncEngine;r.sharedClientState instanceof Ap&&(r.sharedClientState.syncEngine={$r:kS.bind(null,s),Br:Zc.bind(null,s),Lr:w0.bind(null,s),Fs:TC.bind(null,s),Fr:RS.bind(null,s)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var l=(0,be.Z)(function*(d){yield function FS(n,e){return v0.apply(this,arguments)}(r.Ta.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):d||r.gcScheduler.stop())});return function(d){return l.apply(this,arguments)}}())})()}ga(e){const t=Kv();if(!Ap.vt(t))throw new xe(le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Fc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ap(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class DC{initialize(e,t){var r=this;return(0,be.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>gC(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=NS.bind(null,r.syncEngine),yield xp(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new MS}createDatastore(e){const t=Vc(e.databaseInfo.databaseId),r=new Kb(e.databaseInfo);return new iy(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,s=e.asyncQueue,l=p=>gC(this.syncEngine,p,0),d=Wb.vt()?new Wb:new zb,new nI(t,r,s,l,d);var t,r,s,l,d}createSyncEngine(e,t){return function(r,s,l,d,p,v,C){const S=new fC(r,s,l,d,p,v);return C&&(S.da=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,be.Z)(function*(t){const r=Ke(t);Fe("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield Mp(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function hI(n,e=10240){let t=0;return{read:()=>(0,be.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Vp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class fI{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new Kr,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(r=>{r&&r.Mu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,be.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,be.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,be.Z)(function*(){const t=yield e.Va();if(null===t)return null;const r=e.ba.decode(t),s=Number(r);isNaN(s)&&e.va(`length string (${r}) is not valid number`);const l=yield e.Sa(s);return new Io(JSON.parse(l),t.length+s)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,be.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Sa(e){var t=this;return(0,be.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const r=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,be.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class pI{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,be.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new xe(le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(s=(0,be.Z)(function*(l,d){const p=Ke(l),v=Ch(p.M)+"/documents",C={documents:d.map(G=>op(p.M,G))},S=yield p._o("BatchGetDocuments",v,C),x=new Map;S.forEach(G=>{const K=function TD(n,e){return"found"in e?function(t,r){xt(!!r.found);const s=ya(t,r.found.name),l=zn(r.found.updateTime),d=new mi({mapValue:{fields:r.found.fields}});return bn.newFoundDocument(s,l,d)}(n,e):"missing"in e?function(t,r){xt(!!r.missing),xt(!!r.readTime);const s=ya(t,r.missing),l=zn(r.readTime);return bn.newNoDocument(s,l)}(n,e):rt()}(p.M,G);x.set(K.key.toString(),K)});const L=[];return d.forEach(G=>{const K=x.get(G.toString());xt(!!K),L.push(K)}),L}),function(l,d){return s.apply(this,arguments)})(t.datastore,e);var s;return r.forEach(s=>t.recordVersion(s)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Um(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,be.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,s)=>{const l=He.fromPath(s);e.mutations.push(new Vm(l,e.precondition(l)))}),yield(r=(0,be.Z)(function*(s,l){const d=Ke(s),p=Ch(d.M)+"/documents",v={writes:l.map(C=>qm(d.M,C))};yield d.co("Commit",p,v)}),function(s,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw rt();t=Ct.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new xe(le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?rr.updateTime(t):rr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ct.min()))throw new xe(le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rr.updateTime(t)}return rr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class gI{constructor(e,t,r,s,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=s,this.deferred=l,this.xa=r.maxAttempts,this.No=new Yb(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,be.Z)(function*(){const t=new pI(e.datastore),r=e.ka(t);r&&r.then(s=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(s)}).catch(l=>{e.Ma(l)}))}).catch(s=>{e.Ma(s)})}))}ka(e){try{const t=this.updateFunction(e);return!lh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!qw(t)}return!1}}class mI{constructor(e,t,r,s){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=kr.UNAUTHENTICATED,this.clientId=Ew.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,be.Z)(function*(p){Fe("FirestoreClient","Received user=",p.uid),yield l.authCredentialListener(p),l.user=p});return function(p){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Fe("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xe(le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=Hc(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function T0(n,e){return by.apply(this,arguments)}function by(){return by=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,be.Z)(function*(l){r.isEqual(l)||(yield Ub(e.localStore,l),r=l)});return function(l){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),by.apply(this,arguments)}function D0(n,e){return I0.apply(this,arguments)}function I0(){return I0=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield A0(n);Fe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(s=>t0(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,l)=>t0(e.remoteStore,l)),n.onlineComponents=e}),I0.apply(this,arguments)}function A0(n){return Cy.apply(this,arguments)}function Cy(){return Cy=(0,be.Z)(function*(n){return n.offlineComponents||(Fe("FirestoreClient","Using default OfflineComponentProvider"),yield T0(n,new Up)),n.offlineComponents}),Cy.apply(this,arguments)}function Vh(n){return IC.apply(this,arguments)}function IC(){return IC=(0,be.Z)(function*(n){return n.onlineComponents||(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield D0(n,new DC)),n.onlineComponents}),IC.apply(this,arguments)}function S0(n){return A0(n).then(e=>e.persistence)}function Bp(n){return A0(n).then(e=>e.localStore)}function AC(n){return Vh(n).then(e=>e.remoteStore)}function M0(n){return Vh(n).then(e=>e.syncEngine)}function jp(n){return SC.apply(this,arguments)}function SC(){return SC=(0,be.Z)(function*(n){const e=yield Vh(n),t=e.eventManager;return t.onListen=pC.bind(null,e.syncEngine),t.onUnlisten=Ao.bind(null,e.syncEngine),t}),SC.apply(this,arguments)}function vI(n,e,t={}){const r=new Kr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(s,l,d,p,v){const C=new Vp({next:x=>{l.enqueueAndForget(()=>r0(s,S));const L=x.docs.has(d);!L&&x.fromCache?v.reject(new xe(le.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&x.fromCache&&p&&"server"===p.source?v.reject(new xe(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(x)},error:x=>v.reject(x)}),S=new o0(Ec(d.path),C,{includeMetadataChanges:!0,ku:!0});return uC(s,S)}(yield jp(n),n.asyncQueue,e,t,r)})),r.promise}function EI(n,e,t={}){const r=new Kr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(s,l,d,p,v){const C=new Vp({next:x=>{l.enqueueAndForget(()=>r0(s,S)),x.fromCache&&"server"===p.source?v.reject(new xe(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(x)},error:x=>v.reject(x)}),S=new o0(d,C,{includeMetadataChanges:!0,ku:!0});return uC(s,S)}(yield jp(n),n.asyncQueue,e,t,r)})),r.promise}const bI=new Map;function MC(n,e,t){if(!t)throw new xe(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function CI(n,e,t,r){if(!0===e&&!0===r)throw new xe(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function i(n){if(!He.isDocumentKey(n))throw new xe(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function o(n){if(He.isDocumentKey(n))throw new xe(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function a(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":rt()}function c(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=a(n);throw new xe(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function h(n,e){if(e<=0)throw new xe(le.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class g{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new xe(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new xe(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,CI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g({}),this._settingsFrozen=!1,e instanceof fa?this._databaseId=e:(this._app=e,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new xe(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fa(s.options.projectId)}(e))}get app(){if(!this._app)throw new xe(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new xe(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ah;switch(t.type){case"gapi":const r=t.client;return xt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new vw(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new xe(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=bI.get(e);t&&(Fe("ComponentProvider","Removing Datastore"),bI.delete(e),t.terminate())}(this),Promise.resolve()}}class b{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new M(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new b(this.firestore,e,this._key)}}class I{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new I(this.firestore,e,this._query)}}class M extends I{constructor(e,t,r){super(e,t,Ec(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new b(this.firestore,null,new He(e))}withConverter(e){return new M(this.firestore,e,this._path)}}function k(n,e,...t){if(n=(0,St.m9)(n),MC("collection","path",e),n instanceof _){const r=Kt.fromString(e,...t);return o(r),new M(n,null,r)}{if(!(n instanceof b||n instanceof M))throw new xe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Kt.fromString(e,...t));return o(r),new M(n.firestore,null,r)}}function Q(n,e,...t){if(n=(0,St.m9)(n),1===arguments.length&&(e=Ew.R()),MC("doc","path",e),n instanceof _){const r=Kt.fromString(e,...t);return i(r),new b(n,null,new He(r))}{if(!(n instanceof b||n instanceof M))throw new xe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Kt.fromString(e,...t));return i(r),new b(n.firestore,n instanceof M?n.converter:null,new He(r))}}function _e(n,e){return n=(0,St.m9)(n),e=(0,St.m9)(e),(n instanceof b||n instanceof M)&&(e instanceof b||e instanceof M)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function ke(n,e){return n=(0,St.m9)(n),e=(0,St.m9)(e),n instanceof I&&e instanceof I&&n.firestore===e.firestore&&gh(n._query,e._query)&&n.converter===e.converter}class qe{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new Yb(this,"async_queue_retry"),this.Qa=()=>{const t=Uc();t&&Fe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=Uc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=Uc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new Kr;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,be.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!Ac(t))throw t;Fe("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(r=>{throw this.Ua=r,this.qa=!1,fr("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(r)),r}).then(r=>(this.qa=!1,r))));return this.Fa=t,t}enqueueAfterDelay(e,t,r){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const s=aC.createAndSchedule(this,e,t,r,l=>this.Ha(l));return this.La.push(s),s}ja(){this.Ua&&rt()}verifyOperationInProgress(){}Ja(){var e=this;return(0,be.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function tt(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class Se{constructor(){this._progressObserver={},this._taskCompletionResolver=new Kr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class st extends _{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new qe,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Ty(this),this._firestoreClient.terminate()}}function Dn(n){return n._firestoreClient||Ty(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Ty(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new J_(n._databaseId,l,n._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var l,p;n._firestoreClient=new mI(n._authCredentials,n._appCheckCredentials,n._queue,r)}function Dy(n,e,t){const r=new Kr;return n.asyncQueue.enqueue((0,be.Z)(function*(){try{yield T0(n,t),yield D0(n,e),r.resolve()}catch(s){if(!("FirebaseError"===(l=s).name?l.code===le.FAILED_PRECONDITION||l.code===le.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw s;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),r.reject(s)}var l})).then(()=>r.promise)}function HS(n){if(n._initialized||n._terminated)throw new xe(le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Gc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new xe(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class yl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yl(tr.fromBase64String(e))}catch(t){throw new xe(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new yl(tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class $p{constructor(e){this._methodName=e}}class PC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ut(this._lat,e._lat)||Ut(this._long,e._long)}}const GP=/^__.*__$/;class zP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Tc(e,this.data,this.fieldMask,t,this.fieldTransforms):new np(e,this.data,t,this.fieldTransforms)}}class qS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Tc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ZS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class OC{constructor(e,t,r,s,l,d){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=s,void 0===l&&this.tc(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new OC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.nc({path:r,ic:!1});return s.rc(e),s}oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.nc({path:r,ic:!1});return s.tc(),s}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return kC(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(ZS(this.ec)&&GP.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class WP{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||Vc(e)}lc(e,t,r,s=!1){return new OC({ec:e,methodName:t,hc:r,path:Hn.emptyPath(),ic:!1,cc:s},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Hp(n){const e=n._freezeSettings(),t=Vc(n._databaseId);return new WP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function NC(n,e,t,r,s,l={}){const d=n.lc(l.merge||l.mergeFields?2:0,e,t,s);AI("Data must be an object, but it was:",d,r);const p=WS(r,d);let v,C;if(l.merge)v=new fc(d.fieldMask),C=d.fieldTransforms;else if(l.mergeFields){const S=[];for(const x of l.mergeFields){const L=SI(e,x,t);if(!d.contains(L))throw new xe(le.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);YS(S,L)||S.push(L)}v=new fc(S),C=d.fieldTransforms.filter(x=>v.covers(x.field))}else v=null,C=d.fieldTransforms;return new zP(new mi(p),v,C)}class F0 extends $p{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof F0}}function GS(n,e,t){return new OC({ec:3,hc:e.settings.hc,methodName:n._methodName,ic:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class TI extends $p{_toFieldTransform(e){return new _h(e.path,new mh)}isEqual(e){return e instanceof TI}}class KP extends $p{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=GS(this,e,!0),r=this.fc.map(l=>qp(l,t)),s=new bc(r);return new _h(e.path,s)}isEqual(e){return this===e}}class YP extends $p{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=GS(this,e,!0),r=this.fc.map(l=>qp(l,t)),s=new Cc(r);return new _h(e.path,s)}isEqual(e){return this===e}}class QP extends $p{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new yh(e.M,Rw(e.M,this.dc));return new _h(e.path,t)}isEqual(e){return this===e}}function DI(n,e,t,r){const s=n.lc(1,e,t);AI("Data must be an object, but it was:",s,r);const l=[],d=mi.empty();uu(r,(v,C)=>{const S=RC(e,v,t);C=(0,St.m9)(C);const x=s.oc(S);if(C instanceof F0)l.push(S);else{const L=qp(C,x);null!=L&&(l.push(S),d.set(S,L))}});const p=new fc(l);return new qS(d,p,s.fieldTransforms)}function II(n,e,t,r,s,l){const d=n.lc(1,e,t),p=[SI(e,r,t)],v=[s];if(l.length%2!=0)throw new xe(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<l.length;L+=2)p.push(SI(e,l[L])),v.push(l[L+1]);const C=[],S=mi.empty();for(let L=p.length-1;L>=0;--L)if(!YS(C,p[L])){const G=p[L];let K=v[L];K=(0,St.m9)(K);const ye=d.oc(G);if(K instanceof F0)C.push(G);else{const Re=qp(K,ye);null!=Re&&(C.push(G),S.set(G,Re))}}const x=new fc(C);return new qS(S,x,d.fieldTransforms)}function zS(n,e,t,r=!1){return qp(t,n.lc(r?4:3,e))}function qp(n,e){if(KS(n=(0,St.m9)(n)))return AI("Unsupported field value:",e,n),WS(n,e);if(n instanceof $p)return function(t,r){if(!ZS(r.ec))throw r.ac(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ac(`${t._methodName}() is not currently supported inside arrays`);const s=t._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,r){const s=[];let l=0;for(const d of t){let p=qp(d,r.uc(l));null==p&&(p={nullValue:"NULL_VALUE"}),s.push(p),l++}return{arrayValue:{values:s}}}(n,e)}return function(t,r){if(null===(t=(0,St.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Rw(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const s=er.fromDate(t);return{timestampValue:bh(r.M,s)}}if(t instanceof er){const s=new er(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:bh(r.M,s)}}if(t instanceof PC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof yl)return{bytesValue:_v(r.M,t._byteString)};if(t instanceof b){const s=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(s))throw r.ac(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ic(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ac(`Unsupported field value: ${a(t)}`)}(n,e)}function WS(n,e){const t={};return lD(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uu(n,(r,s)=>{const l=qp(s,e.sc(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function KS(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof er||n instanceof PC||n instanceof yl||n instanceof b||n instanceof $p)}function AI(n,e,t){if(!KS(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=a(t);throw e.ac("an object"===r?n+" a custom object":n+" "+r)}var r}function SI(n,e,t){if((e=(0,St.m9)(e))instanceof Gc)return e._internalPath;if("string"==typeof e)return RC(n,e);throw kC("Field path arguments must be of type string or ",n,!1,void 0,t)}const JP=new RegExp("[~\\*/\\[\\]]");function RC(n,e,t){if(e.search(JP)>=0)throw kC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Gc(...e.split("."))._internalPath}catch(r){throw kC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function kC(n,e,t,r,s){const l=r&&!r.isEmpty(),d=void 0!==s;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(l||d)&&(v+=" (found",l&&(v+=` in field ${r}`),d&&(v+=` in document ${s}`),v+=")"),new xe(le.INVALID_ARGUMENT,p+n+v)}function YS(n,e){return n.some(t=>t.isEqual(e))}class L0{constructor(e,t,r,s,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new b(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new XP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(FC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class XP extends L0{data(){return super.data()}}function FC(n,e){return"string"==typeof e?RC(n,e):e instanceof Gc?e._internalPath:e._delegate._internalPath}class Zp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zc extends L0{constructor(e,t,r,s,l,d){super(e,t,r,s,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new U0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(FC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class U0 extends zc{data(e={}){return super.data(e)}}class Bh{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Zp(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new U0(this._firestore,this._userDataWriter,r.key,r,new Zp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new U0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Zp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>s||3!==d.type).map(d=>{const p=new U0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Zp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,C=-1;return 0!==d.type&&(v=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),1!==d.type&&(l=l.add(d.doc),C=l.indexOf(d.doc.key)),{type:eO(d.type),doc:p,oldIndex:v,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function eO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}function QS(n,e){return n instanceof zc&&e instanceof zc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Bh&&e instanceof Bh&&n._firestore===e._firestore&&ke(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function JS(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new xe(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class V0{}function jh(n,...e){for(const t of e)n=t._apply(n);return n}class tO extends V0{constructor(e,t,r){super(),this._c=e,this.wc=t,this.mc=r,this.type="where"}_apply(e){const t=Hp(e.firestore),r=function(s,l,d,p,v,C,S){let x;if(v.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new xe(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){i1(S,C);const G=[];for(const K of S)G.push(r1(p,s,K));x={arrayValue:{values:G}}}else x=r1(p,s,S)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||i1(S,C),x=zS(d,"where",S,"in"===C||"not-in"===C);const L=Fr.create(v,C,x);return function(G,K){if(K.S()){const Re=Om(G);if(null!==Re&&!Re.isEqual(K.field))throw new xe(le.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Re.toString()}' and '${K.field.toString()}'`);const gt=ph(G);null!==gt&&s1(0,K.field,gt)}const ye=function(Re,gt){for(const yt of Re.filters)if(gt.indexOf(yt.op)>=0)return yt.op;return null}(G,function(Re){switch(Re){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(K.op));if(null!==ye)throw new xe(le.INVALID_ARGUMENT,ye===K.op?`Invalid query. You cannot use more than one '${K.op.toString()}' filter.`:`Invalid query. You cannot use '${K.op.toString()}' filters with '${ye.toString()}' filters.`)}(s,L),L}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new I(e.firestore,e.converter,function(s,l){const d=s.filters.concat([l]);return new hu(s.path,s.collectionGroup,s.explicitOrderBy.slice(),d,s.limit,s.limitType,s.startAt,s.endAt)}(e._query,r))}}class rO extends V0{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(r,s,l){if(null!==r.startAt)throw new xe(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new xe(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new fh(s,l);return function(p,v){if(null===ph(p)){const C=Om(p);null!==C&&s1(0,C,v.field)}}(r,d),d}(e._query,this._c,this.gc);return new I(e.firestore,e.converter,function(r,s){const l=r.explicitOrderBy.concat([s]);return new hu(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class XS extends V0{constructor(e,t,r){super(),this.type=e,this.yc=t,this.Ic=r}_apply(e){return new I(e.firestore,e.converter,fv(e._query,this.yc,this.Ic))}}class e1 extends V0{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=n1(e,this.type,this.Tc,this.Ec);return new I(e.firestore,e.converter,(s=t,new hu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class t1 extends V0{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=n1(e,this.type,this.Tc,this.Ec);return new I(e.firestore,e.converter,(s=t,new hu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function n1(n,e,t,r){if(t[0]=(0,St.m9)(t[0]),t[0]instanceof L0)return function(s,l,d,p,v){if(!p)throw new xe(le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const C=[];for(const S of wc(s))if(S.field.isKeyField())C.push(yc(l,p.key));else{const x=p.data.field(S.field);if(ww(x))throw new xe(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const L=S.field.canonicalString();throw new xe(le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}C.push(x)}return new du(C,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=Hp(n.firestore);return function(l,d,p,v,C,S){const x=l.explicitOrderBy;if(C.length>x.length)throw new xe(le.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let G=0;G<C.length;G++){const K=C[G];if(x[G].field.isKeyField()){if("string"!=typeof K)throw new xe(le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof K}`);if(!Nm(l)&&-1!==K.indexOf("/"))throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${K}' contains a slash.`);const ye=l.path.child(Kt.fromString(K));if(!He.isDocumentKey(ye))throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${ye}' is not because it contains an odd number of segments.`);const Re=new He(ye);L.push(yc(d,Re))}else{const ye=zS(p,v,K);L.push(ye)}}return new du(L,S)}(n._query,n.firestore._databaseId,s,e,t,r)}}function r1(n,e,t){if("string"==typeof(t=(0,St.m9)(t))){if(""===t)throw new xe(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nm(e)&&-1!==t.indexOf("/"))throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Kt.fromString(t));if(!He.isDocumentKey(r))throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yc(n,new He(r))}if(t instanceof b)return yc(n,t._key);throw new xe(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${a(t)}.`)}function i1(n,e){if(!Array.isArray(n)||0===n.length)throw new xe(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new xe(le.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function s1(n,e,t){if(!t.isEqual(e))throw new xe(le.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const dO={maxAttempts:5};class MI{convertValue(e,t="none"){switch(mc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(lu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rt()}}convertObject(e,t){const r={};return uu(e.fields,(s,l)=>{r[s]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new PC(xn(e.latitude),xn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=bw(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(pc(e));default:return null}}convertTimestamp(e){const t=bo(e);return new er(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Kt.fromString(e);xt(sb(r));const s=new fa(r.get(1),r.get(3)),l=new He(r.popFirst(5));return s.isEqual(t)||fr(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function LC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class hO extends MI{constructor(e){super(),this.firestore=e}convertBytes(e){return new yl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new b(this.firestore,null,t)}}class o1{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Hp(e)}set(e,t,r){this._verifyNotCommitted();const s=$h(e,this._firestore),l=LC(s.converter,t,r),d=NC(this._dataReader,"WriteBatch.set",s._key,l,null!==s.converter,r);return this._mutations.push(d.toMutation(s._key,rr.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const l=$h(e,this._firestore);let d;return d="string"==typeof(t=(0,St.m9)(t))||t instanceof Gc?II(this._dataReader,"WriteBatch.update",l._key,t,r,s):DI(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(d.toMutation(l._key,rr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=$h(e,this._firestore);return this._mutations=this._mutations.concat(new Um(t._key,rr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function $h(n,e){if((n=(0,St.m9)(n)).firestore!==e)throw new xe(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Gp extends MI{constructor(e){super(),this.firestore=e}convertBytes(e){return new yl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new b(this.firestore,null,t)}}function a1(n,e,t){n=c(n,b);const r=c(n.firestore,st),s=LC(n.converter,e,t);return Iy(r,[NC(Hp(r),"setDoc",n._key,s,null!==n.converter,t).toMutation(n._key,rr.none())])}function u1(n,e,t,...r){n=c(n,b);const s=c(n.firestore,st),l=Hp(s);let d;return d="string"==typeof(e=(0,St.m9)(e))||e instanceof Gc?II(l,"updateDoc",n._key,e,t,r):DI(l,"updateDoc",n._key,e),Iy(s,[d.toMutation(n._key,rr.exists(!0))])}function l1(n,...e){var t,r,s;n=(0,St.m9)(n);let l={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||tt(e[d])||(l=e[d],d++);const p={includeMetadataChanges:l.includeMetadataChanges};if(tt(e[d])){const x=e[d];e[d]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[d+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[d+2]=null===(s=x.complete)||void 0===s?void 0:s.bind(x)}let v,C,S;if(n instanceof b)C=c(n.firestore,st),S=Ec(n._key.path),v={next:x=>{e[d]&&e[d](xI(C,n,x))},error:e[d+1],complete:e[d+2]};else{const x=c(n,I);C=c(x.firestore,st),S=x._query;const L=new Gp(C);v={next:G=>{e[d]&&e[d](new Bh(C,L,x,G))},error:e[d+1],complete:e[d+2]},JS(n._query)}return function(x,L,G,K){const ye=new Vp(K),Re=new o0(L,ye,G);return x.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return uC(yield jp(x),Re)})),()=>{ye.Aa(),x.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return r0(yield jp(x),Re)}))}}(Dn(C),S,p,v)}function Iy(n,e){return function(t,r){const s=new Kr;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function PS(n,e,t){return h0.apply(this,arguments)}(yield M0(t),r,s)})),s.promise}(Dn(n),e)}function xI(n,e,t){const r=t.docs.get(e._key),s=new Gp(n);return new zc(n,s,e._key,r,new Zp(t.hasPendingWrites,t.fromCache),e.converter)}class bO extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Hp(e)}get(e){const t=$h(e,this._firestore),r=new hO(this._firestore);return this._transaction.lookup([t._key]).then(s=>{if(!s||1!==s.length)return rt();const l=s[0];if(l.isFoundDocument())return new L0(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new L0(this._firestore,r,t._key,null,t.converter);throw rt()})}set(e,t,r){const s=$h(e,this._firestore),l=LC(s.converter,t,r),d=NC(this._dataReader,"Transaction.set",s._key,l,null!==s.converter,r);return this._transaction.set(s._key,d),this}update(e,t,r,...s){const l=$h(e,this._firestore);let d;return d="string"==typeof(t=(0,St.m9)(t))||t instanceof Gc?II(this._dataReader,"Transaction.update",l._key,t,r,s):DI(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,d),this}delete(e){const t=$h(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=$h(e,this._firestore),r=new Gp(this._firestore);return super.get(e).then(s=>new zc(this._firestore,r,t._key,s._document,new Zp(!1,!1),t.converter))}}function PI(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new xe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function d1(){if("undefined"==typeof Uint8Array)throw new xe("unimplemented","Uint8Arrays are not available in this environment.")}function h1(){if(!function Q_(){return"undefined"!=typeof atob}())throw new xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){oh=tl.SDK_VERSION,(0,tl._registerComponent)(new Yg.wA("firestore",(t,{options:r})=>{const s=t.getProvider("app").getImmediate(),l=new st(s,new _w(t.getProvider("auth-internal")),new oD(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,tl.registerVersion)(mw,"3.4.9",n),(0,tl.registerVersion)(mw,"3.4.9","esm2017")}();class B0{constructor(e){this._delegate=e}static fromBase64String(e){return h1(),new B0(yl.fromBase64String(e))}static fromUint8Array(e){return d1(),new B0(yl.fromUint8Array(e))}toBase64(){return h1(),this._delegate.toBase64()}toUint8Array(){return d1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function OI(n){return function PO(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class OO{enableIndexedDbPersistence(e,t){return function x0(n,e){HS(n=c(n,st));const t=Dn(n),r=n._freezeSettings(),s=new DC;return Dy(t,s,new dI(s,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function P0(n){HS(n=c(n,st));const e=Dn(n),t=n._freezeSettings(),r=new DC;return Dy(e,r,new LS(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function O0(n){if(n._initialized&&!n._terminated)throw new xe(le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Kr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(t=(0,be.Z)(function*(r){if(!Do.vt())return Promise.resolve();const s=r+"main";yield Do.delete(s)}),function(r){return t.apply(this,arguments)})(Fc(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class f1{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof fa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&dc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function w(n,e,t,r={}){var s;const l=(n=c(n,_))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&dc("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,p;if("string"==typeof r.mockUserToken)d=r.mockUserToken,p=kr.MOCK_USER;else{d=(0,St.Sg)(r.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new xe(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new kr(v)}n._authCredentials=new iD(new yw(d,p))}}(this._delegate,e,t,r)}enableNetwork(){return function R0(n){return function US(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield S0(n),t=yield AC(n);return e.setNetworkEnabled(!0),function(r){const s=Ke(r);return s.wu.delete(0),Bc(s)}(t)}))}(Dn(n=c(n,st)))}(this._delegate)}disableNetwork(){return function k0(n){return function yI(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield S0(n),t=yield AC(n);return e.setNetworkEnabled(!1),(r=(0,be.Z)(function*(s){const l=Ke(s);l.wu.add(0),yield Mp(l),l.yu.set("Offline")}),function(s){return r.apply(this,arguments)})(t);var r}))}(Dn(n=c(n,st)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,CI("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function N0(n){return function(e){const t=new Kr;return e.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function uI(n,e){return _y.apply(this,arguments)}(yield M0(e),t)})),t.promise}(Dn(n=c(n,st)))}(this._delegate)}onSnapshotsInSync(e){return function wO(n,e){return function BS(n,e){const t=new Vp(e);return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return r=yield jp(n),s=t,Ke(r).bu.add(s),void s.next();var r,s})),()=>{t.Aa(),n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return r=yield jp(n),s=t,void Ke(r).bu.delete(s);var r,s}))}}(Dn(n=c(n,st)),tt(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ay(this,k(this._delegate,e))}catch(t){throw fs(t,"collection()","Firestore.collection()")}}doc(e){try{return new va(this,Q(this._delegate,e))}catch(t){throw fs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ps(this,function V(n,e){if(n=c(n,_),MC("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xe(le.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new I(n,null,(t=e,new hu(Kt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw fs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function CO(n,e,t){n=c(n,st);const r=Object.assign(Object.assign({},dO),t);return function(s){if(s.maxAttempts<1)throw new xe(le.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function jS(n,e,t){const r=new Kr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const s=yield(l=n,Vh(l).then(d=>d.datastore));var l;new gI(n.asyncQueue,s,t,e,r).run()})),r.promise}(Dn(n),s=>e(new bO(n,s)),r)}(this._delegate,t=>e(new p1(this,t)))}batch(){return Dn(this._delegate),new g1(new o1(this._delegate,e=>Iy(this._delegate,e)))}loadBundle(e){return function qP(n,e){const t=Dn(n=c(n,st)),r=new Se;return function wI(n,e,t,r){const s=function(l,d){let p;return p="string"==typeof l?(new TextEncoder).encode(l):l,v=function(v,C){if(v instanceof Uint8Array)return hI(v,C);if(v instanceof ArrayBuffer)return hI(new Uint8Array(v),C);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new fI(v,d);var v}(t,Vc(e));n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function C0(n,e,t){const r=Ke(n);var s;(s=(0,be.Z)(function*(l,d,p){try{const v=yield d.getMetadata();if(yield function(L,G){const K=Ke(L),ye=zn(G.createTime);return K.persistence.runTransaction("hasNewerBundle","readonly",Re=>K._s.getBundleMetadata(Re,G.id)).then(Re=>!!Re&&Re.createTime.compareTo(ye)>=0)}(l.localStore,v))return yield d.close(),p._completeWith({taskState:"Success",documentsLoaded:(L=v).totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}),Promise.resolve(new Set);p._updateProgress(cC(v));const C=new a0(v,l.localStore,d.M);let S=yield d.ma();for(;S;){const L=yield C.Fu(S);L&&p._updateProgress(L),S=yield d.ma()}const x=yield C.complete();return yield _u(l,x.Lu,void 0),yield function(L,G){const K=Ke(L);return K.persistence.runTransaction("Save bundle","readwrite",ye=>K._s.saveBundleMetadata(ye,G))}(l.localStore,v),p._completeWith(x.progress),Promise.resolve(x.Bu)}catch(v){return dc("SyncEngine",`Loading bundle failed with ${v}`),p._failWith(v),Promise.resolve(new Set)}var L}),function(l,d,p){return s.apply(this,arguments)})(r,e,t).then(s=>{r.sharedClientState.notifyBundleLoaded(s)})}(yield M0(n),s,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function ZP(n,e){return function $S(n,e){return n.asyncQueue.enqueue((0,be.Z)(function*(){return function(t,r){const s=Ke(t);return s.persistence.runTransaction("Get named query","readonly",l=>s._s.getNamedQuery(l,r))}(yield Bp(n),e)}))}(Dn(n=c(n,st)),e).then(t=>t?new I(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ps(this,t):null)}}class UC extends MI{constructor(e){super(),this.firestore=e}convertBytes(e){return new B0(new yl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return va.forKey(t,this.firestore,null)}}class p1{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new UC(e)}get(e){const t=Wp(e);return this._delegate.get(t).then(r=>new j0(this._firestore,new zc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const s=Wp(e);return r?(PI("Transaction.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const l=Wp(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...s),this}delete(e){const t=Wp(e);return this._delegate.delete(t),this}}class g1{constructor(e){this._delegate=e}set(e,t,r){const s=Wp(e);return r?(PI("WriteBatch.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const l=Wp(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...s),this}delete(e){const t=Wp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class zp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new U0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new $0(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=zp.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let l=s.get(t);return l||(l=new zp(e,new UC(e),t),s.set(t,l)),l}}zp.INSTANCES=new WeakMap;class va{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new UC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new va(t,new b(t._delegate,r,new He(e)))}static forKey(e,t,r){return new va(t,new b(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ay(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ay(this.firestore,k(this._delegate,e))}catch(t){throw fs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,St.m9)(e))instanceof b&&_e(this._delegate,e)}set(e,t){t=PI("DocumentReference.set",t);try{return t?a1(this._delegate,e,t):a1(this._delegate,e)}catch(r){throw fs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?u1(this._delegate,e):u1(this._delegate,e,t,...r)}catch(s){throw fs(s,"updateDoc()","DocumentReference.update()")}}delete(){return function vO(n){return Iy(c(n.firestore,st),[new Um(n._key,rr.none())])}(this._delegate)}onSnapshot(...e){const t=m1(e),r=y1(e,s=>new j0(this.firestore,new zc(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return l1(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function pO(n){n=c(n,b);const e=c(n.firestore,st),t=Dn(e),r=new Gp(e);return function _I(n,e){const t=new Kr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(r=(0,be.Z)(function*(s,l,d){try{const p=yield function(v,C){const S=Ke(v);return S.persistence.runTransaction("read document","readonly",x=>S.fi.Ls(x,C))}(s,l);p.isFoundDocument()?d.resolve(p):p.isNoDocument()?d.resolve(null):d.reject(new xe(le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const v=Hc(p,`Failed to get document '${l} from cache`);d.reject(v)}}),function(s,l,d){return r.apply(this,arguments)})(yield Bp(n),e,t);var r})),t.promise}(t,n._key).then(s=>new zc(e,r,n._key,s,new Zp(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function gO(n){n=c(n,b);const e=c(n.firestore,st);return vI(Dn(e),n._key,{source:"server"}).then(t=>xI(e,n,t))}(this._delegate):function fO(n){n=c(n,b);const e=c(n.firestore,st);return vI(Dn(e),n._key).then(t=>xI(e,n,t))}(this._delegate),t.then(r=>new j0(this.firestore,new zc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new va(this.firestore,this._delegate.withConverter(e?zp.getInstance(this.firestore,e):null))}}function fs(n,e,t){return n.message=n.message.replace(e,t),n}function m1(n){for(const e of n)if("object"==typeof e&&!OI(e))return e;return{}}function y1(n,e){var t,r;let s;return s=OI(n[0])?n[0]:OI(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{s.next&&s.next(e(l))},error:null===(t=s.error)||void 0===t?void 0:t.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class j0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new va(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return QS(this._delegate,e._delegate)}}class $0 extends j0{data(e){const t=this._delegate.data(e);return function yS(n,e){n||rt()}(void 0!==t),t}}class ps{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new UC(e)}where(e,t,r){try{return new ps(this.firestore,jh(this._delegate,function nO(n,e,t){const r=e,s=FC("where",n);return new tO(s,r,t)}(e,t,r)))}catch(s){throw fs(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ps(this.firestore,jh(this._delegate,function iO(n,e="asc"){const t=e,r=FC("orderBy",n);return new rO(r,t)}(e,t)))}catch(r){throw fs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ps(this.firestore,jh(this._delegate,function sO(n){return h("limit",n),new XS("limit",n,"F")}(e)))}catch(t){throw fs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ps(this.firestore,jh(this._delegate,function oO(n){return h("limitToLast",n),new XS("limitToLast",n,"L")}(e)))}catch(t){throw fs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ps(this.firestore,jh(this._delegate,function aO(...n){return new e1("startAt",n,!0)}(...e)))}catch(t){throw fs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ps(this.firestore,jh(this._delegate,function uO(...n){return new e1("startAfter",n,!1)}(...e)))}catch(t){throw fs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ps(this.firestore,jh(this._delegate,function lO(...n){return new t1("endBefore",n,!1)}(...e)))}catch(t){throw fs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ps(this.firestore,jh(this._delegate,function cO(...n){return new t1("endAt",n,!0)}(...e)))}catch(t){throw fs(t,"endAt()","Query.endAt()")}}isEqual(e){return ke(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function yO(n){n=c(n,I);const e=c(n.firestore,st),t=Dn(e),r=new Gp(e);return function VS(n,e){const t=new Kr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(r=(0,be.Z)(function*(s,l,d){try{const p=yield Rh(s,l,!0),v=new u0(l,p._i),C=v.Wu(p.documents),S=v.applyChanges(C,!1);d.resolve(S.snapshot)}catch(p){const v=Hc(p,`Failed to execute query '${l} against cache`);d.reject(v)}}),function(s,l,d){return r.apply(this,arguments)})(yield Bp(n),e,t);var r})),t.promise}(t,n._query).then(s=>new Bh(e,r,n,s))}(this._delegate):"server"===(null==e?void 0:e.source)?function _O(n){n=c(n,I);const e=c(n.firestore,st),t=Dn(e),r=new Gp(e);return EI(t,n._query,{source:"server"}).then(s=>new Bh(e,r,n,s))}(this._delegate):function mO(n){n=c(n,I);const e=c(n.firestore,st),t=Dn(e),r=new Gp(e);return JS(n._query),EI(t,n._query).then(s=>new Bh(e,r,n,s))}(this._delegate),t.then(r=>new NI(this.firestore,new Bh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=m1(e),r=y1(e,s=>new NI(this.firestore,new Bh(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return l1(this._delegate,t,r)}withConverter(e){return new ps(this.firestore,this._delegate.withConverter(e?zp.getInstance(this.firestore,e):null))}}class RO{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new $0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class NI{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ps(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new $0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new RO(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new $0(this._firestore,r))})}isEqual(e){return QS(this._delegate,e._delegate)}}class Ay extends ps{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new va(this.firestore,e):null}doc(e){try{return new va(this.firestore,void 0===e?Q(this._delegate):Q(this._delegate,e))}catch(t){throw fs(t,"doc()","CollectionReference.doc()")}}add(e){return function EO(n,e){const t=c(n.firestore,st),r=Q(n),s=LC(n.converter,e);return Iy(t,[NC(Hp(n.firestore),"addDoc",r._key,s,null!==n.converter,{}).toMutation(r._key,rr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new va(this.firestore,t))}isEqual(e){return _e(this._delegate,e._delegate)}withConverter(e){return new Ay(this.firestore,this._delegate.withConverter(e?zp.getInstance(this.firestore,e):null))}}function Wp(n){return c(n,b)}class RI{constructor(...e){this._delegate=new Gc(...e)}static documentId(){return new RI(Hn.keyField().canonicalString())}isEqual(e){return(e=(0,St.m9)(e))instanceof Gc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Kp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function DO(){return new TI("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Kp(e)}static delete(){const e=function TO(){return new F0("deleteField")}();return e._methodName="FieldValue.delete",new Kp(e)}static arrayUnion(...e){const t=function IO(...n){return new KP("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Kp(t)}static arrayRemove(...e){const t=function AO(...n){return new YP("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Kp(t)}static increment(e){const t=function SO(n){return new QP("increment",n)}(e);return t._methodName="FieldValue.increment",new Kp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const kO={Firestore:f1,GeoPoint:PC,Timestamp:er,Blob:B0,Transaction:p1,WriteBatch:g1,DocumentReference:va,DocumentSnapshot:j0,Query:ps,QueryDocumentSnapshot:$0,QuerySnapshot:NI,CollectionReference:Ay,FieldPath:RI,FieldValue:Kp,setLogLevel:function NO(n){!function rD(n){au.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function LO(n){(function FO(n,e){n.INTERNAL.registerComponent(new Yg.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),s=t.getProvider("firestore").getImmediate();return e(r,s)},"PUBLIC").setServiceProps(Object.assign({},kO)))})(n,(e,t)=>new f1(e,t,new OO)),n.registerVersion("@firebase/firestore-compat","0.1.18")}(_E.Z);var UO=N(6451),VC=N(5363),VO=N(6063);class BO extends ii.x{constructor(e=1/0,t=1/0,r=VO.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:l,_windowTime:d}=this;t||(r.push(e),!s&&r.push(l.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:s}=this,l=s.slice();for(let d=0;d<l.length&&!e.closed;d+=r?1:2)e.next(l[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:s}=this,l=(s?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!s){const d=t.now();let p=0;for(let v=1;v<r.length&&r[v]<=d;v+=2)p=v;p&&r.splice(0,p+1)}}}var jO=N(3099);function _1(n,e,t){let r,s=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:s=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,jO.B)({connector:()=>new BO(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function v1(n,e){return(0,Lu.m)(e)?mn(()=>n,e):mn(()=>n)}var kI=N(9468),FI=N(5867);const E1=new Map,GO={activated:!1,tokenObservers:[]},zO={initialized:!1,enabled:!1};function _i(n){return E1.get(n)||GO}function vu(n,e){E1.set(n,e)}function BC(){return zO}class JO{constructor(e,t,r,s,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=s,s>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,be.Z)(function*(){t.stop();try{t.pending=new St.BH,yield function XO(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new St.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const gs=new St.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function b1(n){if(!_i(n).activated)throw gs.create("use-before-activation",{appName:n.name})}function BI(n,e){return jI.apply(this,arguments)}function jI(){return jI=(0,be.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){const x=yield s.getHeartbeatsHeader();x&&(r["X-Firebase-Client"]=x)}const l={method:"POST",body:JSON.stringify(e),headers:r};let d,p;try{d=yield fetch(n,l)}catch(x){throw gs.create("fetch-network-error",{originalErrorMessage:x.message})}if(200!==d.status)throw gs.create("fetch-status-error",{httpStatus:d.status});try{p=yield d.json()}catch(x){throw gs.create("fetch-parse-error",{originalErrorMessage:x.message})}const v=p.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw gs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const C=1e3*Number(v[1]),S=Date.now();return{token:p.token,expireTimeMillis:S+C,issuedAtTimeMillis:S}}),jI.apply(this,arguments)}function iN(n,e){const{projectId:t,appId:r,apiKey:s}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${s}`,body:{debug_token:e}}}const q0="firebase-app-check-store";let HC=null;function T1(){return HC||(HC=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var s;e(gs.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(q0,{keyPath:"compositeKey"})}}catch(t){e(gs.create("storage-open",{originalErrorMessage:t.message}))}}),HC)}function $I(){return $I=(0,be.Z)(function*(n,e){const r=(yield T1()).transaction(q0,"readwrite"),l=r.objectStore(q0).put({compositeKey:n,value:e});return new Promise((d,p)=>{l.onsuccess=v=>{d()},r.onerror=v=>{var C;p(gs.create("storage-set",{originalErrorMessage:null===(C=v.target.error)||void 0===C?void 0:C.message}))}})}),$I.apply(this,arguments)}const Z0=new nl.Yd("@firebase/app-check");function S1(n,e){return(0,St.hl)()?function uN(n,e){return function D1(n,e){return $I.apply(this,arguments)}(function A1(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Z0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function M1(){return BC().enabled}function x1(){return GI.apply(this,arguments)}function GI(){return GI=(0,be.Z)(function*(){const n=BC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),GI.apply(this,arguments)}const pN={error:"UNKNOWN_ERROR"};function gN(n){return St.US.encodeString(JSON.stringify(n),!1)}function qC(n){return zI.apply(this,arguments)}function zI(){return zI=(0,be.Z)(function*(n,e=!1){const t=n.app;b1(t);const r=_i(t);let l,s=r.token;if(!s){const v=yield r.cachedTokenPromise;v&&ZC(v)&&(s=v)}if(!e&&s&&ZC(s))return{token:s.token};let p,d=!1;if(M1()){r.exchangeTokenPromise||(r.exchangeTokenPromise=BI(iN(t,yield x1()),n.heartbeatServiceProvider).then(C=>(r.exchangeTokenPromise=void 0,C)),d=!0);const v=yield r.exchangeTokenPromise;return yield S1(t,v),vu(t,Object.assign(Object.assign({},r),{token:v})),{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(v=>(r.exchangeTokenPromise=void 0,v)),d=!0),s=yield r.exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?Z0.warn(v.message):Z0.error(v),l=v}return s?(p={token:s.token},vu(t,Object.assign(Object.assign({},r),{token:s})),yield S1(t,s)):p=yN(l),d&&O1(t,p),p}),zI.apply(this,arguments)}function KI(n,e){const t=_i(n),r=t.tokenObservers.filter(s=>s.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),vu(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function P1(n){const{app:e}=n,t=_i(e);let r=t.tokenRefresher;r||(r=function mN(n){const{app:e}=n;return new JO((0,be.Z)(function*(){let r;if(r=_i(e).token?yield qC(n,!0):yield qC(n),r.error)throw r.error}),()=>!0,()=>{const t=_i(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),vu(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function O1(n,e){const t=_i(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(s){}}function ZC(n){return n.expireTimeMillis-Date.now()>0}function yN(n){return{token:gN(pN),error:n}}class _N{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=_i(this.app);for(const t of e)KI(this.app,t.next);return Promise.resolve()}}const B1="app-check-internal";!function ON(){(0,tl._registerComponent)(new Yg.wA("app-check",n=>function vN(n,e){return new _N(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(B1).initialize()})),(0,tl._registerComponent)(new Yg.wA(B1,n=>function EN(n){return{getToken:e=>qC(n,e),addTokenListener:e=>function WI(n,e,t,r){const{app:s}=n,l=_i(s),d={next:t,error:r,type:e};if(vu(s,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,d]})),l.token&&ZC(l.token)){const p=l.token;Promise.resolve().then(()=>{t({token:p.token}),P1(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>P1(n))}(n,"INTERNAL",e),removeTokenListener:e=>KI(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,tl.registerVersion)("@firebase/app-check","0.5.8")}();class XI{constructor(){return(0,hr.vb)("app-check")}}"undefined"!=typeof window&&window;var LN=N(127);const $1=new u.OlP("angularfire2.auth.use-emulator"),H1=new u.OlP("angularfire2.auth.settings"),q1=new u.OlP("angularfire2.auth.tenant-id"),Z1=new u.OlP("angularfire2.auth.langugage-code"),G1=new u.OlP("angularfire2.auth.use-device-language"),z1=new u.OlP("angularfire.auth.persistence"),W1=(n,e,t,r,s,l,d,p)=>(0,as.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=s,l&&v.useDeviceLanguage(),d)for(const[C,S]of Object.entries(d))v.settings[C]=S;return p&&v.setPersistence(p),v},[t,r,s,l,d,p]);let K1=(()=>{class n{constructor(t,r,s,l,d,p,v,C,S,x,L,G){const K=new ii.x,ye=et(void 0).pipe((0,VC.Q)(d.outsideAngular),mn(()=>l.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,7092)))),(0,ct.U)(()=>(0,as.on)(t,l,r)),(0,ct.U)(Re=>W1(Re,l,p,C,S,x,v,L)),_1({bufferSize:1,refCount:!1}));if(Fo(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=et(null);else{ye.pipe(Xo()).subscribe();const gt=ye.pipe(mn(ut=>ut.getRedirectResult().then(Ft=>Ft,()=>null)),hr.iC,_1({bufferSize:1,refCount:!1})),yt=ye.pipe(mn(ut=>new jn.y(Ft=>({unsubscribe:l.runOutsideAngular(()=>ut.onAuthStateChanged(Bt=>Ft.next(Bt),Bt=>Ft.error(Bt),()=>Ft.complete()))})))),Tt=ye.pipe(mn(ut=>new jn.y(Ft=>({unsubscribe:l.runOutsideAngular(()=>ut.onIdTokenChanged(Bt=>Ft.next(Bt),Bt=>Ft.error(Bt),()=>Ft.complete()))}))));this.authState=gt.pipe(v1(yt),(0,kI.R)(d.outsideAngular),(0,VC.Q)(d.insideAngular)),this.user=gt.pipe(v1(Tt),(0,kI.R)(d.outsideAngular),(0,VC.Q)(d.insideAngular)),this.idToken=this.user.pipe(mn(ut=>ut?(0,tn.D)(ut.getIdToken()):et(null))),this.idTokenResult=this.user.pipe(mn(ut=>ut?(0,tn.D)(ut.getIdTokenResult()):et(null))),this.credential=(0,UO.T)(gt,K,this.authState.pipe(Hr(ut=>!ut))).pipe((0,ct.U)(ut=>(null==ut?void 0:ut.user)?ut:null),(0,kI.R)(d.outsideAngular),(0,VC.Q)(d.insideAngular))}return(0,as.pX)(this,ye,l,{spy:{apply:(Re,gt,yt)=>{(Re.startsWith("signIn")||Re.startsWith("createUser"))&&yt.then(Tt=>K.next(Tt))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(as.Dh),u.LFG(as.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(hr.HU),u.LFG($1,8),u.LFG(H1,8),u.LFG(q1,8),u.LFG(Z1,8),u.LFG(G1,8),u.LFG(z1,8),u.LFG(XI,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Y1(n,e){return function VN(n,e=mE.z){return new jn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function tA(n,e){return Y1(n,e).pipe((0,ct.U)(t=>({payload:t,type:"query"})))}function zC(n,e){return tA(n,e).pipe($i(void 0),g_(),(0,ct.U)(([t,r])=>{const s=r.payload.docChanges(),l=s.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,p)=>{const v=s.find(S=>S.doc.ref.isEqual(d.ref)),C=null==t?void 0:t.payload.docs.find(S=>S.ref.isEqual(d.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(d.metadata)||!v&&C&&JSON.stringify(C.metadata)===JSON.stringify(d.metadata)||l.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:d}})}),l}))}function Q1(n,e,t){return zC(n,t).pipe(Hi((r,s)=>function jN(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function $N(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return nA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return nA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return nA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,s.map(l=>l.payload),e),[]),function yE(n,e=Ti.y){return n=null!=n?n:m_,(0,lr.e)((t,r)=>{let s,l=!0;t.subscribe((0,kn.x)(r,d=>{const p=e(d);(l||!n(s,p))&&(l=!1,s=p,r.next(d))}))})}(),(0,ct.U)(r=>r.map(s=>({type:s.type,payload:s}))))}function nA(n,e,t,...r){const s=n.slice();return s.splice(e,t,...r),s}function J1(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class X1{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=zC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ct.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)))),t.pipe($i(void 0),g_(),Hr(([r,s])=>s.length>0||!r),(0,ct.U)(([r,s])=>s),hr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Hi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=J1(e);return Q1(this.query,t,this.afs.schedulers.outsideAngular).pipe(hr.iC)}valueChanges(e={}){return tA(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),hr.iC)}get(e){return(0,tn.D)(this.query.get(e)).pipe(hr.iC)}add(e){return this.ref.add(e)}doc(e){return new eM(this.ref.doc(e),this.afs)}}class eM{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:s,query:l}=rM(r,t);return new X1(s,l,this.afs)}snapshotChanges(){return function BN(n,e){return Y1(n,e).pipe($i(void 0),g_(),(0,ct.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(hr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ct.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,tn.D)(this.ref.get(e)).pipe(hr.iC)}}class HN{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?zC(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Hr(t=>t.length>0),hr.iC):zC(this.query,this.afs.schedulers.outsideAngular).pipe(hr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Hi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=J1(e);return Q1(this.query,t,this.afs.schedulers.outsideAngular).pipe(hr.iC)}valueChanges(e={}){return tA(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(r=>r.payload.docs.map(s=>e.idField?Object.assign({[e.idField]:s.id},s.data()):s.data())),hr.iC)}get(e){return(0,tn.D)(this.query.get(e)).pipe(hr.iC)}}const tM=new u.OlP("angularfire2.enableFirestorePersistence"),nM=new u.OlP("angularfire2.firestore.persistenceSettings"),qN=new u.OlP("angularfire2.firestore.settings"),ZN=new u.OlP("angularfire2.firestore.use-emulator");function rM(n,e=(t=>t)){return{query:e(n),ref:n}}let _l=(()=>{class n{constructor(t,r,s,l,d,p,v,C,S,x,L,G,K,ye,Re,gt,yt){this.schedulers=v;const Tt=(0,as.on)(t,p,r),ut=S;x&&W1(Tt,p,L,K,ye,Re,G,gt),[this.firestore,this.persistenceEnabled$]=(0,as.cc)(`${Tt.name}.firestore`,"AngularFirestore",Tt.name,()=>{const Ft=p.runOutsideAngular(()=>Tt.firestore());if(l&&Ft.settings(l),ut&&Ft.useEmulator(...ut),s&&!Fo(d)){const Bt=()=>{try{return(0,tn.D)(Ft.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(un){return"undefined"!=typeof console&&console.warn(un),et(!1)}};return[Ft,p.runOutsideAngular(Bt)]}return[Ft,et(!1)]},[l,ut,s])}collection(t,r){let s;s="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:d}=rM(s,r),p=this.schedulers.ngZone.run(()=>l);return new X1(p,d,this)}collectionGroup(t,r){const s=r||(d=>d),l=this.firestore.collectionGroup(t);return new HN(s(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const s=this.schedulers.ngZone.run(()=>r);return new eM(s,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(as.Dh),u.LFG(as.xv,8),u.LFG(tM,8),u.LFG(qN,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(hr.HU),u.LFG(nM,8),u.LFG(ZN,8),u.LFG(K1,8),u.LFG($1,8),u.LFG(H1,8),u.LFG(q1,8),u.LFG(Z1,8),u.LFG(G1,8),u.LFG(z1,8),u.LFG(XI,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Wc=(()=>{class n{constructor(){LN.Z.registerVersion("angularfire",hr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:tM,useValue:!0},{provide:nM,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[_l]}),n})(),iM=(()=>{class n{constructor(t){this._client=t}getAll(){return this._client.collection("heroes").valueChanges({idField:"id"})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(_l))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const sM=new u.OlP("GETS_ALL_HERO_DTO");let oM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[iM,{provide:sM,useExisting:iM}],imports:[[Wc]]}),n})(),aM=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),Yp=(()=>{class n extends aM{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const vl=new u.OlP("NgValueAccessor"),WN={provide:vl,useExisting:(0,u.Gpc)(()=>Qp),multi:!0},YN=new u.OlP("CompositionEventMode");let Qp=(()=>{class n extends aM{constructor(t,r,s){super(t,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function KN(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(YN,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[u._Bn([WN]),u.qOj]}),n})();function Hh(n){return null==n||0===n.length}function lM(n){return null!=n&&"number"==typeof n.length}const zi=new u.OlP("NgValidators"),qh=new u.OlP("NgAsyncValidators"),QN=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class zs{static min(e){return function cM(n){return e=>{if(Hh(e.value)||Hh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function dM(n){return e=>{if(Hh(e.value)||Hh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function hM(n){return Hh(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function fM(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function pM(n){return Hh(n.value)||QN.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function gM(n){return e=>Hh(e.value)||!lM(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function mM(n){return e=>lM(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function yM(n){if(!n)return WC;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Hh(r.value))return null;const s=r.value;return e.test(s)?null:{pattern:{requiredPattern:t,actualValue:s}}}}(e)}static nullValidator(e){return null}static compose(e){return CM(e)}static composeAsync(e){return TM(e)}}function WC(n){return null}function _M(n){return null!=n}function vM(n){const e=(0,u.QGY)(n)?(0,tn.D)(n):n;return(0,u.CqO)(e),e}function EM(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function wM(n,e){return e.map(t=>t(n))}function bM(n){return n.map(e=>function JN(n){return!n.validate}(e)?e:t=>e.validate(t))}function CM(n){if(!n)return null;const e=n.filter(_M);return 0==e.length?null:function(t){return EM(wM(t,e))}}function rA(n){return null!=n?CM(bM(n)):null}function TM(n){if(!n)return null;const e=n.filter(_M);return 0==e.length?null:function(t){return function GN(...n){const e=(0,Ba.jO)(n),{args:t,keys:r}=ln(n),s=new jn.y(l=>{const{length:d}=t;if(!d)return void l.complete();const p=new Array(d);let v=d,C=d;for(let S=0;S<d;S++){let x=!1;(0,Qo.Xf)(t[S]).subscribe((0,kn.x)(l,L=>{x||(x=!0,C--),p[S]=L},()=>v--,void 0,()=>{(!v||!x)&&(C||l.next(r?Ul(r,p):p),l.complete())}))}});return e?s.pipe(Ed(e)):s}(wM(t,e).map(vM)).pipe((0,ct.U)(EM))}}function iA(n){return null!=n?TM(bM(n)):null}function DM(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function IM(n){return n._rawValidators}function AM(n){return n._rawAsyncValidators}function sA(n){return n?Array.isArray(n)?n:[n]:[]}function KC(n,e){return Array.isArray(n)?n.includes(e):n===e}function SM(n,e){const t=sA(e);return sA(n).forEach(s=>{KC(t,s)||t.push(s)}),t}function MM(n,e){return sA(e).filter(t=>!KC(n,t))}class xM{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=rA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=iA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Zh extends xM{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ms extends xM{get formDirective(){return null}get path(){return null}}class PM{constructor(e){this._cd=e}is(e){var t,r,s;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(s=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===s?void 0:s[e])}}let G0=(()=>{class n extends PM{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Zh,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[u.qOj]}),n})(),z0=(()=>{class n extends PM{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ms,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[u.qOj]}),n})();function W0(n,e){uA(n,e),e.valueAccessor.writeValue(n.value),function oR(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&NM(n,e)})}(n,e),function uR(n,e){const t=(r,s)=>{e.valueAccessor.writeValue(r),s&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function aR(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&NM(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function sR(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function JC(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),eT(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function XC(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function uA(n,e){const t=IM(n);null!==e.validator?n.setValidators(DM(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=AM(n);null!==e.asyncValidator?n.setAsyncValidators(DM(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const s=()=>n.updateValueAndValidity();XC(e._rawValidators,s),XC(e._rawAsyncValidators,s)}function eT(n,e){let t=!1;if(null!==n){if(null!==e.validator){const s=IM(n);if(Array.isArray(s)&&s.length>0){const l=s.filter(d=>d!==e.validator);l.length!==s.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const s=AM(n);if(Array.isArray(s)&&s.length>0){const l=s.filter(d=>d!==e.asyncValidator);l.length!==s.length&&(t=!0,n.setAsyncValidators(l))}}}const r=()=>{};return XC(e._rawValidators,r),XC(e._rawAsyncValidators,r),t}function NM(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function dA(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const K0="VALID",tT="INVALID",Sy="PENDING",Y0="DISABLED";function fA(n){return(nT(n)?n.validators:n)||null}function LM(n){return Array.isArray(n)?rA(n):n||null}function pA(n,e){return(nT(e)?e.asyncValidators:n)||null}function UM(n){return Array.isArray(n)?iA(n):n||null}function nT(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const VM=n=>n instanceof Ws,gA=n=>n instanceof Kc;function BM(n){return VM(n)?n.value:n.getRawValue()}function jM(n,e){const t=gA(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new u.vHH(1e3,"");if(!r[e])throw new u.vHH(1001,"")}function $M(n,e){gA(n),n._forEachChild((r,s)=>{if(void 0===e[s])throw new u.vHH(1002,"")})}class mA{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=LM(this._rawValidators),this._composedAsyncValidatorFn=UM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===K0}get invalid(){return this.status===tT}get pending(){return this.status==Sy}get disabled(){return this.status===Y0}get enabled(){return this.status!==Y0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=LM(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=UM(e)}addValidators(e){this.setValidators(SM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(SM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(MM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(MM(e,this._rawAsyncValidators))}hasValidator(e){return KC(this._rawValidators,e)}hasAsyncValidator(e){return KC(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Sy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Y0,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=K0,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===K0||this.status===Sy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Y0:K0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Sy,this._hasOwnPendingAsyncValidator=!0;const t=vM(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function hR(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(s=>{r=gA(r)?r.controls.hasOwnProperty(s)?r.controls[s]:null:(n=>n instanceof pR)(r)&&r.at(s)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?Y0:this.errors?tT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Sy)?Sy:this._anyControlsHaveStatus(tT)?tT:K0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){nT(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ws extends mA{constructor(e=null,t,r){super(fA(t),pA(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),nT(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){dA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){dA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Kc extends mA{constructor(e,t,r){super(fA(t),pA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){$M(this,e),Object.keys(e).forEach(r=>{jM(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=BM(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((s,l)=>{r=t(r,s,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class pR extends mA{constructor(e,t,r){super(fA(t),pA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){$M(this,e),e.forEach((r,s)=>{jM(this,s),this.at(s).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,s)=>{this.at(s)&&this.at(s).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>BM(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let J0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),WM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const _A=new u.OlP("NgModelWithFormControlWarning"),CR={provide:ms,useExisting:(0,u.Gpc)(()=>Jp)};let Jp=(()=>{class n extends ms{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(eT(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return W0(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){JC(t.control||null,t,!1),dA(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function FM(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,s=this.form.get(t.path);r!==s&&(JC(r||null,t),VM(s)&&(W0(s,t),t.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function RM(n,e){uA(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function lR(n,e){return eT(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){uA(this.form,this),this._oldForm&&eT(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(zi,10),u.Y36(qh,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([CR]),u.qOj,u.TTD]}),n})();const IR={provide:Zh,useExisting:(0,u.Gpc)(()=>My)};let My=(()=>{class n extends Zh{constructor(t,r,s,l,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=function cA(n,e){if(!e)return null;let t,r,s;return Array.isArray(e),e.forEach(l=>{l.constructor===Qp?t=l:function dR(n){return Object.getPrototypeOf(n.constructor)===Yp}(l)?r=l:s=l}),s||r||t||null}(0,l)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function lA(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function QC(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(u.Y36(ms,13),u.Y36(zi,10),u.Y36(qh,10),u.Y36(vl,10),u.Y36(_A,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([IR]),u.qOj,u.TTD]}),n})(),$R=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[WM]]}),n})(),xy=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:_A,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[$R]}),n})(),HR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Rt,zt,xy]]}),n})(),TA=(()=>{class n{constructor(t){this._client=t}getAll(){return this._client.collection("products").valueChanges({idField:"id"})}getOne(t){return this._client.doc("products/"+t).valueChanges({idField:"id"}).pipe(mn(r=>r?et(r):ji(new Error("Item does not exist in firebase"))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(_l))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Py=new u.OlP("GETS_ALL_PRODUCT_DTO"),cx=new u.OlP("GETS_ONE_PRODUCT_DTO");let eg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[TA,{provide:Py,useExisting:TA},{provide:cx,useExisting:TA}],imports:[[Wc]]}),n})(),qR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Rt,zt,xy]]}),n})(),rT=(()=>{class n{constructor(){this._subject=new xr({})}setState(t){return et(this._subject.next(t)).pipe((0,ct.U)(()=>{}))}select(){return this._subject.asObservable()}patch(t){return this._subject.pipe((0,Ps.q)(1),(0,ct.U)(r=>this._subject.next(Object.assign(Object.assign({},r),t))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const dx=new u.OlP("SETS_STATE_PRODUCT_CONTEXT"),hx=new u.OlP("SELECTS_PRODUCT_CONTEXT"),ZR=new u.OlP("PATCHES_PRODUCT_CONTEXT");let DA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[rT,{provide:dx,useExisting:rT},{provide:hx,useExisting:rT},{provide:ZR,useExisting:rT}],imports:[[]]}),n})(),fx=(()=>{class n{constructor(t){this._setsStateProductContextStorage=t}resolve(t,r){return this._setsStateProductContextStorage.setState({productId:t.params.productId}).pipe((0,ct.U)(s=>!0))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(dx))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),GR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[fx],imports:[[]]}),n})(),zR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Rt]]}),n})(),IA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Rt,zt]]}),n})(),px=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Rt,zt]]}),n})(),gx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Rt,zt]]}),n})(),WR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Rt,zt]]}),n})(),mx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Rt,zt]]}),n})(),AA=(()=>{class n{constructor(t){this._client=t}getAll(){return this._client.collection("Topsellers").valueChanges({idField:"id"})}getOne(t){return this._client.doc("Topsellers/"+t).valueChanges({idField:"id"}).pipe(mn(r=>r?et(r):ji(new Error("Item does not exist in firebase"))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(_l))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const KR=new u.OlP("GETS_ALL_TOPSELLERS_DTO"),yx=new u.OlP("GETS_ONE_TOPSELLERS_DTO");let _x=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[AA,{provide:KR,useExisting:AA},{provide:yx,useExisting:AA}],imports:[[Wc]]}),n})(),YR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Rt]]}),n})(),vx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Rt,zt,xy]]}),n})(),QR=(()=>{class n{constructor(t){this._getsAllHeroDto=t,this.image$=this._getsAllHeroDto.getAll()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(sM))},n.\u0275cmp=u.Xpm({type:n,selectors:[["lib-hero"]],decls:14,vars:0,consts:[[1,"card","bg-dark","text-white"],["src","assets/hero-background.png","alt","...",1,"card-img","img-responsive"],[1,"card-img-overlay"],[1,"container","h-100","d-flex","align-items-center","justify-content-end"],[1,"d-block","text-center"],[1,"row","justify-content-around"],[1,"col-1"],[1,"col-"],[1,"fw-bold"],[1,"border","border-white","mt-3"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u._UZ(1,"img",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),u._UZ(6,"div",6),u.TgZ(7,"div",7)(8,"h1",8),u._uU(9,"STYLIST PICK BEAT"),u.qZA(),u.TgZ(10,"h1",8),u._uU(11,"THE HEAT"),u.qZA(),u.TgZ(12,"h5",9),u._uU(13,"SHOP NOW"),u.qZA()()()()()()())},encapsulation:2,changeDetection:0}),n})();function JR(n,e){if(1&n&&(u.TgZ(0,"div",5)(1,"div",6),u._UZ(2,"img",7),u.TgZ(3,"div",8)(4,"h5",9),u._uU(5),u.qZA(),u.TgZ(6,"p",10),u._uU(7),u.qZA()()()()),2&n){const t=e.$implicit;u.xp6(2),u.s9C("src",t.imageUrl,u.LSH),u.Q6J("routerLink","details/"+t.id),u.xp6(3),u.Oqu(t.name),u.xp6(2),u.hij("",t.price," \u20ac")}}let XR=(()=>{class n{constructor(t){this._getsAllProductDto=t,this.products$=this._getsAllProductDto.getAll(),this.quantity=new Kc({quantity:new Ws})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Py))},n.\u0275cmp=u.Xpm({type:n,selectors:[["lib-product-list"]],decls:13,vars:3,consts:[[1,"col","herotext","text-center"],[1,"fw-bold"],[1,"container"],[1,"row"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card","text-center","border-0","m-3","p-3",2,"width","16rem"],["alt","...",1,"card-img-top","pointer",2,"width","295px","height","380px",3,"routerLink","src"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(t,r){1&t&&(u._UZ(0,"br"),u.TgZ(1,"div",0)(2,"h1")(3,"span",1),u._uU(4," DISCOVER OUR PRODUCTS"),u.qZA()(),u.TgZ(5,"h4"),u._uU(6,"THE LATEST FASHION ONLY"),u.qZA()(),u._UZ(7,"br")(8,"br"),u.TgZ(9,"div",2)(10,"div",3),u.YNc(11,JR,8,4,"div",4),u.ALo(12,"async"),u.qZA()()),2&t&&(u.xp6(11),u.Q6J("ngForOf",u.lcZ(12,1,r.products$)))},directives:[gn,Gr],pipes:[Qi],encapsulation:2,changeDetection:0}),n})(),ek=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["lib-shop-description"]],decls:56,vars:0,consts:[[1,"border","bg-light","w-100"],[1,"container-fluid","navtext","contacttext","text-center"],[1,"row"],[1,"col-sm"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-truck"],["d","M0 3.5A1.5 1.5 0 0 1 1.5 2h9A1.5 1.5 0 0 1 12 3.5V5h1.02a1.5 1.5 0 0 1 1.17.563l1.481 1.85a1.5 1.5 0 0 1 .329.938V10.5a1.5 1.5 0 0 1-1.5 1.5H14a2 2 0 1 1-4 0H5a2 2 0 1 1-3.998-.085A1.5 1.5 0 0 1 0 10.5v-7zm1.294 7.456A1.999 1.999 0 0 1 4.732 11h5.536a2.01 2.01 0 0 1 .732-.732V3.5a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .294.456zM12 10a2 2 0 0 1 1.732 1h.768a.5.5 0 0 0 .5-.5V8.35a.5.5 0 0 0-.11-.312l-1.48-1.85A.5.5 0 0 0 13.02 6H12v4zm-9 1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm9 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-life-preserver"],["d","M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm6.43-5.228a7.025 7.025 0 0 1-3.658 3.658l-1.115-2.788a4.015 4.015 0 0 0 1.985-1.985l2.788 1.115zM5.228 14.43a7.025 7.025 0 0 1-3.658-3.658l2.788-1.115a4.015 4.015 0 0 0 1.985 1.985L5.228 14.43zm9.202-9.202-2.788 1.115a4.015 4.015 0 0 0-1.985-1.985l1.115-2.788a7.025 7.025 0 0 1 3.658 3.658zm-8.087-.87a4.015 4.015 0 0 0-1.985 1.985L1.57 5.228A7.025 7.025 0 0 1 5.228 1.57l1.115 2.788zM8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-counterclockwise"],["fill-rule","evenodd","d","M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z"],["d","M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-cash-coin"],["fill-rule","evenodd","d","M11 15a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm5-4a5 5 0 1 1-10 0 5 5 0 0 1 10 0z"],["d","M9.438 11.944c.047.596.518 1.06 1.363 1.116v.44h.375v-.443c.875-.061 1.386-.529 1.386-1.207 0-.618-.39-.936-1.09-1.1l-.296-.07v-1.2c.376.043.614.248.671.532h.658c-.047-.575-.54-1.024-1.329-1.073V8.5h-.375v.45c-.747.073-1.255.522-1.255 1.158 0 .562.378.92 1.007 1.066l.248.061v1.272c-.384-.058-.639-.27-.696-.563h-.668zm1.36-1.354c-.369-.085-.569-.26-.569-.522 0-.294.216-.514.572-.578v1.1h-.003zm.432.746c.449.104.655.272.655.569 0 .339-.257.571-.709.614v-1.195l.054.012z"],["d","M1 0a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4.083c.058-.344.145-.678.258-1H3a2 2 0 0 0-2-2V3a2 2 0 0 0 2-2h10a2 2 0 0 0 2 2v3.528c.38.34.717.728 1 1.154V1a1 1 0 0 0-1-1H1z"],["d","M9.998 5.083 10 5a2 2 0 1 0-3.132 1.65 5.982 5.982 0 0 1 3.13-1.567z"]],template:function(t,r){1&t&&(u._UZ(0,"p",0)(1,"br"),u.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"b"),u.O4$(),u.TgZ(6,"svg",4),u._UZ(7,"path",5),u.qZA(),u._uU(8," FREE SHIPPING "),u.qZA(),u.kcU(),u._UZ(9,"br"),u._uU(10," Enjoy free shipping "),u._UZ(11,"br"),u._uU(12,"on all orders above "),u._UZ(13,"br"),u._uU(14,"100$ "),u.qZA(),u.TgZ(15,"div",3)(16,"b"),u.O4$(),u.TgZ(17,"svg",6),u._UZ(18,"path",7),u.qZA(),u._uU(19," SUPPORT 24/7"),u.kcU(),u._UZ(20,"br"),u.qZA(),u._uU(21," Our support team "),u._UZ(22,"br"),u._uU(23,"is there to help you "),u._UZ(24,"br"),u._uU(25,"for queries "),u.qZA(),u.TgZ(26,"div",3)(27,"b"),u.O4$(),u.TgZ(28,"svg",8),u._UZ(29,"path",9)(30,"path",10),u.qZA(),u._uU(31," 30 DAYS RETURN"),u.qZA(),u.kcU(),u._UZ(32,"br"),u._uU(33,"Simply return it within "),u._UZ(34,"br"),u._uU(35,"30 days for an "),u._UZ(36,"br"),u._uU(37,"exchange. "),u.qZA(),u.TgZ(38,"div",3)(39,"b"),u.O4$(),u.TgZ(40,"svg",11),u._UZ(41,"path",12)(42,"path",13)(43,"path",14)(44,"path",15),u.qZA(),u._uU(45," 100% PAYMENT "),u.kcU(),u._UZ(46,"br"),u._uU(47,"SECURE"),u.qZA(),u._UZ(48,"br"),u._uU(49,"Our Payments are secured "),u._UZ(50,"br"),u._uU(51,"with 256 bit encryption "),u.qZA()()(),u._UZ(52,"br")(53,"br")(54,"p",0)(55,"br"))},encapsulation:2,changeDetection:0}),n})(),tk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["lib-bargains"]],decls:43,vars:2,consts:[[1,"container","overflow-hidden"],[1,"row","gx-5"],[1,"col"],[1,"p-3","border","bg-black","text-white","text-center"],[1,"d-flex"],["type","button",1,"buttonwhite",3,"routerLink"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),u._UZ(4,"br")(5,"br"),u.TgZ(6,"h1")(7,"b"),u._uU(8,"PEACE OF MIND"),u.qZA()(),u._UZ(9,"br")(10,"br"),u.TgZ(11,"h5"),u._uU(12," A one-stop platform for all your fashion needs,"),u._UZ(13,"br"),u._uU(14," hassle-free. Buy with a peace of mind. "),u.qZA(),u._UZ(15,"br")(16,"br"),u.TgZ(17,"div",4)(18,"button",5),u._uU(19," BUY NOW! "),u.qZA()(),u._UZ(20,"br")(21,"br"),u.qZA()(),u.TgZ(22,"div",2)(23,"div",3),u._UZ(24,"br")(25,"br"),u.TgZ(26,"h1")(27,"b"),u._uU(28,"BUY 2 GET 1 FREE"),u.qZA()(),u._UZ(29,"br")(30,"br"),u.TgZ(31,"h5"),u._uU(32," End of season sale. Buy any 2 items of your choice"),u._UZ(33,"br"),u._uU(34," and get 1 free. "),u.qZA(),u._UZ(35,"br")(36,"br"),u.TgZ(37,"div",4)(38,"button",5),u._uU(39," BUY NOW! "),u.qZA()(),u._UZ(40,"br")(41,"br"),u.qZA()()()(),u._UZ(42,"br")),2&t&&(u.xp6(18),u.Q6J("routerLink",""),u.xp6(20),u.Q6J("routerLink","./special-offers"))},directives:[Gr],encapsulation:2,changeDetection:0}),n})();function nk(n,e){if(1&n&&(u.TgZ(0,"div",5)(1,"div",6),u._UZ(2,"img",7),u.TgZ(3,"div",8)(4,"h5",9),u._uU(5),u.qZA(),u.TgZ(6,"p",10),u._uU(7),u.qZA()()()()),2&n){const t=e.$implicit;u.xp6(2),u.s9C("src",t.imageUrl,u.LSH),u.Q6J("routerLink","details/"+t.id),u.xp6(3),u.Oqu(t.name),u.xp6(2),u.hij("",t.price," z\u0142")}}let Ex=(()=>{class n{constructor(t){this._getsAllProductDto=t,this.topSellers$=this._getsAllProductDto.getAll().pipe((0,ct.U)(r=>r.sort((s,l)=>l.order-s.order)),(0,ct.U)(r=>r.slice(0,3)))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Py))},n.\u0275cmp=u.Xpm({type:n,selectors:[["lib-top-sellers"]],decls:10,vars:3,consts:[[1,"col","herotext","text-center"],[1,"fw-bold"],[1,"container"],[1,"row"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"text-center","border-0",2,"width","16rem"],[1,"card-img-top","background","productimgs","pointer",2,"width","295px","height","380px",3,"routerLink","src"],[1,"card-body"],[1,"card-title","navtext","fw-bold"],[1,"card-text","navtext"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"h1")(2,"span",1),u._uU(3," DON'T MISS OUR TOPSELLERS"),u.qZA()()(),u._UZ(4,"br"),u.TgZ(5,"div",2)(6,"div",3),u.YNc(7,nk,8,4,"div",4),u.ALo(8,"async"),u.qZA()(),u._UZ(9,"br")),2&t&&(u.xp6(7),u.Q6J("ngForOf",u.lcZ(8,1,r.topSellers$)))},directives:[gn,Gr],pipes:[Qi],encapsulation:2,changeDetection:0}),n})(),rk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-home-page"]],decls:11,vars:0,template:function(t,r){1&t&&u._UZ(0,"lib-hero")(1,"br")(2,"lib-product-list")(3,"br")(4,"lib-shop-description")(5,"br")(6,"br")(7,"lib-bargains")(8,"br")(9,"lib-top-sellers")(10,"br")},directives:[QR,XR,ek,tk,Ex],encapsulation:2,changeDetection:0}),n})(),wx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Rt,IT,zt.forChild([{path:"",component:rk}]),HR,eg,oM,eg,mx,_x,zR,IA,vx,WR]]}),n})(),SA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Rt,zt]]}),n})(),bx=(()=>{class n{constructor(t){this._client=t}getAll(){return this._client.collection("team").valueChanges({idField:"id"})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(_l))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Cx=new u.OlP("GETS_ALL_OURTEAM_DTO");let Tx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[bx,{provide:Cx,useExisting:bx}],imports:[[Wc]]}),n})(),Yc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Rt,zt]]}),n})(),Dx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Rt]]}),n})(),Ix=(()=>{class n{constructor(t){this._client=t}getAll(){return this._client.collection("testimonials").valueChanges({idField:"id"})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(_l))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ax=new u.OlP("GETS_ALL_OPINIONS_DTO");let ik=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Ix,{provide:Ax,useExisting:Ix}],imports:[[Wc]]}),n})();function sk(n,e){if(1&n&&(u.TgZ(0,"div",12)(1,"div",13),u._UZ(2,"img",14),u.TgZ(3,"div",15)(4,"h3",16),u._uU(5),u._UZ(6,"br"),u.qZA(),u.TgZ(7,"h4",16),u._uU(8),u._UZ(9,"br"),u.qZA()()()()),2&n){const t=e.$implicit;u.xp6(2),u.Q6J("src",t.imageUrl,u.LSH),u.xp6(3),u.Oqu(t.name),u.xp6(3),u.Oqu(t.description)}}let ok=(()=>{class n{constructor(t){this._getsAllOurteamDto=t,this.team$=this._getsAllOurteamDto.getAll()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Cx))},n.\u0275cmp=u.Xpm({type:n,selectors:[["lib-ourteam"]],decls:36,vars:5,consts:[[1,"aboutbackgroundpic","heading","text-white"],[1,"col","text-center"],[1,"fw-bold"],[1,"container","px-6"],[1,"row","gx-5","justify","content:","space-between"],[1,"col"],[1,"p-3","border-0"],["src","https://trendy.allani.pl/wp-content/uploads/2017/02/New-York-m-str-F17-012.jpg","width","300","height","400",1,"img-fluid",3,"routerLink"],["src","https://assets.candytm.pl/thumbs/fit-667x1000/2020-03::1583916097-85188476-592714084903038-7017065526086074368-o.jpg","width","300","height","500",1,"img-fluid",3,"routerLink"],[1,"container"],[1,"row"],["class","col-md",4,"ngFor","ngForOf"],[1,"col-md"],[1,"card","border-0",2,"width","25rem"],[2,"height","500px","width","400px",3,"src"],[1,"card-body","containertext"],[1,"card-title","fw-bold"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"h1"),u._uU(2,"ABOUT US"),u.qZA()(),u._UZ(3,"br"),u.TgZ(4,"div",1),u._UZ(5,"br"),u.TgZ(6,"h1")(7,"span",2),u._uU(8," OUR COLLECTIONS"),u.qZA()(),u.TgZ(9,"div",3)(10,"div",4)(11,"div",5)(12,"div",6),u._UZ(13,"img",7)(14,"br"),u.TgZ(15,"h3")(16,"span",2),u._uU(17," MAN"),u.qZA()()()(),u.TgZ(18,"div",5)(19,"div",6),u._UZ(20,"img",8)(21,"br"),u.TgZ(22,"h3")(23,"span",2),u._uU(24," WOMAN"),u.qZA()()()()()(),u._UZ(25,"br"),u.TgZ(26,"div",1),u._UZ(27,"br"),u.TgZ(28,"h1")(29,"span",2),u._uU(30," FOUNDERS"),u.qZA()(),u._UZ(31,"br"),u.qZA(),u.TgZ(32,"div",9)(33,"div",10),u.YNc(34,sk,10,3,"div",11),u.ALo(35,"async"),u.qZA()()()),2&t&&(u.xp6(13),u.Q6J("routerLink","/man"),u.xp6(7),u.Q6J("routerLink","/woman"),u.xp6(14),u.Q6J("ngForOf",u.lcZ(35,3,r.team$)))},directives:[Gr,gn],pipes:[Qi],encapsulation:2,changeDetection:0}),n})();function ak(n,e){if(1&n&&(u.TgZ(0,"div",3)(1,"div",4)(2,"div",5),u._UZ(3,"img",6),u.qZA(),u.TgZ(4,"div",5)(5,"h3",7),u.O4$(),u.TgZ(6,"svg",8),u._UZ(7,"path",9)(8,"path",10),u.qZA(),u.kcU(),u._UZ(9,"br"),u._uU(10),u._UZ(11,"br"),u.qZA(),u.TgZ(12,"h5",11)(13,"em"),u._uU(14),u.qZA()()()()()),2&n){const t=e.$implicit;u.xp6(3),u.Q6J("src",t.imageUrl,u.LSH),u.xp6(7),u.hij(" ",t.name," "),u.xp6(4),u.hij(' "',t.text,'" ')}}let uk=(()=>{class n{constructor(t){this._getsAllOpinionsDto=t,this.opinion$=this._getsAllOpinionsDto.getAll()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ax))},n.\u0275cmp=u.Xpm({type:n,selectors:[["lib-opinions"]],decls:7,vars:3,consts:[[1,"col","herotext","text-center"],[1,"fw-bold"],["class","container",4,"ngFor","ngForOf"],[1,"container"],[1,"row"],[1,"col"],[1,"rounded-circle","border-0",3,"src"],[1,"card-title","fw-bold","border-0"],["xmlns","http://www.w3.org/2000/svg","width","40","height","30","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-bag-heart"],["d","M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-2.5a2 2 0 0 0-1.6.8L8 14.333 6.1 11.8a2 2 0 0 0-1.6-.8H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h2.5a1 1 0 0 1 .8.4l1.9 2.533a1 1 0 0 0 1.6 0l1.9-2.533a1 1 0 0 1 .8-.4H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"],["d","M7.066 4.76A1.665 1.665 0 0 0 4 5.668a1.667 1.667 0 0 0 2.561 1.406c-.131.389-.375.804-.777 1.22a.417.417 0 1 0 .6.58c1.486-1.54 1.293-3.214.682-4.112zm4 0A1.665 1.665 0 0 0 8 5.668a1.667 1.667 0 0 0 2.561 1.406c-.131.389-.375.804-.777 1.22a.417.417 0 1 0 .6.58c1.486-1.54 1.293-3.214.682-4.112z"],[1,""]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"h1")(2,"span",1),u._uU(3," EVERY OPINION IS REALLY IMPORTANT TO US"),u.qZA()()(),u._UZ(4,"br"),u.YNc(5,ak,15,3,"div",2),u.ALo(6,"async")),2&t&&(u.xp6(5),u.Q6J("ngForOf",u.lcZ(6,1,r.opinion$)))},directives:[gn],pipes:[Qi],encapsulation:2,changeDetection:0}),n})(),lk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-aboutus-page"]],decls:5,vars:0,template:function(t,r){1&t&&u._UZ(0,"lib-ourteam")(1,"br")(2,"br")(3,"lib-opinions")(4,"br")},directives:[ok,uk],encapsulation:2,changeDetection:0}),n})(),ck=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Rt,SA,Yc,Dx,zt.forChild([{path:"",component:lk}]),Tx,ik,Yc,SA,Dx]]}),n})(),Sx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Rt,xy,zt]]}),n})(),Mx=(()=>{class n{constructor(t){this._client=t}add(t){return(0,tn.D)(this._client.collection("messages").add(t)).pipe((0,ct.U)(()=>{}))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(_l))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const xx=new u.OlP("ADDS_MESSAGES_DTO");let Px=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Mx,{provide:xx,useExisting:Mx}],imports:[[Wc]]}),n})(),dk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Rt,zt]]}),n})();function hk(n,e){1&n&&(u.TgZ(0,"div",18),u._uU(1," Please provide your name "),u.qZA())}function fk(n,e){1&n&&(u.TgZ(0,"div",18),u._uU(1," Please provide an email address "),u.qZA())}function pk(n,e){1&n&&(u.TgZ(0,"div",18),u._uU(1," Provided email is not a valid email "),u.qZA())}function gk(n,e){1&n&&(u.TgZ(0,"div",18),u._uU(1," Please provide your message "),u.qZA())}let mk=(()=>{class n{constructor(t,r){this._addsMessagesDto=t,this.router=r,this.contact=new Kc({name:new Ws("",[zs.required,zs.minLength(3)]),email:new Ws("",[zs.required,zs.email]),text:new Ws("",[zs.required,zs.minLength(1)])})}onMessageSubmited(t){var r,s,l;t.invalid||(this._addsMessagesDto.add({name:null===(r=t.get("name"))||void 0===r?void 0:r.value,email:null===(s=t.get("email"))||void 0===s?void 0:s.value,text:null===(l=t.get("text"))||void 0===l?void 0:l.value}),this.contact.reset(),this.router.navigate(["//messagesent"]))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(xx),u.Y36(wr))},n.\u0275cmp=u.Xpm({type:n,selectors:[["lib-contactus"]],decls:74,vars:5,consts:[[1,"center","container-fluid","contactbackgroundpic","heading","text-white"],[1,"container-fluid","p-5"],[1,"row"],[1,"col-7"],[1,"fw-bold"],[3,"formGroup","ngSubmit"],["type","text","formControlName","name","placeholder","Name",2,"width","500px"],["class","alert alert-danger fw-bold",4,"ngIf"],["type","text","formControlName","email","placeholder","Email",2,"width","500px"],["type","text","formControlName","text","placeholder","Text",1,"p-5",2,"width","500px"],["type","submit","value","SEND MESSAGE",1,"buttonblue","text-white"],[1,"col"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-globe"],["d","M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm7.5-6.923c-.67.204-1.335.82-1.887 1.855A7.97 7.97 0 0 0 5.145 4H7.5V1.077zM4.09 4a9.267 9.267 0 0 1 .64-1.539 6.7 6.7 0 0 1 .597-.933A7.025 7.025 0 0 0 2.255 4H4.09zm-.582 3.5c.03-.877.138-1.718.312-2.5H1.674a6.958 6.958 0 0 0-.656 2.5h2.49zM4.847 5a12.5 12.5 0 0 0-.338 2.5H7.5V5H4.847zM8.5 5v2.5h2.99a12.495 12.495 0 0 0-.337-2.5H8.5zM4.51 8.5a12.5 12.5 0 0 0 .337 2.5H7.5V8.5H4.51zm3.99 0V11h2.653c.187-.765.306-1.608.338-2.5H8.5zM5.145 12c.138.386.295.744.468 1.068.552 1.035 1.218 1.65 1.887 1.855V12H5.145zm.182 2.472a6.696 6.696 0 0 1-.597-.933A9.268 9.268 0 0 1 4.09 12H2.255a7.024 7.024 0 0 0 3.072 2.472zM3.82 11a13.652 13.652 0 0 1-.312-2.5h-2.49c.062.89.291 1.733.656 2.5H3.82zm6.853 3.472A7.024 7.024 0 0 0 13.745 12H11.91a9.27 9.27 0 0 1-.64 1.539 6.688 6.688 0 0 1-.597.933zM8.5 12v2.923c.67-.204 1.335-.82 1.887-1.855.173-.324.33-.682.468-1.068H8.5zm3.68-1h2.146c.365-.767.594-1.61.656-2.5h-2.49a13.65 13.65 0 0 1-.312 2.5zm2.802-3.5a6.959 6.959 0 0 0-.656-2.5H12.18c.174.782.282 1.623.312 2.5h2.49zM11.27 2.461c.247.464.462.98.64 1.539h1.835a7.024 7.024 0 0 0-3.072-2.472c.218.284.418.598.597.933zM10.855 4a7.966 7.966 0 0 0-.468-1.068C9.835 1.897 9.17 1.282 8.5 1.077V4h2.355z"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-telephone-outbound"],["d","M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.568 17.568 0 0 0 4.168 6.608 17.569 17.569 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.678.678 0 0 0-.58-.122l-2.19.547a1.745 1.745 0 0 1-1.657-.459L5.482 8.062a1.745 1.745 0 0 1-.46-1.657l.548-2.19a.678.678 0 0 0-.122-.58L3.654 1.328zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511zM11 .5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V1.707l-4.146 4.147a.5.5 0 0 1-.708-.708L14.293 1H11.5a.5.5 0 0 1-.5-.5z"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-send"],["d","M15.854.146a.5.5 0 0 1 .11.54l-5.819 14.547a.75.75 0 0 1-1.329.124l-3.178-4.995L.643 7.184a.75.75 0 0 1 .124-1.33L15.314.037a.5.5 0 0 1 .54.11ZM6.636 10.07l2.761 4.338L14.13 2.576 6.636 10.07Zm6.787-8.201L1.591 6.602l4.339 2.76 7.494-7.493Z"],[1,"alert","alert-danger","fw-bold"]],template:function(t,r){if(1&t&&(u.TgZ(0,"div",0)(1,"h1"),u._uU(2,"CONTACT US"),u.qZA()(),u._UZ(3,"br"),u.TgZ(4,"div",1)(5,"div",2)(6,"div",3)(7,"h1")(8,"span",4),u._uU(9," WE WOULD LOVE TO HEAR FROM YOU!"),u.qZA()(),u._UZ(10,"br"),u.TgZ(11,"h5"),u._uU(12," If you have any query or any type of suggestion, you can contact us here. We would love to hear from you. "),u.qZA(),u._UZ(13,"br")(14,"br")(15,"br"),u.qZA(),u.TgZ(16,"div",1)(17,"div",2)(18,"div",3)(19,"form",5),u.NdJ("ngSubmit",function(){return r.onMessageSubmited(r.contact)}),u._UZ(20,"input",6)(21,"br"),u.YNc(22,hk,2,0,"div",7),u._UZ(23,"br")(24,"input",8)(25,"br"),u.YNc(26,fk,2,0,"div",7),u.YNc(27,pk,2,0,"div",7),u._UZ(28,"br")(29,"input",9)(30,"br"),u.YNc(31,gk,2,0,"div",7),u._UZ(32,"br")(33,"br")(34,"input",10)(35,"br")(36,"br")(37,"br")(38,"br"),u.qZA(),u._UZ(39,"br")(40,"br")(41,"br")(42,"br")(43,"br"),u.qZA(),u.TgZ(44,"div",11)(45,"b"),u.O4$(),u.TgZ(46,"svg",12),u._UZ(47,"path",13),u.qZA(),u._uU(48," VISIT US!"),u.qZA(),u.kcU(),u._UZ(49,"br"),u._uU(50,"02-897 Warszawa"),u._UZ(51,"br"),u._uU(52,"ul. Prosta 20"),u._UZ(53,"br")(54,"br"),u.TgZ(55,"b"),u.O4$(),u.TgZ(56,"svg",14),u._UZ(57,"path",15),u.qZA(),u._uU(58," CALL US!"),u.qZA(),u.kcU(),u._UZ(59,"br"),u._uU(60,"Phone: 879 392 817 "),u._UZ(61,"br")(62,"br"),u.TgZ(63,"b"),u.O4$(),u.TgZ(64,"svg",16),u._UZ(65,"path",17),u.qZA(),u._uU(66," GET IN TOUCH!"),u.qZA(),u.kcU(),u._UZ(67,"br"),u._uU(68," You can get in touch with us "),u._UZ(69,"br"),u._uU(70," on this provided email:"),u._UZ(71,"br"),u.TgZ(72,"u"),u._uU(73,"info@info.com"),u.qZA()()()()()()),2&t){let s,l,d,p;u.xp6(19),u.Q6J("formGroup",r.contact),u.xp6(3),u.Q6J("ngIf",(null==(s=r.contact.get("name"))?null:s.touched)&&(null==(s=r.contact.get("name"))?null:s.hasError("required"))),u.xp6(4),u.Q6J("ngIf",(null==(l=r.contact.get("email"))?null:l.touched)&&(null==(l=r.contact.get("email"))?null:l.hasError("required"))),u.xp6(1),u.Q6J("ngIf",null==(d=r.contact.get("email"))?null:d.hasError("email")),u.xp6(4),u.Q6J("ngIf",(null==(p=r.contact.get("text"))?null:p.touched)&&(null==(p=r.contact.get("text"))?null:p.hasError("required")))}},directives:[J0,z0,Jp,Qp,G0,My,Bn],encapsulation:2,changeDetection:0}),n})(),yk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-contactus-page"]],decls:2,vars:0,template:function(t,r){1&t&&u._UZ(0,"lib-contactus")(1,"br")},directives:[mk],encapsulation:2,changeDetection:0}),n})(),_k=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Rt,Sx,as.hO,Px,Sx,zt.forChild([{path:"",component:yk}]),Yc]]}),n})();const Ox=new u.OlP("ADDS_CART_DTO"),MA=new u.OlP("GETS_ALL_CART_DTO");function vk(n,e){1&n&&(u.TgZ(0,"ul",26)(1,"li",27)(2,"a",28),u._uU(3,"Action"),u.qZA()(),u.TgZ(4,"li",27)(5,"a",28),u._uU(6,"Another action"),u.qZA()(),u.TgZ(7,"li",27)(8,"a",28),u._uU(9,"Something else here"),u.qZA()()())}function Ek(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4),u._UZ(4,"img",5),u.qZA(),u.TgZ(5,"div",4)(6,"div",6)(7,"p",7),u._uU(8),u.TgZ(9,"span",8),u._uU(10,"shop"),u.qZA()(),u.TgZ(11,"h3",9),u._uU(12),u.qZA(),u.TgZ(13,"div",10)(14,"p",11),u._uU(15),u.qZA(),u.TgZ(16,"p",12),u._uU(17),u.qZA()(),u.TgZ(18,"p",13),u._uU(19),u.qZA(),u.TgZ(20,"div",14)(21,"button",15),u._uU(22," Choose your size "),u.qZA(),u.TgZ(23,"ul",16)(24,"li")(25,"a",17),u._uU(26,"XS"),u.qZA()(),u.TgZ(27,"li")(28,"a",17),u._uU(29,"S"),u.qZA()(),u.TgZ(30,"li")(31,"a",17),u._uU(32,"M"),u.qZA()(),u.TgZ(33,"li")(34,"a",17),u._uU(35,"L"),u.qZA()(),u.TgZ(36,"li")(37,"a",17),u._uU(38,"XL"),u.qZA()()()(),u.TgZ(39,"div",18)(40,"button",19),u._uU(41," Button dropdown "),u._UZ(42,"span",20),u.qZA(),u.YNc(43,vk,10,0,"ul",21),u.qZA(),u.TgZ(44,"form",22),u._UZ(45,"input",23),u.TgZ(46,"div",24)(47,"button",25),u.NdJ("click",function(){const l=u.CHM(t).ngIf,d=u.oxw();return d.onAddProductToCartClicked(l,d.quantity)}),u._uU(48," Add to cart "),u.qZA()()()()()()()()}if(2&n){const t=e.ngIf,r=u.oxw();u.xp6(4),u.Q6J("src",t.imageUrl,u.LSH),u.xp6(4),u.hij(" home / shop / ",t.plec," / "),u.xp6(4),u.Oqu(t.name),u.xp6(3),u.hij(" ",t.price," \u20ac "),u.xp6(2),u.hij("",t.price," \u20ac"),u.xp6(2),u.hij(" ",t.description," "),u.xp6(25),u.Q6J("formGroup",r.quantity)}}let wk=(()=>{class n{constructor(t,r,s,l,d){this._getsOneProductDto=t,this._selectsProductContextStorage=r,this._addsCartDto=s,this._getsAllCartDto=l,this._getsAllProductDto=d,this.productDetail$=this._selectsProductContextStorage.select().pipe(mn(p=>this._getsOneProductDto.getOne(p.productId))),this.quantity=new Kc({quantity:new Ws}),this.cart$=this._getsAllCartDto.getAll(),this.products$=this._getsAllProductDto.getAll()}onAddProductToCartClicked(t,r){var s;this._addsCartDto.add({name:t.name,description:t.description,imageUrl:t.imageUrl,order:t.order,plec:t.plec,price:t.price,quantity:null===(s=r.get("quantity"))||void 0===s?void 0:s.value}).subscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(cx),u.Y36(hx),u.Y36(Ox),u.Y36(MA),u.Y36(Py))},n.\u0275cmp=u.Xpm({type:n,selectors:[["lib-product-detail"]],decls:2,vars:3,consts:[["class","container py-5",4,"ngIf"],[1,"container","py-5"],[1,"card","mb-3","border-0"],[1,"row"],[1,"col"],[1,"rounded",2,"width","530px","height","700px",3,"src"],[1,"card-body",2,"max-width","450px"],[1,"text-uppercase","fs-6"],[1,"fw-bold"],[1,"card-title","fw-bold"],[1,"d-flex"],[1,"me-3","text-muted","text-decoration-line-through"],[1,"text-primary"],[1,"card-text"],[1,"dropdown","py-3"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-light","dropdown-toggle"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],[1,"dropdown-item"],["dropdown","",1,"btn-group"],["id","button-basic","dropdownToggle","","type","button","aria-controls","dropdown-basic",1,"btn","btn-primary","dropdown-toggle"],[1,"caret"],["id","dropdown-basic","class","dropdown-menu","role","menu","aria-labelledby","button-basic",4,"dropdownMenu"],[3,"formGroup"],["type","text","value","1","formControlName","quantity","placeholder","Quantity"],[1,"text-center","d-flex","justify-content","mt-3"],["type","button",1,"buttonblue","text-white",3,"click"],["id","dropdown-basic","role","menu","aria-labelledby","button-basic",1,"dropdown-menu"],["role","menuitem"],["href","#",1,"dropdown-item"]],template:function(t,r){1&t&&(u.YNc(0,Ek,49,7,"section",0),u.ALo(1,"async")),2&t&&u.Q6J("ngIf",u.lcZ(1,1,r.productDetail$))},directives:[Bn,J0,z0,Jp,Qp,G0,My],pipes:[Qi],encapsulation:2,changeDetection:0}),n})(),bk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-productdetail-page"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"lib-product-detail")},directives:[wk],encapsulation:2,changeDetection:0}),n})(),Ck=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Rt,xy,zt]]}),n})(),X0=(()=>{class n{constructor(t){this._client=t}getAll(){return this._client.collection("carts").valueChanges({idField:"id"})}remove(t){return(0,tn.D)(this._client.doc("carts/"+t).delete()).pipe((0,ct.U)(()=>{}))}add(t){return(0,tn.D)(this._client.collection("carts").add(t)).pipe((0,ct.U)(()=>{}))}set(t){return(0,tn.D)(this._client.doc("carts/"+t.id).update(t)).pipe((0,ct.U)(()=>{}))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(_l))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Nx=new u.OlP("REMOVES_CART_DTO"),Rx=new u.OlP("SETS_CART_DTO");let kx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[X0,{provide:MA,useExisting:X0},{provide:Nx,useExisting:X0},{provide:Ox,useExisting:X0},{provide:Rx,useExisting:X0}],imports:[[Wc]]}),n})(),Tk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Rt,qR,eg,DA,GR,kx,zt.forChild([{path:"",component:bk,resolve:[fx]}]),Yc]]}),n})(),Fx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Rt,xy]]}),n})(),Dk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Rt,zt]]}),n})(),Lx=(()=>{class n{constructor(t){this._client=t}add(t){return(0,tn.D)(this._client.collection("order-details").add(t)).pipe((0,ct.U)(()=>{}))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(_l))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const xA=new u.OlP("ADDS_ORDER_DETAIL_DTO");let Ik=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Lx,{provide:xA,useExisting:Lx}],imports:[[Wc]]}),n})(),Ak=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["lib-order-confirmation"]],decls:36,vars:1,consts:[[1,"text-center"],[1,"fw-bold"],[1,"container","no-gutters"],[1,"col"],["type","button",1,"col","align-items:","center","buttonblue","text-white",3,"routerLink"]],template:function(t,r){1&t&&(u._UZ(0,"br")(1,"br")(2,"br")(3,"br")(4,"br")(5,"br"),u.TgZ(6,"div",0)(7,"h1")(8,"span",1),u._uU(9," ORDER CONFIRMATION"),u._UZ(10,"br"),u.qZA()(),u.TgZ(11,"div",2)(12,"div",3),u._UZ(13,"br"),u.TgZ(14,"h1")(15,"span",1),u._uU(16," THANK YOU FOR YOUR ORDER!"),u._UZ(17,"br"),u.qZA()(),u.TgZ(18,"h3"),u._uU(19,"We'll contact you as soon as your package is shipped."),u.qZA(),u._UZ(20,"br"),u.qZA()(),u.TgZ(21,"button",4)(22,"b"),u._uU(23,"GO BACK"),u.qZA()(),u._UZ(24,"br")(25,"br"),u.qZA(),u._UZ(26,"br")(27,"br")(28,"br")(29,"br")(30,"br")(31,"br")(32,"br")(33,"br")(34,"br")(35,"br")),2&t&&(u.xp6(21),u.Q6J("routerLink","/"))},directives:[Gr],encapsulation:2,changeDetection:0}),n})(),Sk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-confirmation-page"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"lib-order-confirmation")},directives:[Ak],encapsulation:2,changeDetection:0}),n})(),Mk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Rt,zt.forChild([{path:"",component:Sk}]),Yc,Dk]]}),n})();function xk(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"li",12)(1,"div",2)(2,"div",13)(3,"div",14),u.NdJ("click",function(){const l=u.CHM(t).$implicit;return u.oxw().onDeleteProduct(l.id)}),u._uU(4," X "),u.qZA(),u.TgZ(5,"div",5),u._uU(6),u.qZA(),u.TgZ(7,"div",5),u._uU(8),u.qZA(),u.TgZ(9,"div",5)(10,"button",15),u.NdJ("click",function(){const l=u.CHM(t).$implicit;return u.oxw().LowerButton(l)}),u._uU(11,"-"),u.qZA(),u._UZ(12,"input",16),u.TgZ(13,"button",15),u.NdJ("click",function(){const l=u.CHM(t).$implicit;return u.oxw().UpperButton(l)}),u._uU(14,"+"),u.qZA()(),u.TgZ(15,"div",5),u._uU(16),u.qZA()()()()}if(2&n){const t=e.$implicit;u.xp6(6),u.Oqu(t.name),u.xp6(2),u.hij("",t.price,"$"),u.xp6(4),u.s9C("value",t.quantity),u.xp6(4),u.hij("",t.price*t.quantity,"$")}}let Pk=(()=>{class n{constructor(t,r,s){this._getsAllCartDto=t,this._removesCartDto=r,this._setsCartDto=s,this.cartProducts$=this._getsAllCartDto.getAll(),this.setQuantity=new Kc({quantity:new Ws})}onDeleteProduct(t){this._removesCartDto.remove(t)}UpperButton(t){console.log(t),t.quantity++}LowerButton(t){console.log(t),1!=t.quantity&&t.quantity--}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(MA),u.Y36(Nx),u.Y36(Rx))},n.\u0275cmp=u.Xpm({type:n,selectors:[["lib-cart"]],decls:28,vars:3,consts:[[1,"col","herotext"],[1,"fw-bold"],[1,"container"],[1,"row","align-items-start","fw-bold"],[1,"col-2"],[1,"col"],[1,"bg-dark","border-2","border-dark","mx-5","mb-0"],[1,"ps-0","list-group","list-group-flush"],["class","list-unstyled list-group-item mx-5",4,"ngFor","ngForOf"],["colspan","4"],["routerLink","",1,"btn","btn-warning"],[1,"btn","btn-success"],[1,"list-unstyled","list-group-item","mx-5"],[1,"row","align-items-start"],[1,"col-2","text-center","text-muted","pointer",3,"click"],[3,"click"],[1,"text-center",2,"width","40px",3,"value"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"h1")(2,"span",1),u._uU(3," YOUR SHOPPING CART"),u.qZA()(),u.TgZ(4,"div",2)(5,"div",3),u._UZ(6,"div",4),u.TgZ(7,"div",5),u._uU(8,"Product"),u.qZA(),u.TgZ(9,"div",5),u._uU(10,"Price"),u.qZA(),u.TgZ(11,"div",5),u._uU(12,"Qantity"),u.qZA(),u.TgZ(13,"div",5),u._uU(14,"Total"),u.qZA()()(),u._UZ(15,"hr",6),u.TgZ(16,"ul",7),u.YNc(17,xk,17,4,"li",8),u.ALo(18,"async"),u.qZA()(),u.TgZ(19,"tr"),u._UZ(20,"td",9),u.TgZ(21,"td")(22,"button",10),u._uU(23,"Shop More"),u.qZA()(),u.TgZ(24,"td")(25,"button",11),u._uU(26,"Clear All"),u.qZA()(),u._UZ(27,"td"),u.qZA()),2&t&&(u.xp6(17),u.Q6J("ngForOf",u.lcZ(18,1,r.cartProducts$)))},directives:[gn,Gr],pipes:[Qi],encapsulation:2,changeDetection:0}),n})(),Ok=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-cart-page"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"lib-cart")},directives:[Pk],encapsulation:2,changeDetection:0}),n})(),Nk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Rt,zt.forChild([{path:"",component:Ok}]),Ck,kx]]}),n})();const Ux=new u.OlP("SELECTS_TOPSELLERS_CONTEXT");function Rk(n,e){if(1&n&&(u.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),u._uU(6),u.qZA(),u.TgZ(7,"h6",6),u._uU(8),u.qZA(),u.TgZ(9,"h6",6),u._uU(10),u.qZA(),u._UZ(11,"img",7),u.TgZ(12,"a",8),u._uU(13,"Dodaj do koszyka"),u.qZA()()()()()()),2&n){const t=e.ngIf;u.xp6(6),u.Oqu(t.name),u.xp6(2),u.Oqu(t.description),u.xp6(2),u.hij("",t.price," z\u0142"),u.xp6(1),u.Q6J("src",t.imageUrl,u.LSH)}}let kk=(()=>{class n{constructor(t,r){this._getsOneTopsellersDto=t,this._selectsTopsellersContext=r,this.topsellersDetalis$=this._selectsTopsellersContext.select().pipe(mn(s=>this._getsOneTopsellersDto.getOne(s.TopsellersId)))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(yx),u.Y36(Ux))},n.\u0275cmp=u.Xpm({type:n,selectors:[["lib-topsellers-detalis"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"row","justify-content-center"],[1,"col-4"],[1,"card",2,"width","18rem"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle","mb-2","text-muted"],["width","100","height","200",3,"src"],["href","#",1,"card-link"]],template:function(t,r){1&t&&(u.YNc(0,Rk,14,4,"div",0),u.ALo(1,"async")),2&t&&u.Q6J("ngIf",u.lcZ(1,1,r.topsellersDetalis$))},directives:[Bn],pipes:[Qi],encapsulation:2,changeDetection:0}),n})(),Fk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-topsellersdetalis-page"]],decls:3,vars:0,template:function(t,r){1&t&&(u.TgZ(0,"h1"),u._uU(1,"TopsellersdetalisPage"),u.qZA(),u._UZ(2,"lib-topsellers-detalis"))},directives:[kk],encapsulation:2,changeDetection:0}),n})();const Vx=new u.OlP("SETS_STATE_TOPSELLERS_CONTEXT");let Bx=(()=>{class n{constructor(t){this._setsStateTopsellersContext=t}resolve(t,r){return this._setsStateTopsellersContext.setState({TopsellersId:t.params.topsellersId}).pipe((0,ct.U)(s=>!0))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Vx))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Lk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Bx],imports:[[]]}),n})(),Uk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Rt,_x,DA,Lk,Yc,YR,zt.forChild([{path:"",component:Fk,resolve:[Bx]}])]]}),n})();function Vk(n,e){1&n&&(u.TgZ(0,"div",14),u._uU(1," The field is empty "),u.qZA())}function Bk(n,e){1&n&&(u.TgZ(0,"div",14),u._uU(1," The field is empty "),u.qZA())}function jk(n,e){1&n&&(u.TgZ(0,"div",14),u._uU(1," The field is empty "),u.qZA())}function $k(n,e){1&n&&(u.TgZ(0,"div",14),u._uU(1," The field is empty "),u.qZA())}function Hk(n,e){1&n&&(u.TgZ(0,"div",14),u._uU(1," The field is empty "),u.qZA())}function qk(n,e){1&n&&(u.TgZ(0,"div",15),u._uU(1," Provided email is not a valid email "),u.qZA())}let Zk=(()=>{class n{constructor(t,r,s){this._addsOrderDto=t,this.router=r,this._addsOrderDetailDto=s,this.count=Date.now(),this.nameValidation=!1,this.adressValidation=!1,this.townValidation=!1,this.phoneValidation=!1,this.emailValidation=!1,this.orderDetail=new Kc({name:new Ws("",zs.required),adress:new Ws("",zs.required),town:new Ws("",zs.required),phone:new Ws("",zs.required),email:new Ws("",zs.required)})}onOrderDetailsSubmited(t){var r,s,l,d,p;t.invalid||(this._addsOrderDto.add({name:null===(r=t.get("name"))||void 0===r?void 0:r.value,adress:null===(s=t.get("adress"))||void 0===s?void 0:s.value,town:null===(l=t.get("town"))||void 0===l?void 0:l.value,phone:null===(d=t.get("phone"))||void 0===d?void 0:d.value,email:null===(p=t.get("email"))||void 0===p?void 0:p.value}),t.reset())}onItemClicked(t){this.nameValidation=!t.value.name,this.adressValidation=!t.value.adress,this.townValidation=!t.value.town,this.phoneValidation=!t.value.phone,this.emailValidation=!t.value.email,!this.nameValidation&&!this.adressValidation&&!this.townValidation&&!this.phoneValidation&&!this.emailValidation&&this.router.navigate(["/confirmation"])}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(xA),u.Y36(wr),u.Y36(xA))},n.\u0275cmp=u.Xpm({type:n,selectors:[["lib-billing-detail"]],decls:40,vars:7,consts:[[1,"ms-5"],[1,""],[3,"formGroup","submit"],[1,"form-group","mb-2"],[1,"text-dark-50","mb-0"],[1,"text-warning"],["type","text","formControlName","name","placeholder","Name",1,"w-50"],["class","text-dark border-2 top-0 end-0","role","alert",4,"ngIf"],["type","text","formControlName","adress","placeholder","Adress",1,"w-50"],["type","text","formControlName","town","placeholder","Town",1,"w-50"],["type","text","formControlName","phone","placeholder","Phone",1,"w-50"],["type","text","formControlName","email","placeholder","Email",1,"w-50"],["class","alert alert-danger fw-bold",4,"ngIf"],["type","submit","value","Confirm and order!",3,"click"],["role","alert",1,"text-dark","border-2","top-0","end-0"],[1,"alert","alert-danger","fw-bold"]],template:function(t,r){if(1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"form",2),u.NdJ("submit",function(){return r.onOrderDetailsSubmited(r.orderDetail)}),u.TgZ(3,"div",3)(4,"p",4),u._uU(5," Full name"),u.TgZ(6,"span",5),u._uU(7,"*"),u.qZA()(),u._UZ(8,"input",6),u.YNc(9,Vk,2,0,"div",7),u.qZA(),u.TgZ(10,"div",3)(11,"p",4),u._uU(12," Street adress"),u.TgZ(13,"span",5),u._uU(14,"*"),u.qZA()(),u._UZ(15,"input",8),u.YNc(16,Bk,2,0,"div",7),u.qZA(),u.TgZ(17,"div",3)(18,"p",4),u._uU(19," Town/City"),u.TgZ(20,"span",5),u._uU(21,"*"),u.qZA()(),u._UZ(22,"input",9),u.YNc(23,jk,2,0,"div",7),u.qZA(),u.TgZ(24,"div",3)(25,"p",4),u._uU(26," Phone"),u.TgZ(27,"span",5),u._uU(28,"*"),u.qZA()(),u._UZ(29,"input",10),u.YNc(30,$k,2,0,"div",7),u.qZA(),u.TgZ(31,"div",3)(32,"p",4),u._uU(33," Email adress"),u.TgZ(34,"span",5),u._uU(35,"*"),u.qZA()(),u._UZ(36,"input",11),u.YNc(37,Hk,2,0,"div",7),u.YNc(38,qk,2,0,"div",12),u.qZA(),u.TgZ(39,"input",13),u.NdJ("click",function(){return r.onItemClicked(r.orderDetail)}),u.qZA()()()()),2&t){let s;u.xp6(2),u.Q6J("formGroup",r.orderDetail),u.xp6(7),u.Q6J("ngIf",r.nameValidation),u.xp6(7),u.Q6J("ngIf",r.adressValidation),u.xp6(7),u.Q6J("ngIf",r.townValidation),u.xp6(7),u.Q6J("ngIf",r.phoneValidation),u.xp6(7),u.Q6J("ngIf",r.emailValidation),u.xp6(1),u.Q6J("ngIf",null==(s=r.orderDetail.get("email"))?null:s.hasError("email"))}},directives:[J0,z0,Jp,Qp,G0,My,Bn],encapsulation:2,changeDetection:0}),n})(),Gk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-billing-detail-page"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"lib-billing-detail")},directives:[Zk],encapsulation:2,changeDetection:0}),n})(),zk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Rt,Fx,zt.forChild([{path:"",component:Gk}]),Fx,Ik,mx,eg,IA]]}),n})(),Wk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["lib-send-confirmation"]],decls:25,vars:1,consts:[[1,"col","text-center"],[1,"fw-bold"],["xmlns","http://www.w3.org/2000/svg","width","40","height","40","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-envelope"],["d","M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z"],[1,"text-center"],["type","button",1,"buttonblue","text-white",3,"routerLink"]],template:function(t,r){1&t&&(u._UZ(0,"br")(1,"br")(2,"br")(3,"br")(4,"br")(5,"br")(6,"br"),u.TgZ(7,"div",0)(8,"h1")(9,"span",1),u.O4$(),u.TgZ(10,"svg",2),u._UZ(11,"path",3),u.qZA(),u._uU(12," MESSAGE SENT! "),u.kcU(),u._UZ(13,"br"),u.qZA()(),u._UZ(14,"br"),u.TgZ(15,"span",4),u._uU(16," THANK YOU FOR YOR MESSAGE."),u._UZ(17,"br"),u._uU(18,"WE'LL CONTACT YOU AS SOON AS POSSIBLE. "),u.qZA(),u._UZ(19,"br")(20,"br"),u.TgZ(21,"button",5)(22,"b"),u._uU(23,"GO BACK"),u.qZA()()(),u._UZ(24,"br")),2&t&&(u.xp6(21),u.Q6J("routerLink","/"))},directives:[Gr],encapsulation:2,changeDetection:0}),n})(),Kk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-send-confirmation-page"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"lib-send-confirmation")},directives:[Wk],encapsulation:2,changeDetection:0}),n})(),Yk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Rt,zt.forChild([{path:"",component:Kk}]),dk]]}),n})();function Qk(n,e){if(1&n&&(u.TgZ(0,"div",3)(1,"div",4),u._UZ(2,"img",5),u.TgZ(3,"div",6)(4,"h5",7),u._uU(5),u.qZA(),u.TgZ(6,"p",8),u._uU(7),u.qZA()()()()),2&n){const t=e.$implicit;u.xp6(2),u.s9C("src",t.imageUrl,u.LSH),u.Q6J("routerLink","details/"+t.id),u.xp6(3),u.Oqu(t.name),u.xp6(2),u.hij("",t.price," \u20ac")}}let Jk=(()=>{class n{constructor(t){this._getsAllProductDto=t,this.woman$=this._getsAllProductDto.getAll().pipe((0,ct.U)(r=>r.filter(s=>s.plec)))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Py))},n.\u0275cmp=u.Xpm({type:n,selectors:[["lib-woman"]],decls:4,vars:3,consts:[[1,"container"],[1,"row"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card","text-center","border-0","m-3","p-3",2,"width","16rem"],["alt","...",1,"card-img-top","pointer",2,"width","295px","height","380px",3,"routerLink","src"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u.YNc(2,Qk,8,4,"div",2),u.ALo(3,"async"),u.qZA()()),2&t&&(u.xp6(2),u.Q6J("ngForOf",u.lcZ(3,1,r.woman$)))},directives:[gn,Gr],pipes:[Qi],encapsulation:2,changeDetection:0}),n})(),Xk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-woman-page"]],decls:3,vars:0,template:function(t,r){1&t&&(u.TgZ(0,"h1"),u._uU(1,"WomanPage"),u.qZA(),u._UZ(2,"lib-woman"))},directives:[Jk],encapsulation:2,changeDetection:0}),n})(),eF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Rt,SA,Tx,px,zt.forChild([{path:"",component:Xk}]),px,eg]]}),n})();function tF(n,e){if(1&n&&(u.TgZ(0,"div",3)(1,"div",4),u._UZ(2,"img",5),u.TgZ(3,"div",6)(4,"h5",7),u._uU(5),u.qZA(),u.TgZ(6,"p",8),u._uU(7),u.qZA()()()()),2&n){const t=e.$implicit;u.xp6(2),u.s9C("src",t.imageUrl,u.LSH),u.Q6J("routerLink","details/"+t.id),u.xp6(3),u.Oqu(t.name),u.xp6(2),u.hij("",t.price," \u20ac")}}let nF=(()=>{class n{constructor(t){this._getsAllProductDto=t,this.man$=this._getsAllProductDto.getAll().pipe((0,ct.U)(r=>r.filter(s=>!s.plec)))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Py))},n.\u0275cmp=u.Xpm({type:n,selectors:[["lib-man"]],decls:4,vars:3,consts:[[1,"container"],[1,"row"],["class","col","class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card","text-center","border-0","m-3","p-3",2,"width","16rem"],["alt","...",1,"card-img-top","pointer",2,"width","295px","height","380px",3,"routerLink","src"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u.YNc(2,tF,8,4,"div",2),u.ALo(3,"async"),u.qZA()()),2&t&&(u.xp6(2),u.Q6J("ngForOf",u.lcZ(3,1,r.man$)))},directives:[gn,Gr],pipes:[Qi],encapsulation:2,changeDetection:0}),n})(),rF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-man-page"]],decls:3,vars:0,template:function(t,r){1&t&&(u.TgZ(0,"h1"),u._uU(1,"ManPage"),u.qZA(),u._UZ(2,"lib-man"))},directives:[nF],encapsulation:2,changeDetection:0}),n})(),iF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Rt,gx,zt.forChild([{path:"",component:rF}]),gx,eg]]}),n})(),sF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Rt]]}),n})(),oF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["lib-terms"]],decls:71,vars:0,consts:[[1,"center","container-fluid","termbackgroundpic","heading","text-white"],[1,"container","doctextstyle","text-center"],[1,"container","doctextstyle"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"h1"),u._uU(2,"TERMS & CONDITIONS"),u.qZA()(),u.TgZ(3,"div",1)(4,"h3"),u._uU(5," We would like to familiarise you below with our standard terms and conditions, which govern how we process and settle your purchases. "),u.qZA()(),u.TgZ(6,"div",2)(7,"b"),u._uU(8,"\xa7 1."),u.qZA(),u._UZ(9,"br"),u._uU(10," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed eleifend urna a lorem vulputate, id interdum ligula fringilla. "),u._UZ(11,"br"),u.TgZ(12,"b"),u._uU(13,"\xa7 2."),u.qZA(),u._UZ(14,"br"),u._uU(15," Pellentesque varius urna eu tempus imperdiet. Nullam ante justo, posuere bibendum congue at, ultrices sed mauris. "),u._UZ(16,"br"),u.TgZ(17,"b"),u._uU(18,"\xa7 3."),u.qZA(),u._UZ(19,"br"),u._uU(20," Nunc varius, nulla at feugiat volutpat, felis elit lacinia nulla, at dapibus turpis massa at mauris. Duis molestie id orci nec placerat. Nulla at mi sem. Fusce facilisis purus dui, vitae sagittis ligula vulputate tempus. "),u._UZ(21,"br"),u.TgZ(22,"b"),u._uU(23,"\xa7 4."),u.qZA(),u._UZ(24,"br"),u._uU(25," Pellentesque ac aliquam diam. Integer sodales sem et aliquam consequat. "),u._UZ(26,"br"),u.TgZ(27,"b"),u._uU(28,"\xa7 5."),u.qZA(),u._UZ(29,"br"),u._uU(30," Quisque arcu enim, tempus et velit vitae, sodales congue lacus. Morbi nec risus fringilla, molestie lacus ut, egestas quam. Sed porttitor ipsum leo, eget porttitor est elementum id. Nulla facilisi. Sed egestas ex sapien, id accumsan lectus sollicitudin a. "),u._UZ(31,"br"),u.TgZ(32,"b"),u._uU(33,"\xa7 6."),u.qZA(),u._UZ(34,"br"),u._uU(35," Praesent tellus mauris, vulputate vitae sapien eu, volutpat dapibus metus. Aenean rutrum tortor justo, sit amet eleifend purus varius sit amet. Pellentesque blandit lobortis erat, eu hendrerit arcu eleifend a. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce nisi elit, dictum quis nulla interdum, facilisis accumsan sapien. Donec suscipit, nulla et bibendum semper, enim turpis tincidunt ipsum, non accumsan ipsum arcu quis ipsum. "),u._UZ(36,"br"),u.TgZ(37,"b"),u._uU(38,"\xa7 7."),u.qZA(),u._UZ(39,"br"),u._uU(40," Cras laoreet leo justo, sit amet scelerisque elit tristique in. Mauris maximus vitae sem at hendrerit. Integer dictum lacus ut mauris fermentum, in lacinia turpis placerat. Integer dictum nisi ut gravida pulvinar. "),u._UZ(41,"br"),u.TgZ(42,"b"),u._uU(43,"\xa7 8."),u.qZA(),u._UZ(44,"br"),u._uU(45," Cras ullamcorper enim lectus, in venenatis mi hendrerit sed. Morbi magna elit, imperdiet vel arcu ac, interdum condimentum eros. Donec dictum, elit eget convallis fermentum, massa diam venenatis metus, at viverra lorem orci non massa. Quisque eget nisi ut augue ultricies suscipit non ac nisi. Aenean ac ante id est malesuada pharetra. In lacinia risus eget urna sollicitudin laoreet. Curabitur ac mattis sapien, eu tempor neque. Cras non odio condimentum, volutpat augue in, tincidunt metus. Fusce vel hendrerit sem, nec pulvinar elit. "),u._UZ(46,"br"),u.TgZ(47,"b"),u._uU(48,"\xa7 9."),u.qZA(),u._UZ(49,"br"),u._uU(50," Sed sit amet arcu lectus. Ut vel magna eget justo volutpat laoreet eget a purus. Nunc sit amet euismod lectus. Donec tellus lacus, tincidunt in ligula ut, congue blandit diam. Vestibulum tincidunt libero sed nunc viverra pellentesque. Etiam ut lacinia sem. Donec imperdiet varius rhoncus. Proin at magna nunc. Aenean eu urna eros. Ut maximus tellus urna, vel facilisis mauris scelerisque sit amet. "),u._UZ(51,"br"),u.TgZ(52,"b"),u._uU(53,"\xa7 10."),u.qZA(),u._UZ(54,"br"),u._uU(55," In venenatis nisl neque, nec bibendum tortor ultrices vitae. Praesent pharetra nisi sed maximus sodales. Vivamus ac interdum felis. Suspendisse pulvinar felis quis lacus finibus, aliquam dignissim est consectetur. Donec pharetra est et venenatis fermentum. Maecenas faucibus, nisi sit amet tristique fringilla, augue quam hendrerit elit, eget pellentesque lectus eros id erat. "),u._UZ(56,"br"),u.TgZ(57,"b"),u._uU(58,"\xa7 11."),u.qZA(),u._UZ(59,"br"),u._uU(60," Nulla sit amet est id nunc gravida pharetra et id ligula. In et libero egestas, malesuada orci sed, viverra nisi. Quisque id convallis tellus. Quisque aliquam velit a augue rhoncus, sed ultrices lectus molestie. Cras volutpat imperdiet augue, et vulputate urna rhoncus at. Etiam feugiat lacus vel rutrum bibendum. "),u._UZ(61,"br"),u.TgZ(62,"b"),u._uU(63,"\xa7 12."),u.qZA(),u._UZ(64,"br"),u._uU(65," Praesent maximus dui aliquam libero euismod lacinia. Nam in laoreet leo. Donec vitae mauris sit amet neque vulputate placerat nec vel lacus. Quisque quis mi augue. Nunc consequat purus eu convallis convallis. Morbi non sapien rhoncus, eleifend lorem vitae, malesuada ligula."),u._UZ(66,"br"),u.TgZ(67,"b"),u._uU(68,"\xa7 13."),u.qZA(),u._UZ(69,"br"),u._uU(70," Nunc ullamcorper mauris sed nibh aliquam, sit amet vehicula orci aliquam.\n"),u.qZA())},encapsulation:2,changeDetection:0}),n})(),PA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["lib-goback"]],decls:6,vars:1,consts:[[1,"d-flex","p-3"],["type","button",1,"buttonblue","text-white",3,"routerLink"]],template:function(t,r){1&t&&(u._UZ(0,"br")(1,"br"),u.TgZ(2,"div",0)(3,"button",1),u._uU(4," GO BACK "),u.qZA()(),u._UZ(5,"br")),2&t&&(u.xp6(3),u.Q6J("routerLink","/"))},directives:[Gr],encapsulation:2,changeDetection:0}),n})(),aF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-terms-page"]],decls:2,vars:0,template:function(t,r){1&t&&u._UZ(0,"lib-terms")(1,"lib-goback")},directives:[oF,PA],encapsulation:2,changeDetection:0}),n})(),uF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Rt,zt.forChild([{path:"",component:aF}]),Yc,sF]]}),n})(),lF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Rt]]}),n})(),cF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["lib-privacy-policy"]],decls:71,vars:0,consts:[[1,"center","container-fluid","privbackgroundpic","heading","text-white"],[1,"container","doctextstyle","text-center"],[1,"container","doctextstyle"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"h1"),u._uU(2,"PRIVACY POLICY"),u.qZA()(),u.TgZ(3,"div",1)(4,"h3"),u._uU(5," This Privacy Policy gives you an overview of how ZYrAAFY e-commerce processes your data. "),u.qZA()(),u.TgZ(6,"div",2)(7,"b"),u._uU(8,"\xa7 1."),u.qZA(),u._UZ(9,"br"),u._uU(10," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed eleifend urna a lorem vulputate, id interdum ligula fringilla. "),u._UZ(11,"br"),u.TgZ(12,"b"),u._uU(13,"\xa7 2."),u.qZA(),u._UZ(14,"br"),u._uU(15," Pellentesque varius urna eu tempus imperdiet. Nullam ante justo, posuere bibendum congue at, ultrices sed mauris. "),u._UZ(16,"br"),u.TgZ(17,"b"),u._uU(18,"\xa7 3."),u.qZA(),u._UZ(19,"br"),u._uU(20," Nunc varius, nulla at feugiat volutpat, felis elit lacinia nulla, at dapibus turpis massa at mauris. Duis molestie id orci nec placerat. Nulla at mi sem. Fusce facilisis purus dui, vitae sagittis ligula vulputate tempus. "),u._UZ(21,"br"),u.TgZ(22,"b"),u._uU(23,"\xa7 4."),u.qZA(),u._UZ(24,"br"),u._uU(25," Pellentesque ac aliquam diam. Integer sodales sem et aliquam consequat. "),u._UZ(26,"br"),u.TgZ(27,"b"),u._uU(28,"\xa7 5."),u.qZA(),u._UZ(29,"br"),u._uU(30," Quisque arcu enim, tempus et velit vitae, sodales congue lacus. Morbi nec risus fringilla, molestie lacus ut, egestas quam. Sed porttitor ipsum leo, eget porttitor est elementum id. Nulla facilisi. Sed egestas ex sapien, id accumsan lectus sollicitudin a. "),u._UZ(31,"br"),u.TgZ(32,"b"),u._uU(33,"\xa7 6."),u.qZA(),u._UZ(34,"br"),u._uU(35," Praesent tellus mauris, vulputate vitae sapien eu, volutpat dapibus metus. Aenean rutrum tortor justo, sit amet eleifend purus varius sit amet. Pellentesque blandit lobortis erat, eu hendrerit arcu eleifend a. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce nisi elit, dictum quis nulla interdum, facilisis accumsan sapien. Donec suscipit, nulla et bibendum semper, enim turpis tincidunt ipsum, non accumsan ipsum arcu quis ipsum. "),u._UZ(36,"br"),u.TgZ(37,"b"),u._uU(38,"\xa7 7."),u.qZA(),u._UZ(39,"br"),u._uU(40," Cras laoreet leo justo, sit amet scelerisque elit tristique in. Mauris maximus vitae sem at hendrerit. Integer dictum lacus ut mauris fermentum, in lacinia turpis placerat. Integer dictum nisi ut gravida pulvinar. "),u._UZ(41,"br"),u.TgZ(42,"b"),u._uU(43,"\xa7 8."),u.qZA(),u._UZ(44,"br"),u._uU(45," Cras ullamcorper enim lectus, in venenatis mi hendrerit sed. Morbi magna elit, imperdiet vel arcu ac, interdum condimentum eros. Donec dictum, elit eget convallis fermentum, massa diam venenatis metus, at viverra lorem orci non massa. Quisque eget nisi ut augue ultricies suscipit non ac nisi. Aenean ac ante id est malesuada pharetra. In lacinia risus eget urna sollicitudin laoreet. Curabitur ac mattis sapien, eu tempor neque. Cras non odio condimentum, volutpat augue in, tincidunt metus. Fusce vel hendrerit sem, nec pulvinar elit. "),u._UZ(46,"br"),u.TgZ(47,"b"),u._uU(48,"\xa7 9."),u.qZA(),u._UZ(49,"br"),u._uU(50," Sed sit amet arcu lectus. Ut vel magna eget justo volutpat laoreet eget a purus. Nunc sit amet euismod lectus. Donec tellus lacus, tincidunt in ligula ut, congue blandit diam. Vestibulum tincidunt libero sed nunc viverra pellentesque. Etiam ut lacinia sem. Donec imperdiet varius rhoncus. Proin at magna nunc. Aenean eu urna eros. Ut maximus tellus urna, vel facilisis mauris scelerisque sit amet. "),u._UZ(51,"br"),u.TgZ(52,"b"),u._uU(53,"\xa7 10."),u.qZA(),u._UZ(54,"br"),u._uU(55," In venenatis nisl neque, nec bibendum tortor ultrices vitae. Praesent pharetra nisi sed maximus sodales. Vivamus ac interdum felis. Suspendisse pulvinar felis quis lacus finibus, aliquam dignissim est consectetur. Donec pharetra est et venenatis fermentum. Maecenas faucibus, nisi sit amet tristique fringilla, augue quam hendrerit elit, eget pellentesque lectus eros id erat. "),u._UZ(56,"br"),u.TgZ(57,"b"),u._uU(58,"\xa7 11."),u.qZA(),u._UZ(59,"br"),u._uU(60," Nulla sit amet est id nunc gravida pharetra et id ligula. In et libero egestas, malesuada orci sed, viverra nisi. Quisque id convallis tellus. Quisque aliquam velit a augue rhoncus, sed ultrices lectus molestie. Cras volutpat imperdiet augue, et vulputate urna rhoncus at. Etiam feugiat lacus vel rutrum bibendum. "),u._UZ(61,"br"),u.TgZ(62,"b"),u._uU(63,"\xa7 12."),u.qZA(),u._UZ(64,"br"),u._uU(65," Praesent maximus dui aliquam libero euismod lacinia. Nam in laoreet leo. Donec vitae mauris sit amet neque vulputate placerat nec vel lacus. Quisque quis mi augue. Nunc consequat purus eu convallis convallis. Morbi non sapien rhoncus, eleifend lorem vitae, malesuada ligula."),u._UZ(66,"br"),u.TgZ(67,"b"),u._uU(68,"\xa7 13."),u.qZA(),u._UZ(69,"br"),u._uU(70," Nunc ullamcorper mauris sed nibh aliquam, sit amet vehicula orci aliquam.\n"),u.qZA())},encapsulation:2,changeDetection:0}),n})(),dF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-privacy-policy-page"]],decls:2,vars:0,template:function(t,r){1&t&&u._UZ(0,"lib-privacy-policy")(1,"lib-goback")},directives:[cF,PA],encapsulation:2,changeDetection:0}),n})(),hF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Rt,zt.forChild([{path:"",component:dF}]),Yc,lF]]}),n})(),fF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-special-offers-page"]],decls:4,vars:0,template:function(t,r){1&t&&u._UZ(0,"br")(1,"br")(2,"lib-top-sellers")(3,"lib-goback")},directives:[Ex,PA],encapsulation:2,changeDetection:0}),n})(),pF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Rt,zt.forChild([{path:"",component:fF}]),IA,eg,Yc]]}),n})(),gF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-delivery-page"]],decls:0,vars:0,template:function(t,r){},encapsulation:2,changeDetection:0}),n})(),mF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Rt,zt.forChild([{path:"",component:gF}])]]}),n})();const yF=[{path:"home",loadChildren:()=>wx},{path:"aboutus",loadChildren:()=>ck},{path:"contactus",loadChildren:()=>_k},{path:"details/:productId",loadChildren:()=>Tk},{path:"confirmation",loadChildren:()=>Mk},{path:"",loadChildren:()=>wx},{path:"shoppingcart",loadChildren:()=>Nk},{path:"topdetalis/:topsellersId",loadChildren:()=>Uk},{path:"billing",loadChildren:()=>zk},{path:"messagesent",loadChildren:()=>Yk},{path:"woman",loadChildren:()=>eF},{path:"man",loadChildren:()=>iF},{path:"terms",loadChildren:()=>uF},{path:"privacy",loadChildren:()=>hF},{path:"special-offers",loadChildren:()=>pF},{path:"delivery",loadChildren:()=>mF}];let _F=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[zt.forRoot(yF)],zt]}),n})(),vF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["lib-navigation-buttons"]],decls:13,vars:4,consts:[[1,"navbar-expand-lg","navbar-light"],[1,"container","fs-3","p-0"],[1,"row"],[1,"col"],[1,"navbar-brand","p-2","me-0","fs-5",3,"routerLink"],[1,"navbar-brand","p-3","me-0","fs-5",3,"routerLink"],[1,"col-1"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-cart","pointer",3,"routerLink"],["d","M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"]],template:function(t,r){1&t&&(u.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),u._uU(5,"HOME"),u.qZA(),u.TgZ(6,"a",5),u._uU(7,"ABOUT"),u.qZA(),u.TgZ(8,"a",5),u._uU(9,"CONTACT US"),u.qZA()(),u.TgZ(10,"div",6),u.O4$(),u.TgZ(11,"svg",7),u._UZ(12,"path",8),u.qZA()()()()()),2&t&&(u.xp6(4),u.Q6J("routerLink","/"),u.xp6(2),u.Q6J("routerLink","./aboutus"),u.xp6(2),u.Q6J("routerLink","./contactus"),u.xp6(3),u.Q6J("routerLink","./shoppingcart"))},directives:[tu,Gr],encapsulation:2,changeDetection:0}),n})();const jx=new u.OlP("ADDS_NEWSLETTER_DTO");let EF=(()=>{class n{constructor(t,r){this._addsNewsletterDto=t,this.router=r,this.newsletter=new Kc({email:new Ws("",[zs.required,zs.email,zs.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")])})}onNewsletterSubmited(t){var r;this._addsNewsletterDto.add({email:null===(r=t.get("email"))||void 0===r?void 0:r.value}),this.newsletter.reset()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(jx),u.Y36(wr))},n.\u0275cmp=u.Xpm({type:n,selectors:[["lib-footer"]],decls:82,vars:14,consts:[[1,"border","bg-light","w-100"],[1,"content"],[1,"footer","text-center","border-0"],[1,"table","table-borderless"],["scope","col"],[1,"navbar-brand","p-2","me-0","fs-6",2,"color","black",3,"routerLink"],[3,"formGroup","ngSubmit"],["type","text","formControlName","email","placeholder","Email"],["type","submit","value","Sign up!",1,"",3,"disabled"],[1,"container-fluid"],[1,"row"],[1,"col-8"],[1,"p-3"],["href","./privacy"],["href","./terms"],[1,"col-4"],["src","\n          https://s3-alpha-sig.figma.com/img/1c9d/d583/24bc8d20ec2fb9c01ac67e66ab576c6a?Expires=1655683200&Signature=COXD4yKVBwBbMRiG9I0Kicf6yPuNHXLdbexaIybl99Egp0CqsCLi3YvGRCKLc6DUV1X81P0BYj9CLl-RPyW5x1daq01~XXYtJbvT0jGGkHz~bGqytlYe468upK00rxoqKV9~-NplakpMnQwZN-teAQNTYSDcZTwDye9CevcPLkXwy6K~gF8MpQSE-CNzGWB5YUUTWlRg9zTE-KuoGyLf4xAbOYwoRIkV8nF5ReTluRlTkfSoaircEzu7QyRe5ugmgFESw26QcRez4WA-~GOsxdCU-GqfOUkAstYnnO-ZEY-V59iCAR1Ye2uwYlkFlbHkhVoZXYT4-aqjjMleiDWUNg__&Key-Pair-Id=APKAINTVSUGEWH5XD5UA\n        ",1,"paymenticon"],["src","https://s3-alpha-sig.figma.com/img/e9e2/dd16/053899ff2878f667a635fd7a560d6d2b?Expires=1655683200&Signature=RmVhw7oGWq~XShoIop7BGIxpU1x9xjdlZGVdQOio9yTMdQGnR8-g7m0NleWL6W2YIOoFl7s31GshKRz2CCo6pBw93LWiAWVqbK-RnOk7KdEb04quq9SZzPDMk7jguP7pzY5apGgWldd2jeDxSIRhv1U7ONESotu2H6ekFNZhjkv~eDTi73eKa58A50DYTUtMplCUHq~O7qFceLkexBZJN6H5rblmvYsyz66NYtE08JDNtsTV4HbkItFDXKd5l38CDvuamfyUz-NppD~QHpAGZDFVcMs5V~YiU3CWdVHPk5k1h3ivsXmpqNUXqUx1oAyOw1nUoZVkuIwpbgNcrTHmRw__&Key-Pair-Id=APKAINTVSUGEWH5XD5UA",1,"paymenticon"],["src","https://s3-alpha-sig.figma.com/img/0790/7732/d09a4ecdd89f6c5e9a8ab9b6d4817a6d?Expires=1655683200&Signature=D1lsZTbW8VZxvPM9jLuHaYLYxkbqQySWljQK5sS~8FEsWFROyU0tyH9hd8X3Co0nPWGx~hHZsxga4JKYJsGC8YzqY6PexoaaP1tatj7lolfL9lYsDd6YZqh4auhUzILcI1DJVqkVCoJiPklxr0RuCZSQM8sfe55FnRwE7FS9nNFSmnEDUdZ7a4urY3VDIX--ekuL5j3wUS1pj66CgPp6WpUCN-EPro~~vzCBFhmqeGkn4BmrTlSdGKuz9NBY0W~qd-14pZj0UiPltmTlKRem7layC8QD5sBiH3vsRn-dDUc2HjoqglD2XPPC3tEbcsz5IwAynV9WL~z042qxlCUaIw__&Key-Pair-Id=APKAINTVSUGEWH5XD5UA",1,"paymenticon"],["src","https://s3-alpha-sig.figma.com/img/7aea/366f/1a58710adbf86230cf7e2a4e2e66af2c?Expires=1655683200&Signature=VACdEvAi4antaLL1GliMnehB8s0f-j51QqQ~jfS0KjZhRtdq7A3-e80lJJFsJGWR8KGb62A284nc2fSpFvn3HJCOiBp1k5tw54svOPJCuXVz6zOwq4Rl3yxB1PFmkKW3mzG8iRiTzVPPk1Rw5BTs5kxYDnggcpa-h0Q6Npe3n3omZHtecSDtJeopf4BdWsxTDFirNRvxqObrhmTU65BkoELtAuqn-3TOgGXLEnpJtDFKYT8lhmvHmk-c5YwHhc1zOgFs4FAnhLWIvwyhh7rO7WUyouI571uty6wfaXfl-9~uzH5BSQgAimB5cyGFzZnVi0a1p1Bn6wmRT-zN6jg~Dw__&Key-Pair-Id=APKAINTVSUGEWH5XD5UA",1,"paymenticon"]],template:function(t,r){1&t&&(u._UZ(0,"p",0)(1,"br"),u.TgZ(2,"body"),u._UZ(3,"div",1),u.TgZ(4,"footer",2)(5,"table",3)(6,"thead")(7,"tr")(8,"th",4),u._uU(9,"COMPANY INFO"),u.qZA(),u.TgZ(10,"th",4),u._uU(11,"HELP LINKS"),u.qZA(),u.TgZ(12,"th",4),u._uU(13,"USEFUL LINKS"),u.qZA(),u.TgZ(14,"th",4),u._uU(15,"GET IN THE KNOW"),u.qZA()()(),u.TgZ(16,"tbody")(17,"tr")(18,"td")(19,"a",5),u._uU(20,"About us"),u.qZA()(),u.TgZ(21,"td")(22,"a",5),u._uU(23,"Tracking"),u.qZA()(),u.TgZ(24,"td")(25,"a",5),u._uU(26,"Special Offers"),u.qZA()(),u.TgZ(27,"td"),u._uU(28,"Sing up for our newsletter!"),u.qZA()(),u.TgZ(29,"tr")(30,"td")(31,"a",5),u._uU(32,"Latest Posts"),u.qZA()(),u.TgZ(33,"td")(34,"a",5),u._uU(35,"Order Status"),u.qZA()(),u.TgZ(36,"td")(37,"a",5),u._uU(38,"Gift Cards"),u.qZA()(),u.TgZ(39,"td")(40,"form",6),u.NdJ("ngSubmit",function(){return r.onNewsletterSubmited(r.newsletter)}),u._UZ(41,"input",7)(42,"input",8),u.qZA()()(),u.TgZ(43,"tr")(44,"td")(45,"a",5),u._uU(46,"Contact Us"),u.qZA()(),u.TgZ(47,"td")(48,"a",5),u._uU(49,"Delivery"),u.qZA()(),u.TgZ(50,"td")(51,"a",5),u._uU(52,"Advertising"),u.qZA()()(),u.TgZ(53,"tr")(54,"td")(55,"a",5),u._uU(56,"FAQ"),u.qZA()(),u.TgZ(57,"td")(58,"a",5),u._uU(59,"Shipping Info"),u.qZA()(),u.TgZ(60,"td")(61,"a",5),u._uU(62,"Terms of Use"),u.qZA()()()()()()(),u._UZ(63,"br")(64,"br"),u.TgZ(65,"div",9)(66,"div",10)(67,"div",11)(68,"div",12),u._uU(69," \xa9 2022 ZYrAAFY eCommerce"),u._UZ(70,"br"),u.TgZ(71,"p")(72,"a",13),u._uU(73,"Privacy Policy"),u.qZA(),u._UZ(74,"br"),u.TgZ(75,"a",14),u._uU(76," Terms & Conditions"),u.qZA()()()(),u.TgZ(77,"div",15),u._UZ(78,"img",16)(79,"img",17)(80,"img",18)(81,"img",19),u.qZA()()()),2&t&&(u.xp6(19),u.Q6J("routerLink","./aboutus"),u.xp6(3),u.Q6J("routerLink","./delivery"),u.xp6(3),u.Q6J("routerLink","./special-offers"),u.xp6(6),u.Q6J("routerLink","./"),u.xp6(3),u.Q6J("routerLink","./delivery"),u.xp6(3),u.Q6J("routerLink","./terms"),u.xp6(3),u.Q6J("formGroup",r.newsletter),u.xp6(2),u.Q6J("disabled",r.newsletter.invalid),u.xp6(3),u.Q6J("routerLink","./contactus"),u.xp6(3),u.Q6J("routerLink","./delivery"),u.xp6(3),u.Q6J("routerLink","./terms"),u.xp6(4),u.Q6J("routerLink","./privacy"),u.xp6(3),u.Q6J("routerLink","./delivery"),u.xp6(3),u.Q6J("routerLink","./terms"))},directives:[tu,J0,z0,Jp,Qp,G0,My],encapsulation:2,changeDetection:0}),n})(),wF=(()=>{class n{constructor(){this.title="HACKATON"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:12,vars:0,consts:[[1,"container"],[1,"col"],[1,"container","ms-5","mt-3"],[1,"row","align-items-start"],[1,"col-2"],["routerLink","/",1,"fs-1","mb-0","pointer"],[1,"col","align-self-center"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u._UZ(1,"div",1)(2,"div",1),u.qZA(),u.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"p",5),u._uU(7,"ZYrAAFY"),u.qZA()(),u.TgZ(8,"div",6),u._UZ(9,"lib-navigation-buttons"),u.qZA()()(),u._UZ(10,"router-outlet")(11,"lib-footer"))},directives:[Gr,vF,zl,EF],styles:[""]}),n})();const $x_firebase={projectId:"hakaton-2939c",appId:"1:328501125806:web:f4fdbfdcfbd55095c0433f",storageBucket:"hakaton-2939c.appspot.com",locationId:"europe-west",apiKey:"AIzaSyBBe-onwqZKv-FSmDwnyRRflXyYmm_SleI",authDomain:"hakaton-2939c.firebaseapp.com",messagingSenderId:"328501125806"};class OA{constructor(e){return e}}const Hx="firestore",NA=new u.OlP("angularfire2.firestore-instances"),DF={provide:class bF{constructor(){return(0,hr.vb)(Hx)}},deps:[[new u.FiY,NA]]},IF={provide:OA,useFactory:function CF(n,e){const t=(0,hr.JM)(Hx,n,e);return t&&new OA(t)},deps:[[new u.FiY,NA],class H0{constructor(e){return e}}]};let qx=(()=>{class n{constructor(){(0,FI.KN)("angularfire",hr.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[IF,DF]}),n})();class Zx{}const Qc="*";function Gx(n,e=null){return{type:2,steps:n,options:e}}function zx(n){return{type:6,styles:n,offset:null}}function Wx(n){Promise.resolve(null).then(n)}class eE{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Wx(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Kx{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,s=0;const l=this.players.length;0==l?Wx(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++t==l&&this._onFinish()}),d.onDestroy(()=>{++r==l&&this._onDestroy()}),d.onStart(()=>{++s==l&&this._onStart()})}),this.totalTime=this.players.reduce((d,p)=>Math.max(d,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const s=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(s)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const Yt=!1;function Yx(n){return new u.vHH(3e3,Yt)}function aL(){return"undefined"!=typeof window&&void 0!==window.document}function kA(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Gh(n){switch(n.length){case 0:return new eE;case 1:return n[0];default:return new Kx(n)}}function Qx(n,e,t,r,s={},l={}){const d=[],p=[];let v=-1,C=null;if(r.forEach(S=>{const x=S.offset,L=x==v,G=L&&C||{};Object.keys(S).forEach(K=>{let ye=K,Re=S[K];if("offset"!==K)switch(ye=e.normalizePropertyName(ye,d),Re){case"!":Re=s[K];break;case Qc:Re=l[K];break;default:Re=e.normalizeStyleValue(K,ye,Re,d)}G[ye]=Re}),L||p.push(G),C=G,v=x}),d.length)throw function YF(n){return new u.vHH(3502,Yt)}();return p}function FA(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&LA(t,"start",n)));break;case"done":n.onDone(()=>r(t&&LA(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&LA(t,"destroy",n)))}}function LA(n,e,t){const r=t.totalTime,l=UA(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),d=n._data;return null!=d&&(l._data=d),l}function UA(n,e,t,r,s="",l=0,d){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:s,totalTime:l,disabled:!!d}}function So(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function Jx(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let VA=(n,e)=>!1,Xx=(n,e,t)=>[],eP=null;function BA(n){const e=n.parentNode||n.host;return e===eP?null:e}(kA()||"undefined"!=typeof Element)&&(aL()?(eP=(()=>document.documentElement)(),VA=(n,e)=>{for(;e;){if(e===n)return!0;e=BA(e)}return!1}):VA=(n,e)=>n.contains(e),Xx=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let tg=null,tP=!1;function nP(n){tg||(tg=function lL(){return"undefined"!=typeof document?document.body:null}()||{},tP=!!tg.style&&"WebkitAppearance"in tg.style);let e=!0;return tg.style&&!function uL(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in tg.style,!e&&tP&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in tg.style)),e}const rP=VA,iP=Xx;let sP=(()=>{class n{validateStyleProperty(t){return nP(t)}matchesElement(t,r){return!1}containsElement(t,r){return rP(t,r)}getParentElement(t){return BA(t)}query(t,r,s){return iP(t,r,s)}computeStyle(t,r,s){return s||""}animate(t,r,s,l,d,p=[],v){return new eE(s,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),jA=(()=>{class n{}return n.NOOP=new sP,n})();const $A="ng-enter",sT="ng-leave",oT="ng-trigger",aT=".ng-trigger",aP="ng-animating",HA=".ng-animating";function ng(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:qA(parseFloat(e[1]),e[2])}function qA(n,e){return"s"===e?1e3*n:n}function uT(n,e,t){return n.hasOwnProperty("duration")?n:function hL(n,e,t){let s,l=0,d="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return e.push(Yx()),{duration:0,delay:0,easing:""};s=qA(parseFloat(p[1]),p[2]);const v=p[3];null!=v&&(l=qA(parseFloat(v),p[4]));const C=p[5];C&&(d=C)}else s=n;if(!t){let p=!1,v=e.length;s<0&&(e.push(function SF(){return new u.vHH(3100,Yt)}()),p=!0),l<0&&(e.push(function MF(){return new u.vHH(3101,Yt)}()),p=!0),p&&e.splice(v,0,Yx())}return{duration:s,delay:l,easing:d}}(n,e,t)}function Oy(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function zh(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Oy(n,t);return t}function lP(n,e,t){return t?e+":"+t+";":""}function cP(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=lP(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=lP(0,gL(t),n.style[t]));n.setAttribute("style",e)}function El(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const s=GA(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[s]),n.style[s]=e[r]}),kA()&&cP(n))}function rg(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=GA(t);n.style[r]=""}),kA()&&cP(n))}function tE(n){return Array.isArray(n)?1==n.length?n[0]:Gx(n):n}const ZA=new RegExp("{{\\s*(.+?)\\s*}}","g");function dP(n){let e=[];if("string"==typeof n){let t;for(;t=ZA.exec(n);)e.push(t[1]);ZA.lastIndex=0}return e}function lT(n,e,t){const r=n.toString(),s=r.replace(ZA,(l,d)=>{let p=e[d];return e.hasOwnProperty(d)||(t.push(function PF(n){return new u.vHH(3003,Yt)}()),p=""),p.toString()});return s==r?n:s}function cT(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const pL=/-+([a-z0-9])/g;function GA(n){return n.replace(pL,(...e)=>e[1].toUpperCase())}function gL(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Mo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function OF(n){return new u.vHH(3004,Yt)}()}}function hP(n,e){return window.getComputedStyle(n)[e]}function wL(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function bL(n,e,t){if(":"==n[0]){const v=function CL(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function GF(n){return new u.vHH(3016,Yt)}()),"* => *"}}(n,t);if("function"==typeof v)return void e.push(v);n=v}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function ZF(n){return new u.vHH(3015,Yt)}()),e;const s=r[1],l=r[2],d=r[3];e.push(fP(s,d));"<"==l[0]&&!("*"==s&&"*"==d)&&e.push(fP(d,s))}(r,t,e)):t.push(n),t}const pT=new Set(["true","1"]),gT=new Set(["false","0"]);function fP(n,e){const t=pT.has(n)||gT.has(n),r=pT.has(e)||gT.has(e);return(s,l)=>{let d="*"==n||n==s,p="*"==e||e==l;return!d&&t&&"boolean"==typeof s&&(d=s?pT.has(n):gT.has(n)),!p&&r&&"boolean"==typeof l&&(p=l?pT.has(e):gT.has(e)),d&&p}}const TL=new RegExp("s*:selfs*,?","g");function zA(n,e,t,r){return new DL(n).build(e,t,r)}class DL{constructor(e){this._driver=e}build(e,t,r){const s=new SL(t);this._resetContextStyleTimingState(s);const l=Mo(this,tE(e),s);return s.unsupportedCSSPropertiesFound.size&&s.unsupportedCSSPropertiesFound.keys(),l}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,s=t.depCount=0;const l=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push(function RF(){return new u.vHH(3006,Yt)}()),e.definitions.forEach(p=>{if(this._resetContextStyleTimingState(t),0==p.type){const v=p,C=v.name;C.toString().split(/\s*,\s*/).forEach(S=>{v.name=S,l.push(this.visitState(v,t))}),v.name=C}else if(1==p.type){const v=this.visitTransition(p,t);r+=v.queryCount,s+=v.depCount,d.push(v)}else t.errors.push(function kF(){return new u.vHH(3007,Yt)}())}),{type:7,name:e.name,states:l,transitions:d,queryCount:r,depCount:s,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),s=e.options&&e.options.params||null;if(r.containsDynamicStyles){const l=new Set,d=s||{};r.styles.forEach(p=>{if(mT(p)){const v=p;Object.keys(v).forEach(C=>{dP(v[C]).forEach(S=>{d.hasOwnProperty(S)||l.add(S)})})}}),l.size&&(cT(l.values()),t.errors.push(function FF(n,e){return new u.vHH(3008,Yt)}()))}return{type:0,name:e.name,style:r,options:s?{params:s}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Mo(this,tE(e.animation),t);return{type:1,matchers:wL(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:ig(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Mo(this,r,t)),options:ig(e.options)}}visitGroup(e,t){const r=t.currentTime;let s=0;const l=e.steps.map(d=>{t.currentTime=r;const p=Mo(this,d,t);return s=Math.max(s,t.currentTime),p});return t.currentTime=s,{type:3,steps:l,options:ig(e.options)}}visitAnimate(e,t){const r=function xL(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return WA(uT(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=WA(0,0,"");return l.dynamic=!0,l.strValue=r,l}return t=t||uT(r,e),WA(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let s,l=e.styles?e.styles:zx({});if(5==l.type)s=this.visitKeyframes(l,t);else{let d=e.styles,p=!1;if(!d){p=!0;const C={};r.easing&&(C.easing=r.easing),d=zx(C)}t.currentTime+=r.duration+r.delay;const v=this.visitStyle(d,t);v.isEmptyStep=p,s=v}return t.currentAnimateTimings=null,{type:4,timings:r,style:s,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(d=>{"string"==typeof d?d==Qc?r.push(d):t.errors.push(function LF(n){return new u.vHH(3002,Yt)}()):r.push(d)}):r.push(e.styles);let s=!1,l=null;return r.forEach(d=>{if(mT(d)){const p=d,v=p.easing;if(v&&(l=v,delete p.easing),!s)for(let C in p)if(p[C].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let s=t.currentTime,l=t.currentTime;r&&l>0&&(l-=r.duration+r.delay),e.styles.forEach(d=>{"string"!=typeof d&&Object.keys(d).forEach(p=>{if(!this._driver.validateStyleProperty(p))return delete d[p],void t.unsupportedCSSPropertiesFound.add(p);const v=t.collectedStyles[t.currentQuerySelector],C=v[p];let S=!0;C&&(l!=s&&l>=C.startTime&&s<=C.endTime&&(t.errors.push(function UF(n,e,t,r,s){return new u.vHH(3010,Yt)}()),S=!1),l=C.startTime),S&&(v[p]={startTime:l,endTime:s}),t.options&&function fL(n,e,t){const r=e.params||{},s=dP(n);s.length&&s.forEach(l=>{r.hasOwnProperty(l)||t.push(function xF(n){return new u.vHH(3001,Yt)}())})}(d[p],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function VF(){return new u.vHH(3011,Yt)}()),r;let l=0;const d=[];let p=!1,v=!1,C=0;const S=e.steps.map(gt=>{const yt=this._makeStyleAst(gt,t);let Tt=null!=yt.offset?yt.offset:function ML(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(mT(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(mT(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(yt.styles),ut=0;return null!=Tt&&(l++,ut=yt.offset=Tt),v=v||ut<0||ut>1,p=p||ut<C,C=ut,d.push(ut),yt});v&&t.errors.push(function BF(){return new u.vHH(3012,Yt)}()),p&&t.errors.push(function jF(){return new u.vHH(3200,Yt)}());const x=e.steps.length;let L=0;l>0&&l<x?t.errors.push(function $F(){return new u.vHH(3202,Yt)}()):0==l&&(L=1/(x-1));const G=x-1,K=t.currentTime,ye=t.currentAnimateTimings,Re=ye.duration;return S.forEach((gt,yt)=>{const Tt=L>0?yt==G?1:L*yt:d[yt],ut=Tt*Re;t.currentTime=K+ye.delay+ut,ye.duration=ut,this._validateStyleAst(gt,t),gt.offset=Tt,r.styles.push(gt)}),r}visitReference(e,t){return{type:8,animation:Mo(this,tE(e.animation),t),options:ig(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ig(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ig(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,s=e.options||{};t.queryCount++,t.currentQuery=e;const[l,d]=function IL(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(TL,"")),n=n.replace(/@\*/g,aT).replace(/@\w+/g,t=>aT+"-"+t.substr(1)).replace(/:animating/g,HA),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+l:l,So(t.collectedStyles,t.currentQuerySelector,{});const p=Mo(this,tE(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:l,limit:s.limit||0,optional:!!s.optional,includeSelf:d,animation:p,originalSelector:e.selector,options:ig(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function HF(){return new u.vHH(3013,Yt)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:uT(e.timings,t.errors,!0);return{type:12,animation:Mo(this,tE(e.animation),t),timings:r,options:null}}}class SL{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function mT(n){return!Array.isArray(n)&&"object"==typeof n}function ig(n){return n?(n=Oy(n)).params&&(n.params=function AL(n){return n?Oy(n):null}(n.params)):n={},n}function WA(n,e,t){return{duration:n,delay:e,easing:t}}function KA(n,e,t,r,s,l,d=null,p=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:s,delay:l,totalTime:s+l,easing:d,subTimeline:p}}class yT{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const NL=new RegExp(":enter","g"),kL=new RegExp(":leave","g");function YA(n,e,t,r,s,l={},d={},p,v,C=[]){return(new FL).buildKeyframes(n,e,t,r,s,l,d,p,v,C)}class FL{buildKeyframes(e,t,r,s,l,d,p,v,C,S=[]){C=C||new yT;const x=new QA(e,t,C,s,l,S,[]);x.options=v,x.currentTimeline.setStyles([d],null,x.errors,v),Mo(this,r,x);const L=x.timelines.filter(G=>G.containsAnimation());if(Object.keys(p).length){let G;for(let K=L.length-1;K>=0;K--){const ye=L[K];if(ye.element===t){G=ye;break}}G&&!G.allowOnlyTimelineStyles()&&G.setStyles([p],null,x.errors,v)}return L.length?L.map(G=>G.buildKeyframes()):[KA(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const s=t.createSubContext(e.options),l=t.currentTimeline.currentTime,d=this._visitSubInstructions(r,s,s.options);l!=d&&t.transformIntoNewTimeline(d)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let l=t.currentTimeline.currentTime;const d=null!=r.duration?ng(r.duration):null,p=null!=r.delay?ng(r.delay):null;return 0!==d&&e.forEach(v=>{const C=t.appendInstructionToTimeline(v,d,p);l=Math.max(l,C.duration+C.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),Mo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let s=t;const l=e.options;if(l&&(l.params||l.delay)&&(s=t.createSubContext(l),s.transformIntoNewTimeline(),null!=l.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=_T);const d=ng(l.delay);s.delayNextStep(d)}e.steps.length&&(e.steps.forEach(d=>Mo(this,d,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>r&&s.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let s=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?ng(e.options.delay):0;e.steps.forEach(d=>{const p=t.createSubContext(e.options);l&&p.delayNextStep(l),Mo(this,d,p),s=Math.max(s,p.currentTimeline.currentTime),r.push(p.currentTimeline)}),r.forEach(d=>t.currentTimeline.mergeTimelineCollectedStyles(d)),t.transformIntoNewTimeline(s),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return uT(t.params?lT(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),s=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),s.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(r.duration),this.visitStyle(l,t),s.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,s=t.currentAnimateTimings;!s&&r.getCurrentStyleProperties().length&&r.forwardFrame();const l=s&&s.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(l):r.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,s=t.currentTimeline.duration,l=r.duration,p=t.createSubContext().currentTimeline;p.easing=r.easing,e.styles.forEach(v=>{p.forwardTime((v.offset||0)*l),p.setStyles(v.styles,v.easing,t.errors,t.options),p.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(p),t.transformIntoNewTimeline(s+l),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,s=e.options||{},l=s.delay?ng(s.delay):0;l&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=_T);let d=r;const p=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!s.optional,t.errors);t.currentQueryTotal=p.length;let v=null;p.forEach((C,S)=>{t.currentQueryIndex=S;const x=t.createSubContext(e.options,C);l&&x.delayNextStep(l),C===t.element&&(v=x.currentTimeline),Mo(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),v&&(t.currentTimeline.mergeTimelineCollectedStyles(v),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,s=t.currentTimeline,l=e.timings,d=Math.abs(l.duration),p=d*(t.currentQueryTotal-1);let v=d*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":v=p-v;break;case"full":v=r.currentStaggerTime}const S=t.currentTimeline;v&&S.delayNextStep(v);const x=S.currentTime;Mo(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=s.currentTime-x+(s.startTime-r.currentTimeline.startTime)}}const _T={};class QA{constructor(e,t,r,s,l,d,p,v){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=s,this._leaveClassName=l,this.errors=d,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_T,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new vT(this._driver,t,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let s=this.options;null!=r.duration&&(s.duration=ng(r.duration)),null!=r.delay&&(s.delay=ng(r.delay));const l=r.params;if(l){let d=s.params;d||(d=this.options.params={}),Object.keys(l).forEach(p=>{(!t||!d.hasOwnProperty(p))&&(d[p]=lT(l[p],d,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(s=>{r[s]=t[s]})}}return e}createSubContext(e=null,t,r){const s=t||this.element,l=new QA(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=_T,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const s={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},l=new LL(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,s,e.stretchStartingKeyframe);return this.timelines.push(l),s}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,s,l,d){let p=[];if(s&&p.push(this.element),e.length>0){e=(e=e.replace(NL,"."+this._enterClassName)).replace(kL,"."+this._leaveClassName);let C=this._driver.query(this.element,e,1!=r);0!==r&&(C=r<0?C.slice(C.length+r,C.length):C.slice(0,r)),p.push(...C)}return!l&&0==p.length&&d.push(function qF(n){return new u.vHH(3014,Yt)}()),p}}class vT{constructor(e,t,r,s){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new vT(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Qc,this._currentKeyframe[t]=Qc}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,s){t&&(this._previousKeyframe.easing=t);const l=s&&s.params||{},d=function UL(n,e){const t={};let r;return n.forEach(s=>{"*"===s?(r=r||Object.keys(e),r.forEach(l=>{t[l]=Qc})):zh(s,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(d).forEach(p=>{const v=lT(d[p],l,r);this._pendingStyles[p]=v,this._localTimelineStyles.hasOwnProperty(p)||(this._backFill[p]=this._globalTimelineStyles.hasOwnProperty(p)?this._globalTimelineStyles[p]:Qc),this._updateStyle(p,v)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],s=e._styleSummary[t];(!r||s.time>r.time)&&this._updateStyle(t,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((p,v)=>{const C=zh(p,!0);Object.keys(C).forEach(S=>{const x=C[S];"!"==x?e.add(S):x==Qc&&t.add(S)}),r||(C.offset=v/this.duration),s.push(C)});const l=e.size?cT(e.values()):[],d=t.size?cT(t.values()):[];if(r){const p=s[0],v=Oy(p);p.offset=0,v.offset=1,s=[p,v]}return KA(this.element,s,l,d,this.duration,this.startTime,this.easing,!1)}}class LL extends vT{constructor(e,t,r,s,l,d,p=!1){super(e,t,d.delay),this.keyframes=r,this.preStyleProps=s,this.postStyleProps=l,this._stretchStartingKeyframe=p,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:s}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],d=r+t,p=t/d,v=zh(e[0],!1);v.offset=0,l.push(v);const C=zh(e[0],!1);C.offset=mP(p),l.push(C);const S=e.length-1;for(let x=1;x<=S;x++){let L=zh(e[x],!1);L.offset=mP((t+L.offset*r)/d),l.push(L)}r=d,t=0,s="",e=l}return KA(this.element,e,this.preStyleProps,this.postStyleProps,r,t,s,!0)}}function mP(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class JA{}class VL extends JA{normalizePropertyName(e,t){return GA(e)}normalizeStyleValue(e,t,r,s){let l="";const d=r.toString().trim();if(BL[t]&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const p=r.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&s.push(function NF(n,e){return new u.vHH(3005,Yt)}())}return d+l}}const BL=(()=>function jL(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function yP(n,e,t,r,s,l,d,p,v,C,S,x,L){return{type:0,element:n,triggerName:e,isRemovalTransition:s,fromState:t,fromStyles:l,toState:r,toStyles:d,timelines:p,queriedElements:v,preStyleProps:C,postStyleProps:S,totalTime:x,errors:L}}const XA={};class _P{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,s){return function $L(n,e,t,r,s){return n.some(l=>l(e,t,r,s))}(this.ast.matchers,e,t,r,s)}buildStyles(e,t,r){const s=this._stateStyles["*"],l=this._stateStyles[e],d=s?s.buildStyles(t,r):{};return l?l.buildStyles(t,r):d}build(e,t,r,s,l,d,p,v,C,S){const x=[],L=this.ast.options&&this.ast.options.params||XA,K=this.buildStyles(r,p&&p.params||XA,x),ye=v&&v.params||XA,Re=this.buildStyles(s,ye,x),gt=new Set,yt=new Map,Tt=new Map,ut="void"===s,Ft={params:Object.assign(Object.assign({},L),ye)},Bt=S?[]:YA(e,t,this.ast.animation,l,d,K,Re,Ft,C,x);let un=0;if(Bt.forEach(Jc=>{un=Math.max(Jc.duration+Jc.delay,un)}),x.length)return yP(t,this._triggerName,r,s,ut,K,Re,[],[],yt,Tt,un,x);Bt.forEach(Jc=>{const Xc=Jc.element,kP=So(yt,Xc,{});Jc.preStyleProps.forEach(sg=>kP[sg]=!0);const rE=So(Tt,Xc,{});Jc.postStyleProps.forEach(sg=>rE[sg]=!0),Xc!==t&&gt.add(Xc)});const ys=cT(gt.values());return yP(t,this._triggerName,r,s,ut,K,Re,Bt,ys,yt,Tt,un)}}class HL{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},s=Oy(this.defaultParams);return Object.keys(e).forEach(l=>{const d=e[l];null!=d&&(s[l]=d)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const d=l;Object.keys(d).forEach(p=>{let v=d[p];v.length>1&&(v=lT(v,s,t));const C=this.normalizer.normalizePropertyName(p,t);v=this.normalizer.normalizeStyleValue(p,C,v,t),r[C]=v})}}),r}}class ZL{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(s=>{this.states[s.name]=new HL(s.style,s.options&&s.options.params||{},r)}),vP(this.states,"true","1"),vP(this.states,"false","0"),t.transitions.forEach(s=>{this.transitionFactories.push(new _P(e,s,this.states))}),this.fallbackTransition=function GL(n,e,t){return new _P(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,p)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,s){return this.transitionFactories.find(d=>d.match(e,t,r,s))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function vP(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const zL=new yT;class WL{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],l=zA(this._driver,t,r,[]);if(r.length)throw function QF(n){return new u.vHH(3503,Yt)}();this._animations[e]=l}_buildPlayer(e,t,r){const s=e.element,l=Qx(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(s,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const s=[],l=this._animations[e];let d;const p=new Map;if(l?(d=YA(this._driver,t,l,$A,sT,{},{},r,zL,s),d.forEach(S=>{const x=So(p,S.element,{});S.postStyleProps.forEach(L=>x[L]=null)})):(s.push(function JF(){return new u.vHH(3300,Yt)}()),d=[]),s.length)throw function XF(n){return new u.vHH(3504,Yt)}();p.forEach((S,x)=>{Object.keys(S).forEach(L=>{S[L]=this._driver.computeStyle(x,L,Qc)})});const C=Gh(d.map(S=>{const x=p.get(S.element);return this._buildPlayer(S,{},x)}));return this._playersById[e]=C,C.onDestroy(()=>this.destroy(e)),this.players.push(C),C}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function eL(n){return new u.vHH(3301,Yt)}();return t}listen(e,t,r,s){const l=UA(t,"","","");return FA(this._getPlayer(e),r,l,s),()=>{}}command(e,t,r,s){if("register"==r)return void this.register(e,s[0]);if("create"==r)return void this.create(e,t,s[0]||{});const l=this._getPlayer(e);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(e)}}}const EP="ng-animate-queued",eS="ng-animate-disabled",XL=[],wP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},e2={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ea="__ng_removed";class tS{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function i2(n){return null!=n?n:null}(r?e.value:e),r){const l=Oy(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(s=>{null==r[s]&&(r[s]=t[s])})}}}const nE="void",nS=new tS(nE);class t2{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,wa(t,this._hostClassName)}listen(e,t,r,s){if(!this._triggers.hasOwnProperty(t))throw function tL(n,e){return new u.vHH(3302,Yt)}();if(null==r||0==r.length)throw function nL(n){return new u.vHH(3303,Yt)}();if(!function s2(n){return"start"==n||"done"==n}(r))throw function rL(n,e){return new u.vHH(3400,Yt)}();const l=So(this._elementListeners,e,[]),d={name:t,phase:r,callback:s};l.push(d);const p=So(this._engine.statesByElement,e,{});return p.hasOwnProperty(t)||(wa(e,oT),wa(e,oT+"-"+t),p[t]=nS),()=>{this._engine.afterFlush(()=>{const v=l.indexOf(d);v>=0&&l.splice(v,1),this._triggers[t]||delete p[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function iL(n){return new u.vHH(3401,Yt)}();return t}trigger(e,t,r,s=!0){const l=this._getTrigger(t),d=new rS(this.id,t,e);let p=this._engine.statesByElement.get(e);p||(wa(e,oT),wa(e,oT+"-"+t),this._engine.statesByElement.set(e,p={}));let v=p[t];const C=new tS(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&v&&C.absorbOptions(v.options),p[t]=C,v||(v=nS),C.value!==nE&&v.value===C.value){if(!function u2(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let s=0;s<t.length;s++){const l=t[s];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(v.params,C.params)){const ye=[],Re=l.matchStyles(v.value,v.params,ye),gt=l.matchStyles(C.value,C.params,ye);ye.length?this._engine.reportError(ye):this._engine.afterFlush(()=>{rg(e,Re),El(e,gt)})}return}const L=So(this._engine.playersByElement,e,[]);L.forEach(ye=>{ye.namespaceId==this.id&&ye.triggerName==t&&ye.queued&&ye.destroy()});let G=l.matchTransition(v.value,C.value,e,C.params),K=!1;if(!G){if(!s)return;G=l.fallbackTransition,K=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:G,fromState:v,toState:C,player:d,isFallbackTransition:K}),K||(wa(e,EP),d.onStart(()=>{Ny(e,EP)})),d.onDone(()=>{let ye=this.players.indexOf(d);ye>=0&&this.players.splice(ye,1);const Re=this._engine.playersByElement.get(e);if(Re){let gt=Re.indexOf(d);gt>=0&&Re.splice(gt,1)}}),this.players.push(d),L.push(d),d}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(s=>s.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,aT,!0);r.forEach(s=>{if(s[Ea])return;const l=this._engine.fetchNamespacesByElement(s);l.size?l.forEach(d=>d.triggerLeaveAnimation(s,t,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(e,t,r,s){const l=this._engine.statesByElement.get(e),d=new Map;if(l){const p=[];if(Object.keys(l).forEach(v=>{if(d.set(v,l[v].value),this._triggers[v]){const C=this.trigger(e,v,nE,s);C&&p.push(C)}}),p.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,d),r&&Gh(p).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const s=new Set;t.forEach(l=>{const d=l.name;if(s.has(d))return;s.add(d);const v=this._triggers[d].fallbackTransition,C=r[d]||nS,S=new tS(nE),x=new rS(this.id,d,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:d,transition:v,fromState:C,toState:S,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let s=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(e):[];if(l&&l.length)s=!0;else{let d=e;for(;d=d.parentNode;)if(r.statesByElement.get(d)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(e),s)r.markElementAsRemoved(this.id,e,!1,t);else{const l=e[Ea];(!l||l===wP)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){wa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const s=r.player;if(s.destroyed)return;const l=r.element,d=this._elementListeners.get(l);d&&d.forEach(p=>{if(p.name==r.triggerName){const v=UA(l,r.triggerName,r.fromState.value,r.toState.value);v._data=e,FA(r.player,p.phase,v,p.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):t.push(r)}),this._queue=[],t.sort((r,s)=>{const l=r.transition.ast.depCount,d=s.transition.ast.depCount;return 0==l||0==d?l-d:this._engine.driver.containsElement(r.element,s.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class n2{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new t2(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,s=this.namespacesByHostElement,l=r.length-1;if(l>=0){let d=!1;if(void 0!==this.driver.getParentElement){let p=this.driver.getParentElement(t);for(;p;){const v=s.get(p);if(v){const C=r.indexOf(v);r.splice(C+1,0,e),d=!0;break}p=this.driver.getParentElement(p)}}else for(let p=l;p>=0;p--)if(this.driver.containsElement(r[p].hostElement,t)){r.splice(p+1,0,e),d=!0;break}d||r.unshift(e)}else r.push(e);return s.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let s=this._namespaceLookup[e];s&&s.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const s=this._namespaceList.indexOf(r);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const s=Object.keys(r);for(let l=0;l<s.length;l++){const d=r[s[l]].namespaceId;if(d){const p=this._fetchNamespace(d);p&&t.add(p)}}}return t}trigger(e,t,r,s){if(ET(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,r,s),!0}return!1}insertNode(e,t,r,s){if(!ET(t))return;const l=t[Ea];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const d=this.collectedLeaveElements.indexOf(t);d>=0&&this.collectedLeaveElements.splice(d,1)}if(e){const d=this._fetchNamespace(e);d&&d.insertNode(t,r)}s&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),wa(e,eS)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ny(e,eS))}removeNode(e,t,r,s){if(ET(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,s):this.markElementAsRemoved(e,t,!1,s),r){const d=this.namespacesByHostElement.get(t);d&&d.id!==e&&d.removeNode(t,s)}}else this._onRemovalComplete(t,s)}markElementAsRemoved(e,t,r,s,l){this.collectedLeaveElements.push(t),t[Ea]={namespaceId:e,setForRemoval:s,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:l}}listen(e,t,r,s,l){return ET(t)?this._fetchNamespace(e).listen(t,r,s,l):()=>{}}_buildInstruction(e,t,r,s,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,s,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,aT,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,HA,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Gh(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[Ea];if(r&&r.setForRemoval){if(e[Ea]=wP,r.namespaceId){this.destroyInnerAnimations(e);const s=this._fetchNamespace(r.namespaceId);s&&s.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(eS))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,s)=>this._balanceNamespaceList(r,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)wa(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let s=0;s<r.length;s++)r[s]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Gh(t).onDone(()=>{r.forEach(s=>s())}):r.forEach(s=>s())}}reportError(e){throw function sL(n){return new u.vHH(3402,Yt)}()}_flushAnimations(e,t){const r=new yT,s=[],l=new Map,d=[],p=new Map,v=new Map,C=new Map,S=new Set;this.disabledNodes.forEach(ot=>{S.add(ot);const Dt=this.driver.query(ot,".ng-animate-queued",!0);for(let Pt=0;Pt<Dt.length;Pt++)S.add(Dt[Pt])});const x=this.bodyNode,L=Array.from(this.statesByElement.keys()),G=TP(L,this.collectedEnterElements),K=new Map;let ye=0;G.forEach((ot,Dt)=>{const Pt=$A+ye++;K.set(Dt,Pt),ot.forEach(nn=>wa(nn,Pt))});const Re=[],gt=new Set,yt=new Set;for(let ot=0;ot<this.collectedLeaveElements.length;ot++){const Dt=this.collectedLeaveElements[ot],Pt=Dt[Ea];Pt&&Pt.setForRemoval&&(Re.push(Dt),gt.add(Dt),Pt.hasAnimation?this.driver.query(Dt,".ng-star-inserted",!0).forEach(nn=>gt.add(nn)):yt.add(Dt))}const Tt=new Map,ut=TP(L,Array.from(gt));ut.forEach((ot,Dt)=>{const Pt=sT+ye++;Tt.set(Dt,Pt),ot.forEach(nn=>wa(nn,Pt))}),e.push(()=>{G.forEach((ot,Dt)=>{const Pt=K.get(Dt);ot.forEach(nn=>Ny(nn,Pt))}),ut.forEach((ot,Dt)=>{const Pt=Tt.get(Dt);ot.forEach(nn=>Ny(nn,Pt))}),Re.forEach(ot=>{this.processLeaveNode(ot)})});const Ft=[],Bt=[];for(let ot=this._namespaceList.length-1;ot>=0;ot--)this._namespaceList[ot].drainQueuedTransitions(t).forEach(Pt=>{const nn=Pt.player,vi=Pt.element;if(Ft.push(nn),this.collectedEnterElements.length){const _s=vi[Ea];if(_s&&_s.setForMove){if(_s.previousTriggersValues&&_s.previousTriggersValues.has(Pt.triggerName)){const og=_s.previousTriggersValues.get(Pt.triggerName),Kh=this.statesByElement.get(Pt.element);Kh&&Kh[Pt.triggerName]&&(Kh[Pt.triggerName].value=og)}return void nn.destroy()}}const wl=!x||!this.driver.containsElement(x,vi),xo=Tt.get(vi),Wh=K.get(vi),ir=this._buildInstruction(Pt,r,Wh,xo,wl);if(ir.errors&&ir.errors.length)return void Bt.push(ir);if(wl)return nn.onStart(()=>rg(vi,ir.fromStyles)),nn.onDestroy(()=>El(vi,ir.toStyles)),void s.push(nn);if(Pt.isFallbackTransition)return nn.onStart(()=>rg(vi,ir.fromStyles)),nn.onDestroy(()=>El(vi,ir.toStyles)),void s.push(nn);const UP=[];ir.timelines.forEach(_s=>{_s.stretchStartingKeyframe=!0,this.disabledNodes.has(_s.element)||UP.push(_s)}),ir.timelines=UP,r.append(vi,ir.timelines),d.push({instruction:ir,player:nn,element:vi}),ir.queriedElements.forEach(_s=>So(p,_s,[]).push(nn)),ir.preStyleProps.forEach((_s,og)=>{const Kh=Object.keys(_s);if(Kh.length){let ag=v.get(og);ag||v.set(og,ag=new Set),Kh.forEach(oS=>ag.add(oS))}}),ir.postStyleProps.forEach((_s,og)=>{const Kh=Object.keys(_s);let ag=C.get(og);ag||C.set(og,ag=new Set),Kh.forEach(oS=>ag.add(oS))})});if(Bt.length){const ot=[];Bt.forEach(Dt=>{ot.push(function oL(n,e){return new u.vHH(3505,Yt)}())}),Ft.forEach(Dt=>Dt.destroy()),this.reportError(ot)}const un=new Map,ys=new Map;d.forEach(ot=>{const Dt=ot.element;r.has(Dt)&&(ys.set(Dt,Dt),this._beforeAnimationBuild(ot.player.namespaceId,ot.instruction,un))}),s.forEach(ot=>{const Dt=ot.element;this._getPreviousPlayers(Dt,!1,ot.namespaceId,ot.triggerName,null).forEach(nn=>{So(un,Dt,[]).push(nn),nn.destroy()})});const Jc=Re.filter(ot=>IP(ot,v,C)),Xc=new Map;CP(Xc,this.driver,yt,C,Qc).forEach(ot=>{IP(ot,v,C)&&Jc.push(ot)});const rE=new Map;G.forEach((ot,Dt)=>{CP(rE,this.driver,new Set(ot),v,"!")}),Jc.forEach(ot=>{const Dt=Xc.get(ot),Pt=rE.get(ot);Xc.set(ot,Object.assign(Object.assign({},Dt),Pt))});const sg=[],FP=[],LP={};d.forEach(ot=>{const{element:Dt,player:Pt,instruction:nn}=ot;if(r.has(Dt)){if(S.has(Dt))return Pt.onDestroy(()=>El(Dt,nn.toStyles)),Pt.disabled=!0,Pt.overrideTotalTime(nn.totalTime),void s.push(Pt);let vi=LP;if(ys.size>1){let xo=Dt;const Wh=[];for(;xo=xo.parentNode;){const ir=ys.get(xo);if(ir){vi=ir;break}Wh.push(xo)}Wh.forEach(ir=>ys.set(ir,vi))}const wl=this._buildAnimation(Pt.namespaceId,nn,un,l,rE,Xc);if(Pt.setRealPlayer(wl),vi===LP)sg.push(Pt);else{const xo=this.playersByElement.get(vi);xo&&xo.length&&(Pt.parentPlayer=Gh(xo)),s.push(Pt)}}else rg(Dt,nn.fromStyles),Pt.onDestroy(()=>El(Dt,nn.toStyles)),FP.push(Pt),S.has(Dt)&&s.push(Pt)}),FP.forEach(ot=>{const Dt=l.get(ot.element);if(Dt&&Dt.length){const Pt=Gh(Dt);ot.setRealPlayer(Pt)}}),s.forEach(ot=>{ot.parentPlayer?ot.syncPlayerEvents(ot.parentPlayer):ot.destroy()});for(let ot=0;ot<Re.length;ot++){const Dt=Re[ot],Pt=Dt[Ea];if(Ny(Dt,sT),Pt&&Pt.hasAnimation)continue;let nn=[];if(p.size){let wl=p.get(Dt);wl&&wl.length&&nn.push(...wl);let xo=this.driver.query(Dt,HA,!0);for(let Wh=0;Wh<xo.length;Wh++){let ir=p.get(xo[Wh]);ir&&ir.length&&nn.push(...ir)}}const vi=nn.filter(wl=>!wl.destroyed);vi.length?o2(this,Dt,vi):this.processLeaveNode(Dt)}return Re.length=0,sg.forEach(ot=>{this.players.push(ot),ot.onDone(()=>{ot.destroy();const Dt=this.players.indexOf(ot);this.players.splice(Dt,1)}),ot.play()}),sg}elementContainsData(e,t){let r=!1;const s=t[Ea];return s&&s.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,s,l){let d=[];if(t){const p=this.playersByQueriedElement.get(e);p&&(d=p)}else{const p=this.playersByElement.get(e);if(p){const v=!l||l==nE;p.forEach(C=>{C.queued||!v&&C.triggerName!=s||d.push(C)})}}return(r||s)&&(d=d.filter(p=>!(r&&r!=p.namespaceId||s&&s!=p.triggerName))),d}_beforeAnimationBuild(e,t,r){const l=t.element,d=t.isRemovalTransition?void 0:e,p=t.isRemovalTransition?void 0:t.triggerName;for(const v of t.timelines){const C=v.element,S=C!==l,x=So(r,C,[]);this._getPreviousPlayers(C,S,d,p,t.toState).forEach(G=>{const K=G.getRealPlayer();K.beforeDestroy&&K.beforeDestroy(),G.destroy(),x.push(G)})}rg(l,t.fromStyles)}_buildAnimation(e,t,r,s,l,d){const p=t.triggerName,v=t.element,C=[],S=new Set,x=new Set,L=t.timelines.map(K=>{const ye=K.element;S.add(ye);const Re=ye[Ea];if(Re&&Re.removedBeforeQueried)return new eE(K.duration,K.delay);const gt=ye!==v,yt=function a2(n){const e=[];return DP(n,e),e}((r.get(ye)||XL).map(un=>un.getRealPlayer())).filter(un=>!!un.element&&un.element===ye),Tt=l.get(ye),ut=d.get(ye),Ft=Qx(0,this._normalizer,0,K.keyframes,Tt,ut),Bt=this._buildPlayer(K,Ft,yt);if(K.subTimeline&&s&&x.add(ye),gt){const un=new rS(e,p,ye);un.setRealPlayer(Bt),C.push(un)}return Bt});C.forEach(K=>{So(this.playersByQueriedElement,K.element,[]).push(K),K.onDone(()=>function r2(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const s=r.indexOf(t);r.splice(s,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const s=r.indexOf(t);r.splice(s,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,K.element,K))}),S.forEach(K=>wa(K,aP));const G=Gh(L);return G.onDestroy(()=>{S.forEach(K=>Ny(K,aP)),El(v,t.toStyles)}),x.forEach(K=>{So(s,K,[]).push(G)}),G}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new eE(e.duration,e.delay)}}class rS{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new eE,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>FA(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){So(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function ET(n){return n&&1===n.nodeType}function bP(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function CP(n,e,t,r,s){const l=[];t.forEach(v=>l.push(bP(v)));const d=[];r.forEach((v,C)=>{const S={};v.forEach(x=>{const L=S[x]=e.computeStyle(C,x,s);(!L||0==L.length)&&(C[Ea]=e2,d.push(C))}),n.set(C,S)});let p=0;return t.forEach(v=>bP(v,l[p++])),d}function TP(n,e){const t=new Map;if(n.forEach(p=>t.set(p,[])),0==e.length)return t;const s=new Set(e),l=new Map;function d(p){if(!p)return 1;let v=l.get(p);if(v)return v;const C=p.parentNode;return v=t.has(C)?C:s.has(C)?1:d(C),l.set(p,v),v}return e.forEach(p=>{const v=d(p);1!==v&&t.get(v).push(p)}),t}function wa(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Ny(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function o2(n,e,t){Gh(t).onDone(()=>n.processLeaveNode(e))}function DP(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Kx?DP(r.players,e):e.push(r)}}function IP(n,e,t){const r=t.get(n);if(!r)return!1;let s=e.get(n);return s?r.forEach(l=>s.add(l)):e.set(n,r),t.delete(n),!0}class wT{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(s,l)=>{},this._transitionEngine=new n2(e,t,r),this._timelineEngine=new WL(e,t,r),this._transitionEngine.onRemovalComplete=(s,l)=>this.onRemovalComplete(s,l)}registerTrigger(e,t,r,s,l){const d=e+"-"+s;let p=this._triggerCache[d];if(!p){const v=[],S=zA(this._driver,l,v,[]);if(v.length)throw function KF(n,e){return new u.vHH(3404,Yt)}();p=function qL(n,e,t){return new ZL(n,e,t)}(s,S,this._normalizer),this._triggerCache[d]=p}this._transitionEngine.registerTrigger(t,s,p)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,s){this._transitionEngine.insertNode(e,t,r,s)}onRemove(e,t,r,s){this._transitionEngine.removeNode(e,t,s||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,s){if("@"==r.charAt(0)){const[l,d]=Jx(r);this._timelineEngine.command(l,t,d,s)}else this._transitionEngine.trigger(e,t,r,s)}listen(e,t,r,s,l){if("@"==r.charAt(0)){const[d,p]=Jx(r);return this._timelineEngine.listen(d,t,p,l)}return this._transitionEngine.listen(e,t,r,s,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let c2=(()=>{class n{constructor(t,r,s){this._element=t,this._startStyles=r,this._endStyles=s,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&El(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(El(this._element,this._initialStyles),this._endStyles&&(El(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(rg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(rg(this._element,this._endStyles),this._endStyles=null),El(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function iS(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const s=t[r];d2(s)&&(e=e||{},e[s]=n[s])}return e}function d2(n){return"display"===n||"position"===n}class AP{constructor(e,t,r,s){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:hP(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class h2{validateStyleProperty(e){return nP(e)}matchesElement(e,t){return!1}containsElement(e,t){return rP(e,t)}getParentElement(e){return BA(e)}query(e,t,r){return iP(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,s,l,d=[]){const v={duration:r,delay:s,fill:0==s?"both":"forwards"};l&&(v.easing=l);const C={},S=d.filter(L=>L instanceof AP);(function mL(n,e){return 0===n||0===e})(r,s)&&S.forEach(L=>{let G=L.currentSnapshot;Object.keys(G).forEach(K=>C[K]=G[K])}),t=function yL(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let l=e[0],d=[];if(r.forEach(p=>{l.hasOwnProperty(p)||d.push(p),l[p]=t[p]}),d.length)for(var s=1;s<e.length;s++){let p=e[s];d.forEach(function(v){p[v]=hP(n,v)})}}return e}(e,t=t.map(L=>zh(L,!1)),C);const x=function l2(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=iS(e[0]),e.length>1&&(r=iS(e[e.length-1]))):e&&(t=iS(e)),t||r?new c2(n,t,r):null}(e,t);return new AP(e,t,v,x)}}let f2=(()=>{class n extends Zx{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(t)?Gx(t):t;return SP(this._renderer,null,r,"register",[s]),new p2(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class p2 extends class AF{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new g2(this._id,e,t||{},this._renderer)}}class g2{constructor(e,t,r,s){this.id=e,this.element=t,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return SP(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function SP(n,e,t,r,s){return n.setProperty(e,`@@${t}:${r}`,s)}const MP="@.disabled";let m2=(()=>{class n{constructor(t,r,s){this.delegate=t,this.engine=r,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,d)=>{const p=null==d?void 0:d.parentNode(l);p&&d.removeChild(p,l)}}createRenderer(t,r){const l=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let S=this._rendererCache.get(l);return S||(S=new xP("",l,this.engine),this._rendererCache.set(l,S)),S}const d=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);const v=S=>{Array.isArray(S)?S.forEach(v):this.engine.registerTrigger(d,p,t,S.name,S)};return r.data.animation.forEach(v),new y2(this,p,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,s){t>=0&&t<this._microtaskId?this._zone.run(()=>r(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[d,p]=l;d(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(wT),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class xP{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,s=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,s)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,s){this.delegate.setAttribute(e,t,r,s)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,s){this.delegate.setStyle(e,t,r,s)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==MP?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class y2 extends xP{constructor(e,t,r,s){super(t,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==MP?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const s=function _2(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.substr(1),d="";return"@"!=l.charAt(0)&&([l,d]=function v2(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(l)),this.engine.listen(this.namespaceId,s,l,d,p=>{this.factory.scheduleListenerCallback(p._data||-1,r,p)})}return this.delegate.listen(e,t,r)}}let E2=(()=>{class n extends wT{constructor(t,r,s){super(t.body,r,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue),u.LFG(jA),u.LFG(JA))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const PP=new u.OlP("AnimationModuleType"),OP=[{provide:Zx,useClass:f2},{provide:JA,useFactory:function w2(){return new VL}},{provide:wT,useClass:E2},{provide:u.FYo,useFactory:function b2(n,e,t){return new m2(n,e,t)},deps:[pn,wT,u.R0b]}],NP=[{provide:jA,useFactory:()=>new h2},{provide:PP,useValue:"BrowserAnimations"},...OP],C2=[{provide:jA,useClass:sP},{provide:PP,useValue:"NoopAnimations"},...OP];let T2=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?C2:NP}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:NP,imports:[jo]}),n})(),D2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[],imports:[[Rt,zt]]}),n})(),sS=(()=>{class n{constructor(){this._subject=new xr({})}setState(t){return et(this._subject.next(t)).pipe((0,ct.U)(()=>{}))}select(){return this._subject.asObservable().pipe(Hr(t=>t!=={}))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),I2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[sS,{provide:Vx,useExisting:sS},{provide:Ux,useExisting:sS}],imports:[[]]}),n})(),RP=(()=>{class n{constructor(t){this._client=t}add(t){return(0,tn.D)(this._client.collection("newsletters").add(t)).pipe((0,ct.U)(()=>{}))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(_l))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),A2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[RP,{provide:jx,useExisting:RP}],imports:[[Wc]]}),n})(),S2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[wF]}),n.\u0275inj=u.cJS({providers:[],imports:[[jo,zt,Px,_F,qx,oM,as.hO.initializeApp($x_firebase),T2,DA,I2,D2,vx,A2]]}),n})();(0,u.G48)(),Ou().bootstrapModule(S2).catch(n=>console.error(n))},5867:(Xe,we,N)=>{N.d(we,{Mq:()=>u.getApp,C6:()=>u.getApps,KN:()=>u.registerVersion});var u=N(9681);(0,u.registerVersion)("firebase","9.8.1","app")},127:(Xe,we,N)=>{N.d(we,{Z:()=>u.Z});var u=N(3942);u.Z.registerVersion("firebase","9.8.1","app-compat")},7092:(Xe,we,N)=>{N.r(we);var u=N(5861),X=N(3942),R=N(2090),ae=N(9681),re=N(655),pe=N(1877),ue=N(4859);const Oe=function Ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ve=function Me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},he=new R.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ge=new pe.Yd("@firebase/auth");function Ye(y,...f){Ge.logLevel<=pe.in.ERROR&&Ge.error(`Auth (${ae.SDK_VERSION}): ${y}`,...f)}function Ie(y,...f){throw je(y,...f)}function Ee(y,...f){return je(y,...f)}function Ce(y,f,m){const E=Object.assign(Object.assign({},Ve()),{[f]:m});return new R.LL("auth","Firebase",E).create(f,{appName:y.name})}function $e(y,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Ie(y,"argument-error"),Ce(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function je(y,...f){if("string"!=typeof y){const m=f[0],E=[...f.slice(1)];return E[0]&&(E[0].appName=y.name),y._errorFactory.create(m,...E)}return he.create(y,...f)}function j(y,f,...m){if(!y)throw je(f,...m)}function ve(y){const f="INTERNAL ASSERTION FAILED: "+y;throw Ye(f),new Error(f)}function W(y,f){y||ve(f)}const ie=new Map;function ee(y){W(y instanceof Function,"Expected a class definition");let f=ie.get(y);return f?(W(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,ie.set(y,f),f)}function Ne(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function lt(){return"http:"===qt()||"https:"===qt()}function qt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Xt{constructor(f,m){this.shortDelay=f,this.longDelay=m,W(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,R.uI)()||(0,R.b$)()}get(){return function jt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(lt()||(0,R.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Pn(y,f){W(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class rn{static initialize(f,m,E){this.fetchImpl=f,m&&(this.headersImpl=m),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ve("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ve("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ve("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Qt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Tr=new Xt(3e4,6e4);function Wt(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function Vt(y,f,m,E){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,u.Z)(function*(y,f,m,E,A={}){return Qr(y,A,(0,u.Z)(function*(){let O={},z={};E&&("GET"===f?z=E:O={body:JSON.stringify(E)});const fe=(0,R.xO)(Object.assign({key:y.config.apiKey},z)).slice(1),Le=yield y._getAdditionalHeaders();return Le["Content-Type"]="application/json",y.languageCode&&(Le["X-Firebase-Locale"]=y.languageCode),rn.fetch()(vs(y,y.config.apiHost,m,fe),Object.assign({method:f,headers:Le,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function Qr(y,f,m){return pr.apply(this,arguments)}function pr(){return(pr=(0,u.Z)(function*(y,f,m){y._canInitEmulator=!1;const E=Object.assign(Object.assign({},Qt),f);try{const A=new Jr(y),O=yield Promise.race([m(),A.promise]);A.clearNetworkTimeout();const z=yield O.json();if("needConfirmation"in z)throw Si(y,"account-exists-with-different-credential",z);if(O.ok&&!("errorMessage"in z))return z;{const fe=O.ok?z.errorMessage:z.error.message,[Le,We]=fe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Le)throw Si(y,"credential-already-in-use",z);if("EMAIL_EXISTS"===Le)throw Si(y,"email-already-in-use",z);const vt=E[Le]||Le.toLowerCase().replace(/[_\s]+/g,"-");if(We)throw Ce(y,vt,We);Ie(y,vt)}}catch(A){if(A instanceof R.ZR)throw A;Ie(y,"network-request-failed")}})).apply(this,arguments)}function Dr(y,f,m,E){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,u.Z)(function*(y,f,m,E,A={}){const O=yield Vt(y,f,m,E,A);return"mfaPendingCredential"in O&&Ie(y,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function vs(y,f,m,E){const A=`${f}${m}?${E}`;return y.config.emulator?Pn(y.config,A):`${y.config.apiScheme}://${A}`}class Jr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,E)=>{this.timer=setTimeout(()=>E(Ee(this.auth,"network-request-failed")),Tr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Si(y,f,m){const E={appName:y.name};m.email&&(E.email=m.email),m.phoneNumber&&(E.phoneNumber=m.phoneNumber);const A=Ee(y,f,E);return A.customData._tokenResponse=m,A}function Xr(){return(Xr=(0,u.Z)(function*(y,f){return Vt(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function In(y,f){return On.apply(this,arguments)}function On(){return(On=(0,u.Z)(function*(y,f){return Vt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ks(y,f){return ei.apply(this,arguments)}function ei(){return(ei=(0,u.Z)(function*(y,f){return Vt(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Wn(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function Po(){return(Po=(0,u.Z)(function*(y,f=!1){const m=(0,R.m9)(y),E=yield m.getIdToken(f),A=it(E);j(A&&A.exp&&A.auth_time&&A.iat,m.auth,"internal-error");const O="object"==typeof A.firebase?A.firebase:void 0,z=null==O?void 0:O.sign_in_provider;return{claims:A,token:E,authTime:Wn(Zt(A.auth_time)),issuedAtTime:Wn(Zt(A.iat)),expirationTime:Wn(Zt(A.exp)),signInProvider:z||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function Zt(y){return 1e3*Number(y)}function it(y){const[f,m,E]=y.split(".");if(void 0===f||void 0===m||void 0===E)return Ye("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,R.tV)(m);return A?JSON.parse(A):(Ye("Failed to decode base64 JWT payload"),null)}catch(A){return Ye("Caught error parsing JWT payload as JSON",A),null}}function gr(y,f){return ti.apply(this,arguments)}function ti(){return(ti=(0,u.Z)(function*(y,f,m=!1){if(m)return f;try{return yield f}catch(E){throw E instanceof R.ZR&&$t(E)&&y.auth.currentUser===y&&(yield y.auth.signOut()),E}})).apply(this,arguments)}function $t({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Ys{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const A=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const E=this.getInterval(f);this.timerId=setTimeout((0,u.Z)(function*(){yield m.iteration()}),E)}iteration(){var f=this;return(0,u.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&f.schedule(!0))}f.schedule()})()}}class mr{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wn(this.lastLoginAt),this.creationTime=Wn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function yr(y){return U.apply(this,arguments)}function U(){return(U=(0,u.Z)(function*(y){var f;const m=y.auth,E=yield y.getIdToken(),A=yield gr(y,Ks(m,{idToken:E}));j(null==A?void 0:A.users.length,m,"internal-error");const O=A.users[0];y._notifyReloadListener(O);const z=(null===(f=O.providerUserInfo)||void 0===f?void 0:f.length)?H(O.providerUserInfo):[],fe=Te(y.providerData,z),vt=!!y.isAnonymous&&!(y.email&&O.passwordHash||(null==fe?void 0:fe.length)),dt={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:fe,metadata:new mr(O.createdAt,O.lastLoginAt),isAnonymous:vt};Object.assign(y,dt)})).apply(this,arguments)}function Z(){return(Z=(0,u.Z)(function*(y){const f=(0,R.m9)(y);yield yr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Te(y,f){return[...y.filter(E=>!f.some(A=>A.providerId===E.providerId)),...f]}function H(y){return y.map(f=>{var{providerId:m}=f,E=(0,re._T)(f,["providerId"]);return{providerId:m,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Pe(){return(Pe=(0,u.Z)(function*(y,f){const m=yield Qr(y,{},(0,u.Z)(function*(){const E=(0,R.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:A,apiKey:O}=y.config,z=vs(y,A,"/v1/token",`key=${O}`),fe=yield y._getAdditionalHeaders();return fe["Content-Type"]="application/x-www-form-urlencoded",rn.fetch()(z,{method:"POST",headers:fe,body:E})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Je{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){j(f.idToken,"internal-error"),j(void 0!==f.idToken,"internal-error"),j(void 0!==f.refreshToken,"internal-error");const m="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function Et(y){const f=it(y);return j(f,"internal-error"),j(void 0!==f.exp,"internal-error"),j(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var E=this;return(0,u.Z)(function*(){return j(!E.accessToken||E.refreshToken,f,"user-token-expired"),m||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(f,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var E=this;return(0,u.Z)(function*(){const{accessToken:A,refreshToken:O,expiresIn:z}=yield function J(y,f){return Pe.apply(this,arguments)}(f,m);E.updateTokensAndExpiration(A,O,Number(z))})()}updateTokensAndExpiration(f,m,E){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(f,m){const{refreshToken:E,accessToken:A,expirationTime:O}=m,z=new Je;return E&&(j("string"==typeof E,"internal-error",{appName:f}),z.refreshToken=E),A&&(j("string"==typeof A,"internal-error",{appName:f}),z.accessToken=A),O&&(j("number"==typeof O,"internal-error",{appName:f}),z.expirationTime=O),z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Je,this.toJSON())}_performRefresh(){return ve("not implemented")}}function ft(y,f){j("string"==typeof y||void 0===y,"internal-error",{appName:f})}class It{constructor(f){var{uid:m,auth:E,stsTokenManager:A}=f,O=(0,re._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ys(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=E,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new mr(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,u.Z)(function*(){const E=yield gr(m,m.stsTokenManager.getToken(m.auth,f));return j(E,m.auth,"internal-error"),m.accessToken!==E&&(m.accessToken=E,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),E})()}getIdTokenResult(f){return function Ei(y){return Po.apply(this,arguments)}(this,f)}reload(){return function q(y){return Z.apply(this,arguments)}(this)}_assign(f){this!==f&&(j(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new It(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var E=this;return(0,u.Z)(function*(){let A=!1;f.idToken&&f.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(f),A=!0),m&&(yield yr(E)),yield E.auth._persistUserIfCurrent(E),A&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var f=this;return(0,u.Z)(function*(){const m=yield f.getIdToken();return yield gr(f,function _t(y,f){return Xr.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var E,A,O,z,fe,Le,We,vt;const dt=null!==(E=m.displayName)&&void 0!==E?E:void 0,Mn=null!==(A=m.email)&&void 0!==A?A:void 0,pi=null!==(O=m.phoneNumber)&&void 0!==O?O:void 0,Yl=null!==(z=m.photoURL)&&void 0!==z?z:void 0,s_=null!==(fe=m.tenantId)&&void 0!==fe?fe:void 0,aa=null!==(Le=m._redirectEventId)&&void 0!==Le?Le:void 0,Ld=null!==(We=m.createdAt)&&void 0!==We?We:void 0,Ud=null!==(vt=m.lastLoginAt)&&void 0!==vt?vt:void 0,{uid:wf,emailVerified:Vd,isAnonymous:wr,providerData:bf,stsTokenManager:Cf}=m;j(wf&&Cf,f,"internal-error");const Gr=Je.fromJSON(this.name,Cf);j("string"==typeof wf,f,"internal-error"),ft(dt,f.name),ft(Mn,f.name),j("boolean"==typeof Vd,f,"internal-error"),j("boolean"==typeof wr,f,"internal-error"),ft(pi,f.name),ft(Yl,f.name),ft(s_,f.name),ft(aa,f.name),ft(Ld,f.name),ft(Ud,f.name);const tu=new It({uid:wf,auth:f,email:Mn,emailVerified:Vd,displayName:dt,isAnonymous:wr,photoURL:Yl,phoneNumber:pi,tenantId:s_,stsTokenManager:Gr,createdAt:Ld,lastLoginAt:Ud});return bf&&Array.isArray(bf)&&(tu.providerData=bf.map(el=>Object.assign({},el))),aa&&(tu._redirectEventId=aa),tu}static _fromIdTokenResponse(f,m,E=!1){return(0,u.Z)(function*(){const A=new Je;A.updateFromServerResponse(m);const O=new It({uid:m.localId,auth:f,stsTokenManager:A,isAnonymous:E});return yield yr(O),O})()}}const wt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(m,E){var A=this;return(0,u.Z)(function*(){A.storage[m]=E})()}_get(m){var E=this;return(0,u.Z)(function*(){const A=E.storage[m];return void 0===A?null:A})()}_remove(m){var E=this;return(0,u.Z)(function*(){delete E.storage[m]})()}_addListener(m,E){}_removeListener(m,E){}}return y.type="NONE",y})();function qn(y,f,m){return`firebase:${y}:${f}:${m}`}class Ir{constructor(f,m,E){this.persistence=f,this.auth=m,this.userKey=E;const{config:A,name:O}=this.auth;this.fullUserKey=qn(this.userKey,A.apiKey,O),this.fullPersistenceKey=qn("persistence",A.apiKey,O),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,u.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?It._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,u.Z)(function*(){if(m.persistence===f)return;const E=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,E?m.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,E="authUser"){return(0,u.Z)(function*(){if(!m.length)return new Ir(ee(wt),f,E);const A=(yield Promise.all(m.map(function(){var We=(0,u.Z)(function*(vt){if(yield vt._isAvailable())return vt});return function(vt){return We.apply(this,arguments)}}()))).filter(We=>We);let O=A[0]||ee(wt);const z=qn(E,f.config.apiKey,f.name);let fe=null;for(const We of m)try{const vt=yield We._get(z);if(vt){const dt=It._fromJSON(f,vt);We!==O&&(fe=dt),O=We;break}}catch(vt){}const Le=A.filter(We=>We._shouldAllowMigration);return O._shouldAllowMigration&&Le.length?(O=Le[0],fe&&(yield O._set(z,fe.toJSON())),yield Promise.all(m.map(function(){var We=(0,u.Z)(function*(vt){if(vt!==O)try{yield vt._remove(z)}catch(dt){}});return function(vt){return We.apply(this,arguments)}}())),new Ir(O,f,E)):new Ir(O,f,E)})()}}function Eu(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Zn(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(ba(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Ki(f))return"Blackberry";if(Gn(f))return"Webos";if(wu(f))return"Safari";if((f.includes("chrome/")||Ca(f))&&!f.includes("edge/"))return"Chrome";if(Ar(f))return"Android";{const E=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function ba(y=(0,R.z$)()){return/firefox\//i.test(y)}function wu(y=(0,R.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Ca(y=(0,R.z$)()){return/crios\//i.test(y)}function Zn(y=(0,R.z$)()){return/iemobile/i.test(y)}function Ar(y=(0,R.z$)()){return/android/i.test(y)}function Ki(y=(0,R.z$)()){return/blackberry/i.test(y)}function Gn(y=(0,R.z$)()){return/webos/i.test(y)}function Vr(y=(0,R.z$)()){return/iphone|ipad|ipod/i.test(y)}function Es(y=(0,R.z$)()){return Vr(y)||Ar(y)||Gn(y)||Ki(y)||/windows phone/i.test(y)||Zn(y)}function Oo(y,f=[]){let m;switch(y){case"Browser":m=Eu((0,R.z$)());break;case"Worker":m=`${Eu((0,R.z$)())}-${y}`;break;default:m=y}const E=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${ae.SDK_VERSION}/${E}`}class Br{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const E=O=>new Promise((z,fe)=>{try{z(f(O))}catch(Le){fe(Le)}});E.onAbort=m,this.queue.push(E);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,u.Z)(function*(){if(m.auth.currentUser===f)return;const E=[];try{for(const A of m.queue)yield A(f),A.onAbort&&E.push(A.onAbort)}catch(A){E.reverse();for(const O of E)try{O()}catch(z){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:A.message})}})()}}class ze{constructor(f,m,E){this.app=f,this.heartbeatServiceProvider=m,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new en(this),this.idTokenSubscription=new en(this),this.beforeStateQueue=new Br(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=he,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(f,m){var E=this;return m&&(this._popupRedirectResolver=ee(m)),this._initializationPromise=this.queue((0,u.Z)(function*(){var A,O;if(!E._deleted&&(E.persistenceManager=yield Ir.create(E,f),!E._deleted)){if(null===(A=E._popupRedirectResolver)||void 0===A?void 0:A._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch(z){}yield E.initializeCurrentUser(m),E.lastNotifiedUid=(null===(O=E.currentUser)||void 0===O?void 0:O.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,u.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,u.Z)(function*(){var E;const A=yield m.assertedPersistence.getCurrentUser();let O=A,z=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const fe=null===(E=m.redirectUser)||void 0===E?void 0:E._redirectEventId,Le=null==O?void 0:O._redirectEventId,We=yield m.tryRedirectSignIn(f);(!fe||fe===Le)&&(null==We?void 0:We.user)&&(O=We.user,z=!0)}if(!O)return m.directlySetCurrentUser(null);if(!O._redirectEventId){if(z)try{yield m.beforeStateQueue.runMiddleware(O)}catch(fe){O=A,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(fe))}return O?m.reloadAndSetCurrentUserOrClear(O):m.directlySetCurrentUser(null)}return j(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===O._redirectEventId?m.directlySetCurrentUser(O):m.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(f){var m=this;return(0,u.Z)(function*(){let E=null;try{E=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch(A){yield m._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,u.Z)(function*(){try{yield yr(f)}catch(E){if("auth/network-request-failed"!==E.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Qe(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,u.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,u.Z)(function*(){const E=f?(0,R.m9)(f):null;return E&&j(E.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(E&&E._clone(m))})()}_updateCurrentUser(f,m=!1){var E=this;return(0,u.Z)(function*(){if(!E._deleted)return f&&j(E.tenantId===f.tenantId,E,"tenant-id-mismatch"),m||(yield E.beforeStateQueue.runMiddleware(f)),E.queue((0,u.Z)(function*(){yield E.directlySetCurrentUser(f),E.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,u.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,u.Z)(function*(){yield m.assertedPersistence.setPersistence(ee(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new R.LL("auth","Firebase",f())}onAuthStateChanged(f,m,E){return this.registerStateListener(this.authStateSubscription,f,m,E)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,E){return this.registerStateListener(this.idTokenSubscription,f,m,E)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var E=this;return(0,u.Z)(function*(){const A=yield E.getOrInitRedirectPersistenceManager(m);return null===f?A.removeCurrentUser():A.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,u.Z)(function*(){if(!m.redirectPersistenceManager){const E=f&&ee(f)||m._popupRedirectResolver;j(E,m,"argument-error"),m.redirectPersistenceManager=yield Ir.create(m,[ee(E._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,u.Z)(function*(){var E,A;return m._isInitialized&&(yield m.queue((0,u.Z)(function*(){}))),(null===(E=m._currentUser)||void 0===E?void 0:E._redirectEventId)===f?m._currentUser:(null===(A=m.redirectUser)||void 0===A?void 0:A._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,u.Z)(function*(){if(f===m.currentUser)return m.queue((0,u.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,E,A){if(this._deleted)return()=>{};const O="function"==typeof m?m:m.next.bind(m),z=this._isInitialized?Promise.resolve():this._initializationPromise;return j(z,this,"internal-error"),z.then(()=>O(this.currentUser)),"function"==typeof m?f.addObserver(m,E,A):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,u.Z)(function*(){m.currentUser&&m.currentUser!==f&&(m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh()),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Oo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,u.Z)(function*(){var m;const E={"X-Client-Version":f.clientVersion};f.app.options.appId&&(E["X-Firebase-gmpid"]=f.app.options.appId);const A=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return A&&(E["X-Firebase-Client"]=A),E})()}}function at(y){return(0,R.m9)(y)}class en{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,R.ne)(m=>this.observer=m)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Mi(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function xi(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class wi{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return ve("not implemented")}_getIdTokenResponse(f){return ve("not implemented")}_linkToIdToken(f,m){return ve("not implemented")}_getReauthenticationResolver(f){return ve("not implemented")}}function Nn(y,f){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,u.Z)(function*(y,f){return Vt(y,"POST","/v1/accounts:resetPassword",Wt(y,f))})).apply(this,arguments)}function Da(y,f){return ws.apply(this,arguments)}function ws(){return(ws=(0,u.Z)(function*(y,f){return Vt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function bu(y,f){return bs.apply(this,arguments)}function bs(){return(bs=(0,u.Z)(function*(y,f){return Vt(y,"POST","/v1/accounts:update",Wt(y,f))})).apply(this,arguments)}function Js(){return(Js=(0,u.Z)(function*(y,f){return Dr(y,"POST","/v1/accounts:signInWithPassword",Wt(y,f))})).apply(this,arguments)}function Cs(y,f){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,u.Z)(function*(y,f){return Vt(y,"POST","/v1/accounts:sendOobCode",Wt(y,f))})).apply(this,arguments)}function sn(y,f){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,u.Z)(function*(y,f){return Cs(y,f)})).apply(this,arguments)}function Ia(y,f){return $r.apply(this,arguments)}function $r(){return($r=(0,u.Z)(function*(y,f){return Cs(y,f)})).apply(this,arguments)}function Pi(y,f){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,u.Z)(function*(y,f){return Cs(y,f)})).apply(this,arguments)}function td(y,f){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,u.Z)(function*(y,f){return Cs(y,f)})).apply(this,arguments)}function bl(){return(bl=(0,u.Z)(function*(y,f){return Dr(y,"POST","/v1/accounts:signInWithEmailLink",Wt(y,f))})).apply(this,arguments)}function nd(){return(nd=(0,u.Z)(function*(y,f){return Dr(y,"POST","/v1/accounts:signInWithEmailLink",Wt(y,f))})).apply(this,arguments)}class _r extends wi{constructor(f,m,E,A=null){super("password",E),this._email=f,this._password=m,this._tenantId=A}static _fromEmailAndPassword(f,m){return new _r(f,m,"password")}static _fromEmailAndCode(f,m,E=null){return new _r(f,m,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,u.Z)(function*(){switch(m.signInMethod){case"password":return function gn(y,f){return Js.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Ni(y,f){return bl.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Ie(f,"internal-error")}})()}_linkToIdToken(f,m){var E=this;return(0,u.Z)(function*(){switch(E.signInMethod){case"password":return Da(f,{idToken:m,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function ug(y,f){return nd.apply(this,arguments)}(f,{idToken:m,email:E._email,oobCode:E._password});default:Ie(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Ts(y,f){return rd.apply(this,arguments)}function rd(){return(rd=(0,u.Z)(function*(y,f){return Dr(y,"POST","/v1/accounts:signInWithIdp",Wt(y,f))})).apply(this,arguments)}class Yi extends wi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new Yi(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Ie("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:A}=m,O=(0,re._T)(m,["providerId","signInMethod"]);if(!E||!A)return null;const z=new Yi(E,A);return z.idToken=O.idToken||void 0,z.accessToken=O.accessToken||void 0,z.secret=O.secret,z.nonce=O.nonce,z.pendingToken=O.pendingToken||null,z}_getIdTokenResponse(f){return Ts(f,this.buildRequest())}_linkToIdToken(f,m){const E=this.buildRequest();return E.idToken=m,Ts(f,E)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Ts(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,R.xO)(m)}return f}}function Qi(y,f){return id.apply(this,arguments)}function id(){return(id=(0,u.Z)(function*(y,f){return Vt(y,"POST","/v1/accounts:sendVerificationCode",Wt(y,f))})).apply(this,arguments)}function Ds(){return(Ds=(0,u.Z)(function*(y,f){return Dr(y,"POST","/v1/accounts:signInWithPhoneNumber",Wt(y,f))})).apply(this,arguments)}function sd(){return(sd=(0,u.Z)(function*(y,f){const m=yield Dr(y,"POST","/v1/accounts:signInWithPhoneNumber",Wt(y,f));if(m.temporaryProof)throw Si(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const dg={USER_NOT_FOUND:"user-not-found"};function od(){return(od=(0,u.Z)(function*(y,f){return Dr(y,"POST","/v1/accounts:signInWithPhoneNumber",Wt(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),dg)})).apply(this,arguments)}class No extends wi{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new No({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new No({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function Cl(y,f){return Ds.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function cg(y,f){return sd.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function hg(y,f){return od.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:E,verificationCode:A}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:E,code:A}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:E,phoneNumber:A,temporaryProof:O}=f;return E||m||A||O?new No({verificationId:m,verificationCode:E,phoneNumber:A,temporaryProof:O}):null}}class Du{constructor(f){var m,E,A,O,z,fe;const Le=(0,R.zd)((0,R.pd)(f)),We=null!==(m=Le.apiKey)&&void 0!==m?m:null,vt=null!==(E=Le.oobCode)&&void 0!==E?E:null,dt=function Yh(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Le.mode)&&void 0!==A?A:null);j(We&&vt&&dt,"argument-error"),this.apiKey=We,this.operation=dt,this.code=vt,this.continueUrl=null!==(O=Le.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(z=Le.languageCode)&&void 0!==z?z:null,this.tenantId=null!==(fe=Le.tenantId)&&void 0!==fe?fe:null}static parseLink(f){const m=function Aa(y){const f=(0,R.zd)((0,R.pd)(y)).link,m=f?(0,R.zd)((0,R.pd)(f)).deep_link_id:null,E=(0,R.zd)((0,R.pd)(y)).deep_link_id;return(E?(0,R.zd)((0,R.pd)(E)).link:null)||E||m||f||y}(f);try{return new Du(m)}catch(E){return null}}}let ud=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,E){return _r._fromEmailAndPassword(m,E)}static credentialWithLink(m,E){const A=Du.parseLink(E);return j(A,"argument-error"),_r._fromEmailAndCode(m,A.code,A.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class vr{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Xs extends vr{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Ri extends Xs{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return j("providerId"in m&&"signInMethod"in m,"argument-error"),Yi._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return j(f.idToken||f.accessToken,"argument-error"),Yi._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Ri.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Ri.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:E,oauthTokenSecret:A,pendingToken:O,nonce:z,providerId:fe}=f;if(!E&&!A&&!m&&!O||!fe)return null;try{return new Ri(fe)._credential({idToken:m,accessToken:E,nonce:z,pendingToken:O})}catch(Le){return null}}}let Ro=(()=>{class y extends Xs{constructor(){super("facebook.com")}static credential(m){return Yi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(E){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),ld=(()=>{class y extends Xs{constructor(){super("google.com"),this.addScope("profile")}static credential(m,E){return Yi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:E})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:E,oauthAccessToken:A}=m;if(!E&&!A)return null;try{return y.credential(E,A)}catch(O){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Qh=(()=>{class y extends Xs{constructor(){super("github.com")}static credential(m){return Yi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(E){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class eo extends wi{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return Ts(f,this.buildRequest())}_linkToIdToken(f,m){const E=this.buildRequest();return E.idToken=m,Ts(f,E)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Ts(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:A,pendingToken:O}=m;return E&&A&&O&&E===A?new eo(E,O):null}static _create(f,m){return new eo(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Sr extends vr{constructor(f){j(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Sr.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Sr.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=eo.fromJSON(f);return j(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:E}=f;if(!m||!E)return null;try{return eo._create(E,m)}catch(A){return null}}}let cd=(()=>{class y extends Xs{constructor(){super("twitter.com")}static credential(m,E){return Yi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:E})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:E,oauthTokenSecret:A}=m;if(!E||!A)return null;try{return y.credential(E,A)}catch(O){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Mr(y,f){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,u.Z)(function*(y,f){return Dr(y,"POST","/v1/accounts:signUp",Wt(y,f))})).apply(this,arguments)}class ni{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,E,A=!1){return(0,u.Z)(function*(){const O=yield It._fromIdTokenResponse(f,E,A),z=Tl(E);return new ni({user:O,providerId:z,_tokenResponse:E,operationType:m})})()}static _forOperation(f,m,E){return(0,u.Z)(function*(){yield f._updateTokensIfNecessary(E,!0);const A=Tl(E);return new ni({user:f,providerId:A,_tokenResponse:E,operationType:m})})()}}function Tl(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Dl(){return(Dl=(0,u.Z)(function*(y){var f;const m=at(y);if(yield m._initializationPromise,null===(f=m.currentUser)||void 0===f?void 0:f.isAnonymous)return new ni({user:m.currentUser,providerId:null,operationType:"signIn"});const E=yield Mr(m,{returnSecureToken:!0}),A=yield ni._fromIdTokenResponse(m,"signIn",E,!0);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class Lo extends R.ZR{constructor(f,m,E,A){var O;super(m.code,m.message),this.operationType=E,this.user=A,Object.setPrototypeOf(this,Lo.prototype),this.customData={appName:f.name,tenantId:null!==(O=f.tenantId)&&void 0!==O?O:void 0,_serverResponse:m.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(f,m,E,A){return new Lo(f,m,E,A)}}function Il(y,f,m,E){return("reauthenticate"===f?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?Lo._fromErrorAndOperation(y,O,f,E):O})}function ki(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function on(){return(on=(0,u.Z)(function*(y,f){const m=(0,R.m9)(y);yield Jt(!0,m,f);const{providerUserInfo:E}=yield In(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),A=ki(E||[]);return m.providerData=m.providerData.filter(O=>A.has(O.providerId)),A.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Sa(y,f){return to.apply(this,arguments)}function to(){return(to=(0,u.Z)(function*(y,f,m=!1){const E=yield gr(y,f._linkToIdToken(y.auth,yield y.getIdToken()),m);return ni._forOperation(y,"link",E)})).apply(this,arguments)}function Jt(y,f,m){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,u.Z)(function*(y,f,m){yield yr(f);const A=!1===y?"provider-already-linked":"no-such-provider";j(ki(f.providerData).has(m)===y,f.auth,A)})).apply(this,arguments)}function Iu(y,f){return Is.apply(this,arguments)}function Is(){return(Is=(0,u.Z)(function*(y,f,m=!1){const{auth:E}=y,A="reauthenticate";try{const O=yield gr(y,Il(E,A,f,y),m);j(O.idToken,E,"internal-error");const z=it(O.idToken);j(z,E,"internal-error");const{sub:fe}=z;return j(y.uid===fe,E,"user-mismatch"),ni._forOperation(y,A,O)}catch(O){throw"auth/user-not-found"===(null==O?void 0:O.code)&&Ie(E,"user-mismatch"),O}})).apply(this,arguments)}function or(y,f){return Al.apply(this,arguments)}function Al(){return(Al=(0,u.Z)(function*(y,f,m=!1){const E="signIn",A=yield Il(y,E,f),O=yield ni._fromIdTokenResponse(y,E,A);return m||(yield y._updateCurrentUser(O.user)),O})).apply(this,arguments)}function En(y,f){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,u.Z)(function*(y,f){return or(at(y),f)})).apply(this,arguments)}function ar(y,f){return no.apply(this,arguments)}function no(){return(no=(0,u.Z)(function*(y,f){const m=(0,R.m9)(y);return yield Jt(!1,m,f.providerId),Sa(m,f)})).apply(this,arguments)}function Ji(y,f){return xa.apply(this,arguments)}function xa(){return(xa=(0,u.Z)(function*(y,f){return Iu((0,R.m9)(y),f)})).apply(this,arguments)}function bi(y,f){return Li.apply(this,arguments)}function Li(){return(Li=(0,u.Z)(function*(y,f){return Dr(y,"POST","/v1/accounts:signInWithCustomToken",Wt(y,f))})).apply(this,arguments)}function pt(){return(pt=(0,u.Z)(function*(y,f){const m=at(y),E=yield bi(m,{token:f,returnSecureToken:!0}),A=yield ni._fromIdTokenResponse(m,"signIn",E);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class Vo{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?Au._fromServerResponse(f,m):Ie(f,"internal-error")}}class Au extends Vo{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new Au(m)}}function Pa(y,f,m){var E;j((null===(E=m.url)||void 0===E?void 0:E.length)>0,y,"invalid-continue-uri"),j(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(j(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(j(m.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function Oa(){return(Oa=(0,u.Z)(function*(y,f,m){const E=(0,R.m9)(y),A={requestType:"PASSWORD_RESET",email:f};m&&Pa(E,A,m),yield Ia(E,A)})).apply(this,arguments)}function xl(){return(xl=(0,u.Z)(function*(y,f,m){yield Nn((0,R.m9)(y),{oobCode:f,newPassword:m})})).apply(this,arguments)}function Lt(){return(Lt=(0,u.Z)(function*(y,f){yield bu((0,R.m9)(y),{oobCode:f})})).apply(this,arguments)}function Su(y,f){return pn.apply(this,arguments)}function pn(){return(pn=(0,u.Z)(function*(y,f){const m=(0,R.m9)(y),E=yield Nn(m,{oobCode:f}),A=E.requestType;switch(j(A,m,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":j(E.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":j(E.mfaInfo,m,"internal-error");default:j(E.email,m,"internal-error")}let O=null;return E.mfaInfo&&(O=Vo._fromServerResponse(at(m),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:O},operation:A}})).apply(this,arguments)}function ro(){return(ro=(0,u.Z)(function*(y,f){const{data:m}=yield Su((0,R.m9)(y),f);return m.email})).apply(this,arguments)}function Na(){return(Na=(0,u.Z)(function*(y,f,m){const E=at(y),A=yield Mr(E,{returnSecureToken:!0,email:f,password:m}),O=yield ni._fromIdTokenResponse(E,"signIn",A);return yield E._updateCurrentUser(O.user),O})).apply(this,arguments)}function Mu(){return(Mu=(0,u.Z)(function*(y,f,m){const E=(0,R.m9)(y),A={requestType:"EMAIL_SIGNIN",email:f};j(m.handleCodeInApp,E,"argument-error"),m&&Pa(E,A,m),yield Pi(E,A)})).apply(this,arguments)}function Rn(){return(Rn=(0,u.Z)(function*(y,f,m){const E=(0,R.m9)(y),A=ud.credentialWithLink(f,m||Ne());return j(A._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),En(E,A)})).apply(this,arguments)}function Xi(y,f){return ka.apply(this,arguments)}function ka(){return(ka=(0,u.Z)(function*(y,f){return Vt(y,"POST","/v1/accounts:createAuthUri",Wt(y,f))})).apply(this,arguments)}function Ci(){return(Ci=(0,u.Z)(function*(y,f){const E={identifier:f,continueUri:lt()?Ne():"http://localhost"},{signinMethods:A}=yield Xi((0,R.m9)(y),E);return A||[]})).apply(this,arguments)}function Pu(){return(Pu=(0,u.Z)(function*(y,f){const m=(0,R.m9)(y),A={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&Pa(m.auth,A,f);const{email:O}=yield sn(m.auth,A);O!==y.email&&(yield y.reload())})).apply(this,arguments)}function Ou(){return(Ou=(0,u.Z)(function*(y,f,m){const E=(0,R.m9)(y),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};m&&Pa(E.auth,O,m);const{email:z}=yield td(E.auth,O);z!==y.email&&(yield y.reload())})).apply(this,arguments)}function Fa(y,f){return jo.apply(this,arguments)}function jo(){return(jo=(0,u.Z)(function*(y,f){return Vt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function La(){return(La=(0,u.Z)(function*(y,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const E=(0,R.m9)(y),O={idToken:yield E.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},z=yield gr(E,Fa(E.auth,O));E.displayName=z.displayName||null,E.photoURL=z.photoUrl||null;const fe=E.providerData.find(({providerId:Le})=>"password"===Le);fe&&(fe.displayName=E.displayName,fe.photoURL=E.photoURL),yield E._updateTokensIfNecessary(z)})).apply(this,arguments)}function $o(y,f,m){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,u.Z)(function*(y,f,m){const{auth:E}=y,O={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(O.email=f),m&&(O.password=m);const z=yield gr(y,Da(E,O));yield y._updateTokensIfNecessary(z,!0)})).apply(this,arguments)}class Ho{constructor(f,m,E={}){this.isNewUser=f,this.providerId=m,this.profile=E}}class fd extends Ho{constructor(f,m,E,A){super(f,m,E),this.username=A}}class qo extends Ho{constructor(f,m){super(f,"facebook.com",m)}}class Ui extends fd{constructor(f,m){super(f,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Xh extends Ho{constructor(f,m){super(f,"google.com",m)}}class Kn extends fd{constructor(f,m,E){super(f,"twitter.com",m,E)}}function Vi(y){const{user:f,_tokenResponse:m}=y;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function hd(y){var f,m;if(!y)return null;const{providerId:E}=y,A=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},O=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!E&&(null==y?void 0:y.idToken)){const z=null===(m=null===(f=it(y.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(z)return new Ho(O,"anonymous"!==z&&"custom"!==z?z:null)}if(!E)return null;switch(E){case"facebook.com":return new qo(O,A);case"github.com":return new Ui(O,A);case"google.com":return new Xh(O,A);case"twitter.com":return new Kn(O,A,y.screenName||null);case"custom":case"anonymous":return new Ho(O,null);default:return new Ho(O,E,A)}}(m)}class es{constructor(f,m){this.type=f,this.credential=m}static _fromIdtoken(f){return new es("enroll",f)}static _fromMfaPendingCredential(f){return new es("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,E;if(null==f?void 0:f.multiFactorSession){if(null===(m=f.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return es._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(E=f.multiFactorSession)||void 0===E?void 0:E.idToken)return es._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Zo{constructor(f,m,E){this.session=f,this.hints=m,this.signInResolver=E}static _fromError(f,m){const E=at(f),A=m.customData._serverResponse,O=(A.mfaInfo||[]).map(fe=>Vo._fromServerResponse(E,fe));j(A.mfaPendingCredential,E,"internal-error");const z=es._fromMfaPendingCredential(A.mfaPendingCredential);return new Zo(z,O,function(){var fe=(0,u.Z)(function*(Le){const We=yield Le._process(E,z);delete A.mfaInfo,delete A.mfaPendingCredential;const vt=Object.assign(Object.assign({},A),{idToken:We.idToken,refreshToken:We.refreshToken});switch(m.operationType){case"signIn":const dt=yield ni._fromIdTokenResponse(E,m.operationType,vt);return yield E._updateCurrentUser(dt.user),dt;case"reauthenticate":return j(m.user,E,"internal-error"),ni._forOperation(m.user,m.operationType,vt);default:Ie(E,"internal-error")}});return function(Le){return fe.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,u.Z)(function*(){return m.signInResolver(f)})()}}function tf(y,f){return Vt(y,"POST","/v2/accounts/mfaEnrollment:start",Wt(y,f))}class md{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(E=>Vo._fromServerResponse(f.auth,E)))})}static _fromUser(f){return new md(f)}getSession(){var f=this;return(0,u.Z)(function*(){return es._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,m){var E=this;return(0,u.Z)(function*(){const A=f,O=yield E.getSession(),z=yield gr(E.user,A._process(E.user.auth,O,m));return yield E.user._updateTokensIfNecessary(z),E.user.reload()})()}unenroll(f){var m=this;return(0,u.Z)(function*(){const E="string"==typeof f?f:f.uid,A=yield m.user.getIdToken(),O=yield gr(m.user,function Nu(y,f){return Vt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Wt(y,f))}(m.user.auth,{idToken:A,mfaEnrollmentId:E}));m.enrolledFactors=m.enrolledFactors.filter(({uid:z})=>z!==E),yield m.user._updateTokensIfNecessary(O);try{yield m.user.reload()}catch(z){if("auth/user-token-expired"!==z.code)throw z}})()}}const Ru=new WeakMap,so="__sak";class yd{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(so,"1"),this.storage.removeItem(so),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const ii=(()=>{class y extends yd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,E)=>this.onStorageEvent(m,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function mg(){const y=(0,R.z$)();return wu(y)||Vr(y)}()&&function sr(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Es(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const E of Object.keys(this.listeners)){const A=this.storage.getItem(E),O=this.localCache[E];A!==O&&m(E,O,A)}}onStorageEvent(m,E=!1){if(!m.key)return void this.forAllChangedKeys((fe,Le,We)=>{this.notifyListeners(fe,We)});const A=m.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const fe=this.storage.getItem(A);if(m.newValue!==fe)null!==m.newValue?this.storage.setItem(A,m.newValue):this.storage.removeItem(A);else if(this.localCache[A]===m.newValue&&!E)return}const O=()=>{const fe=this.storage.getItem(A);!E&&this.localCache[A]===fe||this.notifyListeners(A,fe)},z=this.storage.getItem(A);!function Ta(){return(0,R.w1)()&&10===document.documentMode}()||z===m.newValue||m.newValue===m.oldValue?O():setTimeout(O,10)}notifyListeners(m,E){this.localCache[m]=E;const A=this.listeners[m];if(A)for(const O of Array.from(A))O(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,E,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:E,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,E){var A=()=>super._set,O=this;return(0,u.Z)(function*(){yield A().call(O,m,E),O.localCache[m]=JSON.stringify(E)})()}_get(m){var E=()=>super._get,A=this;return(0,u.Z)(function*(){const O=yield E().call(A,m);return A.localCache[m]=JSON.stringify(O),O})()}_remove(m){var E=()=>super._remove,A=this;return(0,u.Z)(function*(){yield E().call(A,m),delete A.localCache[m]})()}}return y.type="LOCAL",y})(),jn=(()=>{class y extends yd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,E){}_removeListener(m,E){}}return y.type="SESSION",y})();let _d=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const E=this.receivers.find(O=>O.isListeningto(m));if(E)return E;const A=new y(m);return this.receivers.push(A),A}isListeningto(m){return this.eventTarget===m}handleEvent(m){var E=this;return(0,u.Z)(function*(){const A=m,{eventId:O,eventType:z,data:fe}=A.data,Le=E.handlersMap[z];if(!(null==Le?void 0:Le.size))return;A.ports[0].postMessage({status:"ack",eventId:O,eventType:z});const We=Array.from(Le).map(function(){var dt=(0,u.Z)(function*(Mn){return Mn(A.origin,fe)});return function(Mn){return dt.apply(this,arguments)}}()),vt=yield function Fl(y){return Promise.all(y.map(function(){var f=(0,u.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(E){return{fulfilled:!1,reason:E}}});return function(m){return f.apply(this,arguments)}}()))}(We);A.ports[0].postMessage({status:"done",eventId:O,eventType:z,response:vt})})()}_subscribe(m,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(E)}_unsubscribe(m,E){this.handlersMap[m]&&E&&this.handlersMap[m].delete(E),(!E||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Bi(y="",f=10){let m="";for(let E=0;E<f;E++)m+=Math.floor(10*Math.random());return y+m}class Ll{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,E=50){var A=this;return(0,u.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let z,fe;return new Promise((Le,We)=>{const vt=Bi("",20);O.port1.start();const dt=setTimeout(()=>{We(new Error("unsupported_event"))},E);fe={messageChannel:O,onMessage(Mn){const pi=Mn;if(pi.data.eventId===vt)switch(pi.data.status){case"ack":clearTimeout(dt),z=setTimeout(()=>{We(new Error("timeout"))},3e3);break;case"done":clearTimeout(z),Le(pi.data.response);break;default:clearTimeout(dt),clearTimeout(z),We(new Error("invalid_response"))}}},A.handlers.add(fe),O.port1.addEventListener("message",fe.onMessage),A.target.postMessage({eventType:f,eventId:vt,data:m},[O.port2])}).finally(()=>{fe&&A.removeMessageHandler(fe)})})()}}function ln(){return window}function Ti(){return void 0!==ln().WorkerGlobalScope&&"function"==typeof ln().importScripts}function Fu(){return(Fu=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Ul="firebaseLocalStorageDb",Go="firebaseLocalStorage",zo="fbase_key";class Ss{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function ur(y,f){return y.transaction([Go],f?"readwrite":"readonly").objectStore(Go)}function ji(){const y=indexedDB.open(Ul,1);return new Promise((f,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const E=y.result;try{E.createObjectStore(Go,{keyPath:zo})}catch(A){m(A)}}),y.addEventListener("success",(0,u.Z)(function*(){const E=y.result;E.objectStoreNames.contains(Go)?f(E):(E.close(),yield function Lu(){const y=indexedDB.deleteDatabase(Ul);return new Ss(y).toPromise()}(),f(yield ji()))}))})}function Wo(y,f,m){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,u.Z)(function*(y,f,m){const E=ur(y,!0).put({[zo]:f,value:m});return new Ss(E).toPromise()})).apply(this,arguments)}function oo(){return(oo=(0,u.Z)(function*(y,f){const m=ur(y,!1).get(f),E=yield new Ss(m).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Yo(y,f){const m=ur(y,!0).delete(f);return new Ss(m).toPromise()}const xs=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,u.Z)(function*(){return m.db||(m.db=yield ji()),m.db})()}_withRetries(m){var E=this;return(0,u.Z)(function*(){let A=0;for(;;)try{const O=yield E._openDb();return yield m(O)}catch(O){if(A++>3)throw O;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,u.Z)(function*(){return Ti()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,u.Z)(function*(){m.receiver=_d._getInstance(function Ed(){return Ti()?self:null}()),m.receiver._subscribe("keyChanged",function(){var E=(0,u.Z)(function*(A,O){return{keyProcessed:(yield m._poll()).includes(O.key)}});return function(A,O){return E.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var E=(0,u.Z)(function*(A,O){return["keyChanged"]});return function(A,O){return E.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,u.Z)(function*(){var E,A;if(m.activeServiceWorker=yield function ct(){return Fu.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Ll(m.activeServiceWorker);const O=yield m.sender._send("ping",{},800);!O||(null===(E=O[0])||void 0===E?void 0:E.fulfilled)&&(null===(A=O[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var E=this;return(0,u.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function vd(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:m},E.serviceWorkerReceiverAvailable?800:50)}catch(A){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const m=yield ji();return yield Wo(m,so,"1"),yield Yo(m,so),!0}catch(m){}return!1})()}_withPendingWrite(m){var E=this;return(0,u.Z)(function*(){E.pendingWrites++;try{yield m()}finally{E.pendingWrites--}})()}_set(m,E){var A=this;return(0,u.Z)(function*(){return A._withPendingWrite((0,u.Z)(function*(){return yield A._withRetries(O=>Wo(O,m,E)),A.localCache[m]=E,A.notifyServiceWorker(m)}))})()}_get(m){var E=this;return(0,u.Z)(function*(){const A=yield E._withRetries(O=>function Ko(y,f){return oo.apply(this,arguments)}(O,m));return E.localCache[m]=A,A})()}_remove(m){var E=this;return(0,u.Z)(function*(){return E._withPendingWrite((0,u.Z)(function*(){return yield E._withRetries(A=>Yo(A,m)),delete E.localCache[m],E.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,u.Z)(function*(){const E=yield m._withRetries(z=>{const fe=ur(z,!1).getAll();return new Ss(fe).toPromise()});if(!E)return[];if(0!==m.pendingWrites)return[];const A=[],O=new Set;for(const{fbase_key:z,value:fe}of E)O.add(z),JSON.stringify(m.localCache[z])!==JSON.stringify(fe)&&(m.notifyListeners(z,fe),A.push(z));for(const z of Object.keys(m.localCache))m.localCache[z]&&!O.has(z)&&(m.notifyListeners(z,null),A.push(z));return A})()}notifyListeners(m,E){this.localCache[m]=E;const A=this.listeners[m];if(A)for(const O of Array.from(A))O(E)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function lr(y,f){return Vt(y,"POST","/v2/accounts/mfaSignIn:start",Wt(y,f))}function mn(){return(mn=(0,u.Z)(function*(y){return(yield Vt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function $i(y){return new Promise((f,m)=>{const E=document.createElement("script");E.setAttribute("src",y),E.onload=f,E.onerror=A=>{const O=Ee("internal-error");O.customData=A,m(O)},E.type="text/javascript",E.charset="UTF-8",function Ps(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(E)})}function ts(y){return`__${y}${Math.floor(1e6*Math.random())}`}const si=1e12;class Sn{constructor(f){this.auth=f,this.counter=si,this._widgets=new Map}render(f,m){const E=this.counter;return this._widgets.set(E,new Vu(f,this.auth.name,m||{})),this.counter++,E}reset(f){var m;const E=f||si;null===(m=this._widgets.get(E))||void 0===m||m.delete(),this._widgets.delete(E)}getResponse(f){var m;return(null===(m=this._widgets.get(f||si))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,u.Z)(function*(){var E;return null===(E=m._widgets.get(f||si))||void 0===E||E.execute(),""})()}}class Vu{constructor(f,m,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof f?document.getElementById(f):f;j(A,"argument-error",{appName:m}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ha(y){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<y;E++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const yn=ts("rcb"),yg=new Xt(3e4,6e4);class Ly{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!ln().grecaptcha}load(f,m=""){return j(function Xo(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(ln().grecaptcha):new Promise((E,A)=>{const O=ln().setTimeout(()=>{A(Ee(f,"network-request-failed"))},yg.get());ln()[yn]=()=>{ln().clearTimeout(O),delete ln()[yn];const fe=ln().grecaptcha;if(!fe)return void A(Ee(f,"internal-error"));const Le=fe.render;fe.render=(We,vt)=>{const dt=Le(We,vt);return this.counter++,dt},this.hostLanguage=m,E(fe)},$i(`https://www.google.com/recaptcha/api.js??${(0,R.xO)({onload:yn,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(O),A(Ee(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!ln().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class qr{load(f){return(0,u.Z)(function*(){return new Sn(f)})()}clearedOneInstance(){}}const wd="recaptcha",Os={theme:"light",type:"image"};class uo{constructor(f,m=Object.assign({},Os),E){this.parameters=m,this.type=wd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=at(E),this.isInvisible="invisible"===this.parameters.size,j("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof f?document.getElementById(f):f;j(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new qr:new Ly,this.validateStartingState()}verify(){var f=this;return(0,u.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),E=f.getAssertedRecaptcha();return E.getResponse(m)||new Promise(O=>{const z=fe=>{!fe||(f.tokenChangeListeners.delete(z),O(fe))};f.tokenChangeListeners.add(z),f.isInvisible&&E.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){j(!this.parameters.sitekey,this.auth,"argument-error"),j(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),j("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(E=>E(m)),"function"==typeof f)f(m);else if("string"==typeof f){const E=ln()[f];"function"==typeof E&&E(m)}}}assertNotDestroyed(){j(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,u.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const E=document.createElement("div");m.appendChild(E),m=E}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,u.Z)(function*(){j(lt()&&!Ti(),f.auth,"internal-error"),yield function Bu(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function Uu(y){return mn.apply(this,arguments)}(f.auth);j(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return j(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class wn{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=No._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function lo(){return(lo=(0,u.Z)(function*(y,f,m){const E=at(y),A=yield ea(E,f,(0,R.m9)(m));return new wn(A,O=>En(E,O))})).apply(this,arguments)}function Bl(){return(Bl=(0,u.Z)(function*(y,f,m){const E=(0,R.m9)(y);yield Jt(!1,E,"phone");const A=yield ea(E.auth,f,(0,R.m9)(m));return new wn(A,O=>ar(E,O))})).apply(this,arguments)}function ai(){return(ai=(0,u.Z)(function*(y,f,m){const E=(0,R.m9)(y),A=yield ea(E.auth,f,(0,R.m9)(m));return new wn(A,O=>Ji(E,O))})).apply(this,arguments)}function ea(y,f,m){return co.apply(this,arguments)}function co(){return(co=(0,u.Z)(function*(y,f,m){var E;const A=yield m.verify();try{let O;if(j("string"==typeof A,y,"argument-error"),j(m.type===wd,y,"argument-error"),O="string"==typeof f?{phoneNumber:f}:f,"session"in O){const z=O.session;if("phoneNumber"in O)return j("enroll"===z.type,y,"internal-error"),(yield tf(y,{idToken:z.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{j("signin"===z.type,y,"internal-error");const fe=(null===(E=O.multiFactorHint)||void 0===E?void 0:E.uid)||O.multiFactorUid;return j(fe,y,"missing-multi-factor-info"),(yield lr(y,{mfaPendingCredential:z.credential,mfaEnrollmentId:fe,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:z}=yield Qi(y,{phoneNumber:O.phoneNumber,recaptchaToken:A});return z}}finally{m._reset()}})).apply(this,arguments)}function ta(){return(ta=(0,u.Z)(function*(y,f){yield Sa((0,R.m9)(y),f)})).apply(this,arguments)}let fo=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=at(m)}verifyPhoneNumber(m,E){return ea(this.auth,m,(0,R.m9)(E))}static credential(m,E){return No._fromVerification(m,E)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:E,temporaryProof:A}=m;return E&&A?No._fromTokenResponse(E,A):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function ns(y,f){return f?ee(f):(j(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class qa extends wi{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Ts(f,this._buildIdpRequest())}_linkToIdToken(f,m){return Ts(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return Ts(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function kt(y){return or(y.auth,new qa(y),y.bypassAuthState)}function ju(y){const{auth:f,user:m}=y;return j(m,f,"internal-error"),Iu(m,new qa(y),y.bypassAuthState)}function Qn(y){return Za.apply(this,arguments)}function Za(){return(Za=(0,u.Z)(function*(y){const{auth:f,user:m}=y;return j(m,f,"internal-error"),Sa(m,new qa(y),y.bypassAuthState)})).apply(this,arguments)}class Ns{constructor(f,m,E,A,O=!1){this.auth=f,this.resolver=E,this.user=A,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,u.Z)(function*(E,A){f.pendingPromise={resolve:E,reject:A};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(O){f.reject(O)}});return function(E,A){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,u.Z)(function*(){const{urlResponse:E,sessionId:A,postBody:O,tenantId:z,error:fe,type:Le}=f;if(fe)return void m.reject(fe);const We={auth:m.auth,requestUri:E,sessionId:A,tenantId:z||void 0,postBody:O||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Le)(We))}catch(vt){m.reject(vt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return kt;case"linkViaPopup":case"linkViaRedirect":return Qn;case"reauthViaPopup":case"reauthViaRedirect":return ju;default:Ie(this.auth,"internal-error")}}resolve(f){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const vg=new Xt(2e3,1e4);function Rs(){return(Rs=(0,u.Z)(function*(y,f,m){const E=at(y);$e(y,f,vr);const A=ns(E,m);return new jl(E,"signInViaPopup",f,A).executeNotNull()})).apply(this,arguments)}function $u(){return($u=(0,u.Z)(function*(y,f,m){const E=(0,R.m9)(y);$e(E.auth,f,vr);const A=ns(E.auth,m);return new jl(E.auth,"reauthViaPopup",f,A,E).executeNotNull()})).apply(this,arguments)}function qi(){return(qi=(0,u.Z)(function*(y,f,m){const E=(0,R.m9)(y);$e(E.auth,f,vr);const A=ns(E.auth,m);return new jl(E.auth,"linkViaPopup",f,A,E).executeNotNull()})).apply(this,arguments)}let jl=(()=>{class y extends Ns{constructor(m,E,A,O,z){super(m,E,O,z),this.provider=A,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,u.Z)(function*(){const E=yield m.execute();return j(E,m.auth,"internal-error"),E})()}onExecution(){var m=this;return(0,u.Z)(function*(){W(1===m.filter.length,"Popup operations only handle one event");const E=Bi();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],E),m.authWindow.associatedEvent=E,m.resolver._originValidation(m.auth).catch(A=>{m.reject(A)}),m.resolver._isIframeWebStorageSupported(m.auth,A=>{A||m.reject(Ee(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var E,A;this.pollId=(null===(A=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===A?void 0:A.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ee(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,vg.get())};m()}}return y.currentPopupAction=null,y})();const cr=new Map;class Vy extends Ns{constructor(f,m,E=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,E),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,u.Z)(function*(){let E=cr.get(m.auth._key());if(!E){try{const O=(yield function na(y,f){return ra.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;E=()=>Promise.resolve(O)}catch(A){E=()=>Promise.reject(A)}cr.set(m.auth._key(),E)}return m.bypassAuthState||cr.set(m.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,E=this;return(0,u.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(E,f);if("unknown"!==f.type){if(f.eventId){const A=yield E.auth._redirectUserForId(f.eventId);if(A)return E.user=A,m().call(E,f);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function ra(){return(ra=(0,u.Z)(function*(y,f){const m=F(f),E=P(y);if(!(yield E._isAvailable()))return!1;const A="true"===(yield E._get(m));return yield E._remove(m),A})).apply(this,arguments)}function po(y,f){return Td.apply(this,arguments)}function Td(){return(Td=(0,u.Z)(function*(y,f){return P(y)._set(F(f),"true")})).apply(this,arguments)}function D(y,f){cr.set(y._key(),f)}function P(y){return ee(y._redirectPersistence)}function F(y){return qn("pendingRedirect",y.config.apiKey,y.name)}function ge(){return(ge=(0,u.Z)(function*(y,f,m){const E=at(y);$e(y,f,vr);const A=ns(E,m);return yield po(A,E),A._openRedirect(E,f,"signInViaRedirect")})).apply(this,arguments)}function ht(){return(ht=(0,u.Z)(function*(y,f,m){const E=(0,R.m9)(y);$e(E.auth,f,vr);const A=ns(E.auth,m);yield po(A,E.auth);const O=yield li(E);return A._openRedirect(E.auth,f,"reauthViaRedirect",O)})).apply(this,arguments)}function Er(){return(Er=(0,u.Z)(function*(y,f,m){const E=(0,R.m9)(y);$e(E.auth,f,vr);const A=ns(E.auth,m);yield Jt(!1,E,f.providerId),yield po(A,E.auth);const O=yield li(E);return A._openRedirect(E.auth,f,"linkViaRedirect",O)})).apply(this,arguments)}function rs(){return(rs=(0,u.Z)(function*(y,f){return yield at(y)._initializationPromise,Zr(y,f,!1)})).apply(this,arguments)}function Zr(y,f){return ui.apply(this,arguments)}function ui(){return(ui=(0,u.Z)(function*(y,f,m=!1){const E=at(y),A=ns(E,f),z=yield new Vy(E,A,m).execute();return z&&!m&&(delete z.user._redirectEventId,yield E._persistUserIfCurrent(z.user),yield E._setRedirectUser(null,f)),z})).apply(this,arguments)}function li(y){return ci.apply(this,arguments)}function ci(){return(ci=(0,u.Z)(function*(y){const f=Bi(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class qu{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(f,E)&&(m=!0,this.sendToConsumer(f,E),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Eg(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zu(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var E;if(f.error&&!Zu(f)){const A=(null===(E=f.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";m.onError(Ee(this.auth,A))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const E=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&E}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($l(f))}saveEventToCache(f){this.cachedEventUids.add($l(f)),this.lastProcessedEventTime=Date.now()}}function $l(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function Zu({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===(null==f?void 0:f.code)}function wg(y){return nf.apply(this,arguments)}function nf(){return(nf=(0,u.Z)(function*(y,f={}){return Vt(y,"GET","/v1/projects",f)})).apply(this,arguments)}const go=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hl=/^https?/;function bg(){return(bg=(0,u.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield wg(y);for(const m of f)try{if(Cg(m))return}catch(E){}Ie(y,"unauthorized-domain")})).apply(this,arguments)}function Cg(y){const f=Ne(),{protocol:m,hostname:E}=new URL(f);if(y.startsWith("chrome-extension://")){const z=new URL(y);return""===z.hostname&&""===E?"chrome-extension:"===m&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&z.hostname===E}if(!Hl.test(m))return!1;if(go.test(y))return E===y;const A=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(E)}const jy=new Xt(3e4,6e4);function Tg(){const y=ln().___jsl;if(null==y?void 0:y.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let Gu=null;function mo(y){return Gu=Gu||function rf(y){return new Promise((f,m)=>{var E,A,O;function z(){Tg(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Tg(),m(Ee(y,"network-request-failed"))},timeout:jy.get()})}if(null===(A=null===(E=ln().gapi)||void 0===E?void 0:E.iframes)||void 0===A?void 0:A.Iframe)f(gapi.iframes.getContext());else{if(!(null===(O=ln().gapi)||void 0===O?void 0:O.load)){const fe=ts("iframefcb");return ln()[fe]=()=>{gapi.load?z():m(Ee(y,"network-request-failed"))},$i(`https://apis.google.com/js/api.js?onload=${fe}`).catch(Le=>m(Le))}z()}}).catch(f=>{throw Gu=null,f})}(y),Gu}const yo=new Xt(5e3,15e3),$y={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Hy(y){const f=y.config;j(f.authDomain,y,"auth-domain-config-required");const m=f.emulator?Pn(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,E={apiKey:f.apiKey,appName:y.name,v:ae.SDK_VERSION},A=zu.get(y.config.apiHost);A&&(E.eid=A);const O=y._getFrameworks();return O.length&&(E.fw=O.join(",")),`${m}?${(0,R.xO)(E).slice(1)}`}function ia(){return ia=(0,u.Z)(function*(y){const f=yield mo(y),m=ln().gapi;return j(m,y,"internal-error"),f.open({where:document.body,url:Hy(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$y,dontclear:!0},E=>new Promise(function(){var A=(0,u.Z)(function*(O,z){yield E.restyle({setHideOnLeave:!1});const fe=Ee(y,"network-request-failed"),Le=ln().setTimeout(()=>{z(fe)},yo.get());function We(){ln().clearTimeout(Le),O(E)}E.ping(We).then(We,()=>{z(fe)})});return function(O,z){return A.apply(this,arguments)}}()))}),ia.apply(this,arguments)}const sf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Dg{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function ks(y,f,m,E,A,O){j(y.config.authDomain,y,"auth-domain-config-required"),j(y.config.apiKey,y,"invalid-api-key");const z={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:E,v:ae.SDK_VERSION,eventId:A};if(f instanceof vr){f.setDefaultLanguage(y.languageCode),z.providerId=f.providerId||"",(0,R.xb)(f.getCustomParameters())||(z.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Le,We]of Object.entries(O||{}))z[Le]=We}if(f instanceof Xs){const Le=f.getScopes().filter(We=>""!==We);Le.length>0&&(z.scopes=Le.join(","))}y.tenantId&&(z.tid=y.tenantId);const fe=z;for(const Le of Object.keys(fe))void 0===fe[Le]&&delete fe[Le];return`${function Zl({config:y}){return y.emulator?Pn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,R.xO)(fe).slice(1)}`}const Md="webStorageSupport";class xd extends class iE{constructor(f){this.factorId=f}_process(f,m,E){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,E);case"signin":return this._finalizeSignIn(f,m.credential);default:return ve("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new xd(f)}_finalizeEnroll(f,m,E){return function io(y,f){return Vt(y,"POST","/v2/accounts/mfaEnrollment:finalize",Wt(y,f))}(f,{idToken:m,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function ao(y,f){return Vt(y,"POST","/v2/accounts/mfaSignIn:finalize",Wt(y,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ag=(()=>{class y{constructor(){}static assertion(m){return xd._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var Sg="@firebase/auth";class xg{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,u.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(E=>{var A;f((null===(A=E)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Fs(){return window}function za(){return(za=(0,u.Z)(function*(y,f,m){var E;const{BuildInfo:A}=Fs();W(f.sessionId,"AuthEvent did not contain a session ID");const O=yield lf(f.sessionId),z={};return Vr()?z.ibi=A.packageName:Ar()?z.apn=A.packageName:Ie(y,"operation-not-supported-in-this-environment"),A.displayName&&(z.appDisplayName=A.displayName),z.sessionId=O,ks(y,m,f.type,void 0,null!==(E=f.eventId)&&void 0!==E?E:void 0,z)})).apply(this,arguments)}function Od(){return(Od=(0,u.Z)(function*(y){const{BuildInfo:f}=Fs(),m={};Vr()?m.iosBundleId=f.packageName:Ar()?m.androidPackageName=f.packageName:Ie(y,"operation-not-supported-in-this-environment"),yield wg(y,m)})).apply(this,arguments)}function Ng(){return(Ng=(0,u.Z)(function*(y,f,m){const{cordova:E}=Fs();let A=()=>{};try{yield new Promise((O,z)=>{let fe=null;function Le(){var dt;O();const Mn=null===(dt=E.plugins.browsertab)||void 0===dt?void 0:dt.close;"function"==typeof Mn&&Mn(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function We(){fe||(fe=window.setTimeout(()=>{z(Ee(y,"redirect-cancelled-by-user"))},2e3))}function vt(){"visible"===(null==document?void 0:document.visibilityState)&&We()}f.addPassiveListener(Le),document.addEventListener("resume",We,!1),Ar()&&document.addEventListener("visibilitychange",vt,!1),A=()=>{f.removePassiveListener(Le),document.removeEventListener("resume",We,!1),document.removeEventListener("visibilitychange",vt,!1),fe&&window.clearTimeout(fe)}})}finally{A()}})).apply(this,arguments)}function lf(y){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,u.Z)(function*(y){const f=cf(y),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function cf(y){if(W(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),m=new Uint8Array(f);for(let E=0;E<y.length;E++)m[E]=y.charCodeAt(E);return m}!function sE(y){(0,ae._registerComponent)(new ue.wA("auth",(f,{options:m})=>{const E=f.getProvider("app").getImmediate(),A=f.getProvider("heartbeat"),{apiKey:O,authDomain:z}=E.options;return((fe,Le)=>{j(O&&!O.includes(":"),"invalid-api-key",{appName:fe.name}),j(!(null==z?void 0:z.includes(":")),"argument-error",{appName:fe.name});const We={apiKey:O,authDomain:z,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Oo(y)},vt=new ze(fe,Le,We);return function oe(y,f){const m=(null==f?void 0:f.persistence)||[],E=(Array.isArray(m)?m:[m]).map(ee);(null==f?void 0:f.errorMap)&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(E,null==f?void 0:f.popupRedirectResolver)}(vt,m),vt})(E,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,E)=>{f.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new ue.wA("auth-internal",f=>{const m=at(f.getProvider("auth").getImmediate());return new xg(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(Sg,"0.20.1",function Pd(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ae.registerVersion)(Sg,"0.20.1","esm2017")}("Browser");class Rd extends qu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,u.Z)(function*(){yield f.initPromise})()}}function Yu(y){return zl.apply(this,arguments)}function zl(){return(zl=(0,u.Z)(function*(y){const f=yield Ka()._get(hf(y));return f&&(yield Ka()._remove(hf(y))),f})).apply(this,arguments)}function df(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const E=Math.floor(Math.random()*f.length);y.push(f.charAt(E))}return y.join("")}function Ka(){return ee(ii)}function hf(y){return qn("authEvent",y.config.apiKey,y.name)}function Gt(y){if(!(null==y?void 0:y.includes("?")))return{};const[f,...m]=y.split("?");return(0,R.zd)(m.join("?"))}function Ju(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ee("no-auth-event")}}function Ya(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Fg(y=(0,R.z$)()){return!("file:"!==Ya()&&"ionic:"!==Ya()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function mf(){try{const y=self.localStorage,f=Bi();if(y)return y.setItem(f,"1"),y.removeItem(f),!function gf(y=(0,R.z$)()){return function Pr(){return(0,R.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Qa(y=(0,R.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,R.hl)()}catch(y){return dr()&&(0,R.hl)()}return!1}function dr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ja(){return(function Xy(){return"http:"===Ya()||"https:"===Ya()}()||(0,R.ru)()||Fg())&&!function oa(){return(0,R.b$)()||(0,R.UG)()}()&&mf()&&!dr()}function kd(){return Fg()&&"undefined"!=typeof document}function Wl(){return(Wl=(0,u.Z)(function*(){return!!kd()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const di={LOCAL:"local",NONE:"none",SESSION:"session"},_o=j,Ug="persistence";function Xu(y){return yf.apply(this,arguments)}function yf(){return(yf=(0,u.Z)(function*(y){yield y._initializationPromise;const f=Bg(),m=qn(Ug,y.config.apiKey,y.name);f&&f.setItem(m,y._getPersistence())})).apply(this,arguments)}function Bg(){var y;try{return(null===(y=function Lg(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(f){return null}}const t_=j;class hi{constructor(){this.browserResolver=ee(class Gy{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jn,this._completeRedirectFn=Zr,this._overrideRedirectResult=D}_openPopup(f,m,E,A){var O=this;return(0,u.Z)(function*(){var z;W(null===(z=O.eventManagers[f._key()])||void 0===z?void 0:z.manager,"_initialize() not called before _openPopup()");const fe=ks(f,m,E,Ne(),A);return function ql(y,f,m,E=500,A=600){const O=Math.max((window.screen.availHeight-A)/2,0).toString(),z=Math.max((window.screen.availWidth-E)/2,0).toString();let fe="";const Le=Object.assign(Object.assign({},sf),{width:E.toString(),height:A.toString(),top:O,left:z}),We=(0,R.z$)().toLowerCase();m&&(fe=Ca(We)?"_blank":m),ba(We)&&(f=f||"http://localhost",Le.scrollbars="yes");const vt=Object.entries(Le).reduce((Mn,[pi,Yl])=>`${Mn}${pi}=${Yl},`,"");if(function Qs(y=(0,R.z$)()){var f;return Vr(y)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(We)&&"_self"!==fe)return function qy(y,f){const m=document.createElement("a");m.href=y,m.target=f;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(E)}(f||"",fe),new Dg(null);const dt=window.open(f||"",fe,vt);j(dt,y,"popup-blocked");try{dt.focus()}catch(Mn){}return new Dg(dt)}(f,fe,Bi())})()}_openRedirect(f,m,E,A){var O=this;return(0,u.Z)(function*(){return yield O._originValidation(f),function ja(y){ln().location.href=y}(ks(f,m,E,Ne(),A)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:A,promise:O}=this.eventManagers[m];return A?Promise.resolve(A):(W(O,"If manager is not set, promise should be"),O)}const E=this.initAndGetManager(f);return this.eventManagers[m]={promise:E},E.catch(()=>{delete this.eventManagers[m]}),E}initAndGetManager(f){var m=this;return(0,u.Z)(function*(){const E=yield function Id(y){return ia.apply(this,arguments)}(f),A=new qu(f);return E.register("authEvent",O=>(j(null==O?void 0:O.authEvent,f,"invalid-auth-event"),{status:A.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:A},m.iframes[f._key()]=E,A})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(Md,{type:Md},A=>{var O;const z=null===(O=null==A?void 0:A[0])||void 0===O?void 0:O[Md];void 0!==z&&m(!!z),Ie(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function By(y){return bg.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return Es()||wu()||Vr()}}),this.cordovaResolver=ee(class kg{constructor(){this._redirectPersistence=jn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Zr,this._overrideRedirectResult=D}_initialize(f){var m=this;return(0,u.Z)(function*(){const E=f._key();let A=m.eventManagers.get(E);return A||(A=new Rd(f),m.eventManagers.set(E,A),m.attachCallbackListeners(f,A)),A})()}_openPopup(f){Ie(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,E,A){var O=this;return(0,u.Z)(function*(){!function Wu(y){var f,m,E,A,O,z,fe,Le,We,vt;const dt=Fs();j("function"==typeof(null===(f=null==dt?void 0:dt.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),j(void 0!==(null===(m=null==dt?void 0:dt.BuildInfo)||void 0===m?void 0:m.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),j("function"==typeof(null===(O=null===(A=null===(E=null==dt?void 0:dt.cordova)||void 0===E?void 0:E.plugins)||void 0===A?void 0:A.browsertab)||void 0===O?void 0:O.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j("function"==typeof(null===(Le=null===(fe=null===(z=null==dt?void 0:dt.cordova)||void 0===z?void 0:z.plugins)||void 0===fe?void 0:fe.browsertab)||void 0===Le?void 0:Le.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j("function"==typeof(null===(vt=null===(We=null==dt?void 0:dt.cordova)||void 0===We?void 0:We.InAppBrowser)||void 0===vt?void 0:vt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const z=yield O._initialize(f);yield z.initialized(),z.resetRedirect(),function T(){cr.clear()}(),yield O._originValidation(f);const fe=function Ku(y,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:df(),postBody:null,tenantId:y.tenantId,error:Ee(y,"no-auth-event")}}(f,E,A);yield function zy(y,f){return Ka()._set(hf(y),f)}(f,fe);const Le=yield function is(y,f,m){return za.apply(this,arguments)}(f,fe,m),We=yield function Nd(y){const{cordova:f}=Fs();return new Promise(m=>{f.plugins.browsertab.isAvailable(E=>{let A=null;E?f.plugins.browsertab.openUrl(y):A=f.InAppBrowser.open(y,function ed(y=(0,R.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(A)})})}(Le);return function Wa(y,f,m){return Ng.apply(this,arguments)}(f,z,We)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Og(y){return Od.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:E,handleOpenURL:A,BuildInfo:O}=Fs(),z=setTimeout((0,u.Z)(function*(){yield Yu(f),m.onEvent(Ju())}),500),fe=function(){var vt=(0,u.Z)(function*(dt){clearTimeout(z);const Mn=yield Yu(f);let pi=null;Mn&&(null==dt?void 0:dt.url)&&(pi=function Wy(y,f){var m,E;const A=function pf(y){const f=Gt(y),m=f.link?decodeURIComponent(f.link):void 0,E=Gt(m).link,A=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Gt(A).link||A||E||m||y}(f);if(A.includes("/__/auth/callback")){const O=Gt(A),z=O.firebaseError?function ff(y){try{return JSON.parse(y)}catch(f){return null}}(decodeURIComponent(O.firebaseError)):null,fe=null===(E=null===(m=null==z?void 0:z.code)||void 0===m?void 0:m.split("auth/"))||void 0===E?void 0:E[1],Le=fe?Ee(fe):null;return Le?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:A,postBody:null}}return null}(Mn,dt.url)),m.onEvent(pi||Ju())});return function(Mn){return vt.apply(this,arguments)}}();void 0!==E&&"function"==typeof E.subscribe&&E.subscribe(null,fe);const Le=A,We=`${O.packageName.toLowerCase()}://`;Fs().handleOpenURL=function(){var vt=(0,u.Z)(function*(dt){if(dt.toLowerCase().startsWith(We)&&fe({url:dt}),"function"==typeof Le)try{Le(dt)}catch(Mn){console.error(Mn)}});return function(dt){return vt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=jn,this._completeRedirectFn=Zr,this._overrideRedirectResult=D}_initialize(f){var m=this;return(0,u.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,E,A){var O=this;return(0,u.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(f,m,E,A)})()}_openRedirect(f,m,E,A){var O=this;return(0,u.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(f,m,E,A)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return kd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return t_(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,u.Z)(function*(){if(f.underlyingResolver)return;const m=yield function e_(){return Wl.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function jg(y){return y.unwrap()}function Fd(y){return $g(y)}function $g(y){const{_tokenResponse:f}=y instanceof R.ZR?y.customData:y;if(!f)return null;if(!(y instanceof R.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return fo.credentialFromResult(y);const m=f.providerId;if(!m||"password"===m)return null;let E;switch(m){case"google.com":E=ld;break;case"facebook.com":E=Ro;break;case"github.com":E=Qh;break;case"twitter.com":E=cd;break;default:const{oauthIdToken:A,oauthAccessToken:O,oauthTokenSecret:z,pendingToken:fe,nonce:Le}=f;return O||z||A||fe?fe?m.startsWith("saml.")?eo._create(m,fe):Yi._fromParams({providerId:m,signInMethod:m,pendingToken:fe,idToken:A,accessToken:O}):new Ri(m).credential({idToken:A,accessToken:O,rawNonce:Le}):null}return y instanceof R.ZR?E.credentialFromError(y):E.credentialFromResult(y)}function fi(y,f){return f.catch(m=>{throw m instanceof R.ZR&&function r_(y,f){var m;const E=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new Hg(y,function Yn(y,f){var m;const E=(0,R.m9)(y),A=f;return j(f.customData.operationType,E,"argument-error"),j(null===(m=A.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,E,"argument-error"),Zo._fromError(E,A)}(y,f));else if(E){const A=$g(f),O=f;A&&(O.credential=A,O.tenantId=E.tenantId||void 0,O.email=E.email||void 0,O.phoneNumber=E.phoneNumber||void 0)}}(y,m),m}).then(m=>{const A=m.user;return{operationType:m.operationType,credential:Fd(m),additionalUserInfo:Vi(m),user:Ls.getOrCreate(A)}})}function _f(y,f){return vf.apply(this,arguments)}function vf(){return(vf=(0,u.Z)(function*(y,f){const m=yield f;return{verificationId:m.verificationId,confirm:E=>fi(y,m.confirm(E))}})).apply(this,arguments)}class Hg{constructor(f,m){this.resolver=m,this.auth=function n_(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return fi(jg(this.auth),this.resolver.resolveSignIn(f))}}class Ls{constructor(f){this._delegate=f,this.multiFactor=function ku(y){const f=(0,R.m9)(y);return Ru.has(f)||Ru.set(f,md._fromUser(f)),Ru.get(f)}(f)}static getOrCreate(f){return Ls.USER_MAP.has(f)||Ls.USER_MAP.set(f,new Ls(f)),Ls.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,u.Z)(function*(){return fi(m.auth,ar(m._delegate,f))})()}linkWithPhoneNumber(f,m){var E=this;return(0,u.Z)(function*(){return _f(E.auth,function Uy(y,f,m){return Bl.apply(this,arguments)}(E._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,u.Z)(function*(){return fi(m.auth,function Cd(y,f,m){return qi.apply(this,arguments)}(m._delegate,f,hi))})()}linkWithRedirect(f){var m=this;return(0,u.Z)(function*(){return yield Xu(at(m.auth)),function Ht(y,f,m){return function bt(y,f,m){return Er.apply(this,arguments)}(y,f,m)}(m._delegate,f,hi)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,u.Z)(function*(){return fi(m.auth,Ji(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return _f(this.auth,function oi(y,f,m){return ai.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return fi(this.auth,function Di(y,f,m){return $u.apply(this,arguments)}(this._delegate,f,hi))}reauthenticateWithRedirect(f){var m=this;return(0,u.Z)(function*(){return yield Xu(at(m.auth)),function Ue(y,f,m){return function At(y,f,m){return ht.apply(this,arguments)}(y,f,m)}(m._delegate,f,hi)})()}sendEmailVerification(f){return function Ol(y,f){return Pu.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,u.Z)(function*(){return yield function Jh(y,f){return on.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function pg(y,f){return $o((0,R.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function kl(y,f){return $o((0,R.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function ho(y,f){return ta.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Rl(y,f){return La.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function Nl(y,f,m){return Ou.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ls.USER_MAP=new WeakMap;const Kl=j;let qg=(()=>{class y{constructor(m,E){if(this.app=m,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=m.options;Kl(A,"invalid-api-key",{appName:m.name}),Kl(A,"invalid-api-key",{appName:m.name});const O="undefined"!=typeof window?hi:void 0;this._delegate=E.initialize({options:{persistence:i_(A,m.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(Oe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ls.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,E){!function jr(y,f,m){const E=at(y);j(E._canInitEmulator,E,"emulator-config-failed"),j(/^https?:\/\//.test(f),E,"invalid-emulator-scheme");const A=!!(null==m?void 0:m.disableWarnings),O=Mi(f),{host:z,port:fe}=function Vn(y){const f=Mi(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!m)return{host:"",port:null};const E=m[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(E);if(A){const O=A[1];return{host:O,port:xi(E.substr(O.length+1))}}{const[O,z]=E.split(":");return{host:O,port:xi(z)}}}(f);E.config.emulator={url:`${O}//${z}${null===fe?"":`:${fe}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:z,port:fe,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function fn(){function y(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,E)}applyActionCode(m){return function Ae(y,f){return Lt.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Su(this._delegate,m)}confirmPasswordReset(m,E){return function Ml(y,f,m){return xl.apply(this,arguments)}(this._delegate,m,E)}createUserWithEmailAndPassword(m,E){var A=this;return(0,u.Z)(function*(){return fi(A._delegate,function ri(y,f,m){return Na.apply(this,arguments)}(A._delegate,m,E))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function As(y,f){return Ci.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Ra(y,f){const m=Du.parseLink(f);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,u.Z)(function*(){Kl(Ja(),m._delegate,"operation-not-supported-in-this-environment");const E=yield function Jn(y,f){return rs.apply(this,arguments)}(m._delegate,hi);return E?fi(m._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Ky(y,f){at(y)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,E,A){const{next:O,error:z,complete:fe}=Zg(m,E,A);return this._delegate.onAuthStateChanged(O,z,fe)}onIdTokenChanged(m,E,A){const{next:O,error:z,complete:fe}=Zg(m,E,A);return this._delegate.onIdTokenChanged(O,z,fe)}sendSignInLinkToEmail(m,E){return function fg(y,f,m){return Mu.apply(this,arguments)}(this._delegate,m,E)}sendPasswordResetEmail(m,E){return function Sl(y,f,m){return Oa.apply(this,arguments)}(this._delegate,m,E||void 0)}setPersistence(m){var E=this;return(0,u.Z)(function*(){let A;switch(function Vg(y,f){_o(Object.values(di).includes(f),y,"invalid-persistence-type"),(0,R.b$)()?_o(f!==di.SESSION,y,"unsupported-persistence-type"):(0,R.UG)()?_o(f===di.NONE,y,"unsupported-persistence-type"):dr()?_o(f===di.NONE||f===di.LOCAL&&(0,R.hl)(),y,"unsupported-persistence-type"):_o(f===di.NONE||mf(),y,"unsupported-persistence-type")}(E._delegate,m),m){case di.SESSION:A=jn;break;case di.LOCAL:A=(yield ee(xs)._isAvailable())?xs:ii;break;case di.NONE:A=wt;break;default:return Ie("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return fi(this._delegate,function dd(y){return Dl.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return fi(this._delegate,En(this._delegate,m))}signInWithCustomToken(m){return fi(this._delegate,function Uo(y,f){return pt.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,E){return fi(this._delegate,function Pl(y,f,m){return En((0,R.m9)(y),ud.credential(f,m))}(this._delegate,m,E))}signInWithEmailLink(m,E){return fi(this._delegate,function xu(y,f,m){return Rn.apply(this,arguments)}(this._delegate,m,E))}signInWithPhoneNumber(m,E){return _f(this._delegate,function Vl(y,f,m){return lo.apply(this,arguments)}(this._delegate,m,E))}signInWithPopup(m){var E=this;return(0,u.Z)(function*(){return Kl(Ja(),E._delegate,"operation-not-supported-in-this-environment"),fi(E._delegate,function bd(y,f,m){return Rs.apply(this,arguments)}(E._delegate,m,hi))})()}signInWithRedirect(m){var E=this;return(0,u.Z)(function*(){return Kl(Ja(),E._delegate,"operation-not-supported-in-this-environment"),yield Xu(E._delegate),function Y(y,f,m){return function ne(y,f,m){return ge.apply(this,arguments)}(y,f,m)}(E._delegate,m,hi)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Bo(y,f){return ro.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=di,y})();function Zg(y,f,m){let E=y;"function"!=typeof y&&({next:E,error:f,complete:m}=y);const A=E;return{next:z=>A(z&&Ls.getOrCreate(z)),error:f,complete:m}}function i_(y,f){const m=function Xa(y,f){const m=Bg();if(!m)return[];const E=qn(Ug,y,f);switch(m.getItem(E)){case di.NONE:return[wt];case di.LOCAL:return[xs,jn];case di.SESSION:return[jn];default:return[]}}(y,f);if("undefined"!=typeof self&&!m.includes(xs)&&m.push(xs),"undefined"!=typeof window)for(const E of[ii,jn])m.includes(E)||m.push(E);return m.includes(wt)||m.push(wt),m}class Ef{constructor(){this.providerId="phone",this._delegate=new fo(jg(X.Z.auth()))}static credential(f,m){return fo.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}Ef.PHONE_SIGN_IN_METHOD=fo.PHONE_SIGN_IN_METHOD,Ef.PROVIDER_ID=fo.PROVIDER_ID;const Gg=j;class aE{constructor(f,m,E=X.Z.app()){var A;Gg(null===(A=E.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new uo(f,m,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ss(y){y.INTERNAL.registerComponent(new ue.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),E=f.getProvider("auth");return new qg(m,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ud,FacebookAuthProvider:Ro,GithubAuthProvider:Qh,GoogleAuthProvider:ld,OAuthProvider:Ri,SAMLAuthProvider:Sr,PhoneAuthProvider:Ef,PhoneMultiFactorGenerator:Ag,RecaptchaVerifier:aE,TwitterAuthProvider:cd,Auth:qg,AuthCredential:wi,Error:R.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.14")}(X.Z)},8306:(Xe,we,N)=>{N.d(we,{y:()=>$});var u=N(2961),X=N(727),R=N(8822),ae=N(4671);var ue=N(2416),se=N(576),ce=N(2806);let $=(()=>{class Me{constructor(Ve){Ve&&(this._subscribe=Ve)}lift(Ve){const he=new Me;return he.source=this,he.operator=Ve,he}subscribe(Ve,he,De){const Ge=function Ze(Me){return Me&&Me instanceof u.Lv||function te(Me){return Me&&(0,se.m)(Me.next)&&(0,se.m)(Me.error)&&(0,se.m)(Me.complete)}(Me)&&(0,X.Nn)(Me)}(Ve)?Ve:new u.Hp(Ve,he,De);return(0,ce.x)(()=>{const{operator:Ye,source:Ie}=this;Ge.add(Ye?Ye.call(Ge,Ie):Ie?this._subscribe(Ge):this._trySubscribe(Ge))}),Ge}_trySubscribe(Ve){try{return this._subscribe(Ve)}catch(he){Ve.error(he)}}forEach(Ve,he){return new(he=B(he))((De,Ge)=>{const Ye=new u.Hp({next:Ie=>{try{Ve(Ie)}catch(Ee){Ge(Ee),Ye.unsubscribe()}},error:Ge,complete:De});this.subscribe(Ye)})}_subscribe(Ve){var he;return null===(he=this.source)||void 0===he?void 0:he.subscribe(Ve)}[R.L](){return this}pipe(...Ve){return function pe(Me){return 0===Me.length?ae.y:1===Me.length?Me[0]:function(Ve){return Me.reduce((he,De)=>De(he),Ve)}}(Ve)(this)}toPromise(Ve){return new(Ve=B(Ve))((he,De)=>{let Ge;this.subscribe(Ye=>Ge=Ye,Ye=>De(Ye),()=>he(Ge))})}}return Me.create=Oe=>new Me(Oe),Me})();function B(Me){var Oe;return null!==(Oe=null!=Me?Me:ue.v.Promise)&&void 0!==Oe?Oe:Promise}},7579:(Xe,we,N)=>{N.d(we,{x:()=>ue});var u=N(8306),X=N(727);const ae=(0,N(3888).d)(ce=>function(){ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=N(8737),pe=N(2806);let ue=(()=>{class ce extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(B){const te=new se(this,this);return te.operator=B,te}_throwIfClosed(){if(this.closed)throw new ae}next(B){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(B)}})}error(B){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=B;const{observers:te}=this;for(;te.length;)te.shift().error(B)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:B}=this;for(;B.length;)B.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var B;return(null===(B=this.observers)||void 0===B?void 0:B.length)>0}_trySubscribe(B){return this._throwIfClosed(),super._trySubscribe(B)}_subscribe(B){return this._throwIfClosed(),this._checkFinalizedStatuses(B),this._innerSubscribe(B)}_innerSubscribe(B){const{hasError:te,isStopped:Ze,observers:Me}=this;return te||Ze?X.Lc:(this.currentObservers=null,Me.push(B),new X.w0(()=>{this.currentObservers=null,(0,re.P)(Me,B)}))}_checkFinalizedStatuses(B){const{hasError:te,thrownError:Ze,isStopped:Me}=this;te?B.error(Ze):Me&&B.complete()}asObservable(){const B=new u.y;return B.source=this,B}}return ce.create=($,B)=>new se($,B),ce})();class se extends ue{constructor($,B){super(),this.destination=$,this.source=B}next($){var B,te;null===(te=null===(B=this.destination)||void 0===B?void 0:B.next)||void 0===te||te.call(B,$)}error($){var B,te;null===(te=null===(B=this.destination)||void 0===B?void 0:B.error)||void 0===te||te.call(B,$)}complete(){var $,B;null===(B=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===B||B.call($)}_subscribe($){var B,te;return null!==(te=null===(B=this.source)||void 0===B?void 0:B.subscribe($))&&void 0!==te?te:X.Lc}}},2961:(Xe,we,N)=>{N.d(we,{Hp:()=>Ve,Lv:()=>te});var u=N(576),X=N(727),R=N(2416),ae=N(7849);function re(){}const pe=ce("C",void 0,void 0);function ce(Ie,Ee,Ce){return{kind:Ie,value:Ee,error:Ce}}var $=N(3410),B=N(2806);class te extends X.w0{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,X.Nn)(Ee)&&Ee.add(this)):this.destination=Ye}static create(Ee,Ce,$e){return new Ve(Ee,Ce,$e)}next(Ee){this.isStopped?Ge(function se(Ie){return ce("N",Ie,void 0)}(Ee),this):this._next(Ee)}error(Ee){this.isStopped?Ge(function ue(Ie){return ce("E",void 0,Ie)}(Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?Ge(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ze=Function.prototype.bind;function Me(Ie,Ee){return Ze.call(Ie,Ee)}class Oe{constructor(Ee){this.partialObserver=Ee}next(Ee){const{partialObserver:Ce}=this;if(Ce.next)try{Ce.next(Ee)}catch($e){he($e)}}error(Ee){const{partialObserver:Ce}=this;if(Ce.error)try{Ce.error(Ee)}catch($e){he($e)}else he(Ee)}complete(){const{partialObserver:Ee}=this;if(Ee.complete)try{Ee.complete()}catch(Ce){he(Ce)}}}class Ve extends te{constructor(Ee,Ce,$e){let je;if(super(),(0,u.m)(Ee)||!Ee)je={next:null!=Ee?Ee:void 0,error:null!=Ce?Ce:void 0,complete:null!=$e?$e:void 0};else{let j;this&&R.v.useDeprecatedNextContext?(j=Object.create(Ee),j.unsubscribe=()=>this.unsubscribe(),je={next:Ee.next&&Me(Ee.next,j),error:Ee.error&&Me(Ee.error,j),complete:Ee.complete&&Me(Ee.complete,j)}):je=Ee}this.destination=new Oe(je)}}function he(Ie){R.v.useDeprecatedSynchronousErrorHandling?(0,B.O)(Ie):(0,ae.h)(Ie)}function Ge(Ie,Ee){const{onStoppedNotification:Ce}=R.v;Ce&&$.z.setTimeout(()=>Ce(Ie,Ee))}const Ye={closed:!0,next:re,error:function De(Ie){throw Ie},complete:re}},727:(Xe,we,N)=>{N.d(we,{Lc:()=>pe,w0:()=>re,Nn:()=>ue});var u=N(576);const R=(0,N(3888).d)(ce=>function(B){ce(this),this.message=B?`${B.length} errors occurred during unsubscription:\n${B.map((te,Ze)=>`${Ze+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=B});var ae=N(8737);class re{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:B}=this;if(B)if(this._parentage=null,Array.isArray(B))for(const Me of B)Me.remove(this);else B.remove(this);const{initialTeardown:te}=this;if((0,u.m)(te))try{te()}catch(Me){$=Me instanceof R?Me.errors:[Me]}const{_finalizers:Ze}=this;if(Ze){this._finalizers=null;for(const Me of Ze)try{se(Me)}catch(Oe){$=null!=$?$:[],Oe instanceof R?$=[...$,...Oe.errors]:$.push(Oe)}}if($)throw new R($)}}add($){var B;if($&&$!==this)if(this.closed)se($);else{if($ instanceof re){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(B=this._finalizers)&&void 0!==B?B:[]).push($)}}_hasParent($){const{_parentage:B}=this;return B===$||Array.isArray(B)&&B.includes($)}_addParent($){const{_parentage:B}=this;this._parentage=Array.isArray(B)?(B.push($),B):B?[B,$]:$}_removeParent($){const{_parentage:B}=this;B===$?this._parentage=null:Array.isArray(B)&&(0,ae.P)(B,$)}remove($){const{_finalizers:B}=this;B&&(0,ae.P)(B,$),$ instanceof re&&$._removeParent(this)}}re.EMPTY=(()=>{const ce=new re;return ce.closed=!0,ce})();const pe=re.EMPTY;function ue(ce){return ce instanceof re||ce&&"closed"in ce&&(0,u.m)(ce.remove)&&(0,u.m)(ce.add)&&(0,u.m)(ce.unsubscribe)}function se(ce){(0,u.m)(ce)?ce():ce.unsubscribe()}},2416:(Xe,we,N)=>{N.d(we,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Xe,we,N)=>{N.d(we,{E:()=>X});const X=new(N(8306).y)(re=>re.complete())},8996:(Xe,we,N)=>{N.d(we,{D:()=>Ee});var u=N(8421),X=N(5363),R=N(9468),pe=N(8306),se=N(2202),ce=N(576),$=N(9672);function te(Ce,$e){if(!Ce)throw new Error("Iterable cannot be null");return new pe.y(je=>{(0,$.f)(je,$e,()=>{const j=Ce[Symbol.asyncIterator]();(0,$.f)(je,$e,()=>{j.next().then(ve=>{ve.done?je.complete():je.next(ve.value)})},0,!0)})})}var Ze=N(3670),Me=N(8239),Oe=N(1144),Ve=N(6495),he=N(2206),De=N(4532),Ge=N(3260);function Ee(Ce,$e){return $e?function Ie(Ce,$e){if(null!=Ce){if((0,Ze.c)(Ce))return function ae(Ce,$e){return(0,u.Xf)(Ce).pipe((0,R.R)($e),(0,X.Q)($e))}(Ce,$e);if((0,Oe.z)(Ce))return function ue(Ce,$e){return new pe.y(je=>{let j=0;return $e.schedule(function(){j===Ce.length?je.complete():(je.next(Ce[j++]),je.closed||this.schedule())})})}(Ce,$e);if((0,Me.t)(Ce))return function re(Ce,$e){return(0,u.Xf)(Ce).pipe((0,R.R)($e),(0,X.Q)($e))}(Ce,$e);if((0,he.D)(Ce))return te(Ce,$e);if((0,Ve.T)(Ce))return function B(Ce,$e){return new pe.y(je=>{let j;return(0,$.f)(je,$e,()=>{j=Ce[se.h](),(0,$.f)(je,$e,()=>{let ve,W;try{({value:ve,done:W}=j.next())}catch(ie){return void je.error(ie)}W?je.complete():je.next(ve)},0,!0)}),()=>(0,ce.m)(null==j?void 0:j.return)&&j.return()})}(Ce,$e);if((0,Ge.L)(Ce))return function Ye(Ce,$e){return te((0,Ge.Q)(Ce),$e)}(Ce,$e)}throw(0,De.z)(Ce)}(Ce,$e):(0,u.Xf)(Ce)}},8421:(Xe,we,N)=>{N.d(we,{Xf:()=>Ze});var u=N(655),X=N(1144),R=N(8239),ae=N(8306),re=N(3670),pe=N(2206),ue=N(4532),se=N(6495),ce=N(3260),$=N(576),B=N(7849),te=N(8822);function Ze(Ie){if(Ie instanceof ae.y)return Ie;if(null!=Ie){if((0,re.c)(Ie))return function Me(Ie){return new ae.y(Ee=>{const Ce=Ie[te.L]();if((0,$.m)(Ce.subscribe))return Ce.subscribe(Ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ie);if((0,X.z)(Ie))return function Oe(Ie){return new ae.y(Ee=>{for(let Ce=0;Ce<Ie.length&&!Ee.closed;Ce++)Ee.next(Ie[Ce]);Ee.complete()})}(Ie);if((0,R.t)(Ie))return function Ve(Ie){return new ae.y(Ee=>{Ie.then(Ce=>{Ee.closed||(Ee.next(Ce),Ee.complete())},Ce=>Ee.error(Ce)).then(null,B.h)})}(Ie);if((0,pe.D)(Ie))return De(Ie);if((0,se.T)(Ie))return function he(Ie){return new ae.y(Ee=>{for(const Ce of Ie)if(Ee.next(Ce),Ee.closed)return;Ee.complete()})}(Ie);if((0,ce.L)(Ie))return function Ge(Ie){return De((0,ce.Q)(Ie))}(Ie)}throw(0,ue.z)(Ie)}function De(Ie){return new ae.y(Ee=>{(function Ye(Ie,Ee){var Ce,$e,je,j;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Ce=(0,u.KL)(Ie);!($e=yield Ce.next()).done;)if(Ee.next($e.value),Ee.closed)return}catch(ve){je={error:ve}}finally{try{$e&&!$e.done&&(j=Ce.return)&&(yield j.call(Ce))}finally{if(je)throw je.error}}Ee.complete()})})(Ie,Ee).catch(Ce=>Ee.error(Ce))})}},6451:(Xe,we,N)=>{N.d(we,{T:()=>pe});var u=N(8189),X=N(8421),R=N(515),ae=N(7669),re=N(8996);function pe(...ue){const se=(0,ae.yG)(ue),ce=(0,ae._6)(ue,1/0),$=ue;return $.length?1===$.length?(0,X.Xf)($[0]):(0,u.J)(ce)((0,re.D)($,se)):R.E}},5403:(Xe,we,N)=>{N.d(we,{x:()=>X});var u=N(2961);function X(ae,re,pe,ue,se){return new R(ae,re,pe,ue,se)}class R extends u.Lv{constructor(re,pe,ue,se,ce,$){super(re),this.onFinalize=ce,this.shouldUnsubscribe=$,this._next=pe?function(B){try{pe(B)}catch(te){re.error(te)}}:super._next,this._error=se?function(B){try{se(B)}catch(te){re.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=ue?function(){try{ue()}catch(B){re.error(B)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},4004:(Xe,we,N)=>{N.d(we,{U:()=>R});var u=N(4482),X=N(5403);function R(ae,re){return(0,u.e)((pe,ue)=>{let se=0;pe.subscribe((0,X.x)(ue,ce=>{ue.next(ae.call(re,ce,se++))}))})}},8189:(Xe,we,N)=>{N.d(we,{J:()=>R});var u=N(5577),X=N(4671);function R(ae=1/0){return(0,u.z)(X.y,ae)}},5577:(Xe,we,N)=>{N.d(we,{z:()=>se});var u=N(4004),X=N(8421),R=N(4482),ae=N(9672),re=N(5403),ue=N(576);function se(ce,$,B=1/0){return(0,ue.m)($)?se((te,Ze)=>(0,u.U)((Me,Oe)=>$(te,Me,Ze,Oe))((0,X.Xf)(ce(te,Ze))),B):("number"==typeof $&&(B=$),(0,R.e)((te,Ze)=>function pe(ce,$,B,te,Ze,Me,Oe,Ve){const he=[];let De=0,Ge=0,Ye=!1;const Ie=()=>{Ye&&!he.length&&!De&&$.complete()},Ee=$e=>De<te?Ce($e):he.push($e),Ce=$e=>{Me&&$.next($e),De++;let je=!1;(0,X.Xf)(B($e,Ge++)).subscribe((0,re.x)($,j=>{null==Ze||Ze(j),Me?Ee(j):$.next(j)},()=>{je=!0},void 0,()=>{if(je)try{for(De--;he.length&&De<te;){const j=he.shift();Oe?(0,ae.f)($,Oe,()=>Ce(j)):Ce(j)}Ie()}catch(j){$.error(j)}}))};return ce.subscribe((0,re.x)($,Ee,()=>{Ye=!0,Ie()})),()=>{null==Ve||Ve()}}(te,Ze,ce,B)))}},5363:(Xe,we,N)=>{N.d(we,{Q:()=>ae});var u=N(9672),X=N(4482),R=N(5403);function ae(re,pe=0){return(0,X.e)((ue,se)=>{ue.subscribe((0,R.x)(se,ce=>(0,u.f)(se,re,()=>se.next(ce),pe),()=>(0,u.f)(se,re,()=>se.complete(),pe),ce=>(0,u.f)(se,re,()=>se.error(ce),pe)))})}},3099:(Xe,we,N)=>{N.d(we,{B:()=>pe});var u=N(8996),X=N(5698),R=N(7579),ae=N(2961),re=N(4482);function pe(se={}){const{connector:ce=(()=>new R.x),resetOnError:$=!0,resetOnComplete:B=!0,resetOnRefCountZero:te=!0}=se;return Ze=>{let Me=null,Oe=null,Ve=null,he=0,De=!1,Ge=!1;const Ye=()=>{null==Oe||Oe.unsubscribe(),Oe=null},Ie=()=>{Ye(),Me=Ve=null,De=Ge=!1},Ee=()=>{const Ce=Me;Ie(),null==Ce||Ce.unsubscribe()};return(0,re.e)((Ce,$e)=>{he++,!Ge&&!De&&Ye();const je=Ve=null!=Ve?Ve:ce();$e.add(()=>{he--,0===he&&!Ge&&!De&&(Oe=ue(Ee,te))}),je.subscribe($e),Me||(Me=new ae.Hp({next:j=>je.next(j),error:j=>{Ge=!0,Ye(),Oe=ue(Ie,$,j),je.error(j)},complete:()=>{De=!0,Ye(),Oe=ue(Ie,B),je.complete()}}),(0,u.D)(Ce).subscribe(Me))})(Ze)}}function ue(se,ce,...$){return!0===ce?(se(),null):!1===ce?null:ce(...$).pipe((0,X.q)(1)).subscribe(()=>se())}},9468:(Xe,we,N)=>{N.d(we,{R:()=>X});var u=N(4482);function X(R,ae=0){return(0,u.e)((re,pe)=>{pe.add(R.schedule(()=>re.subscribe(pe),ae))})}},5698:(Xe,we,N)=>{N.d(we,{q:()=>ae});var u=N(515),X=N(4482),R=N(5403);function ae(re){return re<=0?()=>u.E:(0,X.e)((pe,ue)=>{let se=0;pe.subscribe((0,R.x)(ue,ce=>{++se<=re&&(ue.next(ce),re<=se&&ue.complete())}))})}},8505:(Xe,we,N)=>{N.d(we,{b:()=>re});var u=N(576),X=N(4482),R=N(5403),ae=N(4671);function re(pe,ue,se){const ce=(0,u.m)(pe)||ue||se?{next:pe,error:ue,complete:se}:pe;return ce?(0,X.e)(($,B)=>{var te;null===(te=ce.subscribe)||void 0===te||te.call(ce);let Ze=!0;$.subscribe((0,R.x)(B,Me=>{var Oe;null===(Oe=ce.next)||void 0===Oe||Oe.call(ce,Me),B.next(Me)},()=>{var Me;Ze=!1,null===(Me=ce.complete)||void 0===Me||Me.call(ce),B.complete()},Me=>{var Oe;Ze=!1,null===(Oe=ce.error)||void 0===Oe||Oe.call(ce,Me),B.error(Me)},()=>{var Me,Oe;Ze&&(null===(Me=ce.unsubscribe)||void 0===Me||Me.call(ce)),null===(Oe=ce.finalize)||void 0===Oe||Oe.call(ce)}))}):ae.y}},4408:(Xe,we,N)=>{N.d(we,{o:()=>re});var u=N(727);class X extends u.w0{constructor(ue,se){super()}schedule(ue,se=0){return this}}const R={setInterval(pe,ue,...se){const{delegate:ce}=R;return(null==ce?void 0:ce.setInterval)?ce.setInterval(pe,ue,...se):setInterval(pe,ue,...se)},clearInterval(pe){const{delegate:ue}=R;return((null==ue?void 0:ue.clearInterval)||clearInterval)(pe)},delegate:void 0};var ae=N(8737);class re extends X{constructor(ue,se){super(ue,se),this.scheduler=ue,this.work=se,this.pending=!1}schedule(ue,se=0){if(this.closed)return this;this.state=ue;const ce=this.id,$=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId($,ce,se)),this.pending=!0,this.delay=se,this.id=this.id||this.requestAsyncId($,this.id,se),this}requestAsyncId(ue,se,ce=0){return R.setInterval(ue.flush.bind(ue,this),ce)}recycleAsyncId(ue,se,ce=0){if(null!=ce&&this.delay===ce&&!1===this.pending)return se;R.clearInterval(se)}execute(ue,se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ce=this._execute(ue,se);if(ce)return ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,se){let $,ce=!1;try{this.work(ue)}catch(B){ce=!0,$=B||new Error("Scheduled action threw falsy error")}if(ce)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:ue,scheduler:se}=this,{actions:ce}=se;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(ce,this),null!=ue&&(this.id=this.recycleAsyncId(se,ue,null)),this.delay=null,super.unsubscribe()}}}},7565:(Xe,we,N)=>{N.d(we,{v:()=>R});var u=N(6063);class X{constructor(re,pe=X.now){this.schedulerActionCtor=re,this.now=pe}schedule(re,pe=0,ue){return new this.schedulerActionCtor(this,re).schedule(ue,pe)}}X.now=u.l.now;class R extends X{constructor(re,pe=X.now){super(re,pe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(re){const{actions:pe}=this;if(this._active)return void pe.push(re);let ue;this._active=!0;do{if(ue=re.execute(re.state,re.delay))break}while(re=pe.shift());if(this._active=!1,ue){for(;re=pe.shift();)re.unsubscribe();throw ue}}}},4986:(Xe,we,N)=>{N.d(we,{z:()=>R});var u=N(4408);const R=new(N(7565).v)(u.o)},6063:(Xe,we,N)=>{N.d(we,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(Xe,we,N)=>{N.d(we,{z:()=>u});const u={setTimeout(X,R,...ae){const{delegate:re}=u;return(null==re?void 0:re.setTimeout)?re.setTimeout(X,R,...ae):setTimeout(X,R,...ae)},clearTimeout(X){const{delegate:R}=u;return((null==R?void 0:R.clearTimeout)||clearTimeout)(X)},delegate:void 0}},2202:(Xe,we,N)=>{N.d(we,{h:()=>X});const X=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Xe,we,N)=>{N.d(we,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Xe,we,N)=>{N.d(we,{_6:()=>pe,jO:()=>ae,yG:()=>re});var u=N(576);function R(ue){return ue[ue.length-1]}function ae(ue){return(0,u.m)(R(ue))?ue.pop():void 0}function re(ue){return function X(ue){return ue&&(0,u.m)(ue.schedule)}(R(ue))?ue.pop():void 0}function pe(ue,se){return"number"==typeof R(ue)?ue.pop():se}},8737:(Xe,we,N)=>{function u(X,R){if(X){const ae=X.indexOf(R);0<=ae&&X.splice(ae,1)}}N.d(we,{P:()=>u})},3888:(Xe,we,N)=>{function u(X){const ae=X(re=>{Error.call(re),re.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}N.d(we,{d:()=>u})},2806:(Xe,we,N)=>{N.d(we,{x:()=>R,O:()=>ae});var u=N(2416);let X=null;function R(re){if(u.v.useDeprecatedSynchronousErrorHandling){const pe=!X;if(pe&&(X={errorThrown:!1,error:null}),re(),pe){const{errorThrown:ue,error:se}=X;if(X=null,ue)throw se}}else re()}function ae(re){u.v.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=re)}},9672:(Xe,we,N)=>{function u(X,R,ae,re=0,pe=!1){const ue=R.schedule(function(){ae(),pe?X.add(this.schedule(null,re)):this.unsubscribe()},re);if(X.add(ue),!pe)return ue}N.d(we,{f:()=>u})},4671:(Xe,we,N)=>{function u(X){return X}N.d(we,{y:()=>u})},1144:(Xe,we,N)=>{N.d(we,{z:()=>u});const u=X=>X&&"number"==typeof X.length&&"function"!=typeof X},2206:(Xe,we,N)=>{N.d(we,{D:()=>X});var u=N(576);function X(R){return Symbol.asyncIterator&&(0,u.m)(null==R?void 0:R[Symbol.asyncIterator])}},576:(Xe,we,N)=>{function u(X){return"function"==typeof X}N.d(we,{m:()=>u})},3670:(Xe,we,N)=>{N.d(we,{c:()=>R});var u=N(8822),X=N(576);function R(ae){return(0,X.m)(ae[u.L])}},6495:(Xe,we,N)=>{N.d(we,{T:()=>R});var u=N(2202),X=N(576);function R(ae){return(0,X.m)(null==ae?void 0:ae[u.h])}},8239:(Xe,we,N)=>{N.d(we,{t:()=>X});var u=N(576);function X(R){return(0,u.m)(null==R?void 0:R.then)}},3260:(Xe,we,N)=>{N.d(we,{Q:()=>R,L:()=>ae});var u=N(655),X=N(576);function R(re){return(0,u.FC)(this,arguments,function*(){const ue=re.getReader();try{for(;;){const{value:se,done:ce}=yield(0,u.qq)(ue.read());if(ce)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(se)}}finally{ue.releaseLock()}})}function ae(re){return(0,X.m)(null==re?void 0:re.getReader)}},4482:(Xe,we,N)=>{N.d(we,{A:()=>X,e:()=>R});var u=N(576);function X(ae){return(0,u.m)(null==ae?void 0:ae.lift)}function R(ae){return re=>{if(X(re))return re.lift(function(pe){try{return ae(pe,this)}catch(ue){this.error(ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(Xe,we,N)=>{N.d(we,{h:()=>R});var u=N(2416),X=N(3410);function R(ae){X.z.setTimeout(()=>{const{onUnhandledError:re}=u.v;if(!re)throw ae;re(ae)})}},4532:(Xe,we,N)=>{function u(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(we,{z:()=>u})},655:(Xe,we,N)=>{function ae(W,ie){var ee={};for(var me in W)Object.prototype.hasOwnProperty.call(W,me)&&ie.indexOf(me)<0&&(ee[me]=W[me]);if(null!=W&&"function"==typeof Object.getOwnPropertySymbols){var oe=0;for(me=Object.getOwnPropertySymbols(W);oe<me.length;oe++)ie.indexOf(me[oe])<0&&Object.prototype.propertyIsEnumerable.call(W,me[oe])&&(ee[me[oe]]=W[me[oe]])}return ee}function se(W,ie,ee,me){return new(ee||(ee=Promise))(function(Ne,lt){function qt(Xt){try{Qe(me.next(Xt))}catch(Pn){lt(Pn)}}function jt(Xt){try{Qe(me.throw(Xt))}catch(Pn){lt(Pn)}}function Qe(Xt){Xt.done?Ne(Xt.value):function oe(Ne){return Ne instanceof ee?Ne:new ee(function(lt){lt(Ne)})}(Xt.value).then(qt,jt)}Qe((me=me.apply(W,ie||[])).next())})}function he(W){return this instanceof he?(this.v=W,this):new he(W)}function De(W,ie,ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,me=ee.apply(W,ie||[]),Ne=[];return oe={},lt("next"),lt("throw"),lt("return"),oe[Symbol.asyncIterator]=function(){return this},oe;function lt(rn){me[rn]&&(oe[rn]=function(Qt){return new Promise(function(Tr,Wt){Ne.push([rn,Qt,Tr,Wt])>1||qt(rn,Qt)})})}function qt(rn,Qt){try{!function jt(rn){rn.value instanceof he?Promise.resolve(rn.value.v).then(Qe,Xt):Pn(Ne[0][2],rn)}(me[rn](Qt))}catch(Tr){Pn(Ne[0][3],Tr)}}function Qe(rn){qt("next",rn)}function Xt(rn){qt("throw",rn)}function Pn(rn,Qt){rn(Qt),Ne.shift(),Ne.length&&qt(Ne[0][0],Ne[0][1])}}function Ye(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ee,ie=W[Symbol.asyncIterator];return ie?ie.call(W):(W=function te(W){var ie="function"==typeof Symbol&&Symbol.iterator,ee=ie&&W[ie],me=0;if(ee)return ee.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&me>=W.length&&(W=void 0),{value:W&&W[me++],done:!W}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),ee={},me("next"),me("throw"),me("return"),ee[Symbol.asyncIterator]=function(){return this},ee);function me(Ne){ee[Ne]=W[Ne]&&function(lt){return new Promise(function(qt,jt){!function oe(Ne,lt,qt,jt){Promise.resolve(jt).then(function(Qe){Ne({value:Qe,done:qt})},lt)}(qt,jt,(lt=W[Ne](lt)).done,lt.value)})}}}N.d(we,{_T:()=>ae,mG:()=>se,qq:()=>he,FC:()=>De,KL:()=>Ye})},5e3:(Xe,we,N)=>{N.d(we,{deG:()=>yg,tb:()=>yu,AFp:()=>fy,ip1:()=>hy,CZH:()=>e0,hGG:()=>_I,z2F:()=>Np,sBO:()=>lI,Sil:()=>r0,_Vd:()=>gu,EJc:()=>Uh,SBq:()=>xc,qLn:()=>Fd,vpe:()=>Zs,tBr:()=>Zr,XFs:()=>_t,OlP:()=>yn,zs3:()=>Us,ZZ4:()=>Vh,aQg:()=>Bp,soG:()=>gy,YKP:()=>Mh,h0i:()=>Oc,PXZ:()=>p0,R0b:()=>Io,FiY:()=>ui,Lbi:()=>$c,g9A:()=>py,Qsj:()=>wb,FYo:()=>Eb,JOm:()=>A,tp0:()=>ci,Rgc:()=>Fc,dDg:()=>fC,q4F:()=>Cb,GfV:()=>hl,s_b:()=>Cp,ifc:()=>Zt,eFA:()=>mC,G48:()=>_u,Gpc:()=>B,X6Q:()=>y0,_c5:()=>yI,VLi:()=>c0,c2e:()=>Hc,zSh:()=>L_,wAp:()=>Be,vHH:()=>Oe,cg1:()=>Lm,kL8:()=>Vm,dqk:()=>$t,sIi:()=>rc,CqO:()=>He,QGY:()=>gc,F4k:()=>X_,RDi:()=>Il,AaK:()=>se,qOj:()=>q_,TTD:()=>Ri,_Bn:()=>pu,xp6:()=>vE,uIk:()=>$f,ekj:()=>cu,Suo:()=>jb,Xpm:()=>ft,lG2:()=>wu,Yz7:()=>Qt,cJS:()=>Wt,oAB:()=>Ir,Yjl:()=>Ca,Y36:()=>Hn,_UZ:()=>lu,qZA:()=>xn,TgZ:()=>bo,EpF:()=>lh,n5z:()=>Uu,LFG:()=>Ue,$8M:()=>Ps,$Z:()=>fc,NdJ:()=>pa,CRH:()=>$b,kcU:()=>ky,O4$:()=>Ry,oxw:()=>ev,ALo:()=>Nb,lcZ:()=>Fv,Q6J:()=>Q_,s9C:()=>Wf,iGM:()=>ty,CHM:()=>Su,LSH:()=>Qu,YNc:()=>pw,_uU:()=>Ec,Oqu:()=>hv,hij:()=>ph});var u=N(7579),X=N(727),R=N(8306),ae=N(6451),re=N(3099);function pe(i){for(let o in i)if(i[o]===pe)return o;throw Error("Could not find renamed property on target object.")}function ue(i,o){for(const a in o)o.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=o[a])}function se(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(se).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function ce(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const $=pe({__forward_ref__:pe});function B(i){return i.__forward_ref__=B,i.toString=function(){return se(this())},i}function te(i){return Ze(i)?i():i}function Ze(i){return"function"==typeof i&&i.hasOwnProperty($)&&i.__forward_ref__===B}class Oe extends Error{constructor(o,a){super(function Ve(i,o){return`NG0${Math.abs(i)}${o?": "+o:""}`}(o,a)),this.code=o}}function he(i){return"string"==typeof i?i:null==i?"":String(i)}function De(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():he(i)}function Ee(i,o){const a=o?` in ${o}`:"";throw new Oe(-201,`No provider for ${De(i)} found${a}`)}function jt(i,o){null==i&&function Qe(i,o,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}(o,i,null,"!=")}function Qt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Wt(i){return{providers:i.providers||[],imports:i.imports||[]}}function Vt(i){return Wi(i,Ai)||Wi(i,Jr)}function Wi(i,o){return i.hasOwnProperty(o)?i[o]:null}function Dr(i){return i&&(i.hasOwnProperty(vs)||i.hasOwnProperty(Si))?i[vs]:null}const Ai=pe({\u0275prov:pe}),vs=pe({\u0275inj:pe}),Jr=pe({ngInjectableDef:pe}),Si=pe({ngInjectorDef:pe});var _t=(()=>((_t=_t||{})[_t.Default=0]="Default",_t[_t.Host=1]="Host",_t[_t.Self=2]="Self",_t[_t.SkipSelf=4]="SkipSelf",_t[_t.Optional=8]="Optional",_t))();let Xr;function On(i){const o=Xr;return Xr=i,o}function Ks(i,o,a){const c=Vt(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&_t.Optional?null:void 0!==o?o:void Ee(se(i),"Injector")}function Wn(i){return{toString:i}.toString()}var Un=(()=>((Un=Un||{})[Un.OnPush=0]="OnPush",Un[Un.Default=1]="Default",Un))(),Zt=(()=>{return(i=Zt||(Zt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Zt;var i})();const it="undefined"!=typeof globalThis&&globalThis,Et="undefined"!=typeof window&&window,gr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,$t=it||"undefined"!=typeof global&&global||Et||gr,yr={},U=[],q=pe({\u0275cmp:pe}),Z=pe({\u0275dir:pe}),Te=pe({\u0275pipe:pe}),H=pe({\u0275mod:pe}),J=pe({\u0275fac:pe}),Pe=pe({__NG_ELEMENT_ID__:pe});let Je=0;function ft(i){return Wn(()=>{const a={},c={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Un.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||U,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Zt.Emulated,id:"c",styles:i.styles||U,_:null,setInput:null,schemas:i.schemas||null,tView:null},h=i.directives,g=i.features,_=i.pipes;return c.id+=Je++,c.inputs=ba(i.inputs,a),c.outputs=ba(i.outputs),g&&g.forEach(w=>w(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(hn):null,c.pipeDefs=_?()=>("function"==typeof _?_():_).map(wt):null,c})}function hn(i){return Zn(i)||function Ar(i){return i[Z]||null}(i)}function wt(i){return function Ki(i){return i[Te]||null}(i)}const qn={};function Ir(i){return Wn(()=>{const o={type:i.type,bootstrap:i.bootstrap||U,declarations:i.declarations||U,imports:i.imports||U,exports:i.exports||U,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(qn[i.id]=i.type),o})}function ba(i,o){if(null==i)return yr;const a={};for(const c in i)if(i.hasOwnProperty(c)){let h=i[c],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),a[h]=c,o&&(o[h]=g)}return a}const wu=ft;function Ca(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Zn(i){return i[q]||null}function Gn(i,o){const a=i[H]||null;if(!a&&!0===o)throw new Error(`Type ${se(i)} does not have '\u0275mod' property.`);return a}function $r(i){return Array.isArray(i)&&"object"==typeof i[1]}function Pi(i){return Array.isArray(i)&&!0===i[1]}function Tu(i){return 0!=(8&i.flags)}function td(i){return 2==(2&i.flags)}function Oi(i){return 1==(1&i.flags)}function Ni(i){return null!==i.template}function bl(i){return 0!=(512&i[2])}function vr(i,o){return i.hasOwnProperty(J)?i[J]:null}class Xs{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function Ri(){return Ro}function Ro(i){return i.type.prototype.ngOnChanges&&(i.setInput=Qh),ld}function ld(){const i=eo(this),o=null==i?void 0:i.current;if(o){const a=i.previous;if(a===yr)i.previous=o;else for(let c in o)a[c]=o[c];i.current=null,this.ngOnChanges(o)}}function Qh(i,o,a,c){const h=eo(i)||function ko(i,o){return i[Rt]=o}(i,{previous:yr,current:null}),g=h.current||(h.current={}),_=h.previous,w=this.declaredInputs[a],b=_[w];g[w]=new Xs(b&&b.currentValue,o,_===yr),i[c]=o}Ri.ngInherit=!0;const Rt="__ngSimpleChanges__";function eo(i){return i[Rt]||null}let Lo;function Il(i){Lo=i}function on(i){return!!i.listen}const Sa={createRenderer:(i,o)=>function ki(){return void 0!==Lo?Lo:"undefined"!=typeof document?document:void 0}()};function Jt(i){for(;Array.isArray(i);)i=i[0];return i}function Is(i,o){return Jt(o[i])}function or(i,o){return Jt(o[i.index])}function En(i,o){return i.data[o]}function ar(i,o){const a=o[i];return $r(a)?a:a[0]}function no(i){return 4==(4&i[2])}function Ji(i){return 128==(128&i[2])}function bi(i,o){return null==o?null:i[o]}function Li(i){i[18]=0}function Uo(i,o){i[5]+=o;let a=i,c=i[3];for(;null!==c&&(1===o&&1===a[5]||-1===o&&0===a[5]);)c[5]+=o,a=c,c=c[3]}const pt={lFrame:hd(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Oa(){return pt.bindingsEnabled}function Ae(){return pt.lFrame.lView}function Lt(){return pt.lFrame.tView}function Su(i){return pt.lFrame.contextLView=i,i[8]}function pn(){let i=Bo();for(;null!==i&&64===i.type;)i=i.parent;return i}function Bo(){return pt.lFrame.currentTNode}function ri(i,o){const a=pt.lFrame;a.currentTNode=i,a.isParent=o}function Na(){return pt.lFrame.isParent}function Ra(){return pt.isInCheckNoChangesMode}function xu(i){pt.isInCheckNoChangesMode=i}function As(){return pt.lFrame.bindingIndex++}function Nl(i,o){const a=pt.lFrame;a.bindingIndex=a.bindingRootIndex=i,Fa(o)}function Fa(i){pt.lFrame.currentDirectiveIndex=i}function Rl(){return pt.lFrame.currentQueryIndex}function La(i){pt.lFrame.currentQueryIndex=i}function pg(i){const o=i[1];return 2===o.type?o.declTNode:1===o.type?i[6]:null}function kl(i,o,a){if(a&_t.SkipSelf){let h=o,g=i;for(;!(h=h.parent,null!==h||a&_t.Host||(h=pg(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,i=g}const c=pt.lFrame=Ua();return c.currentTNode=o,c.lView=i,!0}function $o(i){const o=Ua(),a=i[1];pt.lFrame=o,o.currentTNode=a.firstChild,o.lView=i,o.tView=a,o.contextLView=i,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Ua(){const i=pt.lFrame,o=null===i?null:i.child;return null===o?hd(i):o}function hd(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function Ho(){const i=pt.lFrame;return pt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const fd=Ho;function qo(){const i=Ho();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Kn(){return pt.lFrame.selectedIndex}function Vi(i){pt.lFrame.selectedIndex=i}function An(){const i=pt.lFrame;return En(i.tView,i.selectedIndex)}function Ry(){pt.lFrame.currentNamespace="svg"}function ky(){!function Fy(){pt.lFrame.currentNamespace=null}()}function gd(i,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const g=i.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:w,ngAfterViewInit:b,ngAfterViewChecked:I,ngOnDestroy:M}=g;_&&(i.contentHooks||(i.contentHooks=[])).push(-a,_),w&&((i.contentHooks||(i.contentHooks=[])).push(a,w),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,w)),b&&(i.viewHooks||(i.viewHooks=[])).push(-a,b),I&&((i.viewHooks||(i.viewHooks=[])).push(a,I),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,I)),null!=M&&(i.destroyHooks||(i.destroyHooks=[])).push(a,M)}}function Va(i,o,a){Yn(i,o,3,a)}function es(i,o,a,c){(3&i[2])===a&&Yn(i,o,a,c)}function Zo(i,o){let a=i[2];(3&a)===o&&(a&=2047,a+=1,i[2]=a)}function Yn(i,o,a,c){const g=null!=c?c:-1,_=o.length-1;let w=0;for(let b=void 0!==c?65535&i[18]:0;b<_;b++)if("number"==typeof o[b+1]){if(w=o[b],null!=c&&w>=c)break}else o[b]<0&&(i[18]+=65536),(w<g||-1==g)&&(tf(i,a,o,b),i[18]=(4294901760&i[18])+b+2),b++}function tf(i,o,a,c){const h=a[c]<0,g=a[c+1],w=i[h?-a[c]:a[c]];if(h){if(i[2]>>11<i[18]>>16&&(3&i[2])===o){i[2]+=2048;try{g.call(w)}finally{}}}else try{g.call(w)}finally{}}class Nu{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function et(i,o,a){const c=on(i);let h=0;for(;h<a.length;){const g=a[h];if("number"==typeof g){if(0!==g)break;h++;const _=a[h++],w=a[h++],b=a[h++];c?i.setAttribute(o,w,b,_):o.setAttributeNS(_,w,b)}else{const _=g,w=a[++h];xr(_)?c&&i.setProperty(o,_,w):c?i.setAttribute(o,_,w):o.setAttribute(_,w),h++}}return h}function ii(i){return 3===i||4===i||6===i}function xr(i){return 64===i.charCodeAt(0)}function jn(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const h=o[c];"number"==typeof h?a=h:0===a||Fl(i,a,h,null,-1===a||2===a?o[++c]:null)}}return i}function Fl(i,o,a,c,h){let g=0,_=i.length;if(-1===o)_=-1;else for(;g<i.length;){const w=i[g++];if("number"==typeof w){if(w===o){_=-1;break}if(w>o){_=g-1;break}}}for(;g<i.length;){const w=i[g];if("number"==typeof w)break;if(w===a){if(null===c)return void(null!==h&&(i[g+1]=h));if(c===i[g+1])return void(i[g+2]=h)}g++,null!==c&&g++,null!==h&&g++}-1!==_&&(i.splice(_,0,o),g=_+1),i.splice(g++,0,a),null!==c&&i.splice(g++,0,c),null!==h&&i.splice(g++,0,h)}function _d(i){return-1!==i}function Bi(i){return 32767&i}function ln(i,o){let a=function Ll(i){return i>>16}(i),c=o;for(;a>0;)c=c[15],a--;return c}let ja=!0;function Ti(i){const o=ja;return ja=i,o}let Ed=0;function kn(i,o){const a=zo(i,o);if(-1!==a)return a;const c=o[1];c.firstCreatePass&&(i.injectorIndex=o.length,Go(c.data,i),Go(o,null),Go(c.blueprint,null));const h=Ss(i,o),g=i.injectorIndex;if(_d(h)){const _=Bi(h),w=ln(h,o),b=w[1].data;for(let I=0;I<8;I++)o[g+I]=w[_+I]|b[_+I]}return o[g+8]=h,g}function Go(i,o){i.push(0,0,0,0,0,0,0,0,o)}function zo(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function Ss(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,h=o;for(;null!==h;){const g=h[1],_=g.type;if(c=2===_?g.declTNode:1===_?h[6]:null,null===c)return-1;if(a++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function ur(i,o,a){!function Ul(i,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(Pe)&&(c=a[Pe]),null==c&&(c=a[Pe]=Ed++);const h=255&c;o.data[i+(h>>5)]|=1<<h}(i,o,a)}function ji(i,o,a){if(a&_t.Optional)return i;Ee(o,"NodeInjector")}function Wo(i,o,a,c){if(a&_t.Optional&&void 0===c&&(c=null),0==(a&(_t.Self|_t.Host))){const h=i[9],g=On(void 0);try{return h?h.get(o,c,a&_t.Optional):Ks(o,c,a&_t.Optional)}finally{On(g)}}return ji(c,o,a)}function Ms(i,o,a,c=_t.Default,h){if(null!==i){const g=function $a(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(Pe)?i[Pe]:void 0;return"number"==typeof o?o>=0?255&o:oo:o}(a);if("function"==typeof g){if(!kl(o,i,c))return c&_t.Host?ji(h,a,c):Wo(o,a,c,h);try{const _=g(c);if(null!=_||c&_t.Optional)return _;Ee(a)}finally{fd()}}else if("number"==typeof g){let _=null,w=zo(i,o),b=-1,I=c&_t.Host?o[16][6]:null;for((-1===w||c&_t.SkipSelf)&&(b=-1===w?Ss(i,o):o[w+8],-1!==b&&lr(c,!1)?(_=o[1],w=Bi(b),o=ln(b,o)):w=-1);-1!==w;){const M=o[1];if(xs(g,w,M.data)){const k=Yo(w,o,a,_,c,I);if(k!==Ko)return k}b=o[w+8],-1!==b&&lr(c,o[1].data[w+8]===I)&&xs(g,w,o)?(_=M,w=Bi(b),o=ln(b,o)):w=-1}}}return Wo(o,a,c,h)}const Ko={};function oo(){return new ao(pn(),Ae())}function Yo(i,o,a,c,h,g){const _=o[1],w=_.data[i+8],M=Qo(w,_,a,null==c?td(w)&&ja:c!=_&&0!=(3&w.type),h&_t.Host&&g===w);return null!==M?Jo(o,_,M,w):Ko}function Qo(i,o,a,c,h){const g=i.providerIndexes,_=o.data,w=1048575&g,b=i.directiveStart,M=g>>20,V=h?w+M:i.directiveEnd;for(let Q=c?w:w+M;Q<V;Q++){const _e=_[Q];if(Q<b&&a===_e||Q>=b&&_e.type===a)return Q}if(h){const Q=_[b];if(Q&&Ni(Q)&&Q.type===a)return b}return null}function Jo(i,o,a,c){let h=i[a];const g=o.data;if(function md(i){return i instanceof Nu}(h)){const _=h;_.resolving&&function Ge(i,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new Oe(-200,`Circular dependency in DI detected for ${i}${a}`)}(De(g[a]));const w=Ti(_.canSeeViewProviders);_.resolving=!0;const b=_.injectImpl?On(_.injectImpl):null;kl(i,c,_t.Default);try{h=i[a]=_.factory(void 0,g,i,c),o.firstCreatePass&&a>=c.directiveStart&&function gg(i,o,a){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(c){const _=Ro(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,_)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,h),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,g))}(a,g[a],o)}finally{null!==b&&On(b),Ti(w),_.resolving=!1,fd()}}return h}function xs(i,o,a){return!!(a[o+(i>>5)]&1<<i)}function lr(i,o){return!(i&_t.Self||i&_t.Host&&o)}class ao{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return Ms(this._tNode,this._lView,o,c,a)}}function Uu(i){return Wn(()=>{const o=i.prototype.constructor,a=o[J]||mn(o),c=Object.prototype;let h=Object.getPrototypeOf(i.prototype).constructor;for(;h&&h!==c;){const g=h[J]||mn(h);if(g&&g!==a)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function mn(i){return Ze(i)?()=>{const o=mn(te(i));return o&&o()}:vr(i)}function Ps(i){return function Lu(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const a=i.attrs;if(a){const c=a.length;let h=0;for(;h<c;){const g=a[h];if(ii(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<c&&"string"==typeof a[h];)h++;else{if(g===o)return a[h+1];h+=2}}}return null}(pn(),i)}const ts="__parameters__";function Sn(i,o,a){return Wn(()=>{const c=function si(i){return function(...a){if(i){const c=i(...a);for(const h in c)this[h]=c[h]}}}(o);function h(...g){if(this instanceof h)return c.apply(this,g),this;const _=new h(...g);return w.annotation=_,w;function w(b,I,M){const k=b.hasOwnProperty(ts)?b[ts]:Object.defineProperty(b,ts,{value:[]})[ts];for(;k.length<=M;)k.push(null);return(k[M]=k[M]||[]).push(_),b}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=i,h.annotationCls=h,h})}class yn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Qt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const yg=new yn("AnalyzeForEntryComponents");function oi(i,o){void 0===o&&(o=i);for(let a=0;a<i.length;a++){let c=i[a];Array.isArray(c)?(o===i&&(o=i.slice(0,a)),oi(c,o)):o!==i&&o.push(c)}return o}function ai(i,o){i.forEach(a=>Array.isArray(a)?ai(a,o):o(a))}function ea(i,o,a){o>=i.length?i.push(a):i.splice(o,0,a)}function co(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function Qn(i,o,a){let c=Ns(i,o);return c>=0?i[1|c]=a:(c=~c,function ns(i,o,a,c){let h=i.length;if(h==o)i.push(a,c);else if(1===h)i.push(c,i[0]),i[0]=a;else{for(h--,i.push(i[h-1],i[h]);h>o;)i[h]=i[h-2],h--;i[o]=a,i[o+1]=c}}(i,c,o,a)),c}function Za(i,o){const a=Ns(i,o);if(a>=0)return i[1|a]}function Ns(i,o){return function bd(i,o,a){let c=0,h=i.length>>a;for(;h!==c;){const g=c+(h-c>>1),_=i[g<<a];if(o===_)return g<<a;_>o?h=g:c=g+1}return~(h<<a)}(i,o,1)}const na={},ra="__NG_DI_FLAG__",po="ngTempTokenPath",T=/\n/gm,P="__source",F=pe({provide:String,useValue:pe});let Y;function ne(i){const o=Y;return Y=i,o}function ge(i,o=_t.Default){if(void 0===Y)throw new Oe(203,"");return null===Y?Ks(i,void 0,o):Y.get(i,o&_t.Optional?null:void 0,o)}function Ue(i,o=_t.Default){return(function In(){return Xr}()||ge)(te(i),o)}const ht=Ue;function Ht(i){const o=[];for(let a=0;a<i.length;a++){const c=te(i[a]);if(Array.isArray(c)){if(0===c.length)throw new Oe(900,"");let h,g=_t.Default;for(let _=0;_<c.length;_++){const w=c[_],b=Er(w);"number"==typeof b?-1===b?h=w.token:g|=b:h=w}o.push(Ue(h,g))}else o.push(Ue(c))}return o}function bt(i,o){return i[ra]=o,i.prototype[ra]=o,i}function Er(i){return i[ra]}const Zr=bt(Sn("Inject",i=>({token:i})),-1),ui=bt(Sn("Optional"),8),ci=bt(Sn("SkipSelf"),4);class Sd{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function sa(i){return i instanceof Sd?i.changingThisBreaksApplicationSecurity:i}const Pd=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Pg=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Gt=(()=>((Gt=Gt||{})[Gt.NONE=0]="NONE",Gt[Gt.HTML=1]="HTML",Gt[Gt.STYLE=2]="STYLE",Gt[Gt.SCRIPT=3]="SCRIPT",Gt[Gt.URL=4]="URL",Gt[Gt.RESOURCE_URL=5]="RESOURCE_URL",Gt))();function Qu(i){const o=function oa(){const i=Ae();return i&&i[12]}();return o?o.sanitize(Gt.URL,i)||"":function ks(i,o){const a=function Zl(i){return i instanceof Sd&&i.getTypeName()||null}(i);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}(i,"URL")?sa(i):function Fs(i){return(i=String(i)).match(Pd)||i.match(Pg)?i:"unsafe:"+i}(he(i))}const mf="__ngContext__";function dr(i,o){i[mf]=o}function kd(i){const o=function Ja(i){return i[mf]||null}(i);return o?Array.isArray(o)?o:o.lView:null}function hi(i){return i.ngOriginalError}function n_(i,...o){i.error(...o)}class Fd{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),c=function jg(i){return i&&i.ngErrorLogger||n_}(o);c(this._console,"ERROR",o),a&&c(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&hi(o);for(;a&&hi(a);)a=hi(a);return a||null}}const i_=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind($t))();function ss(i){return i instanceof Function?i():i}var A=(()=>((A=A||{})[A.Important=1]="Important",A[A.DashCase=2]="DashCase",A))();function z(i,o){return undefined(i,o)}function We(i){const o=i[3];return Pi(o)?o[3]:o}function Mn(i){return Yl(i[13])}function pi(i){return Yl(i[4])}function Yl(i){for(;null!==i&&!Pi(i);)i=i[4];return i}function aa(i,o,a,c,h){if(null!=c){let g,_=!1;Pi(c)?g=c:$r(c)&&(_=!0,c=c[0]);const w=Jt(c);0===i&&null!==a?null==h?l_(o,a,w):os(o,a,w,h||null,!0):1===i&&null!==a?os(o,a,w,h||null,!0):2===i?function f_(i,o,a){const c=zt(i,o);c&&function TT(i,o,a,c){on(i)?i.removeChild(o,a,c):o.removeChild(a)}(i,c,o,a)}(o,w,_):3===i&&o.destroyNode(w),null!=g&&function hr(i,o,a,c,h){const g=a[7];g!==Jt(a)&&aa(o,i,c,g,h);for(let w=10;w<a.length;w++){const b=a[w];Kg(b[1],b,i,o,c,g)}}(o,i,g,a,h)}}function Vd(i,o,a){if(on(i))return i.createElement(o,a);{const c=null!==a?function Dl(i){const o=i.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(a):null;return null===c?i.createElement(o):i.createElementNS(c,o)}}function uE(i,o){const a=i[9],c=a.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,Uo(h,-1)),a.splice(c,1)}function o_(i,o){if(i.length<=10)return;const a=10+o,c=i[a];if(c){const h=c[17];null!==h&&h!==i&&uE(h,c),o>0&&(i[a-1][4]=c[4]);const g=co(i,10+o);!function wr(i,o){Kg(i,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const _=g[19];null!==_&&_.detachView(g[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function a_(i,o){if(!(256&o[2])){const a=o[11];on(a)&&a.destroyNode&&Kg(i,o,a,3,null,null),function Gr(i){let o=i[13];if(!o)return u_(i[1],i);for(;o;){let a=null;if($r(o))a=o[13];else{const c=o[10];c&&(a=c)}if(!a){for(;o&&!o[4]&&o!==i;)$r(o)&&u_(o[1],o),o=o[3];null===o&&(o=i),$r(o)&&u_(o[1],o),a=o&&o[4]}o=a}}(o)}}function u_(i,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function cE(i,o){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const h=o[a[c]];if(!(h instanceof Nu)){const g=a[c+1];if(Array.isArray(g))for(let _=0;_<g.length;_+=2){const w=h[g[_]],b=g[_+1];try{b.call(w)}finally{}}else try{g.call(h)}finally{}}}}(i,o),function lE(i,o){const a=i.cleanup,c=o[7];let h=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const _=a[g+1],w="function"==typeof _?_(o):Jt(o[_]),b=c[h=a[g+2]],I=a[g+3];"boolean"==typeof I?w.removeEventListener(a[g],b,I):I>=0?c[h=I]():c[h=-I].unsubscribe(),g+=2}else{const _=c[h=a[g+1]];a[g].call(_)}if(null!==c){for(let g=h+1;g<c.length;g++)c[g]();o[7]=null}}(i,o),1===o[1].type&&on(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&Pi(o[3])){a!==o[3]&&uE(a,o);const c=o[19];null!==c&&c.detachView(i)}}}function zg(i,o,a){return function CT(i,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[0];if(2&c.flags){const h=i.data[c.directiveStart].encapsulation;if(h===Zt.None||h===Zt.Emulated)return null}return or(c,a)}(i,o.parent,a)}function os(i,o,a,c,h){on(i)?i.insertBefore(o,a,c,h):o.insertBefore(a,c,h)}function l_(i,o,a){on(i)?i.appendChild(o,a):o.appendChild(a)}function dE(i,o,a,c,h){null!==c?os(i,o,a,c,h):l_(i,o,a)}function zt(i,o){return on(i)?i.parentNode(o):o.parentNode}let c_=function fE(i,o,a){return 40&i.type?or(i,a):null};function Wg(i,o,a,c){const h=zg(i,c,o),g=o[11],w=function hE(i,o,a){return c_(i,o,a)}(c.parent||o[6],c,o);if(null!=h)if(Array.isArray(a))for(let b=0;b<a.length;b++)dE(g,h,a[b],w,!1);else dE(g,h,a,w,!1)}function Bd(i,o){if(null!==o){const a=o.type;if(3&a)return or(o,i);if(4&a)return h_(-1,i[o.index]);if(8&a){const c=o.child;if(null!==c)return Bd(i,c);{const h=i[o.index];return Pi(h)?h_(-1,h):Jt(h)}}if(32&a)return z(o,i)()||Jt(i[o.index]);{const c=gE(i,o);return null!==c?Array.isArray(c)?c[0]:Bd(We(i[16]),c):Bd(i,o.next)}}return null}function gE(i,o){return null!==o?i[16][6].projection[o.projection]:null}function h_(i,o){const a=10+i+1;if(a<o.length){const c=o[a],h=c[1].firstChild;if(null!==h)return Bd(c,h)}return o[7]}function p_(i,o,a,c,h,g,_){for(;null!=a;){const w=c[a.index],b=a.type;if(_&&0===o&&(w&&dr(Jt(w),c),a.flags|=4),64!=(64&a.flags))if(8&b)p_(i,o,a.child,c,h,g,!1),aa(o,i,h,w,g);else if(32&b){const I=z(a,c);let M;for(;M=I();)aa(o,i,h,M,g);aa(o,i,h,w,g)}else 16&b?mE(i,o,c,a,h,g):aa(o,i,h,w,g);a=_?a.projectionNext:a.next}}function Kg(i,o,a,c,h,g){p_(a,c,i.firstChild,o,h,g,!1)}function mE(i,o,a,c,h,g){const _=a[16],b=_[6].projection[c.projection];if(Array.isArray(b))for(let I=0;I<b.length;I++)aa(o,i,h,b[I],g);else p_(i,o,b,_[3],h,g,!0)}function yE(i,o,a){on(i)?i.setAttribute(o,"style",a):o.style.cssText=a}function m_(i,o,a){on(i)?""===a?i.removeAttribute(o,"class"):i.setAttribute(o,"class",a):o.className=a}function as(i,o,a){let c=i.length;for(;;){const h=i.indexOf(o,a);if(-1===h)return h;if(0===h||i.charCodeAt(h-1)<=32){const g=o.length;if(h+g===c||i.charCodeAt(h+g)<=32)return h}a=h+1}}const _E="ng-template";function be(i,o,a){let c=0;for(;c<i.length;){let h=i[c++];if(a&&"class"===h){if(h=i[c],-1!==as(h.toLowerCase(),o,0))return!0}else if(1===h){for(;c<i.length&&"string"==typeof(h=i[c++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function tl(i){return 4===i.type&&i.value!==_E}function Yg(i,o,a){return o===(4!==i.type||a?i.value:_E)}function nl(i,o,a){let c=4;const h=i.attrs||[],g=function y_(i){for(let o=0;o<i.length;o++)if(ii(i[o]))return o;return i.length}(h);let _=!1;for(let w=0;w<o.length;w++){const b=o[w];if("number"!=typeof b){if(!_)if(4&c){if(c=2|1&c,""!==b&&!Yg(i,b,a)||""===b&&1===o.length){if(St(c))return!1;_=!0}}else{const I=8&c?b:o[++w];if(8&c&&null!==i.attrs){if(!be(i.attrs,I,a)){if(St(c))return!1;_=!0}continue}const k=AT(8&c?"class":b,h,tl(i),a);if(-1===k){if(St(c))return!1;_=!0;continue}if(""!==I){let V;V=k>g?"":h[k+1].toLowerCase();const Q=8&c?V:null;if(Q&&-1!==as(Q,I,0)||2&c&&I!==V){if(St(c))return!1;_=!0}}}}else{if(!_&&!St(c)&&!St(b))return!1;if(_&&St(b))continue;_=!1,c=b|1&c}}return St(c)||_}function St(i){return 0==(1&i)}function AT(i,o,a,c){if(null===o)return-1;let h=0;if(c||!a){let g=!1;for(;h<o.length;){const _=o[h];if(_===i)return h;if(3===_||6===_)g=!0;else{if(1===_||2===_){let w=o[++h];for(;"string"==typeof w;)w=o[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=g?1:2}return-1}return function Ot(i,o){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,i)}function ua(i,o,a=!1){for(let c=0;c<o.length;c++)if(nl(i,o[c],a))return!0;return!1}function Jg(i,o){return i?":not("+o.trim()+")":o}function Tf(i){let o=i[0],a=1,c=2,h="",g=!1;for(;a<i.length;){let _=i[a];if("string"==typeof _)if(2&c){const w=i[++a];h+="["+_+(w.length>0?'="'+w+'"':"")+"]"}else 8&c?h+="."+_:4&c&&(h+=" "+_);else""!==h&&!St(_)&&(o+=Jg(g,h),h=""),c=_,g=g||!St(c);a++}return""!==h&&(o+=Jg(g,h)),o}const Nt={};function vE(i){EE(Lt(),Ae(),Kn()+i,Ra())}function EE(i,o,a,c){if(!c)if(3==(3&o[2])){const g=i.preOrderCheckHooks;null!==g&&Va(o,g,a)}else{const g=i.preOrderHooks;null!==g&&es(o,g,0,a)}Vi(a)}function Ql(i,o){return i<<17|o<<2}function _n(i){return i>>17&32767}function v_(i){return 2|i}function la(i){return(131068&i)>>2}function Xg(i,o){return-131069&i|o<<2}function em(i){return 1|i}function D_(i,o){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const h=a[c],g=a[c+1];if(-1!==g){const _=i.data[g];La(h),_.contentQueries(2,o[g],g)}}}function Zd(i,o,a,c,h,g,_,w,b,I){const M=o.blueprint.slice();return M[0]=h,M[2]=140|c,Li(M),M[3]=M[15]=i,M[8]=a,M[10]=_||i&&i[10],M[11]=w||i&&i[11],M[12]=b||i&&i[12]||null,M[9]=I||i&&i[9]||null,M[6]=g,M[16]=2==o.type?i[16]:M,M}function rl(i,o,a,c,h){let g=i.data[o];if(null===g)g=function am(i,o,a,c,h){const g=Bo(),_=Na(),b=i.data[o]=function FT(i,o,a,c,h,g){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?g:g&&g.parent,a,o,c,h);return null===i.firstChild&&(i.firstChild=b),null!==g&&(_?null==g.child&&null!==b.parent&&(g.child=b):null===g.next&&(g.next=b)),b}(i,o,a,c,h),function Ol(){return pt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=a,g.value=c,g.attrs=h;const _=function ro(){const i=pt.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();g.injectorIndex=null===_?-1:_.injectorIndex}return ri(g,!0),g}function Gd(i,o,a,c){if(0===a)return-1;const h=o.length;for(let g=0;g<a;g++)o.push(c),i.blueprint.push(c),i.data.push(null);return h}function Xl(i,o,a){$o(o);try{const c=i.viewQuery;null!==c&&ym(1,c,a);const h=i.template;null!==h&&br(i,o,h,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&D_(i,o),i.staticViewQueries&&ym(2,i.viewQuery,a);const g=i.components;null!==g&&function RE(i,o){for(let a=0;a<o.length;a++)x_(i,o[a])}(o,g)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{o[2]&=-5,qo()}}function il(i,o,a,c){const h=o[2];if(256==(256&h))return;$o(o);const g=Ra();try{Li(o),function ka(i){return pt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&br(i,o,a,2,c);const _=3==(3&h);if(!g)if(_){const I=i.preOrderCheckHooks;null!==I&&Va(o,I,null)}else{const I=i.preOrderHooks;null!==I&&es(o,I,0,null),Zo(o,0)}if(function qE(i){for(let o=Mn(i);null!==o;o=pi(o)){if(!o[2])continue;const a=o[9];for(let c=0;c<a.length;c++){const h=a[c],g=h[3];0==(1024&h[2])&&Uo(g,1),h[2]|=1024}}}(o),function HE(i){for(let o=Mn(i);null!==o;o=pi(o))for(let a=10;a<o.length;a++){const c=o[a],h=c[1];Ji(c)&&il(h,c,h.template,c[8])}}(o),null!==i.contentQueries&&D_(i,o),!g)if(_){const I=i.contentCheckHooks;null!==I&&Va(o,I)}else{const I=i.contentHooks;null!==I&&es(o,I,1),Zo(o,1)}!function NE(i,o){const a=i.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const h=a[c];if(h<0)Vi(~h);else{const g=h,_=a[++c],w=a[++c];Nl(_,g),w(2,o[g])}}}finally{Vi(-1)}}(i,o);const w=i.components;null!==w&&function kT(i,o){for(let a=0;a<o.length;a++)xf(i,o[a])}(o,w);const b=i.viewQuery;if(null!==b&&ym(2,b,c),!g)if(_){const I=i.viewCheckHooks;null!==I&&Va(o,I)}else{const I=i.viewHooks;null!==I&&es(o,I,2),Zo(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),g||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Uo(o[3],-1))}finally{qo()}}function I_(i,o,a,c){const h=o[10],g=!Ra(),_=no(o);try{g&&!_&&h.begin&&h.begin(),_&&Xl(i,o,c),il(i,o,a,c)}finally{g&&!_&&h.end&&h.end()}}function br(i,o,a,c,h){const g=Kn(),_=2&c;try{Vi(-1),_&&o.length>20&&EE(i,o,20,Ra()),a(c,h)}finally{Vi(g)}}function zd(i,o,a){!Oa()||(function jT(i,o,a,c){const h=a.directiveStart,g=a.directiveEnd;i.firstCreatePass||kn(a,o),dr(c,o);const _=a.initialInputs;for(let w=h;w<g;w++){const b=i.data[w],I=Ni(b);I&&$E(o,a,b);const M=Jo(o,i,w,a);dr(M,o),null!==_&&Mf(0,w-h,M,b,0,_),I&&(ar(a.index,o)[8]=M)}}(i,o,a,or(a,o)),128==(128&a.flags)&&function Kd(i,o,a){const c=a.directiveStart,h=a.directiveEnd,_=a.index,w=function Ou(){return pt.lFrame.currentDirectiveIndex}();try{Vi(_);for(let b=c;b<h;b++){const I=i.data[b],M=o[b];Fa(b),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&BE(I,M)}}finally{Vi(-1),Fa(w)}}(i,o,a))}function Af(i,o,a=or){const c=o.localNames;if(null!==c){let h=o.index+1;for(let g=0;g<c.length;g+=2){const _=c[g+1],w=-1===_?a(o,i):i[_];i[h++]=w}}}function kE(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=um(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):o}function um(i,o,a,c,h,g,_,w,b,I){const M=20+c,k=M+h,V=function FE(i,o){const a=[];for(let c=0;c<o;c++)a.push(c<i?null:Nt);return a}(M,k),Q="function"==typeof I?I():I;return V[1]={type:i,blueprint:V,template:a,queries:null,viewQuery:w,declTNode:o,data:V.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:b,consts:Q,incompleteFirstPass:!1}}function cm(i,o,a,c){const h=Qd(o);null===a?h.push(c):(h.push(a),i.firstCreatePass&&R_(i).push(c,h.length-1))}function dm(i,o,a){for(let c in i)if(i.hasOwnProperty(c)){const h=i[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(o,h):a[c]=[o,h]}return a}function gi(i,o,a,c,h,g,_,w){const b=or(o,a);let M,I=o.inputs;!w&&null!=I&&(M=I[c])?(ol(i,a,M,c,h),td(o)&&function A_(i,o){const a=ar(o,i);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(c=function LT(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),h=null!=_?_(h,o.value||"",c):h,on(g)?g.setProperty(b,c,h):xr(c)||(b.setProperty?b.setProperty(c,h):b[c]=h))}function hm(i,o,a,c){let h=!1;if(Oa()){const g=function $T(i,o,a){const c=i.directiveRegistry;let h=null;if(c)for(let g=0;g<c.length;g++){const _=c[g];ua(a,_.selectors,!1)&&(h||(h=[]),ur(kn(a,o),i,_.type),Ni(_)?(sl(i,a),h.unshift(_)):h.push(_))}return h}(i,o,a),_=null===c?null:{"":-1};if(null!==g){h=!0,M_(a,i.data.length,g.length);for(let M=0;M<g.length;M++){const k=g[M];k.providersResolver&&k.providersResolver(k)}let w=!1,b=!1,I=Gd(i,o,g.length,null);for(let M=0;M<g.length;M++){const k=g[M];a.mergedAttrs=jn(a.mergedAttrs,k.hostAttrs),Yd(i,a,o,I,k),fm(I,k,_),null!==k.contentQueries&&(a.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(a.flags|=128);const V=k.type.prototype;!w&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),w=!0),!b&&(V.ngOnChanges||V.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),b=!0),I++}!function UE(i,o){const c=o.directiveEnd,h=i.data,g=o.attrs,_=[];let w=null,b=null;for(let I=o.directiveStart;I<c;I++){const M=h[I],k=M.inputs,V=null===g||tl(o)?null:gm(k,g);_.push(V),w=dm(k,I,w),b=dm(M.outputs,I,b)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=_,o.inputs=w,o.outputs=b}(i,a)}_&&function jE(i,o,a){if(o){const c=i.localNames=[];for(let h=0;h<o.length;h+=2){const g=a[o[h+1]];if(null==g)throw new Oe(-301,!1);c.push(o[h],g)}}}(a,c,_)}return a.mergedAttrs=jn(a.mergedAttrs,a.attrs),h}function Sf(i,o,a,c,h,g){const _=g.hostBindings;if(_){let w=i.hostBindingOpCodes;null===w&&(w=i.hostBindingOpCodes=[]);const b=~o.index;(function BT(i){let o=i.length;for(;o>0;){const a=i[--o];if("number"==typeof a&&a<0)return a}return 0})(w)!=b&&w.push(b),w.push(c,h,_)}}function BE(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function sl(i,o){o.flags|=2,(i.components||(i.components=[])).push(o.index)}function fm(i,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=i;Ni(o)&&(a[""]=i)}}function M_(i,o,a){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+a,i.providerIndexes=o}function Yd(i,o,a,c,h){i.data[c]=h;const g=h.factory||(h.factory=vr(h.type)),_=new Nu(g,Ni(h),null);i.blueprint[c]=_,a[c]=_,Sf(i,o,0,c,Gd(i,a,h.hostVars,Nt),h)}function $E(i,o,a){const c=or(o,i),h=kE(a),g=i[10],_=ec(i,Zd(i,h,null,a.onPush?64:16,c,o,g,g.createRenderer(c,a),null,null));i[o.index]=_}function Fn(i,o,a,c,h,g){const _=or(i,o);!function pm(i,o,a,c,h,g,_){if(null==g)on(i)?i.removeAttribute(o,h,a):o.removeAttribute(h);else{const w=null==_?he(g):_(g,c||"",h);on(i)?i.setAttribute(o,h,w,a):a?o.setAttributeNS(a,h,w):o.setAttribute(h,w)}}(o[11],_,g,i.value,a,c,h)}function Mf(i,o,a,c,h,g){const _=g[o];if(null!==_){const w=c.setInput;for(let b=0;b<_.length;){const I=_[b++],M=_[b++],k=_[b++];null!==w?c.setInput(a,k,I,M):a[M]=k}}}function gm(i,o){let a=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;i.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,i[h],o[c+1])),c+=2}else c+=2;else c+=4}return a}function mm(i,o,a,c){return new Array(i,!0,!1,o,null,0,c,a,null,null)}function xf(i,o){const a=ar(o,i);if(Ji(a)){const c=a[1];80&a[2]?il(c,a,c.template,a[8]):a[5]>0&&Pf(a)}}function Pf(i){for(let c=Mn(i);null!==c;c=pi(c))for(let h=10;h<c.length;h++){const g=c[h];if(1024&g[2]){const _=g[1];il(_,g,_.template,g[8])}else g[5]>0&&Pf(g)}const a=i[1].components;if(null!==a)for(let c=0;c<a.length;c++){const h=ar(a[c],i);Ji(h)&&h[5]>0&&Pf(h)}}function x_(i,o){const a=ar(o,i),c=a[1];(function P_(i,o){for(let a=o.length;a<i.blueprint.length;a++)o.push(i.blueprint[a])})(c,a),Xl(c,a,a[8])}function ec(i,o){return i[13]?i[14][4]=o:i[13]=o,i[14]=o,o}function tc(i){for(;i;){i[2]|=64;const o=We(i);if(bl(i)&&!o)return i;i=o}return null}function Of(i,o,a){const c=o[10];c.begin&&c.begin();try{il(i,o,i.template,a)}catch(h){throw Jd(o,h),h}finally{c.end&&c.end()}}function Nf(i){!function O_(i){for(let o=0;o<i.components.length;o++){const a=i.components[o],c=kd(a),h=c[1];I_(h,c,h.template,a)}}(i[8])}function ym(i,o,a){La(0),o(i,a)}const ZT=(()=>Promise.resolve(null))();function Qd(i){return i[7]||(i[7]=[])}function R_(i){return i.cleanup||(i.cleanup=[])}function Jd(i,o){const a=i[9],c=a?a.get(Fd,null):null;c&&c.handleError(o)}function ol(i,o,a,c,h){for(let g=0;g<a.length;){const _=a[g++],w=a[g++],b=o[_],I=i.data[_];null!==I.setInput?I.setInput(b,h,c,w):b[w]=h}}function vo(i,o,a){const c=Is(o,i);!function Ud(i,o,a){on(i)?i.setValue(o,a):o.textContent=a}(i[11],c,a)}function _m(i,o,a){let c=a?i.styles:null,h=a?i.classes:null,g=0;if(null!==o)for(let _=0;_<o.length;_++){const w=o[_];"number"==typeof w?g=w:1==g?h=ce(h,w):2==g&&(c=ce(c,w+": "+o[++_]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=h:i.classesWithoutHost=h}const ru=new yn("INJECTOR",-1);class F_{get(o,a=na){if(a===na){const c=new Error(`NullInjectorError: No provider for ${se(o)}!`);throw c.name="NullInjectorError",c}return a}}const L_=new yn("Set Injector scope."),Eo={},iu={};let eh;function kf(){return void 0===eh&&(eh=new F_),eh}function Ff(i,o=null,a=null,c){const h=U_(i,o,a,c);return h._resolveInjectorDefTypes(),h}function U_(i,o=null,a=null,c){return new Ln(i,a,o||kf(),c)}class Ln{constructor(o,a,c,h=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];a&&ai(a,w=>this.processProvider(w,o,a)),ai([o],w=>this.processInjectorType(w,[],g)),this.records.set(ru,da(void 0,this));const _=this.records.get(L_);this.scope=null!=_?_.value:null,this.source=h||("object"==typeof o?null:se(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=na,c=_t.Default){this.assertNotDestroyed();const h=ne(this),g=On(void 0);try{if(!(c&_t.SkipSelf)){let w=this.records.get(o);if(void 0===w){const b=function al(i){return"function"==typeof i||"object"==typeof i&&i instanceof yn}(o)&&Vt(o);w=b&&this.injectableDefInScope(b)?da(th(o),Eo):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(c&_t.Self?kf():this.parent).get(o,a=c&_t.Optional&&a===na?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[po]=_[po]||[]).unshift(se(o)),h)throw _;return function Jn(i,o,a,c){const h=i[po];throw o[P]&&h.unshift(o[P]),i.message=function rs(i,o,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let h=se(o);if(Array.isArray(o))h=o.map(se).join(" -> ");else if("object"==typeof o){let g=[];for(let _ in o)if(o.hasOwnProperty(_)){let w=o[_];g.push(_+":"+("string"==typeof w?JSON.stringify(w):se(w)))}h=`{${g.join(", ")}}`}return`${a}${c?"("+c+")":""}[${h}]: ${i.replace(T,"\n  ")}`}("\n"+i.message,h,a,c),i.ngTokenPath=h,i[po]=null,i}(_,o,"R3InjectorError",this.source)}throw _}finally{On(g),ne(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((c,h)=>o.push(se(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Oe(205,!1)}processInjectorType(o,a,c){if(!(o=te(o)))return!1;let h=Dr(o);const g=null==h&&o.ngModule||void 0,_=void 0===g?o:g,w=-1!==c.indexOf(_);if(void 0!==g&&(h=Dr(g)),null==h)return!1;if(null!=h.imports&&!w){let M;c.push(_);try{ai(h.imports,k=>{this.processInjectorType(k,a,c)&&(void 0===M&&(M=[]),M.push(k))})}finally{}if(void 0!==M)for(let k=0;k<M.length;k++){const{ngModule:V,providers:Q}=M[k];ai(Q,_e=>this.processProvider(_e,V,Q||U))}}this.injectorDefTypes.add(_);const b=vr(_)||(()=>new _);this.records.set(_,da(b,Eo));const I=h.providers;if(null!=I&&!w){const M=o;ai(I,k=>this.processProvider(k,M,I))}return void 0!==g&&void 0!==o.providers}processProvider(o,a,c){let h=rh(o=te(o))?o:te(o&&o.provide);const g=function zT(i,o,a){return WE(i)?da(void 0,i.useValue):da(nh(i),Eo)}(o);if(rh(o)||!0!==o.multi)this.records.get(h);else{let _=this.records.get(h);_||(_=da(void 0,Eo,!0),_.factory=()=>Ht(_.multi),this.records.set(h,_)),h=o,_.multi.push(o)}this.records.set(h,g)}hydrate(o,a){return a.value===Eo&&(a.value=iu,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Lf(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=te(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function th(i){const o=Vt(i),a=null!==o?o.factory:vr(i);if(null!==a)return a;if(i instanceof yn)throw new Oe(204,!1);if(i instanceof Function)return function GT(i){const o=i.length;if(o>0)throw function ho(i,o){const a=[];for(let c=0;c<i;c++)a.push(o);return a}(o,"?"),new Oe(204,!1);const a=function Qr(i){const o=i&&(i[Ai]||i[Jr]);if(o){const a=function pr(i){if(i.hasOwnProperty("name"))return i.name;const o=(""+i).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Oe(204,!1)}function nh(i,o,a){let c;if(rh(i)){const h=te(i);return vr(h)||th(h)}if(WE(i))c=()=>te(i.useValue);else if(function WT(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...Ht(i.deps||[]));else if(function KE(i){return!(!i||!i.useExisting)}(i))c=()=>Ue(te(i.useExisting));else{const h=te(i&&(i.useClass||i.provide));if(!function YT(i){return!!i.deps}(i))return vr(h)||th(h);c=()=>new h(...Ht(i.deps))}return c}function da(i,o,a=!1){return{factory:i,value:o,multi:a?[]:void 0}}function WE(i){return null!==i&&"object"==typeof i&&F in i}function rh(i){return"function"==typeof i}let Us=(()=>{class i{static create(a,c){var h;if(Array.isArray(a))return Ff({name:""},c,a,"");{const g=null!==(h=a.name)&&void 0!==h?h:"";return Ff({name:g},a.parent,a.providers,g)}}}return i.THROW_IF_NOT_FOUND=na,i.NULL=new F_,i.\u0275prov=Qt({token:i,providedIn:"any",factory:()=>Ue(ru)}),i.__NG_ELEMENT_ID__=-1,i})();function JT(i,o){gd(kd(i)[1],pn())}function q_(i){let o=function sw(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;o;){let h;if(Ni(i))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Oe(903,"");h=o.\u0275dir}if(h){if(a){c.push(h);const _=i;_.inputs=Tm(i.inputs),_.declaredInputs=Tm(i.declaredInputs),_.outputs=Tm(i.outputs);const w=h.hostBindings;w&&uw(i,w);const b=h.viewQuery,I=h.contentQueries;if(b&&aw(i,b),I&&Dm(i,I),ue(i.inputs,h.inputs),ue(i.declaredInputs,h.declaredInputs),ue(i.outputs,h.outputs),Ni(h)&&h.data.animation){const M=i.data;M.animation=(M.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let _=0;_<g.length;_++){const w=g[_];w&&w.ngInherit&&w(i),w===q_&&(a=!1)}}o=Object.getPrototypeOf(o)}!function ow(i){let o=0,a=null;for(let c=i.length-1;c>=0;c--){const h=i[c];h.hostVars=o+=h.hostVars,h.hostAttrs=jn(h.hostAttrs,a=jn(a,h.hostAttrs))}}(c)}function Tm(i){return i===yr?{}:i===U?[]:i}function aw(i,o){const a=i.viewQuery;i.viewQuery=a?(c,h)=>{o(c,h),a(c,h)}:o}function Dm(i,o){const a=i.contentQueries;i.contentQueries=a?(c,h,g)=>{o(c,h,g),a(c,h,g)}:o}function uw(i,o){const a=i.hostBindings;i.hostBindings=a?(c,h)=>{o(c,h),a(c,h)}:o}let sh=null;function ha(){if(!sh){const i=$t.Symbol;if(i&&i.iterator)sh=i.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const c=o[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(sh=c)}}}return sh}function rc(i){return!!Vf(i)&&(Array.isArray(i)||!(i instanceof Map)&&ha()in i)}function Vf(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Wr(i,o,a){return!Object.is(i[o],a)&&(i[o]=a,!0)}function $f(i,o,a,c){const h=Ae();return Wr(h,As(),o)&&(Lt(),Fn(An(),h,i,o,a,c)),$f}function ic(i,o,a,c){return Wr(i,As(),a)?o+he(a)+c:Nt}function pw(i,o,a,c,h,g,_,w){const b=Ae(),I=Lt(),M=i+20,k=I.firstCreatePass?function eD(i,o,a,c,h,g,_,w,b){const I=o.consts,M=rl(o,i,4,_||null,bi(I,w));hm(o,a,M,bi(I,b)),gd(o,M);const k=M.tViews=um(2,M,c,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,I);return null!==o.queries&&(o.queries.template(o,M),k.queries=o.queries.embeddedTView(M)),M}(M,I,b,o,a,c,h,g,_):I.data[M];ri(k,!1);const V=b[11].createComment("");Wg(I,b,V,k),dr(V,b),ec(b,b[M]=mm(V,b,V,k)),Oi(k)&&zd(I,b,k),null!=_&&Af(b,k,w)}function Hn(i,o=_t.Default){const a=Ae();return null===a?Ue(i,o):Ms(pn(),a,te(i),o)}function fc(){throw new Error("invalid")}function Q_(i,o,a){const c=Ae();return Wr(c,As(),o)&&gi(Lt(),An(),c,i,o,c[11],a,!1),Q_}function tr(i,o,a,c,h){const _=h?"class":"style";ol(i,a,o.inputs[_],_,c)}function bo(i,o,a,c){const h=Ae(),g=Lt(),_=20+i,w=h[11],b=h[_]=Vd(w,o,function pd(){return pt.lFrame.currentNamespace}()),I=g.firstCreatePass?function cD(i,o,a,c,h,g,_){const w=o.consts,I=rl(o,i,2,h,bi(w,g));return hm(o,a,I,bi(w,_)),null!==I.attrs&&_m(I,I.attrs,!1),null!==I.mergedAttrs&&_m(I,I.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,I),I}(_,g,h,0,o,a,c):g.data[_];ri(I,!0);const M=I.mergedAttrs;null!==M&&et(w,b,M);const k=I.classes;null!==k&&m_(w,b,k);const V=I.styles;return null!==V&&yE(w,b,V),64!=(64&I.flags)&&Wg(g,h,b,I),0===function Au(){return pt.lFrame.elementDepthCount}()&&dr(b,h),function Pa(){pt.lFrame.elementDepthCount++}(),Oi(I)&&(zd(g,h,I),function Rr(i,o,a){if(Tu(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const _=i.data[g];_.contentQueries&&_.contentQueries(1,a[g],g)}}}(g,I,h)),null!==c&&Af(h,I),bo}function xn(){let i=pn();Na()?function Pl(){pt.lFrame.isParent=!1}():(i=i.parent,ri(i,!1));const o=i;!function Sl(){pt.lFrame.elementDepthCount--}();const a=Lt();return a.firstCreatePass&&(gd(a,i),Tu(i)&&a.queries.elementEnd(i)),null!=o.classesWithoutHost&&function yd(i){return 0!=(16&i.flags)}(o)&&tr(a,o,Ae(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function mg(i){return 0!=(32&i.flags)}(o)&&tr(a,o,Ae(),o.stylesWithoutHost,!1),xn}function lu(i,o,a,c){return bo(i,o,a,c),xn(),lu}function lh(){return Ae()}function gc(i){return!!i&&"function"==typeof i.then}function X_(i){return!!i&&"function"==typeof i.subscribe}const He=X_;function pa(i,o,a,c){const h=Ae(),g=Lt(),_=pn();return function Co(i,o,a,c,h,g,_,w){const b=Oi(c),M=i.firstCreatePass&&R_(i),k=o[8],V=Qd(o);let Q=!0;if(3&c.type||w){const qe=or(c,o),tt=w?w(qe):qe,Se=V.length,mt=w?st=>w(Jt(st[c.index])):c.index;if(on(a)){let st=null;if(!w&&b&&(st=function mc(i,o,a,c){const h=i.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const _=h[g];if(_===a&&h[g+1]===c){const w=o[7],b=h[g+2];return w.length>b?w[b]:null}"string"==typeof _&&(g+=2)}return null}(i,o,h,c.index)),null!==st)(st.__ngLastListenerFn__||st).__ngNextListenerFn__=g,st.__ngLastListenerFn__=g,Q=!1;else{g=ga(c,o,k,g,!1);const dn=a.listen(tt,h,g);V.push(g,dn),M&&M.push(h,mt,Se,Se+1)}}else g=ga(c,o,k,g,!0),tt.addEventListener(h,g,_),V.push(g),M&&M.push(h,mt,Se,_)}else g=ga(c,o,k,g,!1);const _e=c.outputs;let ke;if(Q&&null!==_e&&(ke=_e[h])){const qe=ke.length;if(qe)for(let tt=0;tt<qe;tt+=2){const Gs=o[ke[tt]][ke[tt+1]].subscribe(g),Dn=V.length;V.push(g,Gs),M&&M.push(h,c.index,Dn,-(Dn+1))}}}(g,h,h[11],_,i,o,!!a,c),pa}function ch(i,o,a,c){try{return!1!==a(c)}catch(h){return Jd(i,h),!1}}function ga(i,o,a,c,h){return function g(_){if(_===Function)return c;const w=2&i.flags?ar(i.index,o):o;0==(32&o[2])&&tc(w);let b=ch(o,0,c,_),I=g.__ngNextListenerFn__;for(;I;)b=ch(o,0,I,_)&&b,I=I.__ngNextListenerFn__;return h&&!1===b&&(_.preventDefault(),_.returnValue=!1),b}}function ev(i=1){return function Ui(i){return(pt.lFrame.contextLView=function Xh(i,o){for(;i>0;)o=o[15],i--;return o}(i,pt.lFrame.contextLView))[8]}(i)}function Wf(i,o,a){return _c(i,"",o,"",a),Wf}function _c(i,o,a,c,h){const g=Ae(),_=ic(g,o,a,c);return _!==Nt&&gi(Lt(),An(),g,i,_,g[11],h,!1),_c}function bn(i,o,a,c,h){const g=i[a+1],_=null===o;let w=c?_n(g):la(g),b=!1;for(;0!==w&&(!1===b||_);){const M=i[w+1];Sm(i[w],o)&&(b=!0,i[w+1]=c?em(M):v_(M)),w=c?_n(M):la(M)}b&&(i[a+1]=c?v_(g):em(g))}function Sm(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&Ns(i,o)>=0}function cu(i,o){return function $s(i,o,a,c){const h=Ae(),g=Lt(),_=function Ci(i){const o=pt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,a}(2);g.firstUpdatePass&&function Aw(i,o,a,c){const h=i.data;if(null===h[a+1]){const g=h[Kn()],_=function Fr(i,o){return o>=i.expandoStartIndex}(i,a);(function dv(i,o){return 0!=(i.flags&(o?16:32))})(g,c)&&null===o&&!_&&(o=!1),o=function fD(i,o,a,c){const h=function jo(i){const o=pt.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let g=c?o.residualClasses:o.residualStyles;if(null===h)0===(c?o.classBindings:o.styleBindings)&&(a=Jf(a=lv(null,i,o,a,c),o.attrs,c),g=null);else{const _=o.directiveStylingLast;if(-1===_||i[_]!==h)if(a=lv(h,i,o,a,c),null===g){let b=function pD(i,o,a){const c=a?o.classBindings:o.styleBindings;if(0!==la(c))return i[_n(c)]}(i,o,c);void 0!==b&&Array.isArray(b)&&(b=lv(null,i,o,b[1],c),b=Jf(b,o.attrs,c),function Sw(i,o,a,c){i[_n(a?o.classBindings:o.styleBindings)]=c}(i,o,c,b))}else g=function gD(i,o,a){let c;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)c=Jf(c,i[g].hostAttrs,a);return Jf(c,o.attrs,a)}(i,o,c)}return void 0!==g&&(c?o.residualClasses=g:o.residualStyles=g),a}(h,g,o,c),function mi(i,o,a,c,h,g){let _=g?o.classBindings:o.styleBindings,w=_n(_),b=la(_);i[c]=a;let M,I=!1;if(Array.isArray(a)){const k=a;M=k[1],(null===M||Ns(k,M)>0)&&(I=!0)}else M=a;if(h)if(0!==b){const V=_n(i[w+1]);i[c+1]=Ql(V,w),0!==V&&(i[V+1]=Xg(i[V+1],c)),i[w+1]=function MT(i,o){return 131071&i|o<<17}(i[w+1],c)}else i[c+1]=Ql(w,0),0!==w&&(i[w+1]=Xg(i[w+1],c)),w=c;else i[c+1]=Ql(b,0),0===w?w=c:i[b+1]=Xg(i[b+1],c),b=c;I&&(i[c+1]=v_(i[c+1])),bn(i,M,c,!0),bn(i,M,c,!1),function Dw(i,o,a,c,h){const g=h?i.residualClasses:i.residualStyles;null!=g&&"string"==typeof o&&Ns(g,o)>=0&&(a[c+1]=em(a[c+1]))}(o,M,i,c,g),_=Ql(w,b),g?o.classBindings=_:o.styleBindings=_}(h,g,o,a,_,c)}}(g,i,_,c),o!==Nt&&Wr(h,_,o)&&function Mw(i,o,a,c,h,g,_,w){if(!(3&o.type))return;const b=i.data,I=b[w+1];Xf(function wE(i){return 1==(1&i)}(I)?cv(b,o,a,h,la(I),_):void 0)||(Xf(g)||function nu(i){return 2==(2&i)}(I)&&(g=cv(b,null,a,h,w,_)),function g_(i,o,a,c,h){const g=on(i);if(o)h?g?i.addClass(a,c):a.classList.add(c):g?i.removeClass(a,c):a.classList.remove(c);else{let _=-1===c.indexOf("-")?void 0:A.DashCase;if(null==h)g?i.removeStyle(a,c,_):a.style.removeProperty(c);else{const w="string"==typeof h&&h.endsWith("!important");w&&(h=h.slice(0,-10),_|=A.Important),g?i.setStyle(a,c,h,_):a.style.setProperty(c,h,w?"important":"")}}}(c,_,Is(Kn(),a),h,g))}(g,g.data[Kn()],h,h[11],i,h[_+1]=function hu(i,o){return null==i||("string"==typeof o?i+=o:"object"==typeof i&&(i=se(sa(i)))),i}(o,a),c,_)}(i,o,null,!0),cu}function lv(i,o,a,c,h){let g=null;const _=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<_&&(g=o[w],c=Jf(c,g.hostAttrs,h),g!==i);)w++;return null!==i&&(a.directiveStylingLast=w),c}function Jf(i,o,a){const c=a?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const _=o[g];"number"==typeof _?h=_:h===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Qn(i,_,!!a||o[++g]))}return void 0===i?null:i}function cv(i,o,a,c,h,g){const _=null===o;let w;for(;h>0;){const b=i[h],I=Array.isArray(b),M=I?b[1]:b,k=null===M;let V=a[h+1];V===Nt&&(V=k?U:void 0);let Q=k?Za(V,c):M===c?V:void 0;if(I&&!Xf(Q)&&(Q=Za(b,c)),Xf(Q)&&(w=Q,_))return w;const _e=i[h+1];h=_?_n(_e):la(_e)}if(null!==o){let b=g?o.residualClasses:o.residualStyles;null!=b&&(w=Za(b,c))}return w}function Xf(i){return void 0!==i}function Ec(i,o=""){const a=Ae(),c=Lt(),h=i+20,g=c.firstCreatePass?rl(c,h,1,o,null):c.data[h],_=a[h]=function Ld(i,o){return on(i)?i.createText(o):i.createTextNode(o)}(a[11],o);Wg(c,a,_,g),ri(g,!1)}function hv(i){return ph("",i,""),hv}function ph(i,o,a){const c=Ae(),h=ic(c,i,o,a);return h!==Nt&&vo(c,Kn(),h),ph}const cl=void 0;var Tc=["en",[["a","p"],["AM","PM"],cl],[["AM","PM"],cl,cl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],cl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],cl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",cl,"{1} 'at' {0}",cl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function np(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Dc={};function Lm(i){const o=function qw(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Hw(o);if(a)return a;const c=o.split("-")[0];if(a=Hw(c),a)return a;if("en"===c)return Tc;throw new Error(`Missing locale data for the locale "${i}".`)}function Vm(i){return Lm(i)[Be.PluralCase]}function Hw(i){return i in Dc||(Dc[i]=$t.ng&&$t.ng.common&&$t.ng.common.locales&&$t.ng.common.locales[i]),Dc[i]}var Be=(()=>((Be=Be||{})[Be.LocaleId=0]="LocaleId",Be[Be.DayPeriodsFormat=1]="DayPeriodsFormat",Be[Be.DayPeriodsStandalone=2]="DayPeriodsStandalone",Be[Be.DaysFormat=3]="DaysFormat",Be[Be.DaysStandalone=4]="DaysStandalone",Be[Be.MonthsFormat=5]="MonthsFormat",Be[Be.MonthsStandalone=6]="MonthsStandalone",Be[Be.Eras=7]="Eras",Be[Be.FirstDayOfWeek=8]="FirstDayOfWeek",Be[Be.WeekendRange=9]="WeekendRange",Be[Be.DateFormat=10]="DateFormat",Be[Be.TimeFormat=11]="TimeFormat",Be[Be.DateTimeFormat=12]="DateTimeFormat",Be[Be.NumberSymbols=13]="NumberSymbols",Be[Be.NumberFormats=14]="NumberFormats",Be[Be.CurrencyCode=15]="CurrencyCode",Be[Be.CurrencySymbol=16]="CurrencySymbol",Be[Be.CurrencyName=17]="CurrencyName",Be[Be.Currencies=18]="Currencies",Be[Be.Directionality=19]="Directionality",Be[Be.PluralCase=20]="PluralCase",Be[Be.ExtraData=21]="ExtraData",Be))();const Bm="en-US";let Gw=Bm;function fu(i,o,a,c,h){if(i=te(i),Array.isArray(i))for(let g=0;g<i.length;g++)fu(i[g],o,a,c,h);else{const g=Lt(),_=Ae();let w=rh(i)?i:te(i.provide),b=nh(i);const I=pn(),M=1048575&I.providerIndexes,k=I.directiveStart,V=I.providerIndexes>>20;if(rh(i)||!i.multi){const Q=new Nu(b,h,Hn),_e=Wm(w,o,h?M:M+V,k);-1===_e?(ur(kn(I,_),g,w),Gm(g,i,o.length),o.push(w),I.directiveStart++,I.directiveEnd++,h&&(I.providerIndexes+=1048576),a.push(Q),_.push(Q)):(a[_e]=Q,_[_e]=Q)}else{const Q=Wm(w,o,M+V,k),_e=Wm(w,o,M,M+V),ke=Q>=0&&a[Q],qe=_e>=0&&a[_e];if(h&&!qe||!h&&!ke){ur(kn(I,_),g,w);const tt=function Av(i,o,a,c,h){const g=new Nu(i,a,Hn);return g.multi=[],g.index=o,g.componentProviders=0,zm(g,h,c&&!a),g}(h?Iv:Lr,a.length,h,c,b);!h&&qe&&(a[_e].providerFactory=tt),Gm(g,i,o.length,0),o.push(w),I.directiveStart++,I.directiveEnd++,h&&(I.providerIndexes+=1048576),a.push(tt),_.push(tt)}else Gm(g,i,Q>-1?Q:_e,zm(a[h?_e:Q],b,!h&&c));!h&&c&&qe&&a[_e].componentProviders++}}}function Gm(i,o,a,c){const h=rh(o),g=function KT(i){return!!i.useClass}(o);if(h||g){const b=(g?te(o.useClass):o).prototype.ngOnDestroy;if(b){const I=i.destroyHooks||(i.destroyHooks=[]);if(!h&&o.multi){const M=I.indexOf(a);-1===M?I.push(a,[c,b]):I[M+1].push(c,b)}else I.push(a,b)}}}function zm(i,o,a){return a&&i.componentProviders++,i.multi.push(o)-1}function Wm(i,o,a,c){for(let h=a;h<c;h++)if(o[h]===i)return h;return-1}function Lr(i,o,a,c){return dp(this.multi,[])}function Iv(i,o,a,c){const h=this.multi;let g;if(this.providerFactory){const _=this.providerFactory.componentProviders,w=Jo(a,a[1],this.providerFactory.index,c);g=w.slice(0,_),dp(h,g);for(let b=_;b<w.length;b++)g.push(w[b])}else g=[],dp(h,g);return g}function dp(i,o){for(let a=0;a<i.length;a++)o.push((0,i[a])());return o}function pu(i,o=[]){return a=>{a.providersResolver=(c,h)=>function BD(i,o,a){const c=Lt();if(c.firstCreatePass){const h=Ni(i);fu(a,c.data,c.blueprint,h,!0),fu(o,c.data,c.blueprint,h,!1)}}(c,h?h(i):i,o)}}class _b{}class Sc{resolveComponentFactory(o){throw function vb(i){const o=Error(`No component factory found for ${se(i)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=i,o}(o)}}let gu=(()=>{class i{}return i.NULL=new Sc,i})();function fp(){return Mc(pn(),Ae())}function Mc(i,o){return new xc(or(i,o))}let xc=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=fp,i})();function Sv(i){return i instanceof xc?i.nativeElement:i}class Eb{}let wb=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function Mv(){const i=Ae(),a=ar(pn().index,i);return function bb(i){return i[11]}($r(a)?a:i)}(),i})(),pp=(()=>{class i{}return i.\u0275prov=Qt({token:i,providedIn:"root",factory:()=>null}),i})();class hl{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Cb=new hl("13.2.7"),Km={};function Ym(i,o,a,c,h=!1){for(;null!==a;){const g=o[a.index];if(null!==g&&c.push(Jt(g)),Pi(g))for(let w=10;w<g.length;w++){const b=g[w],I=b[1].firstChild;null!==I&&Ym(b[1],b,I,c)}const _=a.type;if(8&_)Ym(i,o,a.child,c);else if(32&_){const w=z(a,o);let b;for(;b=w();)c.push(b)}else if(16&_){const w=gE(o,a);if(Array.isArray(w))c.push(...w);else{const b=We(o[16]);Ym(b[1],b,w,c,!0)}}a=h?a.projectionNext:a.next}return c}class gp{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return Ym(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Pi(o)){const a=o[8],c=a?a.indexOf(this):-1;c>-1&&(o_(o,c),co(a,c))}this._attachedToViewContainer=!1}a_(this._lView[1],this._lView)}onDestroy(o){cm(this._lView[1],this._lView,null,o)}markForCheck(){tc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Of(this._lView[1],this._lView,this.context)}checkNoChanges(){!function N_(i,o,a){xu(!0);try{Of(i,o,a)}finally{xu(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Oe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Cf(i,o){Kg(i,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Oe(902,"");this._appRef=o}}class $D extends gp{constructor(o){super(o),this._view=o}detectChanges(){Nf(this._view)}checkNoChanges(){!function GE(i){xu(!0);try{Nf(i)}finally{xu(!1)}}(this._view)}get context(){return null}}class Sh extends gu{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Zn(o);return new xv(a,this.ngModule)}}function fl(i){const o=[];for(let a in i)i.hasOwnProperty(a)&&o.push({propName:i[a],templateName:a});return o}class xv extends _b{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function ST(i){return i.map(Tf).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return fl(this.componentDef.inputs)}get outputs(){return fl(this.componentDef.outputs)}create(o,a,c,h){const g=(h=h||this.ngModule)?function Tb(i,o){return{get:(a,c,h)=>{const g=i.get(a,Km,h);return g!==Km||c===Km?g:o.get(a,c,h)}}}(o,h.injector):o,_=g.get(Eb,Sa),w=g.get(pp,null),b=_.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",M=c?function lm(i,o,a){if(on(i))return i.selectRootElement(o,a===Zt.ShadowDom);let c="string"==typeof o?i.querySelector(o):o;return c.textContent="",c}(b,c,this.componentDef.encapsulation):Vd(_.createRenderer(null,this.componentDef),I,function Pc(i){const o=i.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(I)),k=this.componentDef.onPush?576:528,V=function H_(i,o){return{components:[],scheduler:i||i_,clean:ZT,playerHandler:o||null,flags:0}}(),Q=um(0,null,null,1,0,null,null,null,null,null),_e=Zd(null,Q,V,k,null,null,_,b,w,g);let ke,qe;$o(_e);try{const tt=function iw(i,o,a,c,h,g){const _=a[1];a[20]=i;const b=rl(_,20,2,"#host",null),I=b.mergedAttrs=o.hostAttrs;null!==I&&(_m(b,I,!0),null!==i&&(et(h,i,I),null!==b.classes&&m_(h,i,b.classes),null!==b.styles&&yE(h,i,b.styles)));const M=c.createRenderer(i,o),k=Zd(a,kE(o),null,o.onPush?64:16,a[20],b,c,M,g||null,null);return _.firstCreatePass&&(ur(kn(b,a),_,o.type),sl(_,b),M_(b,a.length,1)),ec(a,k),a[20]=k}(M,this.componentDef,_e,_,b);if(M)if(c)et(b,M,["ng-version",Cb.full]);else{const{attrs:Se,classes:mt}=function __(i){const o=[],a=[];let c=1,h=2;for(;c<i.length;){let g=i[c];if("string"==typeof g)2===h?""!==g&&o.push(g,i[++c]):8===h&&a.push(g);else{if(!St(h))break;h=g}c++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Se&&et(b,M,Se),mt&&mt.length>0&&m_(b,M,mt.join(" "))}if(qe=En(Q,20),void 0!==a){const Se=qe.projection=[];for(let mt=0;mt<this.ngContentSelectors.length;mt++){const st=a[mt];Se.push(null!=st?Array.from(st):null)}}ke=function Xn(i,o,a,c,h){const g=a[1],_=function VE(i,o,a){const c=pn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Yd(i,c,o,Gd(i,o,1,null),a));const h=Jo(o,i,c.directiveStart,c);dr(h,o);const g=or(c,o);return g&&dr(g,o),h}(g,a,o);if(c.components.push(_),i[8]=_,h&&h.forEach(b=>b(_,o)),o.contentQueries){const b=pn();o.contentQueries(1,_,b.directiveStart)}const w=pn();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Vi(w.index),Sf(a[1],w,0,w.directiveStart,w.directiveEnd,o),BE(o,_)),_}(tt,this.componentDef,_e,V,[JT]),Xl(Q,_e,null)}finally{qo()}return new Qm(this.componentType,ke,Mc(qe,_e),_e,qe)}}class Qm extends class yb{}{constructor(o,a,c,h,g){super(),this.location=c,this._rootLView=h,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new $D(h),this.componentType=o}get injector(){return new ao(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Oc{}class Mh{}const mu=new Map;class Nv extends Oc{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Sh(this);const c=Gn(o);this._bootstrapComponents=ss(c.bootstrap),this._r3Injector=U_(o,a,[{provide:Oc,useValue:this},{provide:gu,useValue:this.componentFactoryResolver}],se(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=Us.THROW_IF_NOT_FOUND,c=_t.Default){return o===Us||o===Oc||o===ru?this:this._r3Injector.get(o,a,c)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class _a extends Mh{constructor(o){super(),this.moduleType=o,null!==Gn(o)&&function Gi(i){const o=new Set;!function a(c){const h=Gn(c,!0),g=h.id;null!==g&&(function Ov(i,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${i} - ${se(o)} vs ${se(o.name)}`)}(g,mu.get(g),c),mu.set(g,c));const _=ss(h.imports);for(const w of _)o.has(w)||(o.add(w),a(w))}(i)}(o)}create(o){return new Nv(this.moduleType,o)}}function xb(i,o,a,c,h,g){const _=o+a;return Wr(i,_,h)?function us(i,o,a){return i[o]=a}(i,_+1,g?c.call(g,h):c(h)):function yp(i,o){const a=i[o];return a===Nt?void 0:a}(i,_+1)}function Nb(i,o){const a=Lt();let c;const h=i+20;a.firstCreatePass?(c=function zD(i,o){if(o)for(let a=o.length-1;a>=0;a--){const c=o[a];if(i===c.name)return c}}(o,a.pipeRegistry),a.data[h]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(h,c.onDestroy)):c=a.data[h];const g=c.factory||(c.factory=vr(c.type)),_=On(Hn);try{const w=Ti(!1),b=g();return Ti(w),function gw(i,o,a,c){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),o[a]=c}(a,Ae(),h,b),b}finally{On(_)}}function Fv(i,o,a){const c=i+20,h=Ae(),g=function Fi(i,o){return i[o]}(h,c);return function Ep(i,o){return i[1].data[o].pure}(h,c)?xb(h,function Rn(){const i=pt.lFrame;let o=i.bindingRootIndex;return-1===o&&(o=i.bindingRootIndex=i.tView.bindingStartIndex),o}(),o,g.transform,a,g):g.transform(a)}function wp(i){return o=>{setTimeout(i,void 0,o)}}const Zs=class Fb extends u.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){var h,g,_;let w=o,b=a||(()=>null),I=c;if(o&&"object"==typeof o){const k=o;w=null===(h=k.next)||void 0===h?void 0:h.bind(k),b=null===(g=k.error)||void 0===g?void 0:g.bind(k),I=null===(_=k.complete)||void 0===_?void 0:_.bind(k)}this.__isAsync&&(b=wp(b),w&&(w=wp(w)),I&&(I=wp(I)));const M=super.subscribe({next:w,error:b,complete:I});return o instanceof X.w0&&o.add(M),M}};function bp(){return this._results[ha()]()}class Oh{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=ha(),c=Oh.prototype;c[a]||(c[a]=bp)}get changes(){return this._changes||(this._changes=new Zs)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const h=oi(o);(this._changesDetected=!function Bl(i,o,a){if(i.length!==o.length)return!1;for(let c=0;c<i.length;c++){let h=i[c],g=o[c];if(a&&(h=a(h),g=a(g)),g!==h)return!1}return!0}(c._results,h,a))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Fc=(()=>{class i{}return i.__NG_ELEMENT_ID__=Lb,i})();const WD=Fc,Lv=class extends WD{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(o){const a=this._declarationTContainer.tViews,c=Zd(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(c[19]=g.createEmbeddedView(a)),Xl(a,c,o),new gp(c)}};function Lb(){return Jm(pn(),Ae())}function Jm(i,o){return 4&i.type?new Lv(o,i,Mc(i,o)):null}let Cp=(()=>{class i{}return i.__NG_ELEMENT_ID__=Ub,i})();function Ub(){return jv(pn(),Ae())}const Uv=Cp,Vb=class extends Uv{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return Mc(this._hostTNode,this._hostLView)}get injector(){return new ao(this._hostTNode,this._hostLView)}get parentInjector(){const o=Ss(this._hostTNode,this._hostLView);if(_d(o)){const a=ln(o,this._hostLView),c=Bi(o);return new ao(a[1].data[c+8],a)}return new ao(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Vv(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,c){const h=o.createEmbeddedView(a||{});return this.insert(h,c),h}createComponent(o,a,c,h,g){const _=o&&!function lo(i){return"function"==typeof i}(o);let w;if(_)w=a;else{const k=a||{};w=k.index,c=k.injector,h=k.projectableNodes,g=k.ngModuleRef}const b=_?o:new xv(Zn(o)),I=c||this.parentInjector;if(!g&&null==b.ngModule){const V=(_?I:this.parentInjector).get(Oc,null);V&&(g=V)}const M=b.create(I,h,void 0,g);return this.insert(M.hostView,w),M}insert(o,a){const c=o._lView,h=c[1];if(function xa(i){return Pi(i[3])}(c)){const M=this.indexOf(o);if(-1!==M)this.detach(M);else{const k=c[3],V=new Vb(k,k[6],k[3]);V.detach(V.indexOf(o))}}const g=this._adjustIndex(a),_=this._lContainer;!function tu(i,o,a,c){const h=10+c,g=a.length;c>0&&(a[h-1][4]=o),c<g-10?(o[4]=a[h],ea(a,10+c,o)):(a.push(o),o[4]=null),o[3]=a;const _=o[17];null!==_&&a!==_&&function el(i,o){const a=i[9];o[16]!==o[3][3][16]&&(i[2]=!0),null===a?i[9]=[o]:a.push(o)}(_,o);const w=o[19];null!==w&&w.insertView(i),o[2]|=128}(h,c,_,g);const w=h_(g,_),b=c[11],I=zt(b,_[7]);return null!==I&&function bf(i,o,a,c,h,g){c[0]=h,c[6]=o,Kg(i,c,a,1,h,g)}(h,_[6],b,c,I,w),o.attachToViewContainerRef(),ea(Bv(_),g,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Vv(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=o_(this._lContainer,a);c&&(co(Bv(this._lContainer),a),a_(c[1],c))}detach(o){const a=this._adjustIndex(o,-1),c=o_(this._lContainer,a);return c&&null!=co(Bv(this._lContainer),a)?new gp(c):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function Vv(i){return i[8]}function Bv(i){return i[8]||(i[8]=[])}function jv(i,o){let a;const c=o[i.index];if(Pi(c))a=c;else{let h;if(8&i.type)h=Jt(c);else{const g=o[11];h=g.createComment("");const _=or(i,o);os(g,zt(g,_),h,function DT(i,o){return on(i)?i.nextSibling(o):o.nextSibling}(g,_),!1)}o[i.index]=a=mm(c,o,h,i),ec(o,a)}return new Vb(a,i,o)}class Dp{constructor(o){this.queryList=o,this.matches=null}clone(){return new Dp(this.queryList)}setDirty(){this.queryList.setDirty()}}class Rh{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let g=0;g<c;g++){const _=a.getByIndex(g);h.push(this.queries[_.indexInDeclarationView].clone())}return new Rh(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==ny(o,a).matches&&this.queries[a].setDirty()}}class $v{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class Xm{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const h=null!==a?a.length:0,g=this.getByIndex(c).embeddedTView(o,h);g&&(g.indexInDeclarationView=c,null!==a?a.push(g):a=[g])}return null!==a?new Xm(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class ey{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new ey(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const g=c[h];this.matchTNodeWithReadOption(o,a,YD(a,g)),this.matchTNodeWithReadOption(o,a,Qo(a,o,g,!1,!1))}else c===Fc?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Qo(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===xc||h===Cp||h===Fc&&4&a.type)this.addMatch(a.index,-2);else{const g=Qo(a,o,h,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function YD(i,o){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function QD(i,o,a,c){return-1===a?function Hv(i,o){return 11&i.type?Mc(i,o):4&i.type?Jm(i,o):null}(o,i):-2===a?function qv(i,o,a){return a===xc?Mc(o,i):a===Fc?Jm(o,i):a===Cp?jv(o,i):void 0}(i,o,c):Jo(i,i[1],a,o)}function Bb(i,o,a,c){const h=o[19].queries[c];if(null===h.matches){const g=i.data,_=a.matches,w=[];for(let b=0;b<_.length;b+=2){const I=_[b];w.push(I<0?null:QD(o,g[I],_[b+1],a.metadata.read))}h.matches=w}return h.matches}function Zv(i,o,a,c){const h=i.queries.getByIndex(a),g=h.matches;if(null!==g){const _=Bb(i,o,h,a);for(let w=0;w<g.length;w+=2){const b=g[w];if(b>0)c.push(_[w/2]);else{const I=g[w+1],M=o[-b];for(let k=10;k<M.length;k++){const V=M[k];V[17]===V[3]&&Zv(V[1],V,I,c)}if(null!==M[9]){const k=M[9];for(let V=0;V<k.length;V++){const Q=k[V];Zv(Q[1],Q,I,c)}}}}}return c}function ty(i){const o=Ae(),a=Lt(),c=Rl();La(c+1);const h=ny(a,c);if(i.dirty&&no(o)===(2==(2&h.metadata.flags))){if(null===h.matches)i.reset([]);else{const g=h.crossesNgTemplate?Zv(a,o,c,[]):Bb(a,o,h,c);i.reset(g,Sv),i.notifyOnChanges()}return!0}return!1}function jb(i,o,a,c){const h=Lt();if(h.firstCreatePass){const g=pn();(function qb(i,o,a){null===i.queries&&(i.queries=new Xm),i.queries.track(new ey(o,a))})(h,new $v(o,a,c),g.index),function XD(i,o){const a=i.contentQueries||(i.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,o)}(h,i),2==(2&a)&&(h.staticContentQueries=!0)}!function Hb(i,o,a){const c=new Oh(4==(4&a));cm(i,o,c,c.destroy),null===o[19]&&(o[19]=new Rh),o[19].queries.push(new Dp(c))}(h,Ae(),a)}function $b(){return function JD(i,o){return i[19].queries[o].queryList}(Ae(),Rl())}function ny(i,o){return i.queries.getByIndex(o)}function Fh(...i){}const hy=new yn("Application Initializer");let e0=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Fh,this.reject=Fh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(gc(g))a.push(g);else if(He(g)){const _=new Promise((w,b)=>{g.subscribe({complete:w,error:b})});a.push(_)}}Promise.all(a).then(()=>{c()}).catch(h=>{this.reject(h)}),0===a.length&&c(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Ue(hy,8))},i.\u0275prov=Qt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const fy=new yn("AppId",{providedIn:"root",factory:function t0(){return`${xp()}${xp()}${xp()}`}});function xp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const py=new yn("Platform Initializer"),$c=new yn("Platform ID"),yu=new yn("appBootstrapListener");let Hc=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Qt({token:i,factory:i.\u0275fac}),i})();const gy=new yn("LocaleId",{providedIn:"root",factory:()=>ht(gy,_t.Optional|_t.SkipSelf)||function Lh(){return"undefined"!=typeof $localize&&$localize.locale||Bm}()}),Uh=new yn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class n0{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let r0=(()=>{class i{compileModuleSync(a){return new _a(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),g=ss(Gn(a).declarations).reduce((_,w)=>{const b=Zn(w);return b&&_.push(new xv(b)),_},[]);return new n0(c,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Qt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const oI=(()=>Promise.resolve(0))();function Pp(i){"undefined"==typeof Zone?oI.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Io{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Zs(!1),this.onMicrotaskEmpty=new Zs(!1),this.onStable=new Zs(!1),this.onError=new Zs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&a,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function o0(){let i=$t.requestAnimationFrame,o=$t.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&o){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function dC(i){const o=()=>{!function cC(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call($t,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,my(i),i.isCheckStableRunning=!0,a0(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),my(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,h,g,_,w)=>{try{return u0(i),a.invokeTask(h,g,_,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||i.shouldCoalesceRunChangeDetection)&&o(),hC(i)}},onInvoke:(a,c,h,g,_,w,b)=>{try{return u0(i),a.invoke(h,g,_,w,b)}finally{i.shouldCoalesceRunChangeDetection&&o(),hC(i)}},onHasTask:(a,c,h,g)=>{a.hasTask(h,g),c===h&&("microTask"==g.change?(i._hasPendingMicrotasks=g.microTask,my(i),a0(i)):"macroTask"==g.change&&(i.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,c,h,g)=>(a.handleError(h,g),i.runOutsideAngular(()=>i.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Io.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Io.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,h){const g=this._inner,_=g.scheduleEventTask("NgZoneEvent: "+h,o,lC,Fh,Fh);try{return g.runTask(_,a,c)}finally{g.cancelTask(_)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const lC={};function a0(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function my(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function u0(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function hC(i){i._nesting--,a0(i)}class aI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Zs,this.onMicrotaskEmpty=new Zs,this.onStable=new Zs,this.onError=new Zs}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,h){return o.apply(a,c)}}let fC=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Io.assertNotInAngularZone(),Pp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Pp(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,h){let g=-1;c&&c>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==g),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:h})}whenStable(a,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,c,h){return[]}}return i.\u0275fac=function(a){return new(a||i)(Ue(Io))},i.\u0275prov=Qt({token:i,factory:i.\u0275fac}),i})(),pC=(()=>{class i{constructor(){this._applications=new Map,Op.addToWindow(this)}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return Op.findTestabilityInTree(this,a,c)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Qt({token:i,factory:i.\u0275fac}),i})();class l0{addToWindow(o){}findTestabilityInTree(o,a,c){return null}}function c0(i){Op=i}let Ao,Op=new l0;const f0=new yn("AllowMultipleToken");class p0{constructor(o,a){this.name=o,this.token=a}}function mC(i,o,a=[]){const c=`Platform: ${o}`,h=new yn(c);return(g=[])=>{let _=yy();if(!_||_.injector.get(f0,!1))if(i)i(a.concat(g).concat({provide:h,useValue:!0}));else{const w=a.concat(g).concat({provide:h,useValue:!0},{provide:L_,useValue:"platform"});!function gC(i){if(Ao&&!Ao.destroyed&&!Ao.injector.get(f0,!1))throw new Oe(400,"");Ao=i.get(yC);const o=i.get(py,null);o&&o.forEach(a=>a())}(Us.create({providers:w,name:c}))}return function g0(i){const o=yy();if(!o)throw new Oe(401,"");return o}()}}function yy(){return Ao&&!Ao.destroyed?Ao:null}let yC=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const w=function m0(i,o){let a;return a="noop"===i?new aI:("zone.js"===i?void 0:i)||new Io({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),b=[{provide:Io,useValue:w}];return w.run(()=>{const I=Us.create({providers:b,parent:this.injector,name:a.moduleType.name}),M=a.create(I),k=M.injector.get(Fd,null);if(!k)throw new Oe(402,"");return w.runOutsideAngular(()=>{const V=w.onError.subscribe({next:Q=>{k.handleError(Q)}});M.onDestroy(()=>{Rp(this._modules,M),V.unsubscribe()})}),function uI(i,o,a){try{const c=a();return gc(c)?c.catch(h=>{throw o.runOutsideAngular(()=>i.handleError(h)),h}):c}catch(c){throw o.runOutsideAngular(()=>i.handleError(c)),c}}(k,w,()=>{const V=M.injector.get(e0);return V.runInitializers(),V.donePromise.then(()=>(function an(i){jt(i,"Expected localeId to be defined"),"string"==typeof i&&(Gw=i.toLowerCase().replace(/_/g,"-"))}(M.injector.get(gy,Bm)||Bm),this._moduleDoBootstrap(M),M))})})}bootstrapModule(a,c=[]){const h=_y({},c);return function d0(i,o,a){const c=new _a(a);return Promise.resolve(c)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(a){const c=a.injector.get(Np);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Oe(403,"");a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Oe(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Ue(Us))},i.\u0275prov=Qt({token:i,factory:i.\u0275fac}),i})();function _y(i,o){return Array.isArray(o)?o.reduce(_y,i):Object.assign(Object.assign({},i),o)}let Np=(()=>{class i{constructor(a,c,h,g,_){this._zone=a,this._injector=c,this._exceptionHandler=h,this._componentFactoryResolver=g,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new R.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),b=new R.y(I=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{Io.assertNotInAngularZone(),Pp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{Io.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{M.unsubscribe(),k.unsubscribe()}});this.isStable=(0,ae.T)(w,b.pipe((0,re.B)()))}bootstrap(a,c){if(!this._initStatus.done)throw new Oe(405,"");let h;h=a instanceof _b?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(h.componentType);const g=function h0(i){return i.isBoundToModule}(h)?void 0:this._injector.get(Oc),w=h.create(Us.NULL,[],c||h.selector,g),b=w.location.nativeElement,I=w.injector.get(fC,null),M=I&&w.injector.get(pC);return I&&M&&M.registerApplication(b,I),w.onDestroy(()=>{this.detachView(w.hostView),Rp(this.components,w),M&&M.unregisterApplication(b)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Oe(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;Rp(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(yu,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(Ue(Io),Ue(Us),Ue(Fd),Ue(gu),Ue(e0))},i.\u0275prov=Qt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Rp(i,o){const a=i.indexOf(o);a>-1&&i.splice(a,1)}let vy=!0,vC=!1;function y0(){return vC=!0,vy}function _u(){if(vC)throw new Error("Cannot enable prod mode after platform setup.");vy=!1}let lI=(()=>{class i{}return i.__NG_ELEMENT_ID__=cI,i})();function cI(i){return function _0(i,o,a){if(td(i)&&!a){const c=ar(i.index,o);return new gp(c,c)}return 47&i.type?new gp(o[16],o):null}(pn(),Ae(),16==(16&i))}class Vp{constructor(){}supports(o){return rc(o)}create(o){return new pI(o)}}const fI=(i,o)=>o;class pI{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||fI}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,h=0,g=null;for(;a||c;){const _=!c||a&&a.currentIndex<by(c,h,g)?a:c,w=by(_,h,g),b=_.currentIndex;if(_===c)h--,c=c._nextRemoved;else if(a=a._next,null==_.previousIndex)h++;else{g||(g=[]);const I=w-h,M=b-h;if(I!=M){for(let V=0;V<I;V++){const Q=V<g.length?g[V]:g[V]=0,_e=Q+V;M<=_e&&_e<I&&(g[V]=Q+1)}g[_.previousIndex]=M-I}}w!==b&&o(_,w,b)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!rc(o))throw new Oe(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,_,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)g=o[w],_=this._trackByFn(w,g),null!==a&&Object.is(a.trackById,_)?(c&&(a=this._verifyReinsertion(a,g,_,w)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,_,w),c=!0),a=a._next}else h=0,function dw(i,o){if(Array.isArray(i))for(let a=0;a<i.length;a++)o(i[a]);else{const a=i[ha()]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,w=>{_=this._trackByFn(h,w),null!==a&&Object.is(a.trackById,_)?(c&&(a=this._verifyReinsertion(a,w,_,h)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,_,h),c=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,g,h)):o=this._addAfter(new gI(a,c),g,h),o}_verifyReinsertion(o,a,c,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new T0),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new T0),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class gI{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class mI{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class T0{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new mI,this.map.set(a,c)),c.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function by(i,o,a){const c=i.previousIndex;if(null===c)return c;let h=0;return a&&c<a.length&&(h=a[c]),c+o+h}class D0{constructor(){}supports(o){return o instanceof Map||Vf(o)}create(){return new I0}}class I0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||Vf(o)))throw new Oe(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(h,c);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const g=h._prev,_=h._next;return g&&(g._next=_),_&&(_._prev=g),h._next=null,h._prev=null,h}const c=new A0(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class A0{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Cy(){return new Vh([new Vp])}let Vh=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const h=c.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||Cy()),deps:[[i,new ci,new ui]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(null!=c)return c;throw new Oe(901,"")}}return i.\u0275prov=Qt({token:i,providedIn:"root",factory:Cy}),i})();function S0(){return new Bp([new D0])}let Bp=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(c){const h=c.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||S0()),deps:[[i,new ci,new ui]]}}find(a){const c=this.factories.find(g=>g.supports(a));if(c)return c;throw new Oe(901,"")}}return i.\u0275prov=Qt({token:i,providedIn:"root",factory:S0}),i})();const yI=mC(null,"core",[{provide:$c,useValue:"unknown"},{provide:yC,deps:[Us]},{provide:pC,deps:[]},{provide:Hc,deps:[]}]);let _I=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Ue(Np))},i.\u0275mod=Ir({type:i}),i.\u0275inj=Wt({}),i})()},3942:(Xe,we,N)=>{N.d(we,{Z:()=>Oe});var u=N(2090),X=N(4859),R=N(9681),ae=N(1877);class re{constructor(he,De){this._delegate=he,this.firebase=De,(0,R._addComponent)(he,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=he.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this._delegate.automaticDataCollectionEnabled=he}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(he=>{this._delegate.checkDestroyed(),he()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(he,De=R._DEFAULT_ENTRY_NAME){var Ge;this._delegate.checkDestroyed();const Ye=this._delegate.container.getProvider(he);return!Ye.isInitialized()&&"EXPLICIT"===(null===(Ge=Ye.getComponent())||void 0===Ge?void 0:Ge.instantiationMode)&&Ye.initialize(),Ye.getImmediate({identifier:De})}_removeServiceInstance(he,De=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(he).clearInstance(De)}_addComponent(he){(0,R._addComponent)(this._delegate,he)}_addOrOverwriteComponent(he){(0,R._addOrOverwriteComponent)(this._delegate,he)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ue=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function ce(){const Ve=function se(Ve){const he={},De={__esModule:!0,initializeApp:function Ie(je,j={}){const ve=R.initializeApp(je,j);if((0,u.r3)(he,ve.name))return he[ve.name];const W=new Ve(ve,De);return he[ve.name]=W,W},app:Ye,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function Ce(je){const j=je.name,ve=j.replace("-compat","");if(R._registerComponent(je)&&"PUBLIC"===je.type){const W=(ie=Ye())=>{if("function"!=typeof ie[ve])throw ue.create("invalid-app-argument",{appName:j});return ie[ve]()};void 0!==je.serviceProps&&(0,u.ZB)(W,je.serviceProps),De[ve]=W,Ve.prototype[ve]=function(...ie){return this._getService.bind(this,j).apply(this,je.multipleInstances?ie:[])}}return"PUBLIC"===je.type?De[ve]:null},removeApp:function Ge(je){delete he[je]},useAsService:function $e(je,j){return"serverAuth"===j?null:j},modularAPIs:R}};function Ye(je){if(!(0,u.r3)(he,je=je||R._DEFAULT_ENTRY_NAME))throw ue.create("no-app",{appName:je});return he[je]}return De.default=De,Object.defineProperty(De,"apps",{get:function Ee(){return Object.keys(he).map(je=>he[je])}}),Ye.App=Ve,De}(re);return Ve.INTERNAL=Object.assign(Object.assign({},Ve.INTERNAL),{createFirebaseNamespace:ce,extendNamespace:function he(De){(0,u.ZB)(Ve,De)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),Ve}(),B=new ae.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ve=self.firebase.SDK_VERSION;Ve&&Ve.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Oe=$;!function Me(Ve){(0,R.registerVersion)("@firebase/app-compat","0.1.25",Ve)}()},9681:(Xe,we,N)=>{N.r(we),N.d(we,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Ai,_DEFAULT_ENTRY_NAME:()=>jt,_addComponent:()=>rn,_addOrOverwriteComponent:()=>Qt,_apps:()=>Xt,_clearComponents:()=>Wi,_components:()=>Pn,_getProvider:()=>Wt,_registerComponent:()=>Tr,_removeServiceInstance:()=>Vt,deleteApp:()=>_t,getApp:()=>Jr,getApps:()=>Si,initializeApp:()=>vs,onLog:()=>On,registerVersion:()=>In,setLogLevel:()=>Ks});var u=N(5861),X=N(4859),R=N(1877),ae=N(2090),re=N(8766);class pe{constructor(J){this.container=J}getPlatformInfoString(){return this.container.getProviders().map(Pe=>{if(function ue(H){const J=H.getComponent();return"VERSION"===(null==J?void 0:J.type)}(Pe)){const Je=Pe.getImmediate();return`${Je.library}/${Je.version}`}return null}).filter(Pe=>Pe).join(" ")}}const se="@firebase/app",$=new R.Yd("@firebase/app"),jt="[DEFAULT]",Qe={[se]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xt=new Map,Pn=new Map;function rn(H,J){try{H.container.addComponent(J)}catch(Pe){$.debug(`Component ${J.name} failed to register with FirebaseApp ${H.name}`,Pe)}}function Qt(H,J){H.container.addOrOverwriteComponent(J)}function Tr(H){const J=H.name;if(Pn.has(J))return $.debug(`There were multiple attempts to register component ${J}.`),!1;Pn.set(J,H);for(const Pe of Xt.values())rn(Pe,H);return!0}function Wt(H,J){const Pe=H.container.getProvider("heartbeat").getImmediate({optional:!0});return Pe&&Pe.triggerHeartbeat(),H.container.getProvider(J)}function Vt(H,J,Pe=jt){Wt(H,J).clearInstance(Pe)}function Wi(){Pn.clear()}const pr=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Dr{constructor(J,Pe,Je){this._isDeleted=!1,this._options=Object.assign({},J),this._config=Object.assign({},Pe),this._name=Pe.name,this._automaticDataCollectionEnabled=Pe.automaticDataCollectionEnabled,this._container=Je,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(J){this.checkDestroyed(),this._automaticDataCollectionEnabled=J}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(J){this._isDeleted=J}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}const Ai="9.8.1";function vs(H,J={}){"object"!=typeof J&&(J={name:J});const Pe=Object.assign({name:jt,automaticDataCollectionEnabled:!1},J),Je=Pe.name;if("string"!=typeof Je||!Je)throw pr.create("bad-app-name",{appName:String(Je)});const ft=Xt.get(Je);if(ft){if((0,ae.vZ)(H,ft.options)&&(0,ae.vZ)(Pe,ft.config))return ft;throw pr.create("duplicate-app",{appName:Je})}const It=new X.H0(Je);for(const wt of Pn.values())It.addComponent(wt);const hn=new Dr(H,Pe,It);return Xt.set(Je,hn),hn}function Jr(H=jt){const J=Xt.get(H);if(!J)throw pr.create("no-app",{appName:H});return J}function Si(){return Array.from(Xt.values())}function _t(H){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,u.Z)(function*(H){const J=H.name;Xt.has(J)&&(Xt.delete(J),yield Promise.all(H.container.getProviders().map(Pe=>Pe.delete())),H.isDeleted=!0)})).apply(this,arguments)}function In(H,J,Pe){var Je;let ft=null!==(Je=Qe[H])&&void 0!==Je?Je:H;Pe&&(ft+=`-${Pe}`);const It=ft.match(/\s|\//),hn=J.match(/\s|\//);if(It||hn){const wt=[`Unable to register library "${ft}" with version "${J}":`];return It&&wt.push(`library name "${ft}" contains illegal characters (whitespace or "/")`),It&&hn&&wt.push("and"),hn&&wt.push(`version name "${J}" contains illegal characters (whitespace or "/")`),void $.warn(wt.join(" "))}Tr(new X.wA(`${ft}-version`,()=>({library:ft,version:J}),"VERSION"))}function On(H,J){if(null!==H&&"function"!=typeof H)throw pr.create("invalid-log-argument");(0,R.Am)(H,J)}function Ks(H){(0,R.Ub)(H)}const Un="firebase-heartbeat-store";let Ei=null;function Po(){return Ei||(Ei=(0,re.X3)("firebase-heartbeat-database",1,{upgrade:(H,J)=>{0===J&&H.createObjectStore(Un)}}).catch(H=>{throw pr.create("storage-open",{originalErrorMessage:H.message})})),Ei}function it(){return(it=(0,u.Z)(function*(H){try{return(yield Po()).transaction(Un).objectStore(Un).get(ti(H))}catch(J){throw pr.create("storage-get",{originalErrorMessage:J.message})}})).apply(this,arguments)}function Et(H,J){return gr.apply(this,arguments)}function gr(){return(gr=(0,u.Z)(function*(H,J){try{const Je=(yield Po()).transaction(Un,"readwrite");return yield Je.objectStore(Un).put(J,ti(H)),Je.done}catch(Pe){throw pr.create("storage-set",{originalErrorMessage:Pe.message})}})).apply(this,arguments)}function ti(H){return`${H.name}!${H.options.appId}`}class mr{constructor(J){this.container=J,this._heartbeatsCache=null;const Pe=this.container.getProvider("app").getImmediate();this._storage=new q(Pe),this._heartbeatsCachePromise=this._storage.read().then(Je=>(this._heartbeatsCache=Je,Je))}triggerHeartbeat(){var J=this;return(0,u.Z)(function*(){const Je=J.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ft=yr();if(null===J._heartbeatsCache&&(J._heartbeatsCache=yield J._heartbeatsCachePromise),J._heartbeatsCache.lastSentHeartbeatDate!==ft&&!J._heartbeatsCache.heartbeats.some(It=>It.date===ft))return J._heartbeatsCache.heartbeats.push({date:ft,agent:Je}),J._heartbeatsCache.heartbeats=J._heartbeatsCache.heartbeats.filter(It=>{const hn=new Date(It.date).valueOf();return Date.now()-hn<=2592e6}),J._storage.overwrite(J._heartbeatsCache)})()}getHeartbeatsHeader(){var J=this;return(0,u.Z)(function*(){if(null===J._heartbeatsCache&&(yield J._heartbeatsCachePromise),null===J._heartbeatsCache||0===J._heartbeatsCache.heartbeats.length)return"";const Pe=yr(),{heartbeatsToSend:Je,unsentEntries:ft}=function U(H,J=1024){const Pe=[];let Je=H.slice();for(const ft of H){const It=Pe.find(hn=>hn.agent===ft.agent);if(It){if(It.dates.push(ft.date),Z(Pe)>J){It.dates.pop();break}}else if(Pe.push({agent:ft.agent,dates:[ft.date]}),Z(Pe)>J){Pe.pop();break}Je=Je.slice(1)}return{heartbeatsToSend:Pe,unsentEntries:Je}}(J._heartbeatsCache.heartbeats),It=(0,ae.L)(JSON.stringify({version:2,heartbeats:Je}));return J._heartbeatsCache.lastSentHeartbeatDate=Pe,ft.length>0?(J._heartbeatsCache.heartbeats=ft,yield J._storage.overwrite(J._heartbeatsCache)):(J._heartbeatsCache.heartbeats=[],J._storage.overwrite(J._heartbeatsCache)),It})()}}function yr(){return(new Date).toISOString().substring(0,10)}class q{constructor(J){this.app=J,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var J=this;return(0,u.Z)(function*(){return(yield J._canUseIndexedDBPromise)&&(yield function Zt(H){return it.apply(this,arguments)}(J.app))||{heartbeats:[]}})()}overwrite(J){var Pe=this;return(0,u.Z)(function*(){var Je;if(yield Pe._canUseIndexedDBPromise){const It=yield Pe.read();return Et(Pe.app,{lastSentHeartbeatDate:null!==(Je=J.lastSentHeartbeatDate)&&void 0!==Je?Je:It.lastSentHeartbeatDate,heartbeats:J.heartbeats})}})()}add(J){var Pe=this;return(0,u.Z)(function*(){var Je;if(yield Pe._canUseIndexedDBPromise){const It=yield Pe.read();return Et(Pe.app,{lastSentHeartbeatDate:null!==(Je=J.lastSentHeartbeatDate)&&void 0!==Je?Je:It.lastSentHeartbeatDate,heartbeats:[...It.heartbeats,...J.heartbeats]})}})()}}function Z(H){return(0,ae.L)(JSON.stringify({version:2,heartbeats:H})).length}!function Te(H){Tr(new X.wA("platform-logger",J=>new pe(J),"PRIVATE")),Tr(new X.wA("heartbeat",J=>new mr(J),"PRIVATE")),In(se,"0.7.24",H),In(se,"0.7.24","esm2017"),In("fire-js","")}("")},4859:(Xe,we,N)=>{N.d(we,{wA:()=>R,H0:()=>se});var u=N(5861),X=N(2090);class R{constructor($,B,te){this.name=$,this.instanceFactory=B,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const ae="[DEFAULT]";class re{constructor($,B){this.name=$,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const B=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(B)){const te=new X.BH;if(this.instancesDeferred.set(B,te),this.isInitialized(B)||this.shouldAutoInitialize())try{const Ze=this.getOrInitializeService({instanceIdentifier:B});Ze&&te.resolve(Ze)}catch(Ze){}}return this.instancesDeferred.get(B).promise}getImmediate($){var B;const te=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),Ze=null!==(B=null==$?void 0:$.optional)&&void 0!==B&&B;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(Ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Me){if(Ze)return null;throw Me}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function ue(ce){return"EAGER"===ce.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:ae})}catch(B){}for(const[B,te]of this.instancesDeferred.entries()){const Ze=this.normalizeInstanceIdentifier(B);try{const Me=this.getOrInitializeService({instanceIdentifier:Ze});te.resolve(Me)}catch(Me){}}}}clearInstance($=ae){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,u.Z)(function*(){const B=Array.from($.instances.values());yield Promise.all([...B.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...B.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=ae){return this.instances.has($)}getOptions($=ae){return this.instancesOptions.get($)||{}}initialize($={}){const{options:B={}}=$,te=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ze=this.getOrInitializeService({instanceIdentifier:te,options:B});for(const[Me,Oe]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(Me)&&Oe.resolve(Ze);return Ze}onInit($,B){var te;const Ze=this.normalizeInstanceIdentifier(B),Me=null!==(te=this.onInitCallbacks.get(Ze))&&void 0!==te?te:new Set;Me.add($),this.onInitCallbacks.set(Ze,Me);const Oe=this.instances.get(Ze);return Oe&&$(Oe,Ze),()=>{Me.delete($)}}invokeOnInitCallbacks($,B){const te=this.onInitCallbacks.get(B);if(te)for(const Ze of te)try{Ze($,B)}catch(Me){}}getOrInitializeService({instanceIdentifier:$,options:B={}}){let te=this.instances.get($);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(ce=$,ce===ae?void 0:ce),options:B}),this.instances.set($,te),this.instancesOptions.set($,B),this.invokeOnInitCallbacks(te,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,te)}catch(Ze){}var ce;return te||null}normalizeInstanceIdentifier($=ae){return this.component?this.component.multipleInstances?$:ae:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class se{constructor($){this.name=$,this.providers=new Map}addComponent($){const B=this.getProvider($.name);if(B.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);B.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const B=new re($,this);return this.providers.set($,B),B}getProviders(){return Array.from(this.providers.values())}}},1877:(Xe,we,N)=>{N.d(we,{in:()=>X,Yd:()=>ue,Ub:()=>se,Am:()=>ce});const u=[];var X=(()=>{return($=X||(X={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",X;var $})();const R={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},ae=X.INFO,re={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},pe=($,B,...te)=>{if(B<$.logLevel)return;const Ze=(new Date).toISOString(),Me=re[B];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${B})`);console[Me](`[${Ze}]  ${$.name}:`,...te)};class ue{constructor(B){this.name=B,this._logLevel=ae,this._logHandler=pe,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in X))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"==typeof B?R[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(...B){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...B),this._logHandler(this,X.DEBUG,...B)}log(...B){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...B),this._logHandler(this,X.VERBOSE,...B)}info(...B){this._userLogHandler&&this._userLogHandler(this,X.INFO,...B),this._logHandler(this,X.INFO,...B)}warn(...B){this._userLogHandler&&this._userLogHandler(this,X.WARN,...B),this._logHandler(this,X.WARN,...B)}error(...B){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...B),this._logHandler(this,X.ERROR,...B)}}function se($){u.forEach(B=>{B.setLogLevel($)})}function ce($,B){for(const te of u){let Ze=null;B&&B.level&&(Ze=R[B.level]),te.userLogHandler=null===$?null:(Me,Oe,...Ve)=>{const he=Ve.map(De=>{if(null==De)return null;if("string"==typeof De)return De;if("number"==typeof De||"boolean"==typeof De)return De.toString();if(De instanceof Error)return De.message;try{return JSON.stringify(De)}catch(Ge){return null}}).filter(De=>De).join(" ");Oe>=(null!=Ze?Ze:Me.logLevel)&&$({level:X[Oe].toLowerCase(),message:he,args:Ve,type:Me.name})}}}},8766:(Xe,we,N)=>{N.d(we,{Lj:()=>Ie,X3:()=>Ye});var u=N(5861);let R,ae;const ue=new WeakMap,se=new WeakMap,ce=new WeakMap,$=new WeakMap,B=new WeakMap;let Me={get(j,ve,W){if(j instanceof IDBTransaction){if("done"===ve)return se.get(j);if("objectStoreNames"===ve)return j.objectStoreNames||ce.get(j);if("store"===ve)return W.objectStoreNames[1]?void 0:W.objectStore(W.objectStoreNames[0])}return De(j[ve])},set:(j,ve,W)=>(j[ve]=W,!0),has:(j,ve)=>j instanceof IDBTransaction&&("done"===ve||"store"===ve)||ve in j};function he(j){return"function"==typeof j?function Ve(j){return j!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(j)?function(...ve){return j.apply(Ge(this),ve),De(ue.get(this))}:function(...ve){return De(j.apply(Ge(this),ve))}:function(ve,...W){const ie=j.call(Ge(this),ve,...W);return ce.set(ie,ve.sort?ve.sort():[ve]),De(ie)}}(j):(j instanceof IDBTransaction&&function Ze(j){if(se.has(j))return;const ve=new Promise((W,ie)=>{const ee=()=>{j.removeEventListener("complete",me),j.removeEventListener("error",oe),j.removeEventListener("abort",oe)},me=()=>{W(),ee()},oe=()=>{ie(j.error||new DOMException("AbortError","AbortError")),ee()};j.addEventListener("complete",me),j.addEventListener("error",oe),j.addEventListener("abort",oe)});se.set(j,ve)}(j),((j,ve)=>ve.some(W=>j instanceof W))(j,function re(){return R||(R=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(j,Me):j)}function De(j){if(j instanceof IDBRequest)return function te(j){const ve=new Promise((W,ie)=>{const ee=()=>{j.removeEventListener("success",me),j.removeEventListener("error",oe)},me=()=>{W(De(j.result)),ee()},oe=()=>{ie(j.error),ee()};j.addEventListener("success",me),j.addEventListener("error",oe)});return ve.then(W=>{W instanceof IDBCursor&&ue.set(W,j)}).catch(()=>{}),B.set(ve,j),ve}(j);if($.has(j))return $.get(j);const ve=he(j);return ve!==j&&($.set(j,ve),B.set(ve,j)),ve}const Ge=j=>B.get(j);function Ye(j,ve,{blocked:W,upgrade:ie,blocking:ee,terminated:me}={}){const oe=indexedDB.open(j,ve),Ne=De(oe);return ie&&oe.addEventListener("upgradeneeded",lt=>{ie(De(oe.result),lt.oldVersion,lt.newVersion,De(oe.transaction))}),W&&oe.addEventListener("blocked",()=>W()),Ne.then(lt=>{me&&lt.addEventListener("close",()=>me()),ee&&lt.addEventListener("versionchange",()=>ee())}).catch(()=>{}),Ne}function Ie(j,{blocked:ve}={}){const W=indexedDB.deleteDatabase(j);return ve&&W.addEventListener("blocked",()=>ve()),De(W).then(()=>{})}const Ee=["get","getKey","getAll","getAllKeys","count"],Ce=["put","add","delete","clear"],$e=new Map;function je(j,ve){if(!(j instanceof IDBDatabase)||ve in j||"string"!=typeof ve)return;if($e.get(ve))return $e.get(ve);const W=ve.replace(/FromIndex$/,""),ie=ve!==W,ee=Ce.includes(W);if(!(W in(ie?IDBIndex:IDBObjectStore).prototype)||!ee&&!Ee.includes(W))return;const me=function(){var oe=(0,u.Z)(function*(Ne,...lt){const qt=this.transaction(Ne,ee?"readwrite":"readonly");let jt=qt.store;return ie&&(jt=jt.index(lt.shift())),(yield Promise.all([jt[W](...lt),ee&&qt.done]))[0]});return function(lt){return oe.apply(this,arguments)}}();return $e.set(ve,me),me}!function Oe(j){Me=j(Me)}(j=>$P(jP({},j),{get:(ve,W,ie)=>je(ve,W)||j.get(ve,W,ie),has:(ve,W)=>!!je(ve,W)||j.has(ve,W)}))},5861:(Xe,we,N)=>{function u(R,ae,re,pe,ue,se,ce){try{var $=R[se](ce),B=$.value}catch(te){return void re(te)}$.done?ae(B):Promise.resolve(B).then(pe,ue)}function X(R){return function(){var ae=this,re=arguments;return new Promise(function(pe,ue){var se=R.apply(ae,re);function ce(B){u(se,pe,ue,ce,$,"next",B)}function $(B){u(se,pe,ue,ce,$,"throw",B)}ce(void 0)})}}N.d(we,{Z:()=>X})}},Xe=>{Xe(Xe.s=1225)}]);